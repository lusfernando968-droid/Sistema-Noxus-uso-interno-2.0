var i7=Object.defineProperty;var W2=e=>{throw TypeError(e)};var l7=(e,t,r)=>t in e?i7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ve=(e,t,r)=>l7(e,typeof t!="symbol"?t+"":t,r),bw=(e,t,r)=>t.has(e)||W2("Cannot "+r);var Y=(e,t,r)=>(bw(e,t,"read from private field"),r?r.call(e):t.get(e)),xt=(e,t,r)=>t.has(e)?W2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ge=(e,t,r,n)=>(bw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Qt=(e,t,r)=>(bw(e,t,"access private method"),r);var zg=(e,t,r,n)=>({set _(a){Ge(e,t,a,r)},get _(){return Y(e,t,n)}});function rI(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var nI={exports:{}},x0={},aI={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=Symbol.for("react.element"),u7=Symbol.for("react.portal"),d7=Symbol.for("react.fragment"),f7=Symbol.for("react.strict_mode"),h7=Symbol.for("react.profiler"),m7=Symbol.for("react.provider"),p7=Symbol.for("react.context"),g7=Symbol.for("react.forward_ref"),v7=Symbol.for("react.suspense"),y7=Symbol.for("react.memo"),x7=Symbol.for("react.lazy"),H2=Symbol.iterator;function b7(e){return e===null||typeof e!="object"?null:(e=H2&&e[H2]||e["@@iterator"],typeof e=="function"?e:null)}var sI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oI=Object.assign,iI={};function Bf(e,t,r){this.props=e,this.context=t,this.refs=iI,this.updater=r||sI}Bf.prototype.isReactComponent={};Bf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lI(){}lI.prototype=Bf.prototype;function QS(e,t,r){this.props=e,this.context=t,this.refs=iI,this.updater=r||sI}var ZS=QS.prototype=new lI;ZS.constructor=QS;oI(ZS,Bf.prototype);ZS.isPureReactComponent=!0;var G2=Array.isArray,cI=Object.prototype.hasOwnProperty,JS={current:null},uI={key:!0,ref:!0,__self:!0,__source:!0};function dI(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)cI.call(t,n)&&!uI.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:rg,type:e,key:o,ref:i,props:a,_owner:JS.current}}function w7(e,t){return{$$typeof:rg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eC(e){return typeof e=="object"&&e!==null&&e.$$typeof===rg}function j7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var K2=/\/+/g;function ww(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j7(""+e.key):t.toString(36)}function qv(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case rg:case u7:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+ww(i,0):n,G2(a)?(r="",e!=null&&(r=e.replace(K2,"$&/")+"/"),qv(a,t,r,"",function(u){return u})):a!=null&&(eC(a)&&(a=w7(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(K2,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",G2(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+ww(o,l);i+=qv(o,t,r,c,a)}else if(c=b7(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+ww(o,l++),i+=qv(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vg(e,t,r){if(e==null)return e;var n=[],a=0;return qv(e,n,"","",function(o){return t.call(r,o,a++)}),n}function _7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ya={current:null},Wv={transition:null},N7={ReactCurrentDispatcher:ya,ReactCurrentBatchConfig:Wv,ReactCurrentOwner:JS};function fI(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:Vg,forEach:function(e,t,r){Vg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vg(e,function(){t++}),t},toArray:function(e){return Vg(e,function(t){return t})||[]},only:function(e){if(!eC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=Bf;Kt.Fragment=d7;Kt.Profiler=h7;Kt.PureComponent=QS;Kt.StrictMode=f7;Kt.Suspense=v7;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N7;Kt.act=fI;Kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=oI({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=JS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cI.call(t,c)&&!uI.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:rg,type:e.type,key:a,ref:o,props:n,_owner:i}};Kt.createContext=function(e){return e={$$typeof:p7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m7,_context:e},e.Consumer=e};Kt.createElement=dI;Kt.createFactory=function(e){var t=dI.bind(null,e);return t.type=e,t};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:g7,render:e}};Kt.isValidElement=eC;Kt.lazy=function(e){return{$$typeof:x7,_payload:{_status:-1,_result:e},_init:_7}};Kt.memo=function(e,t){return{$$typeof:y7,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=Wv.transition;Wv.transition={};try{e()}finally{Wv.transition=t}};Kt.unstable_act=fI;Kt.useCallback=function(e,t){return ya.current.useCallback(e,t)};Kt.useContext=function(e){return ya.current.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e){return ya.current.useDeferredValue(e)};Kt.useEffect=function(e,t){return ya.current.useEffect(e,t)};Kt.useId=function(){return ya.current.useId()};Kt.useImperativeHandle=function(e,t,r){return ya.current.useImperativeHandle(e,t,r)};Kt.useInsertionEffect=function(e,t){return ya.current.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return ya.current.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return ya.current.useMemo(e,t)};Kt.useReducer=function(e,t,r){return ya.current.useReducer(e,t,r)};Kt.useRef=function(e){return ya.current.useRef(e)};Kt.useState=function(e){return ya.current.useState(e)};Kt.useSyncExternalStore=function(e,t,r){return ya.current.useSyncExternalStore(e,t,r)};Kt.useTransition=function(){return ya.current.useTransition()};Kt.version="18.3.1";aI.exports=Kt;var x=aI.exports;const z=or(x),b0=rI({__proto__:null,default:z},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S7=x,C7=Symbol.for("react.element"),E7=Symbol.for("react.fragment"),O7=Object.prototype.hasOwnProperty,A7=S7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P7={key:!0,ref:!0,__self:!0,__source:!0};function hI(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)O7.call(t,n)&&!P7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:C7,type:e,key:o,ref:i,props:a,_owner:A7.current}}x0.Fragment=E7;x0.jsx=hI;x0.jsxs=hI;nI.exports=x0;var s=nI.exports,mI={exports:{}},us={},pI={exports:{}},gI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,T){var q=k.length;k.push(T);e:for(;0<q;){var Q=q-1>>>1,F=k[Q];if(0<a(F,T))k[Q]=T,k[q]=F,q=Q;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var T=k[0],q=k.pop();if(q!==T){k[0]=q;e:for(var Q=0,F=k.length,X=F>>>1;Q<X;){var ce=2*(Q+1)-1,pe=k[ce],ge=ce+1,he=k[ge];if(0>a(pe,q))ge<F&&0>a(he,pe)?(k[Q]=he,k[ge]=q,Q=ge):(k[Q]=pe,k[ce]=q,Q=ce);else if(ge<F&&0>a(he,q))k[Q]=he,k[ge]=q,Q=ge;else break e}}return T}function a(k,T){var q=k.sortIndex-T.sortIndex;return q!==0?q:k.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],f=1,d=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=k)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(k){if(p=!1,b(k),!g)if(r(c)!==null)g=!0,D(j);else{var T=r(u);T!==null&&B(_,T.startTime-k)}}function j(k,T){g=!1,p&&(p=!1,w(C),C=-1),m=!0;var q=h;try{for(b(T),d=r(c);d!==null&&(!(d.expirationTime>T)||k&&!A());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var F=Q(d.expirationTime<=T);T=e.unstable_now(),typeof F=="function"?d.callback=F:d===r(c)&&n(c),b(T)}else n(c);d=r(c)}if(d!==null)var X=!0;else{var ce=r(u);ce!==null&&B(_,ce.startTime-T),X=!1}return X}finally{d=null,h=q,m=!1}}var N=!1,S=null,C=-1,E=5,P=-1;function A(){return!(e.unstable_now()-P<E)}function M(){if(S!==null){var k=e.unstable_now();P=k;var T=!0;try{T=S(!0,k)}finally{T?O():(N=!1,S=null)}}else N=!1}var O;if(typeof y=="function")O=function(){y(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=M,O=function(){L.postMessage(null)}}else O=function(){v(M,0)};function D(k){S=k,N||(N=!0,O())}function B(k,T){C=v(function(){k(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,D(j))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var q=h;h=T;try{return k()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,T){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var q=h;h=k;try{return T()}finally{h=q}},e.unstable_scheduleCallback=function(k,T,q){var Q=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,k){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,k={id:f++,callback:T,priorityLevel:k,startTime:q,expirationTime:F,sortIndex:-1},q>Q?(k.sortIndex=q,t(u,k),r(c)===null&&k===r(u)&&(p?(w(C),C=-1):p=!0,B(_,q-Q))):(k.sortIndex=F,t(c,k),g||m||(g=!0,D(j))),k},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(k){var T=h;return function(){var q=h;h=T;try{return k.apply(this,arguments)}finally{h=q}}}})(gI);pI.exports=gI;var k7=pI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T7=x,os=k7;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vI=new Set,Nm={};function gu(e,t){Hd(e,t),Hd(e+"Capture",t)}function Hd(e,t){for(Nm[e]=t,e=0;e<t.length;e++)vI.add(t[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d_=Object.prototype.hasOwnProperty,M7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y2={},X2={};function R7(e){return d_.call(X2,e)?!0:d_.call(Y2,e)?!1:M7.test(e)?X2[e]=!0:(Y2[e]=!0,!1)}function $7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D7(e,t,r,n){if(t===null||typeof t>"u"||$7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xa(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new xa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new xa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new xa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new xa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new xa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new xa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new xa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new xa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new xa(e,5,!1,e.toLowerCase(),null,!1,!1)});var tC=/[\-:]([a-z])/g;function rC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tC,rC);Wn[t]=new xa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tC,rC);Wn[t]=new xa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tC,rC);Wn[t]=new xa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new xa(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new xa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new xa(e,1,!1,e.toLowerCase(),null,!0,!0)});function nC(e,t,r,n){var a=Wn.hasOwnProperty(t)?Wn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D7(t,r,a,n)&&(r=null),n||a===null?R7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ti=T7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qg=Symbol.for("react.element"),Xu=Symbol.for("react.portal"),Qu=Symbol.for("react.fragment"),aC=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),yI=Symbol.for("react.provider"),xI=Symbol.for("react.context"),sC=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),m_=Symbol.for("react.suspense_list"),oC=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),bI=Symbol.for("react.offscreen"),Q2=Symbol.iterator;function ph(e){return e===null||typeof e!="object"?null:(e=Q2&&e[Q2]||e["@@iterator"],typeof e=="function"?e:null)}var Kr=Object.assign,jw;function zh(e){if(jw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jw=t&&t[1]||""}return`
`+jw+e}var _w=!1;function Nw(e,t){if(!e||_w)return"";_w=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{_w=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zh(e):""}function I7(e){switch(e.tag){case 5:return zh(e.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return e=Nw(e.type,!1),e;case 11:return e=Nw(e.type.render,!1),e;case 1:return e=Nw(e.type,!0),e;default:return""}}function p_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qu:return"Fragment";case Xu:return"Portal";case f_:return"Profiler";case aC:return"StrictMode";case h_:return"Suspense";case m_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xI:return(e.displayName||"Context")+".Consumer";case yI:return(e._context.displayName||"Context")+".Provider";case sC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oC:return t=e.displayName||null,t!==null?t:p_(e.type)||"Memo";case Gi:t=e._payload,e=e._init;try{return p_(e(t))}catch{}}return null}function L7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p_(t);case 8:return t===aC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F7(e){var t=wI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wg(e){e._valueTracker||(e._valueTracker=F7(e))}function jI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function g_(e,t){var r=t.checked;return Kr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Z2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _I(e,t){t=t.checked,t!=null&&nC(e,"checked",t,!1)}function v_(e,t){_I(e,t);var r=Rl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?y_(e,t.type,r):t.hasOwnProperty("defaultValue")&&y_(e,t.type,Rl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function J2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function y_(e,t,r){(t!=="number"||fy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Uh=Array.isArray;function pd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function x_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Kr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ee(92));if(Uh(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rl(r)}}function NI(e,t){var r=Rl(t.value),n=Rl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function SI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?SI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hg,CI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hg=Hg||document.createElement("div"),Hg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B7=["Webkit","ms","Moz","O"];Object.keys(Zh).forEach(function(e){B7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zh[t]=Zh[e]})});function EI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zh.hasOwnProperty(e)&&Zh[e]?(""+t).trim():t+"px"}function OI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=EI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var z7=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w_(e,t){if(t){if(z7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function j_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var __=null;function iC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var N_=null,gd=null,vd=null;function rA(e){if(e=sg(e)){if(typeof N_!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=S0(t),N_(e.stateNode,e.type,t))}}function AI(e){gd?vd?vd.push(e):vd=[e]:gd=e}function PI(){if(gd){var e=gd,t=vd;if(vd=gd=null,rA(e),t)for(e=0;e<t.length;e++)rA(t[e])}}function kI(e,t){return e(t)}function TI(){}var Sw=!1;function MI(e,t,r){if(Sw)return e(t,r);Sw=!0;try{return kI(e,t,r)}finally{Sw=!1,(gd!==null||vd!==null)&&(TI(),PI())}}function Cm(e,t){var r=e.stateNode;if(r===null)return null;var n=S0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ee(231,t,typeof r));return r}var S_=!1;if(bi)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){S_=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{S_=!1}function U7(e,t,r,n,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Jh=!1,hy=null,my=!1,C_=null,V7={onError:function(e){Jh=!0,hy=e}};function q7(e,t,r,n,a,o,i,l,c){Jh=!1,hy=null,U7.apply(V7,arguments)}function W7(e,t,r,n,a,o,i,l,c){if(q7.apply(this,arguments),Jh){if(Jh){var u=hy;Jh=!1,hy=null}else throw Error(Ee(198));my||(my=!0,C_=u)}}function vu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function RI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nA(e){if(vu(e)!==e)throw Error(Ee(188))}function H7(e){var t=e.alternate;if(!t){if(t=vu(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return nA(a),e;if(o===n)return nA(a),t;o=o.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?e:t}function $I(e){return e=H7(e),e!==null?DI(e):null}function DI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DI(e);if(t!==null)return t;e=e.sibling}return null}var II=os.unstable_scheduleCallback,aA=os.unstable_cancelCallback,G7=os.unstable_shouldYield,K7=os.unstable_requestPaint,an=os.unstable_now,Y7=os.unstable_getCurrentPriorityLevel,lC=os.unstable_ImmediatePriority,LI=os.unstable_UserBlockingPriority,py=os.unstable_NormalPriority,X7=os.unstable_LowPriority,FI=os.unstable_IdlePriority,w0=null,Bo=null;function Q7(e){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(w0,e,void 0,(e.current.flags&128)===128)}catch{}}var uo=Math.clz32?Math.clz32:eH,Z7=Math.log,J7=Math.LN2;function eH(e){return e>>>=0,e===0?32:31-(Z7(e)/J7|0)|0}var Gg=64,Kg=4194304;function Vh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Vh(l):(o&=i,o!==0&&(n=Vh(o)))}else i=r&~a,i!==0?n=Vh(i):o!==0&&(n=Vh(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-uo(t),a=1<<r,n|=e[r],t&=~a;return n}function tH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rH(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-uo(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=tH(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function E_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BI(){var e=Gg;return Gg<<=1,!(Gg&4194240)&&(Gg=64),e}function Cw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ng(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-uo(t),e[t]=r}function nH(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-uo(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function cC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-uo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var cr=0;function zI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var UI,uC,VI,qI,WI,O_=!1,Yg=[],yl=null,xl=null,bl=null,Em=new Map,Om=new Map,Zi=[],aH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sA(e,t){switch(e){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Em.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(t.pointerId)}}function vh(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=sg(t),t!==null&&uC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sH(e,t,r,n,a){switch(t){case"focusin":return yl=vh(yl,e,t,r,n,a),!0;case"dragenter":return xl=vh(xl,e,t,r,n,a),!0;case"mouseover":return bl=vh(bl,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Em.set(o,vh(Em.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Om.set(o,vh(Om.get(o)||null,e,t,r,n,a)),!0}return!1}function HI(e){var t=wc(e.target);if(t!==null){var r=vu(t);if(r!==null){if(t=r.tag,t===13){if(t=RI(r),t!==null){e.blockedOn=t,WI(e.priority,function(){VI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=A_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);__=n,r.target.dispatchEvent(n),__=null}else return t=sg(r),t!==null&&uC(t),e.blockedOn=r,!1;t.shift()}return!0}function oA(e,t,r){Hv(e)&&r.delete(t)}function oH(){O_=!1,yl!==null&&Hv(yl)&&(yl=null),xl!==null&&Hv(xl)&&(xl=null),bl!==null&&Hv(bl)&&(bl=null),Em.forEach(oA),Om.forEach(oA)}function yh(e,t){e.blockedOn===t&&(e.blockedOn=null,O_||(O_=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,oH)))}function Am(e){function t(a){return yh(a,e)}if(0<Yg.length){yh(Yg[0],e);for(var r=1;r<Yg.length;r++){var n=Yg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yl!==null&&yh(yl,e),xl!==null&&yh(xl,e),bl!==null&&yh(bl,e),Em.forEach(t),Om.forEach(t),r=0;r<Zi.length;r++)n=Zi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zi.length&&(r=Zi[0],r.blockedOn===null);)HI(r),r.blockedOn===null&&Zi.shift()}var yd=Ti.ReactCurrentBatchConfig,vy=!0;function iH(e,t,r,n){var a=cr,o=yd.transition;yd.transition=null;try{cr=1,dC(e,t,r,n)}finally{cr=a,yd.transition=o}}function lH(e,t,r,n){var a=cr,o=yd.transition;yd.transition=null;try{cr=4,dC(e,t,r,n)}finally{cr=a,yd.transition=o}}function dC(e,t,r,n){if(vy){var a=A_(e,t,r,n);if(a===null)Dw(e,t,n,yy,r),sA(e,n);else if(sH(a,e,t,r,n))n.stopPropagation();else if(sA(e,n),t&4&&-1<aH.indexOf(e)){for(;a!==null;){var o=sg(a);if(o!==null&&UI(o),o=A_(e,t,r,n),o===null&&Dw(e,t,n,yy,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Dw(e,t,n,null,r)}}var yy=null;function A_(e,t,r,n){if(yy=null,e=iC(n),e=wc(e),e!==null)if(t=vu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=RI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yy=e,null}function GI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y7()){case lC:return 1;case LI:return 4;case py:case X7:return 16;case FI:return 536870912;default:return 16}default:return 16}}var ul=null,fC=null,Gv=null;function KI(){if(Gv)return Gv;var e,t=fC,r=t.length,n,a="value"in ul?ul.value:ul.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Gv=a.slice(e,1<n?1-n:void 0)}function Kv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xg(){return!0}function iA(){return!1}function ds(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xg:iA,this.isPropagationStopped=iA,this}return Kr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),t}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hC=ds(zf),ag=Kr({},zf,{view:0,detail:0}),cH=ds(ag),Ew,Ow,xh,j0=Kr({},ag,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xh&&(xh&&e.type==="mousemove"?(Ew=e.screenX-xh.screenX,Ow=e.screenY-xh.screenY):Ow=Ew=0,xh=e),Ew)},movementY:function(e){return"movementY"in e?e.movementY:Ow}}),lA=ds(j0),uH=Kr({},j0,{dataTransfer:0}),dH=ds(uH),fH=Kr({},ag,{relatedTarget:0}),Aw=ds(fH),hH=Kr({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),mH=ds(hH),pH=Kr({},zf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gH=ds(pH),vH=Kr({},zf,{data:0}),cA=ds(vH),yH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bH[e])?!!t[e]:!1}function mC(){return wH}var jH=Kr({},ag,{key:function(e){if(e.key){var t=yH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mC,charCode:function(e){return e.type==="keypress"?Kv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_H=ds(jH),NH=Kr({},j0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uA=ds(NH),SH=Kr({},ag,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mC}),CH=ds(SH),EH=Kr({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),OH=ds(EH),AH=Kr({},j0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PH=ds(AH),kH=[9,13,27,32],pC=bi&&"CompositionEvent"in window,em=null;bi&&"documentMode"in document&&(em=document.documentMode);var TH=bi&&"TextEvent"in window&&!em,YI=bi&&(!pC||em&&8<em&&11>=em),dA=" ",fA=!1;function XI(e,t){switch(e){case"keyup":return kH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zu=!1;function MH(e,t){switch(e){case"compositionend":return QI(t);case"keypress":return t.which!==32?null:(fA=!0,dA);case"textInput":return e=t.data,e===dA&&fA?null:e;default:return null}}function RH(e,t){if(Zu)return e==="compositionend"||!pC&&XI(e,t)?(e=KI(),Gv=fC=ul=null,Zu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YI&&t.locale!=="ko"?null:t.data;default:return null}}var $H={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$H[e.type]:t==="textarea"}function ZI(e,t,r,n){AI(n),t=xy(t,"onChange"),0<t.length&&(r=new hC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tm=null,Pm=null;function DH(e){c4(e,0)}function _0(e){var t=td(e);if(jI(t))return e}function IH(e,t){if(e==="change")return t}var JI=!1;if(bi){var Pw;if(bi){var kw="oninput"in document;if(!kw){var mA=document.createElement("div");mA.setAttribute("oninput","return;"),kw=typeof mA.oninput=="function"}Pw=kw}else Pw=!1;JI=Pw&&(!document.documentMode||9<document.documentMode)}function pA(){tm&&(tm.detachEvent("onpropertychange",e4),Pm=tm=null)}function e4(e){if(e.propertyName==="value"&&_0(Pm)){var t=[];ZI(t,Pm,e,iC(e)),MI(DH,t)}}function LH(e,t,r){e==="focusin"?(pA(),tm=t,Pm=r,tm.attachEvent("onpropertychange",e4)):e==="focusout"&&pA()}function FH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _0(Pm)}function BH(e,t){if(e==="click")return _0(t)}function zH(e,t){if(e==="input"||e==="change")return _0(t)}function UH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var go=typeof Object.is=="function"?Object.is:UH;function km(e,t){if(go(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d_.call(t,a)||!go(e[a],t[a]))return!1}return!0}function gA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vA(e,t){var r=gA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gA(r)}}function t4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r4(){for(var e=window,t=fy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fy(e.document)}return t}function gC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VH(e){var t=r4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t4(r.ownerDocument.documentElement,r)){if(n!==null&&gC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=vA(r,o);var i=vA(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qH=bi&&"documentMode"in document&&11>=document.documentMode,Ju=null,P_=null,rm=null,k_=!1;function yA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;k_||Ju==null||Ju!==fy(n)||(n=Ju,"selectionStart"in n&&gC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rm&&km(rm,n)||(rm=n,n=xy(P_,"onSelect"),0<n.length&&(t=new hC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ju)))}function Qg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ed={animationend:Qg("Animation","AnimationEnd"),animationiteration:Qg("Animation","AnimationIteration"),animationstart:Qg("Animation","AnimationStart"),transitionend:Qg("Transition","TransitionEnd")},Tw={},n4={};bi&&(n4=document.createElement("div").style,"AnimationEvent"in window||(delete ed.animationend.animation,delete ed.animationiteration.animation,delete ed.animationstart.animation),"TransitionEvent"in window||delete ed.transitionend.transition);function N0(e){if(Tw[e])return Tw[e];if(!ed[e])return e;var t=ed[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n4)return Tw[e]=t[r];return e}var a4=N0("animationend"),s4=N0("animationiteration"),o4=N0("animationstart"),i4=N0("transitionend"),l4=new Map,xA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(e,t){l4.set(e,t),gu(t,[e])}for(var Mw=0;Mw<xA.length;Mw++){var Rw=xA[Mw],WH=Rw.toLowerCase(),HH=Rw[0].toUpperCase()+Rw.slice(1);zl(WH,"on"+HH)}zl(a4,"onAnimationEnd");zl(s4,"onAnimationIteration");zl(o4,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(i4,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GH=new Set("cancel close invalid load scroll toggle".split(" ").concat(qh));function bA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,W7(n,t,void 0,e),e.currentTarget=null}function c4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;bA(a,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;bA(a,l,u),o=c}}}if(my)throw e=C_,my=!1,C_=null,e}function Mr(e,t){var r=t[D_];r===void 0&&(r=t[D_]=new Set);var n=e+"__bubble";r.has(n)||(u4(t,e,2,!1),r.add(n))}function $w(e,t,r){var n=0;t&&(n|=4),u4(r,e,n,t)}var Zg="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[Zg]){e[Zg]=!0,vI.forEach(function(r){r!=="selectionchange"&&(GH.has(r)||$w(r,!1,e),$w(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zg]||(t[Zg]=!0,$w("selectionchange",!1,t))}}function u4(e,t,r,n){switch(GI(t)){case 1:var a=iH;break;case 4:a=lH;break;default:a=dC}r=a.bind(null,t,r,e),a=void 0,!S_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Dw(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=wc(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}MI(function(){var u=o,f=iC(r),d=[];e:{var h=l4.get(e);if(h!==void 0){var m=hC,g=e;switch(e){case"keypress":if(Kv(r)===0)break e;case"keydown":case"keyup":m=_H;break;case"focusin":g="focus",m=Aw;break;case"focusout":g="blur",m=Aw;break;case"beforeblur":case"afterblur":m=Aw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CH;break;case a4:case s4:case o4:m=mH;break;case i4:m=OH;break;case"scroll":m=cH;break;case"wheel":m=PH;break;case"copy":case"cut":case"paste":m=gH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uA}var p=(t&4)!==0,v=!p&&e==="scroll",w=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=Cm(y,w),_!=null&&p.push(Mm(y,_,b)))),v)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,f),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==__&&(g=r.relatedTarget||r.fromElement)&&(wc(g)||g[wi]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?wc(g):null,g!==null&&(v=vu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=lA,_="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=uA,_="onPointerLeave",w="onPointerEnter",y="pointer"),v=m==null?h:td(m),b=g==null?h:td(g),h=new p(_,y+"leave",m,r,f),h.target=v,h.relatedTarget=b,_=null,wc(f)===u&&(p=new p(w,y+"enter",g,r,f),p.target=b,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,w=g,y=0,b=p;b;b=Pu(b))y++;for(b=0,_=w;_;_=Pu(_))b++;for(;0<y-b;)p=Pu(p),y--;for(;0<b-y;)w=Pu(w),b--;for(;y--;){if(p===w||w!==null&&p===w.alternate)break t;p=Pu(p),w=Pu(w)}p=null}else p=null;m!==null&&wA(d,h,m,p,!1),g!==null&&v!==null&&wA(d,v,g,p,!0)}}e:{if(h=u?td(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=IH;else if(hA(h))if(JI)j=zH;else{j=FH;var N=LH}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=BH);if(j&&(j=j(e,u))){ZI(d,j,r,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&y_(h,"number",h.value)}switch(N=u?td(u):window,e){case"focusin":(hA(N)||N.contentEditable==="true")&&(Ju=N,P_=u,rm=null);break;case"focusout":rm=P_=Ju=null;break;case"mousedown":k_=!0;break;case"contextmenu":case"mouseup":case"dragend":k_=!1,yA(d,r,f);break;case"selectionchange":if(qH)break;case"keydown":case"keyup":yA(d,r,f)}var S;if(pC)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Zu?XI(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(YI&&r.locale!=="ko"&&(Zu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Zu&&(S=KI()):(ul=f,fC="value"in ul?ul.value:ul.textContent,Zu=!0)),N=xy(u,C),0<N.length&&(C=new cA(C,e,null,r,f),d.push({event:C,listeners:N}),S?C.data=S:(S=QI(r),S!==null&&(C.data=S)))),(S=TH?MH(e,r):RH(e,r))&&(u=xy(u,"onBeforeInput"),0<u.length&&(f=new cA("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=S))}c4(d,t)})}function Mm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Cm(e,r),o!=null&&n.unshift(Mm(e,o,a)),o=Cm(e,t),o!=null&&n.push(Mm(e,o,a))),e=e.return}return n}function Pu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wA(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Cm(r,o),c!=null&&i.unshift(Mm(r,c,l))):a||(c=Cm(r,o),c!=null&&i.push(Mm(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var KH=/\r\n?/g,YH=/\u0000|\uFFFD/g;function jA(e){return(typeof e=="string"?e:""+e).replace(KH,`
`).replace(YH,"")}function Jg(e,t,r){if(t=jA(t),jA(e)!==t&&r)throw Error(Ee(425))}function by(){}var T_=null,M_=null;function R_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $_=typeof setTimeout=="function"?setTimeout:void 0,XH=typeof clearTimeout=="function"?clearTimeout:void 0,_A=typeof Promise=="function"?Promise:void 0,QH=typeof queueMicrotask=="function"?queueMicrotask:typeof _A<"u"?function(e){return _A.resolve(null).then(e).catch(ZH)}:$_;function ZH(e){setTimeout(function(){throw e})}function Iw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Am(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Am(t)}function wl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),Po="__reactFiber$"+Uf,Rm="__reactProps$"+Uf,wi="__reactContainer$"+Uf,D_="__reactEvents$"+Uf,JH="__reactListeners$"+Uf,eG="__reactHandles$"+Uf;function wc(e){var t=e[Po];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wi]||r[Po]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NA(e);e!==null;){if(r=e[Po])return r;e=NA(e)}return t}e=r,r=e.parentNode}return null}function sg(e){return e=e[Po]||e[wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function td(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function S0(e){return e[Rm]||null}var I_=[],rd=-1;function Ul(e){return{current:e}}function Dr(e){0>rd||(e.current=I_[rd],I_[rd]=null,rd--)}function jr(e,t){rd++,I_[rd]=e.current,e.current=t}var $l={},ea=Ul($l),Ma=Ul(!1),Kc=$l;function Gd(e,t){var r=e.type.contextTypes;if(!r)return $l;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ra(e){return e=e.childContextTypes,e!=null}function wy(){Dr(Ma),Dr(ea)}function SA(e,t,r){if(ea.current!==$l)throw Error(Ee(168));jr(ea,t),jr(Ma,r)}function d4(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ee(108,L7(e)||"Unknown",a));return Kr({},r,n)}function jy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$l,Kc=ea.current,jr(ea,e),jr(Ma,Ma.current),!0}function CA(e,t,r){var n=e.stateNode;if(!n)throw Error(Ee(169));r?(e=d4(e,t,Kc),n.__reactInternalMemoizedMergedChildContext=e,Dr(Ma),Dr(ea),jr(ea,e)):Dr(Ma),jr(Ma,r)}var ci=null,C0=!1,Lw=!1;function f4(e){ci===null?ci=[e]:ci.push(e)}function tG(e){C0=!0,f4(e)}function Vl(){if(!Lw&&ci!==null){Lw=!0;var e=0,t=cr;try{var r=ci;for(cr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ci=null,C0=!1}catch(a){throw ci!==null&&(ci=ci.slice(e+1)),II(lC,Vl),a}finally{cr=t,Lw=!1}}return null}var nd=[],ad=0,_y=null,Ny=0,js=[],_s=0,Yc=null,fi=1,hi="";function cc(e,t){nd[ad++]=Ny,nd[ad++]=_y,_y=e,Ny=t}function h4(e,t,r){js[_s++]=fi,js[_s++]=hi,js[_s++]=Yc,Yc=e;var n=fi;e=hi;var a=32-uo(n)-1;n&=~(1<<a),r+=1;var o=32-uo(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,fi=1<<32-uo(t)+a|r<<a|n,hi=o+e}else fi=1<<o|r<<a|n,hi=e}function vC(e){e.return!==null&&(cc(e,1),h4(e,1,0))}function yC(e){for(;e===_y;)_y=nd[--ad],nd[ad]=null,Ny=nd[--ad],nd[ad]=null;for(;e===Yc;)Yc=js[--_s],js[_s]=null,hi=js[--_s],js[_s]=null,fi=js[--_s],js[_s]=null}var es=null,Za=null,Fr=!1,ao=null;function m4(e,t){var r=Cs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function EA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,es=e,Za=wl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,es=e,Za=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yc!==null?{id:fi,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,es=e,Za=null,!0):!1;default:return!1}}function L_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function F_(e){if(Fr){var t=Za;if(t){var r=t;if(!EA(e,t)){if(L_(e))throw Error(Ee(418));t=wl(r.nextSibling);var n=es;t&&EA(e,t)?m4(n,r):(e.flags=e.flags&-4097|2,Fr=!1,es=e)}}else{if(L_(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,Fr=!1,es=e}}}function OA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;es=e}function ev(e){if(e!==es)return!1;if(!Fr)return OA(e),Fr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!R_(e.type,e.memoizedProps)),t&&(t=Za)){if(L_(e))throw p4(),Error(Ee(418));for(;t;)m4(e,t),t=wl(t.nextSibling)}if(OA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Za=wl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Za=null}}else Za=es?wl(e.stateNode.nextSibling):null;return!0}function p4(){for(var e=Za;e;)e=wl(e.nextSibling)}function Kd(){Za=es=null,Fr=!1}function xC(e){ao===null?ao=[e]:ao.push(e)}var rG=Ti.ReactCurrentBatchConfig;function bh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,e))}return e}function tv(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AA(e){var t=e._init;return t(e._payload)}function g4(e){function t(w,y){if(e){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function r(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function a(w,y){return w=Sl(w,y),w.index=0,w.sibling=null,w}function o(w,y,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,_){return y===null||y.tag!==6?(y=Ww(b,w.mode,_),y.return=w,y):(y=a(y,b),y.return=w,y)}function c(w,y,b,_){var j=b.type;return j===Qu?f(w,y,b.props.children,_,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gi&&AA(j)===y.type)?(_=a(y,b.props),_.ref=bh(w,y,b),_.return=w,_):(_=ty(b.type,b.key,b.props,null,w.mode,_),_.ref=bh(w,y,b),_.return=w,_)}function u(w,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hw(b,w.mode,_),y.return=w,y):(y=a(y,b.children||[]),y.return=w,y)}function f(w,y,b,_,j){return y===null||y.tag!==7?(y=qc(b,w.mode,_,j),y.return=w,y):(y=a(y,b),y.return=w,y)}function d(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ww(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qg:return b=ty(y.type,y.key,y.props,null,w.mode,b),b.ref=bh(w,null,y),b.return=w,b;case Xu:return y=Hw(y,w.mode,b),y.return=w,y;case Gi:var _=y._init;return d(w,_(y._payload),b)}if(Uh(y)||ph(y))return y=qc(y,w.mode,b,null),y.return=w,y;tv(w,y)}return null}function h(w,y,b,_){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(w,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qg:return b.key===j?c(w,y,b,_):null;case Xu:return b.key===j?u(w,y,b,_):null;case Gi:return j=b._init,h(w,y,j(b._payload),_)}if(Uh(b)||ph(b))return j!==null?null:f(w,y,b,_,null);tv(w,b)}return null}function m(w,y,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,l(y,w,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qg:return w=w.get(_.key===null?b:_.key)||null,c(y,w,_,j);case Xu:return w=w.get(_.key===null?b:_.key)||null,u(y,w,_,j);case Gi:var N=_._init;return m(w,y,b,N(_._payload),j)}if(Uh(_)||ph(_))return w=w.get(b)||null,f(y,w,_,j,null);tv(y,_)}return null}function g(w,y,b,_){for(var j=null,N=null,S=y,C=y=0,E=null;S!==null&&C<b.length;C++){S.index>C?(E=S,S=null):E=S.sibling;var P=h(w,S,b[C],_);if(P===null){S===null&&(S=E);break}e&&S&&P.alternate===null&&t(w,S),y=o(P,y,C),N===null?j=P:N.sibling=P,N=P,S=E}if(C===b.length)return r(w,S),Fr&&cc(w,C),j;if(S===null){for(;C<b.length;C++)S=d(w,b[C],_),S!==null&&(y=o(S,y,C),N===null?j=S:N.sibling=S,N=S);return Fr&&cc(w,C),j}for(S=n(w,S);C<b.length;C++)E=m(S,w,C,b[C],_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?C:E.key),y=o(E,y,C),N===null?j=E:N.sibling=E,N=E);return e&&S.forEach(function(A){return t(w,A)}),Fr&&cc(w,C),j}function p(w,y,b,_){var j=ph(b);if(typeof j!="function")throw Error(Ee(150));if(b=j.call(b),b==null)throw Error(Ee(151));for(var N=j=null,S=y,C=y=0,E=null,P=b.next();S!==null&&!P.done;C++,P=b.next()){S.index>C?(E=S,S=null):E=S.sibling;var A=h(w,S,P.value,_);if(A===null){S===null&&(S=E);break}e&&S&&A.alternate===null&&t(w,S),y=o(A,y,C),N===null?j=A:N.sibling=A,N=A,S=E}if(P.done)return r(w,S),Fr&&cc(w,C),j;if(S===null){for(;!P.done;C++,P=b.next())P=d(w,P.value,_),P!==null&&(y=o(P,y,C),N===null?j=P:N.sibling=P,N=P);return Fr&&cc(w,C),j}for(S=n(w,S);!P.done;C++,P=b.next())P=m(S,w,C,P.value,_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),y=o(P,y,C),N===null?j=P:N.sibling=P,N=P);return e&&S.forEach(function(M){return t(w,M)}),Fr&&cc(w,C),j}function v(w,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Qu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case qg:e:{for(var j=b.key,N=y;N!==null;){if(N.key===j){if(j=b.type,j===Qu){if(N.tag===7){r(w,N.sibling),y=a(N,b.props.children),y.return=w,w=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gi&&AA(j)===N.type){r(w,N.sibling),y=a(N,b.props),y.ref=bh(w,N,b),y.return=w,w=y;break e}r(w,N);break}else t(w,N);N=N.sibling}b.type===Qu?(y=qc(b.props.children,w.mode,_,b.key),y.return=w,w=y):(_=ty(b.type,b.key,b.props,null,w.mode,_),_.ref=bh(w,y,b),_.return=w,w=_)}return i(w);case Xu:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(w,y.sibling),y=a(y,b.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else t(w,y);y=y.sibling}y=Hw(b,w.mode,_),y.return=w,w=y}return i(w);case Gi:return N=b._init,v(w,y,N(b._payload),_)}if(Uh(b))return g(w,y,b,_);if(ph(b))return p(w,y,b,_);tv(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(w,y.sibling),y=a(y,b),y.return=w,w=y):(r(w,y),y=Ww(b,w.mode,_),y.return=w,w=y),i(w)):r(w,y)}return v}var Yd=g4(!0),v4=g4(!1),Sy=Ul(null),Cy=null,sd=null,bC=null;function wC(){bC=sd=Cy=null}function jC(e){var t=Sy.current;Dr(Sy),e._currentValue=t}function B_(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xd(e,t){Cy=e,bC=sd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Aa=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(bC!==e)if(e={context:e,memoizedValue:t,next:null},sd===null){if(Cy===null)throw Error(Ee(308));sd=e,Cy.dependencies={lanes:0,firstContext:e}}else sd=sd.next=e;return t}var jc=null;function _C(e){jc===null?jc=[e]:jc.push(e)}function y4(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,_C(t)):(r.next=a.next,a.next=r),t.interleaved=r,ji(e,n)}function ji(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ki=!1;function NC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Jt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ji(e,r)}return a=n.interleaved,a===null?(t.next=t,_C(n)):(t.next=a.next,a.next=t),n.interleaved=t,ji(e,r)}function Yv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cC(e,r)}}function PA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ey(e,t,r,n){var a=e.updateQueue;Ki=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=a.baseState;i=0,f=u=c=null,l=o;do{var h=l.lane,m=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=Kr({},d,h);break e;case 2:Ki=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=d):f=f.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Qc|=i,e.lanes=i,e.memoizedState=d}}function kA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ee(191,a));a.call(n)}}}var og={},zo=Ul(og),$m=Ul(og),Dm=Ul(og);function _c(e){if(e===og)throw Error(Ee(174));return e}function SC(e,t){switch(jr(Dm,t),jr($m,e),jr(zo,og),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:b_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=b_(t,e)}Dr(zo),jr(zo,t)}function Xd(){Dr(zo),Dr($m),Dr(Dm)}function b4(e){_c(Dm.current);var t=_c(zo.current),r=b_(t,e.type);t!==r&&(jr($m,e),jr(zo,r))}function CC(e){$m.current===e&&(Dr(zo),Dr($m))}var qr=Ul(0);function Oy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fw=[];function EC(){for(var e=0;e<Fw.length;e++)Fw[e]._workInProgressVersionPrimary=null;Fw.length=0}var Xv=Ti.ReactCurrentDispatcher,Bw=Ti.ReactCurrentBatchConfig,Xc=0,Hr=null,On=null,Dn=null,Ay=!1,nm=!1,Im=0,nG=0;function Hn(){throw Error(Ee(321))}function OC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!go(e[r],t[r]))return!1;return!0}function AC(e,t,r,n,a,o){if(Xc=o,Hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xv.current=e===null||e.memoizedState===null?iG:lG,e=r(n,a),nm){o=0;do{if(nm=!1,Im=0,25<=o)throw Error(Ee(301));o+=1,Dn=On=null,t.updateQueue=null,Xv.current=cG,e=r(n,a)}while(nm)}if(Xv.current=Py,t=On!==null&&On.next!==null,Xc=0,Dn=On=Hr=null,Ay=!1,t)throw Error(Ee(300));return e}function PC(){var e=Im!==0;return Im=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Hr.memoizedState=Dn=e:Dn=Dn.next=e,Dn}function Rs(){if(On===null){var e=Hr.alternate;e=e!==null?e.memoizedState:null}else e=On.next;var t=Dn===null?Hr.memoizedState:Dn.next;if(t!==null)Dn=t,On=e;else{if(e===null)throw Error(Ee(310));On=e,e={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Dn===null?Hr.memoizedState=Dn=e:Dn=Dn.next=e}return Dn}function Lm(e,t){return typeof t=="function"?t(e):t}function zw(e){var t=Rs(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=On,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var f=u.lane;if((Xc&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,Hr.lanes|=f,Qc|=f}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,go(n,t.memoizedState)||(Aa=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Hr.lanes|=o,Qc|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Uw(e){var t=Rs(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);go(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function w4(){}function j4(e,t){var r=Hr,n=Rs(),a=t(),o=!go(n.memoizedState,a);if(o&&(n.memoizedState=a,Aa=!0),n=n.queue,kC(S4.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Dn!==null&&Dn.memoizedState.tag&1){if(r.flags|=2048,Fm(9,N4.bind(null,r,n,a,t),void 0,null),Ln===null)throw Error(Ee(349));Xc&30||_4(r,t,a)}return a}function _4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N4(e,t,r,n){t.value=r,t.getSnapshot=n,C4(t)&&E4(e)}function S4(e,t,r){return r(function(){C4(t)&&E4(e)})}function C4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!go(e,r)}catch{return!0}}function E4(e){var t=ji(e,1);t!==null&&fo(t,e,1,-1)}function TA(e){var t=Co();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:e},t.queue=e,e=e.dispatch=oG.bind(null,Hr,e),[t.memoizedState,e]}function Fm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function O4(){return Rs().memoizedState}function Qv(e,t,r,n){var a=Co();Hr.flags|=e,a.memoizedState=Fm(1|t,r,void 0,n===void 0?null:n)}function E0(e,t,r,n){var a=Rs();n=n===void 0?null:n;var o=void 0;if(On!==null){var i=On.memoizedState;if(o=i.destroy,n!==null&&OC(n,i.deps)){a.memoizedState=Fm(t,r,o,n);return}}Hr.flags|=e,a.memoizedState=Fm(1|t,r,o,n)}function MA(e,t){return Qv(8390656,8,e,t)}function kC(e,t){return E0(2048,8,e,t)}function A4(e,t){return E0(4,2,e,t)}function P4(e,t){return E0(4,4,e,t)}function k4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T4(e,t,r){return r=r!=null?r.concat([e]):null,E0(4,4,k4.bind(null,t,e),r)}function TC(){}function M4(e,t){var r=Rs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function R4(e,t){var r=Rs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $4(e,t,r){return Xc&21?(go(r,t)||(r=BI(),Hr.lanes|=r,Qc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Aa=!0),e.memoizedState=r)}function aG(e,t){var r=cr;cr=r!==0&&4>r?r:4,e(!0);var n=Bw.transition;Bw.transition={};try{e(!1),t()}finally{cr=r,Bw.transition=n}}function D4(){return Rs().memoizedState}function sG(e,t,r){var n=Nl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},I4(e))L4(t,r);else if(r=y4(e,t,r,n),r!==null){var a=va();fo(r,e,n,a),F4(r,t,n)}}function oG(e,t,r){var n=Nl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(I4(e))L4(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,go(l,i)){var c=t.interleaved;c===null?(a.next=a,_C(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=y4(e,t,a,n),r!==null&&(a=va(),fo(r,e,n,a),F4(r,t,n))}}function I4(e){var t=e.alternate;return e===Hr||t!==null&&t===Hr}function L4(e,t){nm=Ay=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cC(e,r)}}var Py={readContext:Ms,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},iG={readContext:Ms,useCallback:function(e,t){return Co().memoizedState=[e,t===void 0?null:t],e},useContext:Ms,useEffect:MA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qv(4194308,4,k4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qv(4,2,e,t)},useMemo:function(e,t){var r=Co();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Co();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sG.bind(null,Hr,e),[n.memoizedState,e]},useRef:function(e){var t=Co();return e={current:e},t.memoizedState=e},useState:TA,useDebugValue:TC,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=TA(!1),t=e[0];return e=aG.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Hr,a=Co();if(Fr){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=t(),Ln===null)throw Error(Ee(349));Xc&30||_4(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,MA(S4.bind(null,n,o,e),[e]),n.flags|=2048,Fm(9,N4.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Co(),t=Ln.identifierPrefix;if(Fr){var r=hi,n=fi;r=(n&~(1<<32-uo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Im++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nG++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lG={readContext:Ms,useCallback:M4,useContext:Ms,useEffect:kC,useImperativeHandle:T4,useInsertionEffect:A4,useLayoutEffect:P4,useMemo:R4,useReducer:zw,useRef:O4,useState:function(){return zw(Lm)},useDebugValue:TC,useDeferredValue:function(e){var t=Rs();return $4(t,On.memoizedState,e)},useTransition:function(){var e=zw(Lm)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:w4,useSyncExternalStore:j4,useId:D4,unstable_isNewReconciler:!1},cG={readContext:Ms,useCallback:M4,useContext:Ms,useEffect:kC,useImperativeHandle:T4,useInsertionEffect:A4,useLayoutEffect:P4,useMemo:R4,useReducer:Uw,useRef:O4,useState:function(){return Uw(Lm)},useDebugValue:TC,useDeferredValue:function(e){var t=Rs();return On===null?t.memoizedState=e:$4(t,On.memoizedState,e)},useTransition:function(){var e=Uw(Lm)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:w4,useSyncExternalStore:j4,useId:D4,unstable_isNewReconciler:!1};function Xs(e,t){if(e&&e.defaultProps){t=Kr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function z_(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Kr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var O0={isMounted:function(e){return(e=e._reactInternals)?vu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=va(),a=Nl(e),o=vi(n,a);o.payload=t,r!=null&&(o.callback=r),t=jl(e,o,a),t!==null&&(fo(t,e,a,n),Yv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=va(),a=Nl(e),o=vi(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=jl(e,o,a),t!==null&&(fo(t,e,a,n),Yv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=va(),n=Nl(e),a=vi(r,n);a.tag=2,t!=null&&(a.callback=t),t=jl(e,a,n),t!==null&&(fo(t,e,n,r),Yv(t,e,n))}};function RA(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!km(r,n)||!km(a,o):!0}function B4(e,t,r){var n=!1,a=$l,o=t.contextType;return typeof o=="object"&&o!==null?o=Ms(o):(a=Ra(t)?Kc:ea.current,n=t.contextTypes,o=(n=n!=null)?Gd(e,a):$l),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=O0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function $A(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&O0.enqueueReplaceState(t,t.state,null)}function U_(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},NC(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Ms(o):(o=Ra(t)?Kc:ea.current,a.context=Gd(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(z_(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&O0.enqueueReplaceState(a,a.state,null),Ey(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Qd(e,t){try{var r="",n=t;do r+=I7(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Vw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function V_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uG=typeof WeakMap=="function"?WeakMap:Map;function z4(e,t,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ty||(Ty=!0,J_=n),V_(e,t)},r}function U4(e,t,r){r=vi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){V_(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){V_(e,t),typeof n!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function DA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new uG;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=NG.bind(null,e,t,r),t.then(e,e))}function IA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vi(-1,1),t.tag=2,jl(r,t,1))),r.lanes|=1),e)}var dG=Ti.ReactCurrentOwner,Aa=!1;function la(e,t,r,n){t.child=e===null?v4(t,null,r,n):Yd(t,e.child,r,n)}function FA(e,t,r,n,a){r=r.render;var o=t.ref;return xd(t,a),n=AC(e,t,r,n,o,a),r=PC(),e!==null&&!Aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,_i(e,t,a)):(Fr&&r&&vC(t),t.flags|=1,la(e,t,n,a),t.child)}function BA(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!BC(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,V4(e,t,o,n,a)):(e=ty(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:km,r(i,n)&&e.ref===t.ref)return _i(e,t,a)}return t.flags|=1,e=Sl(o,n),e.ref=t.ref,e.return=t,t.child=e}function V4(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(km(o,n)&&e.ref===t.ref)if(Aa=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Aa=!0);else return t.lanes=e.lanes,_i(e,t,a)}return q_(e,t,r,n,a)}function q4(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(id,Va),Va|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jr(id,Va),Va|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,jr(id,Va),Va|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,jr(id,Va),Va|=n;return la(e,t,a,r),t.child}function W4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function q_(e,t,r,n,a){var o=Ra(r)?Kc:ea.current;return o=Gd(t,o),xd(t,a),r=AC(e,t,r,n,o,a),n=PC(),e!==null&&!Aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,_i(e,t,a)):(Fr&&n&&vC(t),t.flags|=1,la(e,t,r,a),t.child)}function zA(e,t,r,n,a){if(Ra(r)){var o=!0;jy(t)}else o=!1;if(xd(t,a),t.stateNode===null)Zv(e,t),B4(t,r,n),U_(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ms(u):(u=Ra(r)?Kc:ea.current,u=Gd(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&$A(t,i,n,u),Ki=!1;var h=t.memoizedState;i.state=h,Ey(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Ma.current||Ki?(typeof f=="function"&&(z_(t,r,f,n),c=t.memoizedState),(l=Ki||RA(t,r,l,n,h,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,x4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xs(t.type,l),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ms(c):(c=Ra(r)?Kc:ea.current,c=Gd(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||h!==c)&&$A(t,i,n,c),Ki=!1,h=t.memoizedState,i.state=h,Ey(t,n,i,a);var g=t.memoizedState;l!==d||h!==g||Ma.current||Ki?(typeof m=="function"&&(z_(t,r,m,n),g=t.memoizedState),(u=Ki||RA(t,r,u,n,h,g,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return W_(e,t,r,n,o,a)}function W_(e,t,r,n,a,o){W4(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&CA(t,r,!1),_i(e,t,o);n=t.stateNode,dG.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Yd(t,e.child,null,o),t.child=Yd(t,null,l,o)):la(e,t,l,o),t.memoizedState=n.state,a&&CA(t,r,!0),t.child}function H4(e){var t=e.stateNode;t.pendingContext?SA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&SA(e,t.context,!1),SC(e,t.containerInfo)}function UA(e,t,r,n,a){return Kd(),xC(a),t.flags|=256,la(e,t,r,n),t.child}var H_={dehydrated:null,treeContext:null,retryLane:0};function G_(e){return{baseLanes:e,cachePool:null,transitions:null}}function G4(e,t,r){var n=t.pendingProps,a=qr.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),jr(qr,a&1),e===null)return F_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=k0(i,n,0,null),e=qc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=G_(r),t.memoizedState=H_,e):MC(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return fG(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Sl(l,o):(o=qc(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?G_(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=H_,n}return o=e.child,e=o.sibling,n=Sl(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function MC(e,t){return t=k0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rv(e,t,r,n){return n!==null&&xC(n),Yd(t,e.child,null,r),e=MC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fG(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Vw(Error(Ee(422))),rv(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=k0({mode:"visible",children:n.children},a,0,null),o=qc(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Yd(t,e.child,null,i),t.child.memoizedState=G_(i),t.memoizedState=H_,o);if(!(t.mode&1))return rv(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Ee(419)),n=Vw(o,n,void 0),rv(e,t,i,n)}if(l=(i&e.childLanes)!==0,Aa||l){if(n=Ln,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ji(e,a),fo(n,e,a,-1))}return FC(),n=Vw(Error(Ee(421))),rv(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SG.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Za=wl(a.nextSibling),es=t,Fr=!0,ao=null,e!==null&&(js[_s++]=fi,js[_s++]=hi,js[_s++]=Yc,fi=e.id,hi=e.overflow,Yc=t),t=MC(t,n.children),t.flags|=4096,t)}function VA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),B_(e.return,t,r)}function qw(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function K4(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(la(e,t,n.children,r),n=qr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&VA(e,r,t);else if(e.tag===19)VA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jr(qr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Oy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qw(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Oy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qw(t,!0,r,null,o);break;case"together":qw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,r=Sl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hG(e,t,r){switch(t.tag){case 3:H4(t),Kd();break;case 5:b4(t);break;case 1:Ra(t.type)&&jy(t);break;case 4:SC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;jr(Sy,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jr(qr,qr.current&1),t.flags|=128,null):r&t.child.childLanes?G4(e,t,r):(jr(qr,qr.current&1),e=_i(e,t,r),e!==null?e.sibling:null);jr(qr,qr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return K4(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),jr(qr,qr.current),n)break;return null;case 22:case 23:return t.lanes=0,q4(e,t,r)}return _i(e,t,r)}var Y4,K_,X4,Q4;Y4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};K_=function(){};X4=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_c(zo.current);var o=null;switch(r){case"input":a=g_(e,a),n=g_(e,n),o=[];break;case"select":a=Kr({},a,{value:void 0}),n=Kr({},n,{value:void 0}),o=[];break;case"textarea":a=x_(e,a),n=x_(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=by)}w_(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Q4=function(e,t,r,n){r!==n&&(t.flags|=4)};function wh(e,t){if(!Fr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mG(e,t,r){var n=t.pendingProps;switch(yC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(t),null;case 1:return Ra(t.type)&&wy(),Gn(t),null;case 3:return n=t.stateNode,Xd(),Dr(Ma),Dr(ea),EC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ev(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ao!==null&&(r1(ao),ao=null))),K_(e,t),Gn(t),null;case 5:CC(t);var a=_c(Dm.current);if(r=t.type,e!==null&&t.stateNode!=null)X4(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ee(166));return Gn(t),null}if(e=_c(zo.current),ev(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Po]=t,n[Rm]=o,e=(t.mode&1)!==0,r){case"dialog":Mr("cancel",n),Mr("close",n);break;case"iframe":case"object":case"embed":Mr("load",n);break;case"video":case"audio":for(a=0;a<qh.length;a++)Mr(qh[a],n);break;case"source":Mr("error",n);break;case"img":case"image":case"link":Mr("error",n),Mr("load",n);break;case"details":Mr("toggle",n);break;case"input":Z2(n,o),Mr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Mr("invalid",n);break;case"textarea":eA(n,o),Mr("invalid",n)}w_(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Jg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Jg(n.textContent,l,e),a=["children",""+l]):Nm.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Mr("scroll",n)}switch(r){case"input":Wg(n),J2(n,o,!0);break;case"textarea":Wg(n),tA(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=by)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=SI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Po]=t,e[Rm]=n,Y4(e,t,!1,!1),t.stateNode=e;e:{switch(i=j_(r,n),r){case"dialog":Mr("cancel",e),Mr("close",e),a=n;break;case"iframe":case"object":case"embed":Mr("load",e),a=n;break;case"video":case"audio":for(a=0;a<qh.length;a++)Mr(qh[a],e);a=n;break;case"source":Mr("error",e),a=n;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=n;break;case"details":Mr("toggle",e),a=n;break;case"input":Z2(e,n),a=g_(e,n),Mr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Kr({},n,{value:void 0}),Mr("invalid",e);break;case"textarea":eA(e,n),a=x_(e,n),Mr("invalid",e);break;default:a=n}w_(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?OI(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&CI(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sm(e,c):typeof c=="number"&&Sm(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nm.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Mr("scroll",e):c!=null&&nC(e,o,c,i))}switch(r){case"input":Wg(e),J2(e,n,!1);break;case"textarea":Wg(e),tA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rl(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?pd(e,!!n.multiple,o,!1):n.defaultValue!=null&&pd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=by)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gn(t),null;case 6:if(e&&t.stateNode!=null)Q4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ee(166));if(r=_c(Dm.current),_c(zo.current),ev(t)){if(n=t.stateNode,r=t.memoizedProps,n[Po]=t,(o=n.nodeValue!==r)&&(e=es,e!==null))switch(e.tag){case 3:Jg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jg(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Po]=t,t.stateNode=n}return Gn(t),null;case 13:if(Dr(qr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fr&&Za!==null&&t.mode&1&&!(t.flags&128))p4(),Kd(),t.flags|=98560,o=!1;else if(o=ev(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ee(317));o[Po]=t}else Kd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gn(t),o=!1}else ao!==null&&(r1(ao),ao=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qr.current&1?kn===0&&(kn=3):FC())),t.updateQueue!==null&&(t.flags|=4),Gn(t),null);case 4:return Xd(),K_(e,t),e===null&&Tm(t.stateNode.containerInfo),Gn(t),null;case 10:return jC(t.type._context),Gn(t),null;case 17:return Ra(t.type)&&wy(),Gn(t),null;case 19:if(Dr(qr),o=t.memoizedState,o===null)return Gn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)wh(o,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Oy(e),i!==null){for(t.flags|=128,wh(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jr(qr,qr.current&1|2),t.child}e=e.sibling}o.tail!==null&&an()>Zd&&(t.flags|=128,n=!0,wh(o,!1),t.lanes=4194304)}else{if(!n)if(e=Oy(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Fr)return Gn(t),null}else 2*an()-o.renderingStartTime>Zd&&r!==1073741824&&(t.flags|=128,n=!0,wh(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=an(),t.sibling=null,r=qr.current,jr(qr,n?r&1|2:r&1),t):(Gn(t),null);case 22:case 23:return LC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Va&1073741824&&(Gn(t),t.subtreeFlags&6&&(t.flags|=8192)):Gn(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function pG(e,t){switch(yC(t),t.tag){case 1:return Ra(t.type)&&wy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xd(),Dr(Ma),Dr(ea),EC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return CC(t),null;case 13:if(Dr(qr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Kd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dr(qr),null;case 4:return Xd(),null;case 10:return jC(t.type._context),null;case 22:case 23:return LC(),null;case 24:return null;default:return null}}var nv=!1,Xn=!1,gG=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function od(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xr(e,t,n)}else r.current=null}function Y_(e,t,r){try{r()}catch(n){Xr(e,t,n)}}var qA=!1;function vG(e,t){if(T_=vy,e=r4(),gC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==r||a!==0&&d.nodeType!==3||(l=i+a),d!==o||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===a&&(l=i),h===o&&++f===n&&(c=i),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(M_={focusedElem:e,selectionRange:r},vy=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:Xs(t.type,p),v);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(_){Xr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return g=qA,qA=!1,g}function am(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Y_(t,r,o)}a=a.next}while(a!==n)}}function A0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function X_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Z4(e){var t=e.alternate;t!==null&&(e.alternate=null,Z4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Po],delete t[Rm],delete t[D_],delete t[JH],delete t[eG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function J4(e){return e.tag===5||e.tag===3||e.tag===4}function WA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||J4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Q_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=by));else if(n!==4&&(e=e.child,e!==null))for(Q_(e,t,r),e=e.sibling;e!==null;)Q_(e,t,r),e=e.sibling}function Z_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Z_(e,t,r),e=e.sibling;e!==null;)Z_(e,t,r),e=e.sibling}var zn=null,eo=!1;function Li(e,t,r){for(r=r.child;r!==null;)eL(e,t,r),r=r.sibling}function eL(e,t,r){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(w0,r)}catch{}switch(r.tag){case 5:Xn||od(r,t);case 6:var n=zn,a=eo;zn=null,Li(e,t,r),zn=n,eo=a,zn!==null&&(eo?(e=zn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zn.removeChild(r.stateNode));break;case 18:zn!==null&&(eo?(e=zn,r=r.stateNode,e.nodeType===8?Iw(e.parentNode,r):e.nodeType===1&&Iw(e,r),Am(e)):Iw(zn,r.stateNode));break;case 4:n=zn,a=eo,zn=r.stateNode.containerInfo,eo=!0,Li(e,t,r),zn=n,eo=a;break;case 0:case 11:case 14:case 15:if(!Xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Y_(r,t,i),a=a.next}while(a!==n)}Li(e,t,r);break;case 1:if(!Xn&&(od(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Xr(r,t,l)}Li(e,t,r);break;case 21:Li(e,t,r);break;case 22:r.mode&1?(Xn=(n=Xn)||r.memoizedState!==null,Li(e,t,r),Xn=n):Li(e,t,r);break;default:Li(e,t,r)}}function HA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gG),t.forEach(function(n){var a=CG.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:zn=l.stateNode,eo=!1;break e;case 3:zn=l.stateNode.containerInfo,eo=!0;break e;case 4:zn=l.stateNode.containerInfo,eo=!0;break e}l=l.return}if(zn===null)throw Error(Ee(160));eL(o,i,a),zn=null,eo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Xr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tL(t,e),t=t.sibling}function tL(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qs(t,e),So(e),n&4){try{am(3,e,e.return),A0(3,e)}catch(p){Xr(e,e.return,p)}try{am(5,e,e.return)}catch(p){Xr(e,e.return,p)}}break;case 1:qs(t,e),So(e),n&512&&r!==null&&od(r,r.return);break;case 5:if(qs(t,e),So(e),n&512&&r!==null&&od(r,r.return),e.flags&32){var a=e.stateNode;try{Sm(a,"")}catch(p){Xr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&_I(a,o),j_(l,i);var u=j_(l,o);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?OI(a,d):f==="dangerouslySetInnerHTML"?CI(a,d):f==="children"?Sm(a,d):nC(a,f,d,u)}switch(l){case"input":v_(a,o);break;case"textarea":NI(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?pd(a,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?pd(a,!!o.multiple,o.defaultValue,!0):pd(a,!!o.multiple,o.multiple?[]:"",!1))}a[Rm]=o}catch(p){Xr(e,e.return,p)}}break;case 6:if(qs(t,e),So(e),n&4){if(e.stateNode===null)throw Error(Ee(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(p){Xr(e,e.return,p)}}break;case 3:if(qs(t,e),So(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Am(t.containerInfo)}catch(p){Xr(e,e.return,p)}break;case 4:qs(t,e),So(e);break;case 13:qs(t,e),So(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(DC=an())),n&4&&HA(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Xn=(u=Xn)||f,qs(t,e),Xn=u):qs(t,e),So(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Ye=e,f=e.child;f!==null;){for(d=Ye=f;Ye!==null;){switch(h=Ye,m=h.child,h.tag){case 0:case 11:case 14:case 15:am(4,h,h.return);break;case 1:od(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Xr(n,r,p)}}break;case 5:od(h,h.return);break;case 22:if(h.memoizedState!==null){KA(d);continue}}m!==null?(m.return=h,Ye=m):KA(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EI("display",i))}catch(p){Xr(e,e.return,p)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Xr(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qs(t,e),So(e),n&4&&HA(e);break;case 21:break;default:qs(t,e),So(e)}}function So(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(J4(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Sm(a,""),n.flags&=-33);var o=WA(e);Z_(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=WA(e);Q_(e,l,i);break;default:throw Error(Ee(161))}}catch(c){Xr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yG(e,t,r){Ye=e,rL(e)}function rL(e,t,r){for(var n=(e.mode&1)!==0;Ye!==null;){var a=Ye,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||nv;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Xn;l=nv;var u=Xn;if(nv=i,(Xn=c)&&!u)for(Ye=a;Ye!==null;)i=Ye,c=i.child,i.tag===22&&i.memoizedState!==null?YA(a):c!==null?(c.return=i,Ye=c):YA(a);for(;o!==null;)Ye=o,rL(o),o=o.sibling;Ye=a,nv=l,Xn=u}GA(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ye=o):GA(e)}}function GA(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xn||A0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kA(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kA(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Am(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Xn||t.flags&512&&X_(t)}catch(h){Xr(t,t.return,h)}}if(t===e){Ye=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function KA(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ye=r;break}Ye=t.return}}function YA(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{A0(4,t)}catch(c){Xr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Xr(t,a,c)}}var o=t.return;try{X_(t)}catch(c){Xr(t,o,c)}break;case 5:var i=t.return;try{X_(t)}catch(c){Xr(t,i,c)}}}catch(c){Xr(t,t.return,c)}if(t===e){Ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ye=l;break}Ye=t.return}}var xG=Math.ceil,ky=Ti.ReactCurrentDispatcher,RC=Ti.ReactCurrentOwner,Os=Ti.ReactCurrentBatchConfig,Jt=0,Ln=null,vn=null,qn=0,Va=0,id=Ul(0),kn=0,Bm=null,Qc=0,P0=0,$C=0,sm=null,Oa=null,DC=0,Zd=1/0,oi=null,Ty=!1,J_=null,_l=null,av=!1,dl=null,My=0,om=0,e1=null,Jv=-1,ey=0;function va(){return Jt&6?an():Jv!==-1?Jv:Jv=an()}function Nl(e){return e.mode&1?Jt&2&&qn!==0?qn&-qn:rG.transition!==null?(ey===0&&(ey=BI()),ey):(e=cr,e!==0||(e=window.event,e=e===void 0?16:GI(e.type)),e):1}function fo(e,t,r,n){if(50<om)throw om=0,e1=null,Error(Ee(185));ng(e,r,n),(!(Jt&2)||e!==Ln)&&(e===Ln&&(!(Jt&2)&&(P0|=r),kn===4&&Ji(e,qn)),$a(e,n),r===1&&Jt===0&&!(t.mode&1)&&(Zd=an()+500,C0&&Vl()))}function $a(e,t){var r=e.callbackNode;rH(e,t);var n=gy(e,e===Ln?qn:0);if(n===0)r!==null&&aA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&aA(r),t===1)e.tag===0?tG(XA.bind(null,e)):f4(XA.bind(null,e)),QH(function(){!(Jt&6)&&Vl()}),r=null;else{switch(zI(n)){case 1:r=lC;break;case 4:r=LI;break;case 16:r=py;break;case 536870912:r=FI;break;default:r=py}r=uL(r,nL.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nL(e,t){if(Jv=-1,ey=0,Jt&6)throw Error(Ee(327));var r=e.callbackNode;if(bd()&&e.callbackNode!==r)return null;var n=gy(e,e===Ln?qn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ry(e,n);else{t=n;var a=Jt;Jt|=2;var o=sL();(Ln!==e||qn!==t)&&(oi=null,Zd=an()+500,Vc(e,t));do try{jG();break}catch(l){aL(e,l)}while(!0);wC(),ky.current=o,Jt=a,vn!==null?t=0:(Ln=null,qn=0,t=kn)}if(t!==0){if(t===2&&(a=E_(e),a!==0&&(n=a,t=t1(e,a))),t===1)throw r=Bm,Vc(e,0),Ji(e,n),$a(e,an()),r;if(t===6)Ji(e,n);else{if(a=e.current.alternate,!(n&30)&&!bG(a)&&(t=Ry(e,n),t===2&&(o=E_(e),o!==0&&(n=o,t=t1(e,o))),t===1))throw r=Bm,Vc(e,0),Ji(e,n),$a(e,an()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ee(345));case 2:uc(e,Oa,oi);break;case 3:if(Ji(e,n),(n&130023424)===n&&(t=DC+500-an(),10<t)){if(gy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){va(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$_(uc.bind(null,e,Oa,oi),t);break}uc(e,Oa,oi);break;case 4:if(Ji(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-uo(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=an()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xG(n/1960))-n,10<n){e.timeoutHandle=$_(uc.bind(null,e,Oa,oi),n);break}uc(e,Oa,oi);break;case 5:uc(e,Oa,oi);break;default:throw Error(Ee(329))}}}return $a(e,an()),e.callbackNode===r?nL.bind(null,e):null}function t1(e,t){var r=sm;return e.current.memoizedState.isDehydrated&&(Vc(e,t).flags|=256),e=Ry(e,t),e!==2&&(t=Oa,Oa=r,t!==null&&r1(t)),e}function r1(e){Oa===null?Oa=e:Oa.push.apply(Oa,e)}function bG(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!go(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t){for(t&=~$C,t&=~P0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-uo(t),n=1<<r;e[r]=-1,t&=~n}}function XA(e){if(Jt&6)throw Error(Ee(327));bd();var t=gy(e,0);if(!(t&1))return $a(e,an()),null;var r=Ry(e,t);if(e.tag!==0&&r===2){var n=E_(e);n!==0&&(t=n,r=t1(e,n))}if(r===1)throw r=Bm,Vc(e,0),Ji(e,t),$a(e,an()),r;if(r===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uc(e,Oa,oi),$a(e,an()),null}function IC(e,t){var r=Jt;Jt|=1;try{return e(t)}finally{Jt=r,Jt===0&&(Zd=an()+500,C0&&Vl())}}function Zc(e){dl!==null&&dl.tag===0&&!(Jt&6)&&bd();var t=Jt;Jt|=1;var r=Os.transition,n=cr;try{if(Os.transition=null,cr=1,e)return e()}finally{cr=n,Os.transition=r,Jt=t,!(Jt&6)&&Vl()}}function LC(){Va=id.current,Dr(id)}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XH(r)),vn!==null)for(r=vn.return;r!==null;){var n=r;switch(yC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wy();break;case 3:Xd(),Dr(Ma),Dr(ea),EC();break;case 5:CC(n);break;case 4:Xd();break;case 13:Dr(qr);break;case 19:Dr(qr);break;case 10:jC(n.type._context);break;case 22:case 23:LC()}r=r.return}if(Ln=e,vn=e=Sl(e.current,null),qn=Va=t,kn=0,Bm=null,$C=P0=Qc=0,Oa=sm=null,jc!==null){for(t=0;t<jc.length;t++)if(r=jc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}jc=null}return e}function aL(e,t){do{var r=vn;try{if(wC(),Xv.current=Py,Ay){for(var n=Hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ay=!1}if(Xc=0,Dn=On=Hr=null,nm=!1,Im=0,RC.current=null,r===null||r.return===null){kn=1,Bm=t,vn=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=qn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=IA(i);if(m!==null){m.flags&=-257,LA(m,i,l,o,t),m.mode&1&&DA(o,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){DA(o,u,t),FC();break e}c=Error(Ee(426))}}else if(Fr&&l.mode&1){var v=IA(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),LA(v,i,l,o,t),xC(Qd(c,l));break e}}o=c=Qd(c,l),kn!==4&&(kn=2),sm===null?sm=[o]:sm.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=z4(o,c,t);PA(o,w);break e;case 1:l=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_l===null||!_l.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=U4(o,l,t);PA(o,_);break e}}o=o.return}while(o!==null)}iL(r)}catch(j){t=j,vn===r&&r!==null&&(vn=r=r.return);continue}break}while(!0)}function sL(){var e=ky.current;return ky.current=Py,e===null?Py:e}function FC(){(kn===0||kn===3||kn===2)&&(kn=4),Ln===null||!(Qc&268435455)&&!(P0&268435455)||Ji(Ln,qn)}function Ry(e,t){var r=Jt;Jt|=2;var n=sL();(Ln!==e||qn!==t)&&(oi=null,Vc(e,t));do try{wG();break}catch(a){aL(e,a)}while(!0);if(wC(),Jt=r,ky.current=n,vn!==null)throw Error(Ee(261));return Ln=null,qn=0,kn}function wG(){for(;vn!==null;)oL(vn)}function jG(){for(;vn!==null&&!G7();)oL(vn)}function oL(e){var t=cL(e.alternate,e,Va);e.memoizedProps=e.pendingProps,t===null?iL(e):vn=t,RC.current=null}function iL(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pG(r,t),r!==null){r.flags&=32767,vn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,vn=null;return}}else if(r=mG(r,t,Va),r!==null){vn=r;return}if(t=t.sibling,t!==null){vn=t;return}vn=t=e}while(t!==null);kn===0&&(kn=5)}function uc(e,t,r){var n=cr,a=Os.transition;try{Os.transition=null,cr=1,_G(e,t,r,n)}finally{Os.transition=a,cr=n}return null}function _G(e,t,r,n){do bd();while(dl!==null);if(Jt&6)throw Error(Ee(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(nH(e,o),e===Ln&&(vn=Ln=null,qn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||av||(av=!0,uL(py,function(){return bd(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Os.transition,Os.transition=null;var i=cr;cr=1;var l=Jt;Jt|=4,RC.current=null,vG(e,r),tL(r,e),VH(M_),vy=!!T_,M_=T_=null,e.current=r,yG(r),K7(),Jt=l,cr=i,Os.transition=o}else e.current=r;if(av&&(av=!1,dl=e,My=a),o=e.pendingLanes,o===0&&(_l=null),Q7(r.stateNode),$a(e,an()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ty)throw Ty=!1,e=J_,J_=null,e;return My&1&&e.tag!==0&&bd(),o=e.pendingLanes,o&1?e===e1?om++:(om=0,e1=e):om=0,Vl(),null}function bd(){if(dl!==null){var e=zI(My),t=Os.transition,r=cr;try{if(Os.transition=null,cr=16>e?16:e,dl===null)var n=!1;else{if(e=dl,dl=null,My=0,Jt&6)throw Error(Ee(331));var a=Jt;for(Jt|=4,Ye=e.current;Ye!==null;){var o=Ye,i=o.child;if(Ye.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ye=u;Ye!==null;){var f=Ye;switch(f.tag){case 0:case 11:case 15:am(8,f,o)}var d=f.child;if(d!==null)d.return=f,Ye=d;else for(;Ye!==null;){f=Ye;var h=f.sibling,m=f.return;if(Z4(f),f===u){Ye=null;break}if(h!==null){h.return=m,Ye=h;break}Ye=m}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ye=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ye=i;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:am(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Ye=w;break e}Ye=o.return}}var y=e.current;for(Ye=y;Ye!==null;){i=Ye;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Ye=b;else e:for(i=y;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:A0(9,l)}}catch(j){Xr(l,l.return,j)}if(l===i){Ye=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ye=_;break e}Ye=l.return}}if(Jt=a,Vl(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(w0,e)}catch{}n=!0}return n}finally{cr=r,Os.transition=t}}return!1}function QA(e,t,r){t=Qd(r,t),t=z4(e,t,1),e=jl(e,t,1),t=va(),e!==null&&(ng(e,1,t),$a(e,t))}function Xr(e,t,r){if(e.tag===3)QA(e,e,r);else for(;t!==null;){if(t.tag===3){QA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_l===null||!_l.has(n))){e=Qd(r,e),e=U4(t,e,1),t=jl(t,e,1),e=va(),t!==null&&(ng(t,1,e),$a(t,e));break}}t=t.return}}function NG(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=va(),e.pingedLanes|=e.suspendedLanes&r,Ln===e&&(qn&r)===r&&(kn===4||kn===3&&(qn&130023424)===qn&&500>an()-DC?Vc(e,0):$C|=r),$a(e,t)}function lL(e,t){t===0&&(e.mode&1?(t=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):t=1);var r=va();e=ji(e,t),e!==null&&(ng(e,t,r),$a(e,r))}function SG(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lL(e,r)}function CG(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(t),lL(e,r)}var cL;cL=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ma.current)Aa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Aa=!1,hG(e,t,r);Aa=!!(e.flags&131072)}else Aa=!1,Fr&&t.flags&1048576&&h4(t,Ny,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zv(e,t),e=t.pendingProps;var a=Gd(t,ea.current);xd(t,r),a=AC(null,t,n,e,a,r);var o=PC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(n)?(o=!0,jy(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,NC(t),a.updater=O0,t.stateNode=a,a._reactInternals=t,U_(t,n,e,r),t=W_(null,t,n,!0,o,r)):(t.tag=0,Fr&&o&&vC(t),la(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=OG(n),e=Xs(n,e),a){case 0:t=q_(null,t,n,e,r);break e;case 1:t=zA(null,t,n,e,r);break e;case 11:t=FA(null,t,n,e,r);break e;case 14:t=BA(null,t,n,Xs(n.type,e),r);break e}throw Error(Ee(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),q_(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),zA(e,t,n,a,r);case 3:e:{if(H4(t),e===null)throw Error(Ee(387));n=t.pendingProps,o=t.memoizedState,a=o.element,x4(e,t),Ey(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Qd(Error(Ee(423)),t),t=UA(e,t,n,r,a);break e}else if(n!==a){a=Qd(Error(Ee(424)),t),t=UA(e,t,n,r,a);break e}else for(Za=wl(t.stateNode.containerInfo.firstChild),es=t,Fr=!0,ao=null,r=v4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kd(),n===a){t=_i(e,t,r);break e}la(e,t,n,r)}t=t.child}return t;case 5:return b4(t),e===null&&F_(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,R_(n,a)?i=null:o!==null&&R_(n,o)&&(t.flags|=32),W4(e,t),la(e,t,i,r),t.child;case 6:return e===null&&F_(t),null;case 13:return G4(e,t,r);case 4:return SC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yd(t,null,n,r):la(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),FA(e,t,n,a,r);case 7:return la(e,t,t.pendingProps,r),t.child;case 8:return la(e,t,t.pendingProps.children,r),t.child;case 12:return la(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,jr(Sy,n._currentValue),n._currentValue=i,o!==null)if(go(o.value,i)){if(o.children===a.children&&!Ma.current){t=_i(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=vi(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),B_(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Ee(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),B_(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}la(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xd(t,r),a=Ms(a),n=n(a),t.flags|=1,la(e,t,n,r),t.child;case 14:return n=t.type,a=Xs(n,t.pendingProps),a=Xs(n.type,a),BA(e,t,n,a,r);case 15:return V4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),Zv(e,t),t.tag=1,Ra(n)?(e=!0,jy(t)):e=!1,xd(t,r),B4(t,n,a),U_(t,n,a,r),W_(null,t,n,!0,e,r);case 19:return K4(e,t,r);case 22:return q4(e,t,r)}throw Error(Ee(156,t.tag))};function uL(e,t){return II(e,t)}function EG(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(e,t,r,n){return new EG(e,t,r,n)}function BC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OG(e){if(typeof e=="function")return BC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sC)return 11;if(e===oC)return 14}return 2}function Sl(e,t){var r=e.alternate;return r===null?(r=Cs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ty(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")BC(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Qu:return qc(r.children,a,o,t);case aC:i=8,a|=8;break;case f_:return e=Cs(12,r,t,a|2),e.elementType=f_,e.lanes=o,e;case h_:return e=Cs(13,r,t,a),e.elementType=h_,e.lanes=o,e;case m_:return e=Cs(19,r,t,a),e.elementType=m_,e.lanes=o,e;case bI:return k0(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yI:i=10;break e;case xI:i=9;break e;case sC:i=11;break e;case oC:i=14;break e;case Gi:i=16,n=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=Cs(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function qc(e,t,r,n){return e=Cs(7,e,n,t),e.lanes=r,e}function k0(e,t,r,n){return e=Cs(22,e,n,t),e.elementType=bI,e.lanes=r,e.stateNode={isHidden:!1},e}function Ww(e,t,r){return e=Cs(6,e,null,t),e.lanes=r,e}function Hw(e,t,r){return t=Cs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AG(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cw(0),this.expirationTimes=Cw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zC(e,t,r,n,a,o,i,l,c){return e=new AG(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Cs(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},NC(o),e}function PG(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dL(e){if(!e)return $l;e=e._reactInternals;e:{if(vu(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var r=e.type;if(Ra(r))return d4(e,r,t)}return t}function fL(e,t,r,n,a,o,i,l,c){return e=zC(r,n,!0,e,a,o,i,l,c),e.context=dL(null),r=e.current,n=va(),a=Nl(r),o=vi(n,a),o.callback=t??null,jl(r,o,a),e.current.lanes=a,ng(e,a,n),$a(e,n),e}function T0(e,t,r,n){var a=t.current,o=va(),i=Nl(a);return r=dL(r),t.context===null?t.context=r:t.pendingContext=r,t=vi(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=jl(a,t,i),e!==null&&(fo(e,a,i,o),Yv(e,a,i)),i}function $y(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function UC(e,t){ZA(e,t),(e=e.alternate)&&ZA(e,t)}function kG(){return null}var hL=typeof reportError=="function"?reportError:function(e){console.error(e)};function VC(e){this._internalRoot=e}M0.prototype.render=VC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));T0(e,t,null,null)};M0.prototype.unmount=VC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zc(function(){T0(null,e,null,null)}),t[wi]=null}};function M0(e){this._internalRoot=e}M0.prototype.unstable_scheduleHydration=function(e){if(e){var t=qI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zi.length&&t!==0&&t<Zi[r].priority;r++);Zi.splice(r,0,e),r===0&&HI(e)}};function qC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function R0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function JA(){}function TG(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=$y(i);o.call(u)}}var i=fL(t,n,e,0,null,!1,!1,"",JA);return e._reactRootContainer=i,e[wi]=i.current,Tm(e.nodeType===8?e.parentNode:e),Zc(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=$y(c);l.call(u)}}var c=zC(e,0,!1,null,null,!1,!1,"",JA);return e._reactRootContainer=c,e[wi]=c.current,Tm(e.nodeType===8?e.parentNode:e),Zc(function(){T0(t,c,r,n)}),c}function $0(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=$y(i);l.call(c)}}T0(t,i,e,a)}else i=TG(r,t,e,a,n);return $y(i)}UI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vh(t.pendingLanes);r!==0&&(cC(t,r|1),$a(t,an()),!(Jt&6)&&(Zd=an()+500,Vl()))}break;case 13:Zc(function(){var n=ji(e,1);if(n!==null){var a=va();fo(n,e,1,a)}}),UC(e,1)}};uC=function(e){if(e.tag===13){var t=ji(e,134217728);if(t!==null){var r=va();fo(t,e,134217728,r)}UC(e,134217728)}};VI=function(e){if(e.tag===13){var t=Nl(e),r=ji(e,t);if(r!==null){var n=va();fo(r,e,t,n)}UC(e,t)}};qI=function(){return cr};WI=function(e,t){var r=cr;try{return cr=e,t()}finally{cr=r}};N_=function(e,t,r){switch(t){case"input":if(v_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=S0(n);if(!a)throw Error(Ee(90));jI(n),v_(n,a)}}}break;case"textarea":NI(e,r);break;case"select":t=r.value,t!=null&&pd(e,!!r.multiple,t,!1)}};kI=IC;TI=Zc;var MG={usingClientEntryPoint:!1,Events:[sg,td,S0,AI,PI,IC]},jh={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RG={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$I(e),e===null?null:e.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance||kG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sv.isDisabled&&sv.supportsFiber)try{w0=sv.inject(RG),Bo=sv}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MG;us.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qC(t))throw Error(Ee(200));return PG(e,t,null,r)};us.createRoot=function(e,t){if(!qC(e))throw Error(Ee(299));var r=!1,n="",a=hL;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=zC(e,1,!1,null,null,r,!1,n,a),e[wi]=t.current,Tm(e.nodeType===8?e.parentNode:e),new VC(t)};us.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=$I(t),e=e===null?null:e.stateNode,e};us.flushSync=function(e){return Zc(e)};us.hydrate=function(e,t,r){if(!R0(t))throw Error(Ee(200));return $0(null,e,t,!0,r)};us.hydrateRoot=function(e,t,r){if(!qC(e))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=hL;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=fL(t,null,e,1,r??null,a,!1,o,i),e[wi]=t.current,Tm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new M0(t)};us.render=function(e,t,r){if(!R0(t))throw Error(Ee(200));return $0(null,e,t,!1,r)};us.unmountComponentAtNode=function(e){if(!R0(e))throw Error(Ee(40));return e._reactRootContainer?(Zc(function(){$0(null,null,e,!1,function(){e._reactRootContainer=null,e[wi]=null})}),!0):!1};us.unstable_batchedUpdates=IC;us.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!R0(r))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return $0(e,t,r,!1,n)};us.version="18.3.1-next-f1338f8080-20240426";function mL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mL)}catch(e){console.error(e)}}mL(),mI.exports=us;var ql=mI.exports;const $G=or(ql);var pL,eP=ql;pL=eP.createRoot,eP.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}var fl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fl||(fl={}));const tP="popstate";function DG(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return n1("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Dy(a)}return LG(t,r,null,e)}function un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IG(){return Math.random().toString(36).substr(2,8)}function rP(e,t){return{usr:e.state,key:e.key,idx:t}}function n1(e,t,r,n){return r===void 0&&(r=null),zm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vf(t):t,{state:r,key:t&&t.key||n||IG()})}function Dy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LG(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=fl.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(zm({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){l=fl.Pop;let v=f(),w=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:w})}function h(v,w){l=fl.Push;let y=n1(p.location,v,w);u=f()+1;let b=rP(y,u),_=p.createHref(y);try{i.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}o&&c&&c({action:l,location:p.location,delta:1})}function m(v,w){l=fl.Replace;let y=n1(p.location,v,w);u=f();let b=rP(y,u),_=p.createHref(y);i.replaceState(b,"",_),o&&c&&c({action:l,location:p.location,delta:0})}function g(v){let w=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Dy(v);return y=y.replace(/ $/,"%20"),un(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let p={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(tP,d),c=v,()=>{a.removeEventListener(tP,d),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let w=g(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(v){return i.go(v)}};return p}var nP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nP||(nP={}));function FG(e,t,r){return r===void 0&&(r="/"),BG(e,t,r)}function BG(e,t,r,n){let a=typeof t=="string"?Vf(t):t,o=WC(a.pathname||"/",r);if(o==null)return null;let i=vL(e);zG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=JG(o);l=XG(i[c],u)}return l}function vL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(un(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cl([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(un(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vL(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:KG(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of yL(o.path))a(o,i,c)}),t}function yL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=yL(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YG(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UG=/^:[\w-]+$/,VG=3,qG=2,WG=1,HG=10,GG=-2,aP=e=>e==="*";function KG(e,t){let r=e.split("/"),n=r.length;return r.some(aP)&&(n+=GG),t&&(n+=qG),r.filter(a=>!aP(a)).reduce((a,o)=>a+(UG.test(o)?VG:o===""?WG:HG),n)}function YG(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function XG(e,t,r){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=QG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:Cl([o,d.pathname]),pathnameBase:nK(Cl([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=Cl([o,d.pathnameBase]))}return i}function QG(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ZG(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let p=l[d]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[d];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function ZG(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function JG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eK(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Vf(e):e;return{pathname:r?r.startsWith("/")?r:tK(r,t):t,search:aK(n),hash:sK(a)}}function tK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function HC(e,t){let r=rK(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function GC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Vf(e):(a=zm({},e),un(!a.pathname||!a.pathname.includes("?"),Gw("?","pathname","search",a)),un(!a.pathname||!a.pathname.includes("#"),Gw("#","pathname","hash",a)),un(!a.search||!a.search.includes("#"),Gw("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=eK(a,l),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Cl=e=>e.join("/").replace(/\/\/+/g,"/"),nK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xL=["post","put","patch","delete"];new Set(xL);const iK=["get",...xL];new Set(iK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}const KC=x.createContext(null),lK=x.createContext(null),Wl=x.createContext(null),D0=x.createContext(null),Mi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),bL=x.createContext(null);function cK(e,t){let{relative:r}=t===void 0?{}:t;qf()||un(!1);let{basename:n,navigator:a}=x.useContext(Wl),{hash:o,pathname:i,search:l}=_L(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Cl([n,i])),a.createHref({pathname:c,search:l,hash:o})}function qf(){return x.useContext(D0)!=null}function wo(){return qf()||un(!1),x.useContext(D0).location}function wL(e){x.useContext(Wl).static||x.useLayoutEffect(e)}function Bs(){let{isDataRoute:e}=x.useContext(Mi);return e?jK():uK()}function uK(){qf()||un(!1);let e=x.useContext(KC),{basename:t,future:r,navigator:n}=x.useContext(Wl),{matches:a}=x.useContext(Mi),{pathname:o}=wo(),i=JSON.stringify(HC(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return wL(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=GC(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Cl([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,i,o,e])}function jL(){let{matches:e}=x.useContext(Mi),t=e[e.length-1];return t?t.params:{}}function _L(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Wl),{matches:a}=x.useContext(Mi),{pathname:o}=wo(),i=JSON.stringify(HC(a,n.v7_relativeSplatPath));return x.useMemo(()=>GC(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function dK(e,t){return fK(e,t)}function fK(e,t,r,n){qf()||un(!1);let{navigator:a}=x.useContext(Wl),{matches:o}=x.useContext(Mi),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=wo(),f;if(t){var d;let v=typeof t=="string"?Vf(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||un(!1),f=v}else f=u;let h=f.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=FG(e,{pathname:m}),p=vK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Cl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Cl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return t&&p?x.createElement(D0.Provider,{value:{location:Um({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:fl.Pop}},p):p}function hK(){let e=wK(),t=oK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const mK=x.createElement(hK,null);class pK extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Mi.Provider,{value:this.props.routeContext},x.createElement(bL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gK(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(KC);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Mi.Provider,{value:t},n)}function vK(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||un(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:m}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||mK,c&&(u<0&&h===0?(_K("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,h+1)),y=()=>{let b;return m?b=p:g?b=v:d.route.Component?b=x.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,x.createElement(gK,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(pK,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var NL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(NL||{}),SL=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(SL||{});function yK(e){let t=x.useContext(KC);return t||un(!1),t}function xK(e){let t=x.useContext(lK);return t||un(!1),t}function bK(e){let t=x.useContext(Mi);return t||un(!1),t}function CL(e){let t=bK(),r=t.matches[t.matches.length-1];return r.route.id||un(!1),r.route.id}function wK(){var e;let t=x.useContext(bL),r=xK(),n=CL();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jK(){let{router:e}=yK(NL.UseNavigateStable),t=CL(SL.UseNavigateStable),r=x.useRef(!1);return wL(()=>{r.current=!0}),x.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Um({fromRouteId:t},o)))},[e,t])}const sP={};function _K(e,t,r){sP[e]||(sP[e]=!0)}function NK(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _h(e){let{to:t,replace:r,state:n,relative:a}=e;qf()||un(!1);let{future:o,static:i}=x.useContext(Wl),{matches:l}=x.useContext(Mi),{pathname:c}=wo(),u=Bs(),f=GC(t,HC(l,o.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(f);return x.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function zr(e){un(!1)}function SK(e){let{basename:t="/",children:r=null,location:n,navigationType:a=fl.Pop,navigator:o,static:i=!1,future:l}=e;qf()&&un(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:o,static:i,future:Um({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Vf(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let v=WC(f,c);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:g},navigationType:a}},[c,f,d,h,m,g,a]);return p==null?null:x.createElement(Wl.Provider,{value:u},x.createElement(D0.Provider,{children:r,value:p}))}function CK(e){let{children:t,location:r}=e;return dK(a1(t),r)}new Promise(()=>{});function a1(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let o=[...t,a];if(n.type===x.Fragment){r.push.apply(r,a1(n.props.children,o));return}n.type!==zr&&un(!1),!n.props.index||!n.props.children||un(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=a1(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}function EK(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function OK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AK(e,t){return e.button===0&&(!t||t==="_self")&&!OK(e)}function o1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function PK(e,t){let r=o1(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const kK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TK="6";try{window.__reactRouterVersion=TK}catch{}const MK="startTransition",oP=b0[MK];function RK(e){let{basename:t,children:r,future:n,window:a}=e,o=x.useRef();o.current==null&&(o.current=DG({window:a,v5Compat:!0}));let i=o.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},f=x.useCallback(d=>{u&&oP?oP(()=>c(d)):c(d)},[c,u]);return x.useLayoutEffect(()=>i.listen(f),[i,f]),x.useEffect(()=>NK(n),[n]),x.createElement(SK,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const $K=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nc=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=EK(t,kK),{basename:m}=x.useContext(Wl),g,p=!1;if(typeof u=="string"&&DK.test(u)&&(g=u,$K))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=WC(_.pathname,m);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let v=cK(u,{relative:a}),w=IK(u,{replace:i,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:d});function y(b){n&&n(b),b.defaultPrevented||w(b)}return x.createElement("a",s1({},h,{href:g||v,onClick:p||o?n:y,ref:r,target:c}))});var iP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iP||(iP={}));var lP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lP||(lP={}));function IK(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Bs(),u=wo(),f=_L(e,{relative:i});return x.useCallback(d=>{if(AK(d,r)){d.preventDefault();let h=n!==void 0?n:Dy(u)===Dy(f);c(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,f,n,a,r,e,o,i,l])}function LK(e){let t=x.useRef(o1(e)),r=x.useRef(!1),n=wo(),a=x.useMemo(()=>PK(n.search,r.current?null:t.current),[n.search]),o=Bs(),i=x.useCallback((l,c)=>{const u=o1(typeof l=="function"?l(a):l);r.current=!0,o("?"+u,c)},[o,a]);return[a,i]}const FK=1,BK=1e6;let Kw=0;function zK(){return Kw=(Kw+1)%Number.MAX_SAFE_INTEGER,Kw.toString()}const Yw=new Map,cP=e=>{if(Yw.has(e))return;const t=setTimeout(()=>{Yw.delete(e),im({type:"REMOVE_TOAST",toastId:e})},BK);Yw.set(e,t)},UK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?cP(r):e.toasts.forEach(n=>{cP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ry=[];let ny={toasts:[]};function im(e){ny=UK(ny,e),ry.forEach(t=>{t(ny)})}function VK({...e}){const t=zK(),r=a=>im({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>im({type:"DISMISS_TOAST",toastId:t});return im({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function en(){const[e,t]=x.useState(ny);return x.useEffect(()=>(ry.push(t),()=>{const r=ry.indexOf(t);r>-1&&ry.splice(r,1)}),[e]),{...e,toast:VK,dismiss:r=>im({type:"DISMISS_TOAST",toastId:r})}}function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function uP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ig(...e){return t=>{let r=!1;const n=e.map(a=>{const o=uP(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():uP(e[a],null)}}}}function Mt(...e){return x.useCallback(ig(...e),e)}function qK(e,t){const r=x.createContext(t),n=o=>{const{children:i,...l}=o,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(o){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function na(e,t=[]){let r=[];function n(o,i){const l=x.createContext(i),c=r.length;r=[...r,i];const u=d=>{var w;const{scope:h,children:m,...g}=d,p=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,v=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=o+"Provider";function f(d,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,WK(a,...t)]}function WK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Jc(e){const t=HK(e),r=x.forwardRef((n,a)=>{const{children:o,...i}=n,l=x.Children.toArray(o),c=l.find(GK);if(c){const u=c.props.children,f=l.map(d=>d===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function HK(e){const t=x.forwardRef((r,n)=>{const{children:a,...o}=r;if(x.isValidElement(a)){const i=YK(a),l=KK(o,a.props);return a.type!==x.Fragment&&(l.ref=n?ig(n,i):i),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EL=Symbol("radix.slottable");function OL(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=EL,t}function GK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EL}function KK(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function YK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function lg(e){const t=e+"CollectionProvider",[r,n]=na(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:w}=p,y=z.useRef(null),b=z.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:b,collectionRef:y,children:w})};i.displayName=t;const l=e+"CollectionSlot",c=Jc(l),u=z.forwardRef((p,v)=>{const{scope:w,children:y}=p,b=o(l,w),_=Mt(v,b.collectionRef);return s.jsx(c,{ref:_,children:y})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=Jc(f),m=z.forwardRef((p,v)=>{const{scope:w,children:y,...b}=p,_=z.useRef(null),j=Mt(v,_),N=o(f,w);return z.useEffect(()=>(N.itemMap.set(_,{ref:_,...b}),()=>void N.itemMap.delete(_))),s.jsx(h,{[d]:"",ref:j,children:y})});m.displayName=f;function g(p){const v=o(e+"CollectionConsumer",p);return z.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},g,n]}var XK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pt=XK.reduce((e,t)=>{const r=Jc(`Primitive.${t}`),n=x.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function YC(e,t){e&&ql.flushSync(()=>e.dispatchEvent(t))}function ta(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function QK(e,t=globalThis==null?void 0:globalThis.document){const r=ta(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ZK="DismissableLayer",i1="dismissableLayer.update",JK="dismissableLayer.pointerDownOutside",eY="dismissableLayer.focusOutside",dP,AL=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yu=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext(AL),[f,d]=x.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=Mt(t,S=>d(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(v),y=f?p.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=w,j=rY(S=>{const C=S.target,E=[...u.branches].some(P=>P.contains(C));!_||E||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},h),N=nY(S=>{const C=S.target;[...u.branches].some(P=>P.contains(C))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},h);return QK(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),fP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dP)}},[f,h,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),fP())},[f,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(i1,S),()=>document.removeEventListener(i1,S)},[]),s.jsx(pt.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,j.onPointerDownCapture)})});yu.displayName=ZK;var tY="DismissableLayerBranch",PL=x.forwardRef((e,t)=>{const r=x.useContext(AL),n=x.useRef(null),a=Mt(t,n);return x.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(pt.div,{...e,ref:a})});PL.displayName=tY;function rY(e,t=globalThis==null?void 0:globalThis.document){const r=ta(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){kL(JK,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function nY(e,t=globalThis==null?void 0:globalThis.document){const r=ta(e),n=x.useRef(!1);return x.useEffect(()=>{const a=o=>{o.target&&!n.current&&kL(eY,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fP(){const e=new CustomEvent(i1);document.dispatchEvent(e)}function kL(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?YC(a,o):a.dispatchEvent(o)}var aY=yu,sY=PL,bn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},oY="Portal",Wf=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=x.useState(!1);bn(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?$G.createPortal(s.jsx(pt.div,{...n,ref:t}),i):null});Wf.displayName=oY;function iY(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var La=e=>{const{present:t,children:r}=e,n=lY(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),o=Mt(n.ref,cY(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:o}):null};La.displayName="Presence";function lY(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),o=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=iY(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=ov(n.current);o.current=l==="mounted"?u:"none"},[l]),bn(()=>{const u=n.current,f=a.current;if(f!==e){const h=o.current,m=ov(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bn(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=m=>{const p=ov(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(o.current=ov(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ov(e){return(e==null?void 0:e.animationName)||"none"}function cY(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uY=b0[" useInsertionEffect ".trim().toString()]||bn;function $s({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,i]=dY({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=x.useCallback(f=>{var d;if(l){const h=fY(f)?f(e):f;h!==e&&((d=i.current)==null||d.call(i,h))}else o(f)},[l,e,o,i]);return[c,u]}function dY({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),o=x.useRef(t);return uY(()=>{o.current=t},[t]),x.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,n,o]}function fY(e){return typeof e=="function"}var TL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hY="VisuallyHidden",I0=x.forwardRef((e,t)=>s.jsx(pt.span,{...e,ref:t,style:{...TL,...e.style}}));I0.displayName=hY;var mY=I0,XC="ToastProvider",[QC,pY,gY]=lg("Toast"),[ML]=na("Toast",[gY]),[vY,L0]=ML(XC),RL=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=x.useState(null),[u,f]=x.useState(0),d=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${XC}\`. Expected non-empty \`string\`.`),s.jsx(QC.Provider,{scope:t,children:s.jsx(vY,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>f(m=>m+1),[]),onToastRemove:x.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};RL.displayName=XC;var $L="ToastViewport",yY=["F8"],l1="toast.viewportPause",c1="toast.viewportResume",DL=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=yY,label:a="Notifications ({hotkey})",...o}=e,i=L0($L,r),l=pY(r),c=x.useRef(null),u=x.useRef(null),f=x.useRef(null),d=x.useRef(null),h=Mt(t,d,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;x.useEffect(()=>{const v=w=>{var b;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=c.current,w=d.current;if(g&&v&&w){const y=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(l1);w.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(c1);w.dispatchEvent(N),i.isClosePausedRef.current=!1}},_=N=>{!v.contains(N.relatedTarget)&&b()},j=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",y),v.addEventListener("focusout",_),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,i.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:v})=>{const y=l().map(b=>{const _=b.ref.current,j=[_,...kY(_)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const v=d.current;if(v){const w=y=>{var j,N,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,E=y.shiftKey;if(y.target===v&&E){(j=u.current)==null||j.focus();return}const M=p({tabbingDirection:E?"backwards":"forwards"}),O=M.findIndex(R=>R===C);Xw(M.slice(O+1))?y.preventDefault():E?(N=u.current)==null||N.focus():(S=f.current)==null||S.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,p]),s.jsxs(sY,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(u1,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});Xw(v)}}),s.jsx(QC.Slot,{scope:r,children:s.jsx(pt.ol,{tabIndex:-1,...o,ref:h})}),g&&s.jsx(u1,{ref:f,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});Xw(v)}})]})});DL.displayName=$L;var IL="ToastFocusProxy",u1=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=L0(IL,r);return s.jsx(I0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});u1.displayName=IL;var cg="Toast",xY="toast.swipeStart",bY="toast.swipeMove",wY="toast.swipeCancel",jY="toast.swipeEnd",LL=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l,c]=$s({prop:n,defaultProp:a??!0,onChange:o,caller:cg});return s.jsx(La,{present:r||l,children:s.jsx(SY,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ta(e.onPause),onResume:ta(e.onResume),onSwipeStart:Se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});LL.displayName=cg;var[_Y,NY]=ML(cg,{onClose(){}}),SY=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=L0(cg,r),[v,w]=x.useState(null),y=Mt(t,R=>w(R)),b=x.useRef(null),_=x.useRef(null),j=a||p.duration,N=x.useRef(0),S=x.useRef(j),C=x.useRef(0),{onToastAdd:E,onToastRemove:P}=p,A=ta(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=p.viewport)==null||L.focus()),i()}),M=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(A,R))},[A]);x.useEffect(()=>{const R=p.viewport;if(R){const L=()=>{M(S.current),u==null||u()},D=()=>{const B=new Date().getTime()-N.current;S.current=S.current-B,window.clearTimeout(C.current),c==null||c()};return R.addEventListener(l1,D),R.addEventListener(c1,L),()=>{R.removeEventListener(l1,D),R.removeEventListener(c1,L)}}},[p.viewport,j,c,u,M]),x.useEffect(()=>{o&&!p.isClosePausedRef.current&&M(j)},[o,j,p.isClosePausedRef,M]),x.useEffect(()=>(E(),()=>P()),[E,P]);const O=x.useMemo(()=>v?WL(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[O&&s.jsx(CY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:O}),s.jsx(_Y,{scope:r,onClose:A,children:ql.createPortal(s.jsx(QC.ItemSlot,{scope:r,children:s.jsx(aY,{asChild:!0,onEscapeKeyDown:Se(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(pt.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Se(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:Se(e.onPointerMove,R=>{if(!b.current)return;const L=R.clientX-b.current.x,D=R.clientY-b.current.y,B=!!_.current,k=["left","right"].includes(p.swipeDirection),T=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,q=k?T(0,L):0,Q=k?0:T(0,D),F=R.pointerType==="touch"?10:2,X={x:q,y:Q},ce={originalEvent:R,delta:X};B?(_.current=X,iv(bY,d,ce,{discrete:!1})):hP(X,p.swipeDirection,F)?(_.current=X,iv(xY,f,ce,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(L)>F||Math.abs(D)>F)&&(b.current=null)}),onPointerUp:Se(e.onPointerUp,R=>{const L=_.current,D=R.target;if(D.hasPointerCapture(R.pointerId)&&D.releasePointerCapture(R.pointerId),_.current=null,b.current=null,L){const B=R.currentTarget,k={originalEvent:R,delta:L};hP(L,p.swipeDirection,p.swipeThreshold)?iv(jY,m,k,{discrete:!0}):iv(wY,h,k,{discrete:!0}),B.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),CY=e=>{const{__scopeToast:t,children:r,...n}=e,a=L0(cg,t),[o,i]=x.useState(!1),[l,c]=x.useState(!1);return AY(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Wf,{asChild:!0,children:s.jsx(I0,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},EY="ToastTitle",FL=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(pt.div,{...n,ref:t})});FL.displayName=EY;var OY="ToastDescription",BL=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(pt.div,{...n,ref:t})});BL.displayName=OY;var zL="ToastAction",UL=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(qL,{altText:r,asChild:!0,children:s.jsx(ZC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zL}\`. Expected non-empty \`string\`.`),null)});UL.displayName=zL;var VL="ToastClose",ZC=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=NY(VL,r);return s.jsx(qL,{asChild:!0,children:s.jsx(pt.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,a.onClose)})})});ZC.displayName=VL;var qL=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function WL(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),PY(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...WL(n))}}),t}function iv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?YC(a,o):a.dispatchEvent(o)}var hP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function AY(e=()=>{}){const t=ta(e);bn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function PY(e){return e.nodeType===e.ELEMENT_NODE}function kY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var TY=RL,HL=DL,GL=LL,KL=FL,YL=BL,XL=UL,QL=ZC,ug={},d1={exports:{}};function ZL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ZL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mP(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ZL(e))&&(n&&(n+=" "),n+=t);return n}d1.exports=mP,d1.exports.clsx=mP;var MY=d1.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(i,l){for(var c in l)Object.defineProperty(i,c,{enumerable:!0,get:l[c]})}t(e,{cva:function(){return o},cx:function(){return a}});const r=MY,n=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,a=r.clsx,o=(i,l)=>c=>{var u;if((l==null?void 0:l.variants)==null)return a(i,c==null?void 0:c.class,c==null?void 0:c.className);const{variants:f,defaultVariants:d}=l,h=Object.keys(f).map(p=>{const v=c==null?void 0:c[p],w=d==null?void 0:d[p];if(v===null)return null;const y=n(v)||n(w);return f[p][y]}),m=c&&Object.entries(c).reduce((p,v)=>{let[w,y]=v;return y===void 0||(p[w]=y),p},{}),g=l==null||(u=l.compoundVariants)===null||u===void 0?void 0:u.reduce((p,v)=>{let{class:w,className:y,...b}=v;return Object.entries(b).every(_=>{let[j,N]=_;return Array.isArray(N)?N.includes({...d,...m}[j]):{...d,...m}[j]===N})?[...p,w,y]:p},[]);return a(i,h,g,c==null?void 0:c.class,c==null?void 0:c.className)}})(ug);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JL=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $Y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...$Y,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:JL("lucide",a),...l},[...i.map(([u,f])=>x.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const r=x.forwardRef(({className:n,...a},o)=>x.createElement(DY,{ref:o,iconNode:t,className:JL(`lucide-${RY(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Te("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=Te("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=Te("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=Te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=Te("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=Te("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Te("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=Te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Te("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=Te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Te("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=Te("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=Te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=Te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=Te("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Te("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=Te("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=Te("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=Te("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Te("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=Te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Te("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Te("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Te("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=Te("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=Te("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function m3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=m3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=m3(e))&&(n&&(n+=" "),n+=t);return n}const sE="-",dX=e=>{const t=hX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(sE);return l[0]===""&&l.length!==1&&l.shift(),p3(l,t)||fX(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},p3=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?p3(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(sE);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},bP=/^\[(.+)\]$/,fX=e=>{if(bP.test(e)){const t=bP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pX(Object.entries(e.classGroups),r).forEach(([o,i])=>{f1(i,n,o,t)}),n},f1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:wP(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(mX(a)){f1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{f1(i,wP(t,o),r,n)})})},wP=(e,t)=>{let r=e;return t.split(sE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mX=e=>e.isThemeGetter,pX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,gX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},g3="!",vX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,f=0,d;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===a&&(n||l.slice(v,v+o)===t)){c.push(l.slice(f,v)),f=v+o;continue}if(w==="/"){d=v;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(f),m=h.startsWith(g3),g=m?h.substring(1):h,p=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},yX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},xX=e=>({cache:gX(e.cacheSize),parseClassName:vX(e),...dX(e)}),bX=/\s+/,wX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(bX);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=yX(f).join(":"),w=d?v+g3:v,y=w+p;if(o.includes(y))continue;o.push(y);const b=a(p,g);for(let _=0;_<b.length;++_){const j=b[_];o.push(w+j)}l=u+(l.length>0?" "+l:l)}return l};function jX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v3(t))&&(n&&(n+=" "),n+=r);return n}const v3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=v3(e[n]))&&(r&&(r+=" "),r+=t);return r};function _X(e,...t){let r,n,a,o=i;function i(c){const u=t.reduce((f,d)=>d(f),e());return r=xX(u),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=wX(c,r);return a(c,f),f}return function(){return o(jX.apply(null,arguments))}}const Tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y3=/^\[(?:([a-z-]+):)?(.+)\]$/i,NX=/^\d+\/\d+$/,SX=new Set(["px","full","screen"]),CX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=e=>_d(e)||SX.has(e)||NX.test(e),Fi=e=>Kf(e,"length",LX),_d=e=>!!e&&!Number.isNaN(Number(e)),Zw=e=>Kf(e,"number",_d),Sh=e=>!!e&&Number.isInteger(Number(e)),kX=e=>e.endsWith("%")&&_d(e.slice(0,-1)),Bt=e=>y3.test(e),Bi=e=>CX.test(e),TX=new Set(["length","size","percentage"]),MX=e=>Kf(e,TX,x3),RX=e=>Kf(e,"position",x3),$X=new Set(["image","url"]),DX=e=>Kf(e,$X,BX),IX=e=>Kf(e,"",FX),Ch=()=>!0,Kf=(e,t,r)=>{const n=y3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},LX=e=>EX.test(e)&&!OX.test(e),x3=()=>!1,FX=e=>AX.test(e),BX=e=>PX.test(e),zX=()=>{const e=Tr("colors"),t=Tr("spacing"),r=Tr("blur"),n=Tr("brightness"),a=Tr("borderColor"),o=Tr("borderRadius"),i=Tr("borderSpacing"),l=Tr("borderWidth"),c=Tr("contrast"),u=Tr("grayscale"),f=Tr("hueRotate"),d=Tr("invert"),h=Tr("gap"),m=Tr("gradientColorStops"),g=Tr("gradientColorStopPositions"),p=Tr("inset"),v=Tr("margin"),w=Tr("opacity"),y=Tr("padding"),b=Tr("saturate"),_=Tr("scale"),j=Tr("sepia"),N=Tr("skew"),S=Tr("space"),C=Tr("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Bt,t],M=()=>[Bt,t],O=()=>["",ti,Fi],R=()=>["auto",_d,Bt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Bt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[_d,Bt];return{cacheSize:500,separator:":",theme:{colors:[Ch],spacing:[ti,Fi],blur:["none","",Bi,Bt],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Bi,Bt],borderSpacing:M(),borderWidth:O(),contrast:Q(),grayscale:T(),hueRotate:Q(),invert:T(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[kX,Fi],inset:A(),margin:A(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:T(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Bt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sh,Bt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Sh,Bt]}],"grid-cols":[{"grid-cols":[Ch]}],"col-start-end":[{col:["auto",{span:["full",Sh,Bt]},Bt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Ch]}],"row-start-end":[{row:["auto",{span:[Sh,Bt]},Bt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[Bi]},Bi]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bi,Fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zw]}],"font-family":[{font:[Ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",_d,Zw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Fi]}],"underline-offset":[{"underline-offset":["auto",ti,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),RX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[ti,Bt]}],"outline-w":[{outline:[ti,Fi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ti,Fi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bi,IX]}],"shadow-color":[{shadow:[Ch]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Sh,Bt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ti,Fi,Zw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UX=_X(zX);function Ae(...e){return UX(Dt(e))}const VX=TY,b3=x.forwardRef(({className:e,...t},r)=>s.jsx(HL,{ref:r,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));b3.displayName=HL.displayName;const qX=ug.cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w3=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(GL,{ref:n,className:Ae(qX({variant:t}),e),...r}));w3.displayName=GL.displayName;const WX=x.forwardRef(({className:e,...t},r)=>s.jsx(XL,{ref:r,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));WX.displayName=XL.displayName;const j3=x.forwardRef(({className:e,...t},r)=>s.jsx(QL,{ref:r,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ef,{className:"h-4 w-4"})}));j3.displayName=QL.displayName;const _3=x.forwardRef(({className:e,...t},r)=>s.jsx(KL,{ref:r,className:Ae("text-sm font-semibold",e),...t}));_3.displayName=KL.displayName;const N3=x.forwardRef(({className:e,...t},r)=>s.jsx(YL,{ref:r,className:Ae("text-sm opacity-90",e),...t}));N3.displayName=YL.displayName;function HX(){const{toasts:e}=en();return s.jsxs(VX,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(w3,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(_3,{children:r}),n&&s.jsx(N3,{children:n})]}),a,s.jsx(j3,{})]},t)}),s.jsx(b3,{})]})}var jP=["light","dark"],GX="(prefers-color-scheme: dark)",KX=x.createContext(void 0),YX={setTheme:e=>{},themes:[]},XX=()=>{var e;return(e=x.useContext(KX))!=null?e:YX};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?jP.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let w=i?i[g]:g,y=p?g+"|| ''":`'${w}'`,b="";return a&&v&&!p&&jP.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?p||w?b+=`c.add(${y})`:b+="null":w&&(b+=`d[s](n,${y})`),b},m=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${GX}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var QX=Object.create,z0=Object.defineProperty,ZX=Object.getOwnPropertyDescriptor,JX=Object.getOwnPropertyNames,eQ=Object.getPrototypeOf,tQ=Object.prototype.hasOwnProperty,rQ=(e,t)=>{for(var r in t)z0(e,r,{get:t[r],enumerable:!0})},S3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of JX(t))!tQ.call(e,a)&&a!==r&&z0(e,a,{get:()=>t[a],enumerable:!(n=ZX(t,a))||n.enumerable});return e},hg=(e,t,r)=>(r=e!=null?QX(eQ(e)):{},S3(!e||!e.__esModule?z0(r,"default",{value:e,enumerable:!0}):r,e)),nQ=e=>S3(z0({},"__esModule",{value:!0}),e),C3={};rQ(C3,{Toaster:()=>MQ,toast:()=>bQ,useSonner:()=>TQ});var At=nQ(C3),Ze=hg(x),h1=hg(ql),Ia=hg(x),aQ=e=>{switch(e){case"success":return iQ;case"info":return cQ;case"warning":return lQ;case"error":return uQ;default:return null}},sQ=Array(12).fill(0),oQ=({visible:e,className:t})=>Ia.default.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ia.default.createElement("div",{className:"sonner-spinner"},sQ.map((r,n)=>Ia.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iQ=Ia.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ia.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lQ=Ia.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ia.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cQ=Ia.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ia.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uQ=Ia.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ia.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dQ=Ia.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ia.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ia.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_P=hg(x),fQ=()=>{let[e,t]=_P.default.useState(document.hidden);return _P.default.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},hQ=hg(x),m1=1,mQ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:m1++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],hQ.default.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(gQ(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||m1++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ca=new mQ,pQ=(e,t)=>{let r=(t==null?void 0:t.id)||m1++;return ca.addToast({title:e,...t,id:r}),r},gQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",vQ=pQ,yQ=()=>ca.toasts,xQ=()=>ca.getActiveToasts(),bQ=Object.assign(vQ,{success:ca.success,info:ca.info,warning:ca.warning,error:ca.error,custom:ca.custom,message:ca.message,promise:ca.promise,dismiss:ca.dismiss,loading:ca.loading},{getHistory:yQ,getToasts:xQ});function wQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lv(e){return e.label!==void 0}var jQ=3,_Q="32px",NQ="16px",NP=4e3,SQ=356,CQ=14,EQ=20,OQ=200;function Ws(...e){return e.filter(Boolean).join(" ")}function AQ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var PQ=e=>{var t,r,n,a,o,i,l,c,u,f,d;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:w,heights:y,index:b,toasts:_,expanded:j,removeToast:N,defaultRichColors:S,closeButton:C,style:E,cancelButtonStyle:P,actionButtonStyle:A,className:M="",descriptionClassName:O="",duration:R,position:L,gap:D,loadingIcon:B,expandByDefault:k,classNames:T,icons:q,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:F}=e,[X,ce]=Ze.default.useState(null),[pe,ge]=Ze.default.useState(null),[he,qe]=Ze.default.useState(!1),[ie,ye]=Ze.default.useState(!1),[ve,ne]=Ze.default.useState(!1),[gt,at]=Ze.default.useState(!1),[je,yt]=Ze.default.useState(!1),[Ut,gr]=Ze.default.useState(0),[Ne,U]=Ze.default.useState(0),$=Ze.default.useRef(m.duration||R||NP),V=Ze.default.useRef(null),oe=Ze.default.useRef(null),se=b===0,le=b+1<=w,K=m.type,ue=m.dismissible!==!1,Ie=m.className||"",Qe=m.descriptionClassName||"",dr=Ze.default.useMemo(()=>y.findIndex(Re=>Re.toastId===m.id)||0,[y,m.id]),W=Ze.default.useMemo(()=>{var Re;return(Re=m.closeButton)!=null?Re:C},[m.closeButton,C]),xe=Ze.default.useMemo(()=>m.duration||R||NP,[m.duration,R]),Me=Ze.default.useRef(0),et=Ze.default.useRef(0),Ue=Ze.default.useRef(0),lt=Ze.default.useRef(null),[I,ae]=L.split("-"),Oe=Ze.default.useMemo(()=>y.reduce((Re,He,kt)=>kt>=dr?Re:Re+He.height,0),[y,dr]),ht=fQ(),Ke=m.invert||h,Et=K==="loading";et.current=Ze.default.useMemo(()=>dr*D+Oe,[dr,Oe]),Ze.default.useEffect(()=>{$.current=xe},[xe]),Ze.default.useEffect(()=>{qe(!0)},[]),Ze.default.useEffect(()=>{let Re=oe.current;if(Re){let He=Re.getBoundingClientRect().height;return U(He),v(kt=>[{toastId:m.id,height:He,position:m.position},...kt]),()=>v(kt=>kt.filter(ee=>ee.toastId!==m.id))}},[v,m.id]),Ze.default.useLayoutEffect(()=>{if(!he)return;let Re=oe.current,He=Re.style.height;Re.style.height="auto";let kt=Re.getBoundingClientRect().height;Re.style.height=He,U(kt),v(ee=>ee.find(G=>G.toastId===m.id)?ee.map(G=>G.toastId===m.id?{...G,height:kt}:G):[{toastId:m.id,height:kt,position:m.position},...ee])},[he,m.title,m.description,v,m.id]);let bt=Ze.default.useCallback(()=>{ye(!0),gr(et.current),v(Re=>Re.filter(He=>He.toastId!==m.id)),setTimeout(()=>{N(m)},OQ)},[m,N,v,et]);Ze.default.useEffect(()=>{if(m.promise&&K==="loading"||m.duration===1/0||m.type==="loading")return;let Re;return j||p||F&&ht?(()=>{if(Ue.current<Me.current){let He=new Date().getTime()-Me.current;$.current=$.current-He}Ue.current=new Date().getTime()})():$.current!==1/0&&(Me.current=new Date().getTime(),Re=setTimeout(()=>{var He;(He=m.onAutoClose)==null||He.call(m,m),bt()},$.current)),()=>clearTimeout(Re)},[j,p,m,K,F,ht,bt]),Ze.default.useEffect(()=>{m.delete&&bt()},[bt,m.delete]);function Vt(){var Re,He,kt;return q!=null&&q.loading?Ze.default.createElement("div",{className:Ws(T==null?void 0:T.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":K==="loading"},q.loading):B?Ze.default.createElement("div",{className:Ws(T==null?void 0:T.loader,(He=m==null?void 0:m.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":K==="loading"},B):Ze.default.createElement(oQ,{className:Ws(T==null?void 0:T.loader,(kt=m==null?void 0:m.classNames)==null?void 0:kt.loader),visible:K==="loading"})}return Ze.default.createElement("li",{tabIndex:0,ref:oe,className:Ws(M,Ie,T==null?void 0:T.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[K],(r=m==null?void 0:m.classNames)==null?void 0:r[K]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":he,"data-promise":!!m.promise,"data-swiped":je,"data-removed":ie,"data-visible":le,"data-y-position":I,"data-x-position":ae,"data-index":b,"data-front":se,"data-swiping":ve,"data-dismissible":ue,"data-type":K,"data-invert":Ke,"data-swipe-out":gt,"data-swipe-direction":pe,"data-expanded":!!(j||k&&he),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${ie?Ut:et.current}px`,"--initial-height":k?"auto":`${Ne}px`,...E,...m.style},onDragEnd:()=>{ne(!1),ce(null),lt.current=null},onPointerDown:Re=>{Et||!ue||(V.current=new Date,gr(et.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(ne(!0),lt.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,He,kt,ee;if(gt||!ue)return;lt.current=null;let G=Number(((Re=oe.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$e=Number(((He=oe.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Je=new Date().getTime()-((kt=V.current)==null?void 0:kt.getTime()),Pe=X==="x"?G:$e,De=Math.abs(Pe)/Je;if(Math.abs(Pe)>=EQ||De>.11){gr(et.current),(ee=m.onDismiss)==null||ee.call(m,m),ge(X==="x"?G>0?"right":"left":$e>0?"down":"up"),bt(),at(!0),yt(!1);return}ne(!1),ce(null)},onPointerMove:Re=>{var He,kt,ee,G;if(!lt.current||!ue||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;let $e=Re.clientY-lt.current.y,Je=Re.clientX-lt.current.x,Pe=(kt=e.swipeDirections)!=null?kt:AQ(L);!X&&(Math.abs(Je)>1||Math.abs($e)>1)&&ce(Math.abs(Je)>Math.abs($e)?"x":"y");let De={x:0,y:0};X==="y"?(Pe.includes("top")||Pe.includes("bottom"))&&(Pe.includes("top")&&$e<0||Pe.includes("bottom")&&$e>0)&&(De.y=$e):X==="x"&&(Pe.includes("left")||Pe.includes("right"))&&(Pe.includes("left")&&Je<0||Pe.includes("right")&&Je>0)&&(De.x=Je),(Math.abs(De.x)>0||Math.abs(De.y)>0)&&yt(!0),(ee=oe.current)==null||ee.style.setProperty("--swipe-amount-x",`${De.x}px`),(G=oe.current)==null||G.style.setProperty("--swipe-amount-y",`${De.y}px`)}},W&&!m.jsx?Ze.default.createElement("button",{"aria-label":Q,"data-disabled":Et,"data-close-button":!0,onClick:Et||!ue?()=>{}:()=>{var Re;bt(),(Re=m.onDismiss)==null||Re.call(m,m)},className:Ws(T==null?void 0:T.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(o=q==null?void 0:q.close)!=null?o:dQ):null,m.jsx||(0,Ze.isValidElement)(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ze.default.createElement(Ze.default.Fragment,null,K||m.icon||m.promise?Ze.default.createElement("div",{"data-icon":"",className:Ws(T==null?void 0:T.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Vt():null,m.type!=="loading"?m.icon||(q==null?void 0:q[K])||aQ(K):null):null,Ze.default.createElement("div",{"data-content":"",className:Ws(T==null?void 0:T.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},Ze.default.createElement("div",{"data-title":"",className:Ws(T==null?void 0:T.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?Ze.default.createElement("div",{"data-description":"",className:Ws(O,Qe,T==null?void 0:T.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),(0,Ze.isValidElement)(m.cancel)?m.cancel:m.cancel&&lv(m.cancel)?Ze.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Re=>{var He,kt;lv(m.cancel)&&ue&&((kt=(He=m.cancel).onClick)==null||kt.call(He,Re),bt())},className:Ws(T==null?void 0:T.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,(0,Ze.isValidElement)(m.action)?m.action:m.action&&lv(m.action)?Ze.default.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:Re=>{var He,kt;lv(m.action)&&((kt=(He=m.action).onClick)==null||kt.call(He,Re),!Re.defaultPrevented&&bt())},className:Ws(T==null?void 0:T.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function SP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kQ(e,t){let r={};return[e,t].forEach((n,a)=>{let o=a===1,i=o?"--mobile-offset":"--offset",l=o?NQ:_Q;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}function TQ(){let[e,t]=Ze.default.useState([]);return Ze.default.useEffect(()=>ca.subscribe(r=>{if(r.dismiss){setTimeout(()=>{h1.default.flushSync(()=>{t(n=>n.filter(a=>a.id!==r.id))})});return}setTimeout(()=>{h1.default.flushSync(()=>{t(n=>{let a=n.findIndex(o=>o.id===r.id);return a!==-1?[...n.slice(0,a),{...n[a],...r},...n.slice(a+1)]:[r,...n]})})})}),[]),{toasts:e}}var MQ=(0,Ze.forwardRef)(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:m,visibleToasts:g=jQ,toastOptions:p,dir:v=SP(),gap:w=CQ,loadingIcon:y,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[N,S]=Ze.default.useState([]),C=Ze.default.useMemo(()=>Array.from(new Set([n].concat(N.filter(F=>F.position).map(F=>F.position)))),[N,n]),[E,P]=Ze.default.useState([]),[A,M]=Ze.default.useState(!1),[O,R]=Ze.default.useState(!1),[L,D]=Ze.default.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=Ze.default.useRef(null),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=Ze.default.useRef(null),q=Ze.default.useRef(!1),Q=Ze.default.useCallback(F=>{S(X=>{var ce;return(ce=X.find(pe=>pe.id===F.id))!=null&&ce.delete||ca.dismiss(F.id),X.filter(({id:pe})=>pe!==F.id)})},[]);return Ze.default.useEffect(()=>ca.subscribe(F=>{if(F.dismiss){S(X=>X.map(ce=>ce.id===F.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{h1.default.flushSync(()=>{S(X=>{let ce=X.findIndex(pe=>pe.id===F.id);return ce!==-1?[...X.slice(0,ce),{...X[ce],...F},...X.slice(ce+1)]:[F,...X]})})})}),[]),Ze.default.useEffect(()=>{if(f!=="system"){D(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:X})=>{D(X?"dark":"light")})}catch{F.addListener(({matches:ce})=>{try{D(ce?"dark":"light")}catch(pe){console.error(pe)}})}},[f]),Ze.default.useEffect(()=>{N.length<=1&&M(!1)},[N]),Ze.default.useEffect(()=>{let F=X=>{var ce,pe;a.every(ge=>X[ge]||X.code===ge)&&(M(!0),(ce=B.current)==null||ce.focus()),X.code==="Escape"&&(document.activeElement===B.current||(pe=B.current)!=null&&pe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),Ze.default.useEffect(()=>{if(B.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,q.current=!1)}},[B.current]),Ze.default.createElement("section",{ref:t,"aria-label":`${_} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((F,X)=>{var ce;let[pe,ge]=F.split("-");return N.length?Ze.default.createElement("ol",{key:F,dir:v==="auto"?SP():v,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":pe,"data-lifted":A&&N.length>1&&!o,"data-x-position":ge,style:{"--front-toast-height":`${((ce=E[0])==null?void 0:ce.height)||0}px`,"--width":`${SQ}px`,"--gap":`${w}px`,...m,...kQ(c,u)},onBlur:he=>{q.current&&!he.currentTarget.contains(he.relatedTarget)&&(q.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||q.current||(q.current=!0,T.current=he.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{O||M(!1)},onDragEnd:()=>M(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},N.filter(he=>!he.position&&X===0||he.position===F).map((he,qe)=>{var ie,ye;return Ze.default.createElement(PQ,{key:he.id,icons:b,index:qe,toast:he,defaultRichColors:d,duration:(ie=p==null?void 0:p.duration)!=null?ie:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ye=p==null?void 0:p.closeButton)!=null?ye:i,interacting:O,position:F,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Q,toasts:N.filter(ve=>ve.position==he.position),heights:E.filter(ve=>ve.position==he.position),setHeights:P,expandByDefault:o,gap:w,loadingIcon:y,expanded:A,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const RQ=({...e})=>{const{theme:t="system"}=XX();return s.jsx(At.Toaster,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $Q=b0[" useId ".trim().toString()]||(()=>{}),DQ=0;function As(e){const[t,r]=x.useState($Q());return bn(()=>{r(n=>n??String(DQ++))},[e]),t?`radix-${t}`:""}const IQ=["top","right","bottom","left"],Dl=Math.min,Ha=Math.max,Uy=Math.round,cv=Math.floor,Vo=e=>({x:e,y:e}),LQ={left:"right",right:"left",bottom:"top",top:"bottom"},FQ={start:"end",end:"start"};function p1(e,t,r){return Ha(e,Dl(t,r))}function Ni(e,t){return typeof e=="function"?e(t):e}function Si(e){return e.split("-")[0]}function Yf(e){return e.split("-")[1]}function oE(e){return e==="x"?"y":"x"}function iE(e){return e==="y"?"height":"width"}const BQ=new Set(["top","bottom"]);function Do(e){return BQ.has(Si(e))?"y":"x"}function lE(e){return oE(Do(e))}function zQ(e,t,r){r===void 0&&(r=!1);const n=Yf(e),a=lE(e),o=iE(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Vy(i)),[i,Vy(i)]}function UQ(e){const t=Vy(e);return[g1(e),t,g1(t)]}function g1(e){return e.replace(/start|end/g,t=>FQ[t])}const CP=["left","right"],EP=["right","left"],VQ=["top","bottom"],qQ=["bottom","top"];function WQ(e,t,r){switch(e){case"top":case"bottom":return r?t?EP:CP:t?CP:EP;case"left":case"right":return t?VQ:qQ;default:return[]}}function HQ(e,t,r,n){const a=Yf(e);let o=WQ(Si(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(g1)))),o}function Vy(e){return e.replace(/left|right|bottom|top/g,t=>LQ[t])}function GQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function E3(e){return typeof e!="number"?GQ(e):{top:e,right:e,bottom:e,left:e}}function qy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function OP(e,t,r){let{reference:n,floating:a}=e;const o=Do(t),i=lE(t),l=iE(i),c=Si(t),u=o==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:f,y:n.y-a.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-a.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Yf(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const KQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=OP(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:w}=l[p],{x:y,y:b,data:_,reset:j}=await w({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});f=y??f,d=b??d,m={...m,[v]:{...m[v],..._}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=OP(u,h,c)),p=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:m}};async function qm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Ni(t,e),g=E3(m),v=l[h?d==="floating"?"reference":"floating":d],w=qy(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),y=d==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},j=qy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(w.top-j.top+g.top)/_.y,bottom:(j.bottom-w.bottom+g.bottom)/_.y,left:(w.left-j.left+g.left)/_.x,right:(j.right-w.right+g.right)/_.x}}const YQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Ni(e,t)||{};if(u==null)return{};const d=E3(f),h={x:r,y:n},m=lE(a),g=iE(m),p=await i.getDimensions(u),v=m==="y",w=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=o.reference[g]+o.reference[m]-h[m]-o.floating[g],j=h[m]-o.reference[m],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(i.isElement==null?void 0:i.isElement(N)))&&(S=l.floating[b]||o.floating[g]);const C=_/2-j/2,E=S/2-p[g]/2-1,P=Dl(d[w],E),A=Dl(d[y],E),M=P,O=S-p[g]-A,R=S/2-p[g]/2+C,L=p1(M,R,O),D=!c.arrow&&Yf(a)!=null&&R!==L&&o.reference[g]/2-(R<M?P:A)-p[g]/2<0,B=D?R<M?R-M:R-O:0;return{[m]:h[m]+B,data:{[m]:L,centerOffset:R-L-B,...D&&{alignmentOffset:B}},reset:D}}}),XQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=Ni(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Si(a),y=Do(l),b=Si(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!p?[Vy(l)]:UQ(l)),N=g!=="none";!h&&N&&j.push(...HQ(l,p,g,_));const S=[l,...j],C=await qm(t,v),E=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&E.push(C[w]),d){const R=zQ(a,i,_);E.push(C[R[0]],C[R[1]])}if(P=[...P,{placement:a,overflows:E}],!E.every(R=>R<=0)){var A,M;const R=(((A=o.flip)==null?void 0:A.index)||0)+1,L=S[R];if(L&&(!(d==="alignment"?y!==Do(L):!1)||P.every(k=>Do(k.placement)===y?k.overflows[0]>0:!0)))return{data:{index:R,overflows:P},reset:{placement:L}};let D=(M=P.filter(B=>B.overflows[0]<=0).sort((B,k)=>B.overflows[1]-k.overflows[1])[0])==null?void 0:M.placement;if(!D)switch(m){case"bestFit":{var O;const B=(O=P.filter(k=>{if(N){const T=Do(k.placement);return T===y||T==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(T=>T>0).reduce((T,q)=>T+q,0)]).sort((k,T)=>k[1]-T[1])[0])==null?void 0:O[0];B&&(D=B);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function AP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PP(e){return IQ.some(t=>e[t]>=0)}const QQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ni(e,t);switch(n){case"referenceHidden":{const o=await qm(t,{...a,elementContext:"reference"}),i=AP(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:PP(i)}}}case"escaped":{const o=await qm(t,{...a,altBoundary:!0}),i=AP(o,r.floating);return{data:{escapedOffsets:i,escaped:PP(i)}}}default:return{}}}}},O3=new Set(["left","top"]);async function ZQ(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Si(r),l=Yf(r),c=Do(r)==="y",u=O3.has(i)?-1:1,f=o&&c?-1:1,d=Ni(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const JQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await ZQ(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},eZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:w,y}=v;return{x:w,y}}},...c}=Ni(e,t),u={x:r,y:n},f=await qm(t,c),d=Do(Si(a)),h=oE(d);let m=u[h],g=u[d];if(o){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=m+f[v],b=m-f[w];m=p1(y,m,b)}if(i){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",y=g+f[v],b=g-f[w];g=p1(y,g,b)}const p=l.fn({...t,[h]:m,[d]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:o,[d]:i}}}}}},tZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ni(e,t),f={x:r,y:n},d=Do(a),h=oE(d);let m=f[h],g=f[d];const p=Ni(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",_=o.reference[h]-o.floating[b]+v.mainAxis,j=o.reference[h]+o.reference[b]-v.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var w,y;const b=h==="y"?"width":"height",_=O3.has(Si(a)),j=o.reference[d]-o.floating[b]+(_&&((w=i.offset)==null?void 0:w[d])||0)+(_?0:v.crossAxis),N=o.reference[d]+o.reference[b]+(_?0:((y=i.offset)==null?void 0:y[d])||0)-(_?v.crossAxis:0);g<j?g=j:g>N&&(g=N)}return{[h]:m,[d]:g}}}},rZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Ni(e,t),f=await qm(t,u),d=Si(a),h=Yf(a),m=Do(a)==="y",{width:g,height:p}=o.floating;let v,w;d==="top"||d==="bottom"?(v=d,w=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=d,v=h==="end"?"top":"bottom");const y=p-f.top-f.bottom,b=g-f.left-f.right,_=Dl(p-f[v],y),j=Dl(g-f[w],b),N=!t.middlewareData.shift;let S=_,C=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),N&&!h){const P=Ha(f.left,0),A=Ha(f.right,0),M=Ha(f.top,0),O=Ha(f.bottom,0);m?C=g-2*(P!==0||A!==0?P+A:Ha(f.left,f.right)):S=p-2*(M!==0||O!==0?M+O:Ha(f.top,f.bottom))}await c({...t,availableWidth:C,availableHeight:S});const E=await i.getDimensions(l.floating);return g!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function U0(){return typeof window<"u"}function Xf(e){return A3(e)?(e.nodeName||"").toLowerCase():"#document"}function ts(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zo(e){var t;return(t=(A3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function A3(e){return U0()?e instanceof Node||e instanceof ts(e).Node:!1}function vo(e){return U0()?e instanceof Element||e instanceof ts(e).Element:!1}function Ko(e){return U0()?e instanceof HTMLElement||e instanceof ts(e).HTMLElement:!1}function kP(e){return!U0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ts(e).ShadowRoot}const nZ=new Set(["inline","contents"]);function mg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=yo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nZ.has(a)}const aZ=new Set(["table","td","th"]);function sZ(e){return aZ.has(Xf(e))}const oZ=[":popover-open",":modal"];function V0(e){return oZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const iZ=["transform","translate","scale","rotate","perspective"],lZ=["transform","translate","scale","rotate","perspective","filter"],cZ=["paint","layout","strict","content"];function cE(e){const t=uE(),r=vo(e)?yo(e):e;return iZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lZ.some(n=>(r.willChange||"").includes(n))||cZ.some(n=>(r.contain||"").includes(n))}function uZ(e){let t=Il(e);for(;Ko(t)&&!tf(t);){if(cE(t))return t;if(V0(t))return null;t=Il(t)}return null}function uE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dZ=new Set(["html","body","#document"]);function tf(e){return dZ.has(Xf(e))}function yo(e){return ts(e).getComputedStyle(e)}function q0(e){return vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Il(e){if(Xf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kP(e)&&e.host||Zo(e);return kP(t)?t.host:t}function P3(e){const t=Il(e);return tf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ko(t)&&mg(t)?t:P3(t)}function Wm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=P3(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=ts(a);if(o){const l=v1(i);return t.concat(i,i.visualViewport||[],mg(a)?a:[],l&&r?Wm(l):[])}return t.concat(a,Wm(a,[],r))}function v1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function k3(e){const t=yo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ko(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=Uy(r)!==o||Uy(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function dE(e){return vo(e)?e:e.contextElement}function Nd(e){const t=dE(e);if(!Ko(t))return Vo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=k3(t);let i=(o?Uy(r.width):r.width)/n,l=(o?Uy(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const fZ=Vo(0);function T3(e){const t=ts(e);return!uE()||!t.visualViewport?fZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ts(e)?!1:t}function eu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=dE(e);let i=Vo(1);t&&(n?vo(n)&&(i=Nd(n)):i=Nd(e));const l=hZ(o,r,n)?T3(o):Vo(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,f=a.width/i.x,d=a.height/i.y;if(o){const h=ts(o),m=n&&vo(n)?ts(n):n;let g=h,p=v1(g);for(;p&&n&&m!==g;){const v=Nd(p),w=p.getBoundingClientRect(),y=yo(p),b=w.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,_=w.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,f*=v.x,d*=v.y,c+=b,u+=_,g=ts(p),p=v1(g)}}return qy({width:f,height:d,x:c,y:u})}function W0(e,t){const r=q0(e).scrollLeft;return t?t.left+r:eu(Zo(e)).left+r}function M3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-W0(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function mZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=Zo(n),l=t?V0(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Vo(1);const f=Vo(0),d=Ko(n);if((d||!d&&!o)&&((Xf(n)!=="body"||mg(i))&&(c=q0(n)),Ko(n))){const m=eu(n);u=Nd(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const h=i&&!d&&!o?M3(i,c):Vo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function pZ(e){return Array.from(e.getClientRects())}function gZ(e){const t=Zo(e),r=q0(e),n=e.ownerDocument.body,a=Ha(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ha(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+W0(e);const l=-r.scrollTop;return yo(n).direction==="rtl"&&(i+=Ha(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}const TP=25;function vZ(e,t){const r=ts(e),n=Zo(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const f=uE();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=W0(n);if(u<=0){const f=n.ownerDocument,d=f.body,h=getComputedStyle(d),m=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-d.clientWidth-m);g<=TP&&(o-=g)}else u<=TP&&(o+=u);return{width:o,height:i,x:l,y:c}}const yZ=new Set(["absolute","fixed"]);function xZ(e,t){const r=eu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Ko(e)?Nd(e):Vo(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function MP(e,t,r){let n;if(t==="viewport")n=vZ(e,r);else if(t==="document")n=gZ(Zo(e));else if(vo(t))n=xZ(t,r);else{const a=T3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return qy(n)}function R3(e,t){const r=Il(e);return r===t||!vo(r)||tf(r)?!1:yo(r).position==="fixed"||R3(r,t)}function bZ(e,t){const r=t.get(e);if(r)return r;let n=Wm(e,[],!1).filter(l=>vo(l)&&Xf(l)!=="body"),a=null;const o=yo(e).position==="fixed";let i=o?Il(e):e;for(;vo(i)&&!tf(i);){const l=yo(i),c=cE(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&yZ.has(a.position)||mg(i)&&!c&&R3(e,i))?n=n.filter(f=>f!==i):a=l,i=Il(i)}return t.set(e,n),n}function wZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?V0(t)?[]:bZ(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,f)=>{const d=MP(t,f,a);return u.top=Ha(d.top,u.top),u.right=Dl(d.right,u.right),u.bottom=Dl(d.bottom,u.bottom),u.left=Ha(d.left,u.left),u},MP(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jZ(e){const{width:t,height:r}=k3(e);return{width:t,height:r}}function _Z(e,t,r){const n=Ko(t),a=Zo(t),o=r==="fixed",i=eu(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Vo(0);function u(){c.x=W0(a)}if(n||!n&&!o)if((Xf(t)!=="body"||mg(a))&&(l=q0(t)),n){const m=eu(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();o&&!n&&a&&u();const f=a&&!n&&!o?M3(a,l):Vo(0),d=i.left+l.scrollLeft-c.x-f.x,h=i.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:i.width,height:i.height}}function Jw(e){return yo(e).position==="static"}function RP(e,t){if(!Ko(e)||yo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zo(e)===r&&(r=r.ownerDocument.body),r}function $3(e,t){const r=ts(e);if(V0(e))return r;if(!Ko(e)){let a=Il(e);for(;a&&!tf(a);){if(vo(a)&&!Jw(a))return a;a=Il(a)}return r}let n=RP(e,t);for(;n&&sZ(n)&&Jw(n);)n=RP(n,t);return n&&tf(n)&&Jw(n)&&!cE(n)?r:n||uZ(e)||r}const NZ=async function(e){const t=this.getOffsetParent||$3,r=this.getDimensions,n=await r(e.floating);return{reference:_Z(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function SZ(e){return yo(e).direction==="rtl"}const CZ={convertOffsetParentRelativeRectToViewportRelativeRect:mZ,getDocumentElement:Zo,getClippingRect:wZ,getOffsetParent:$3,getElementRects:NZ,getClientRects:pZ,getDimensions:jZ,getScale:Nd,isElement:vo,isRTL:SZ};function D3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function EZ(e,t){let r=null,n;const a=Zo(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=cv(d),p=cv(a.clientWidth-(f+h)),v=cv(a.clientHeight-(d+m)),w=cv(f),b={rootMargin:-g+"px "+-p+"px "+-v+"px "+-w+"px",threshold:Ha(0,Dl(1,c))||1};let _=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!_)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!D3(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return i(!0),o}function OZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=dE(e),f=a||o?[...u?Wm(u):[],...Wm(t)]:[];f.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const d=u&&l?EZ(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?eu(e):null;c&&v();function v(){const w=eu(e);p&&!D3(p,w)&&r(),p=w,g=requestAnimationFrame(v)}return r(),()=>{var w;f.forEach(y=>{a&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),d==null||d(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const AZ=JQ,PZ=eZ,kZ=XQ,TZ=rZ,MZ=QQ,$P=YQ,RZ=tZ,$Z=(e,t,r)=>{const n=new Map,a={platform:CZ,...r},o={...a.platform,_c:n};return KQ(e,t,{...a,platform:o})};var DZ=typeof document<"u",IZ=function(){},ay=DZ?x.useLayoutEffect:IZ;function Wy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Wy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Wy(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function I3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DP(e,t){const r=I3(e);return Math.round(t*r)/r}function ej(e){const t=x.useRef(e);return ay(()=>{t.current=e}),t}function LZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);Wy(h,n)||m(n);const[g,p]=x.useState(null),[v,w]=x.useState(null),y=x.useCallback(k=>{k!==N.current&&(N.current=k,p(k))},[]),b=x.useCallback(k=>{k!==S.current&&(S.current=k,w(k))},[]),_=o||g,j=i||v,N=x.useRef(null),S=x.useRef(null),C=x.useRef(f),E=c!=null,P=ej(c),A=ej(a),M=ej(u),O=x.useCallback(()=>{if(!N.current||!S.current)return;const k={placement:t,strategy:r,middleware:h};A.current&&(k.platform=A.current),$Z(N.current,S.current,k).then(T=>{const q={...T,isPositioned:M.current!==!1};R.current&&!Wy(C.current,q)&&(C.current=q,ql.flushSync(()=>{d(q)}))})},[h,t,r,A,M]);ay(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[u]);const R=x.useRef(!1);ay(()=>(R.current=!0,()=>{R.current=!1}),[]),ay(()=>{if(_&&(N.current=_),j&&(S.current=j),_&&j){if(P.current)return P.current(_,j,O);O()}},[_,j,O,P,E]);const L=x.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:b}),[y,b]),D=x.useMemo(()=>({reference:_,floating:j}),[_,j]),B=x.useMemo(()=>{const k={position:r,left:0,top:0};if(!D.floating)return k;const T=DP(D.floating,f.x),q=DP(D.floating,f.y);return l?{...k,transform:"translate("+T+"px, "+q+"px)",...I3(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:q}},[r,l,D.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:O,refs:L,elements:D,floatingStyles:B}),[f,O,L,D,B])}const FZ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?$P({element:n.current,padding:a}).fn(r):{}:n?$P({element:n,padding:a}).fn(r):{}}}},BZ=(e,t)=>({...AZ(e),options:[e,t]}),zZ=(e,t)=>({...PZ(e),options:[e,t]}),UZ=(e,t)=>({...RZ(e),options:[e,t]}),VZ=(e,t)=>({...kZ(e),options:[e,t]}),qZ=(e,t)=>({...TZ(e),options:[e,t]}),WZ=(e,t)=>({...MZ(e),options:[e,t]}),HZ=(e,t)=>({...FZ(e),options:[e,t]});var GZ="Arrow",L3=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(pt.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});L3.displayName=GZ;var KZ=L3;function H0(e){const[t,r]=x.useState(void 0);return bn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fE="Popper",[F3,Hl]=na(fE),[YZ,B3]=F3(fE),z3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(YZ,{scope:t,anchor:n,onAnchorChange:a,children:r})};z3.displayName=fE;var U3="PopperAnchor",V3=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=B3(U3,r),i=x.useRef(null),l=Mt(t,i),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),n?null:s.jsx(pt.div,{...a,ref:l})});V3.displayName=U3;var hE="PopperContent",[XZ,QZ]=F3(hE),q3=x.forwardRef((e,t)=>{var he,qe,ie,ye,ve,ne;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=B3(hE,r),[w,y]=x.useState(null),b=Mt(t,gt=>y(gt)),[_,j]=x.useState(null),N=H0(_),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,E=n+(o!=="center"?"-"+o:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},A=Array.isArray(u)?u:[u],M=A.length>0,O={padding:P,boundary:A.filter(JZ),altBoundary:M},{refs:R,floatingStyles:L,placement:D,isPositioned:B,middlewareData:k}=LZ({strategy:"fixed",placement:E,whileElementsMounted:(...gt)=>OZ(...gt,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[BZ({mainAxis:a+C,alignmentAxis:i}),c&&zZ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?UZ():void 0,...O}),c&&VZ({...O}),qZ({...O,apply:({elements:gt,rects:at,availableWidth:je,availableHeight:yt})=>{const{width:Ut,height:gr}=at.reference,Ne=gt.floating.style;Ne.setProperty("--radix-popper-available-width",`${je}px`),Ne.setProperty("--radix-popper-available-height",`${yt}px`),Ne.setProperty("--radix-popper-anchor-width",`${Ut}px`),Ne.setProperty("--radix-popper-anchor-height",`${gr}px`)}}),_&&HZ({element:_,padding:l}),eJ({arrowWidth:S,arrowHeight:C}),h&&WZ({strategy:"referenceHidden",...O})]}),[T,q]=G3(D),Q=ta(g);bn(()=>{B&&(Q==null||Q())},[B,Q]);const F=(he=k.arrow)==null?void 0:he.x,X=(qe=k.arrow)==null?void 0:qe.y,ce=((ie=k.arrow)==null?void 0:ie.centerOffset)!==0,[pe,ge]=x.useState();return bn(()=>{w&&ge(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:B?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(ye=k.transformOrigin)==null?void 0:ye.x,(ve=k.transformOrigin)==null?void 0:ve.y].join(" "),...((ne=k.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(XZ,{scope:r,placedSide:T,onArrowChange:j,arrowX:F,arrowY:X,shouldHideArrow:ce,children:s.jsx(pt.div,{"data-side":T,"data-align":q,...p,ref:b,style:{...p.style,animation:B?void 0:"none"}})})})});q3.displayName=hE;var W3="PopperArrow",ZZ={top:"bottom",right:"left",bottom:"top",left:"right"},H3=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=QZ(W3,n),i=ZZ[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(KZ,{...a,ref:r,style:{...a.style,display:"block"}})})});H3.displayName=W3;function JZ(e){return e!==null}var eJ=e=>({name:"transformOrigin",options:e,fn(t){var v,w,y;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=G3(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?d:`${h}px`,p=`${-c}px`):u==="top"?(g=i?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?d:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=i?d:`${m}px`),{data:{x:g,y:p}}}});function G3(e){const[t,r="center"]=e.split("-");return[t,r]}var G0=z3,pg=V3,K0=q3,Y0=H3,[X0]=na("Tooltip",[Hl]),Q0=Hl(),K3="TooltipProvider",tJ=700,y1="tooltip.open",[rJ,mE]=X0(K3),Y3=e=>{const{__scopeTooltip:t,delayDuration:r=tJ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,i=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(rJ,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:o})};Y3.displayName=K3;var Hm="Tooltip",[nJ,Z0]=X0(Hm),X3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=mE(Hm,e.__scopeTooltip),u=Q0(t),[f,d]=x.useState(null),h=As(),m=x.useRef(0),g=i??c.disableHoverableContent,p=l??c.delayDuration,v=x.useRef(!1),[w,y]=$s({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(y1))):c.onClose(),o==null||o(S)},caller:Hm}),b=x.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),_=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,y(!0)},[y]),j=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),N=x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,y(!0),m.current=0},p)},[p,y]);return x.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(G0,{...u,children:s.jsx(nJ,{scope:t,contentId:h,open:w,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?N():_()},[c.isOpenDelayedRef,N,_]),onTriggerLeave:x.useCallback(()=>{g?j():(window.clearTimeout(m.current),m.current=0)},[j,g]),onOpen:_,onClose:j,disableHoverableContent:g,children:r})})};X3.displayName=Hm;var x1="TooltipTrigger",Q3=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Z0(x1,r),o=mE(x1,r),i=Q0(r),l=x.useRef(null),c=Mt(t,l,a.onTriggerChange),u=x.useRef(!1),f=x.useRef(!1),d=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(pg,{asChild:!0,...i,children:s.jsx(pt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Se(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Se(e.onBlur,a.onClose),onClick:Se(e.onClick,a.onClose)})})});Q3.displayName=x1;var aJ="TooltipPortal",[V3e,sJ]=X0(aJ,{forceMount:void 0}),rf="TooltipContent",Z3=x.forwardRef((e,t)=>{const r=sJ(rf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=Z0(rf,e.__scopeTooltip);return s.jsx(La,{present:n||i.open,children:i.disableHoverableContent?s.jsx(J3,{side:a,...o,ref:t}):s.jsx(oJ,{side:a,...o,ref:t})})}),oJ=x.forwardRef((e,t)=>{const r=Z0(rf,e.__scopeTooltip),n=mE(rf,e.__scopeTooltip),a=x.useRef(null),o=Mt(t,a),[i,l]=x.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=x.useCallback(()=>{l(null),d(!1)},[d]),m=x.useCallback((g,p)=>{const v=g.currentTarget,w={x:g.clientX,y:g.clientY},y=dJ(w,v.getBoundingClientRect()),b=fJ(w,y),_=hJ(p.getBoundingClientRect()),j=pJ([...b,..._]);l(j),d(!0)},[d]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&f){const g=v=>m(v,f),p=v=>m(v,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",p)}}},[c,f,m,h]),x.useEffect(()=>{if(i){const g=p=>{const v=p.target,w={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(v))||(f==null?void 0:f.contains(v)),b=!mJ(w,i);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,i,u,h]),s.jsx(J3,{...e,ref:o})}),[iJ,lJ]=X0(Hm,{isInside:!1}),cJ=OL("TooltipContent"),J3=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Z0(rf,r),u=Q0(r),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(y1,f),()=>document.removeEventListener(y1,f)),[f]),x.useEffect(()=>{if(c.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),s.jsx(yu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:s.jsxs(K0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(cJ,{children:n}),s.jsx(iJ,{scope:r,isInside:!0,children:s.jsx(mY,{id:c.contentId,role:"tooltip",children:a||n})})]})})});Z3.displayName=rf;var e5="TooltipArrow",uJ=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Q0(r);return lJ(e5,r).isInside?null:s.jsx(Y0,{...a,...n,ref:t})});uJ.displayName=e5;function dJ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function fJ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function hJ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function mJ(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function pJ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),gJ(t)}function gJ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var vJ=Y3,yJ=X3,xJ=Q3,t5=Z3;const pE=vJ,r5=yJ,n5=xJ,gE=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(t5,{ref:n,sideOffset:t,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));gE.displayName=t5.displayName;var gg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bJ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},rl,XS,HD,wJ=(HD=class{constructor(){xt(this,rl,bJ);xt(this,XS,!1)}setTimeoutProvider(e){Ge(this,rl,e)}setTimeout(e,t){return Y(this,rl).setTimeout(e,t)}clearTimeout(e){Y(this,rl).clearTimeout(e)}setInterval(e,t){return Y(this,rl).setInterval(e,t)}clearInterval(e){Y(this,rl).clearInterval(e)}},rl=new WeakMap,XS=new WeakMap,HD),Cc=new wJ;function jJ(e){setTimeout(e,0)}var tu=typeof window>"u"||"Deno"in globalThis;function Ca(){}function _J(e,t){return typeof e=="function"?e(t):e}function b1(e){return typeof e=="number"&&e>=0&&e!==1/0}function a5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Al(e,t){return typeof e=="function"?e(t):e}function ws(e,t){return typeof e=="function"?e(t):e}function IP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==vE(i,t.options))return!1}else if(!Km(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function LP(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Gm(t.options.mutationKey)!==Gm(o))return!1}else if(!Km(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function vE(e,t){return((t==null?void 0:t.queryKeyHashFn)||Gm)(e)}function Gm(e){return JSON.stringify(e,(t,r)=>j1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Km(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Km(e[r],t[r])):!1}var NJ=Object.prototype.hasOwnProperty;function s5(e,t){if(e===t)return e;const r=FP(e)&&FP(t);if(!r&&!(j1(e)&&j1(t)))return t;const a=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),i=o.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const f=r?u:o[u],d=e[f],h=t[f];if(d===h){l[f]=d,(r?u<a:NJ.call(e,f))&&c++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){l[f]=h;continue}const m=s5(d,h);l[f]=m,m===d&&c++}return a===i&&c===a?e:l}function w1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function FP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function j1(e){if(!BP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!BP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function BP(e){return Object.prototype.toString.call(e)==="[object Object]"}function SJ(e){return new Promise(t=>{Cc.setTimeout(t,e)})}function _1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?s5(e,t):t}function CJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function EJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var yE=Symbol();function o5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===yE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function OJ(e,t){return typeof e=="function"?e(...t):!!e}var Rc,nl,Rd,GD,AJ=(GD=class extends gg{constructor(){super();xt(this,Rc);xt(this,nl);xt(this,Rd);Ge(this,Rd,t=>{if(!tu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,nl)||this.setEventListener(Y(this,Rd))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,nl))==null||t.call(this),Ge(this,nl,void 0))}setEventListener(t){var r;Ge(this,Rd,t),(r=Y(this,nl))==null||r.call(this),Ge(this,nl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,Rc)!==t&&(Ge(this,Rc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,Rc)=="boolean"?Y(this,Rc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rc=new WeakMap,nl=new WeakMap,Rd=new WeakMap,GD),xE=new AJ;function N1(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var PJ=jJ;function kJ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=PJ;const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Vn=kJ(),$d,al,Dd,KD,TJ=(KD=class extends gg{constructor(){super();xt(this,$d,!0);xt(this,al);xt(this,Dd);Ge(this,Dd,t=>{if(!tu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,al)||this.setEventListener(Y(this,Dd))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,al))==null||t.call(this),Ge(this,al,void 0))}setEventListener(t){var r;Ge(this,Dd,t),(r=Y(this,al))==null||r.call(this),Ge(this,al,t(this.setOnline.bind(this)))}setOnline(t){Y(this,$d)!==t&&(Ge(this,$d,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,$d)}},$d=new WeakMap,al=new WeakMap,Dd=new WeakMap,KD),Hy=new TJ;function MJ(e){return Math.min(1e3*2**e,3e4)}function i5(e){return(e??"online")==="online"?Hy.isOnline():!0}var S1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function l5(e){let t=!1,r=0,n;const a=N1(),o=()=>a.status!=="pending",i=p=>{var v;if(!o()){const w=new S1(p);h(w),(v=e.onCancel)==null||v.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>xE.isFocused()&&(e.networkMode==="always"||Hy.isOnline())&&e.canRun(),f=()=>i5(e.networkMode)&&e.canRun(),d=p=>{o()||(n==null||n(),a.resolve(p))},h=p=>{o()||(n==null||n(),a.reject(p))},m=()=>new Promise(p=>{var v;n=w=>{(o()||u())&&p(w)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,o()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(o())return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(d).catch(w=>{var N;if(o())return;const y=e.retry??(tu?0:3),b=e.retryDelay??MJ,_=typeof b=="function"?b(r,w):b,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(t||!j){h(w);return}r++,(N=e.onFail)==null||N.call(e,r,w),SJ(_).then(()=>u()?void 0:m()).then(()=>{t?h(w):g()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():m().then(g),a)}}var $c,YD,c5=(YD=class{constructor(){xt(this,$c)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b1(this.gcTime)&&Ge(this,$c,Cc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(tu?1/0:5*60*1e3))}clearGcTimeout(){Y(this,$c)&&(Cc.clearTimeout(Y(this,$c)),Ge(this,$c,void 0))}},$c=new WeakMap,YD),Dc,Id,bs,Ic,Rn,Qp,Lc,Zs,si,XD,RJ=(XD=class extends c5{constructor(t){super();xt(this,Zs);xt(this,Dc);xt(this,Id);xt(this,bs);xt(this,Ic);xt(this,Rn);xt(this,Qp);xt(this,Lc);Ge(this,Lc,!1),Ge(this,Qp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,Ic,t.client),Ge(this,bs,Y(this,Ic).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,Dc,UP(this.options)),this.state=t.state??Y(this,Dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,Rn))==null?void 0:t.promise}setOptions(t){if(this.options={...Y(this,Qp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=UP(this.options);r.data!==void 0&&(this.setState(zP(r.data,r.dataUpdatedAt)),Ge(this,Dc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,bs).remove(this)}setData(t,r){const n=_1(this.state.data,t,this.options);return Qt(this,Zs,si).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Qt(this,Zs,si).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Y(this,Rn))==null?void 0:n.promise;return(a=Y(this,Rn))==null||a.cancel(t),r?r.then(Ca).catch(Ca):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Dc))}isActive(){return this.observers.some(t=>ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Al(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!a5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Rn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Rn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,bs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,Rn)&&(Y(this,Lc)?Y(this,Rn).cancel({revert:!0}):Y(this,Rn).cancelRetry()),this.scheduleGc()),Y(this,bs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,Zs,si).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,f,d,h,m,g,p,v,w,y,b;if(this.state.fetchStatus!=="idle"&&((c=Y(this,Rn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Rn))return Y(this,Rn).continueRetry(),Y(this,Rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ge(this,Lc,!0),n.signal)})},o=()=>{const _=o5(this.options,r),N=(()=>{const S={client:Y(this,Ic),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Ge(this,Lc,!1),this.options.persister?this.options.persister(_,N,this):_(N)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,Ic),state:this.state,fetchFn:o};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Ge(this,Id,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Qt(this,Zs,si).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),Ge(this,Rn,l5({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof S1&&_.revert&&this.setState({...Y(this,Id),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{Qt(this,Zs,si).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{Qt(this,Zs,si).call(this,{type:"pause"})},onContinue:()=>{Qt(this,Zs,si).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await Y(this,Rn).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=Y(this,bs).config).onSuccess)==null||m.call(h,_,this),(p=(g=Y(this,bs).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof S1){if(_.silent)return Y(this,Rn).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Qt(this,Zs,si).call(this,{type:"error",error:_}),(w=(v=Y(this,bs).config).onError)==null||w.call(v,_,this),(b=(y=Y(this,bs).config).onSettled)==null||b.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},Dc=new WeakMap,Id=new WeakMap,bs=new WeakMap,Ic=new WeakMap,Rn=new WeakMap,Qp=new WeakMap,Lc=new WeakMap,Zs=new WeakSet,si=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...u5(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...zP(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ge(this,Id,t.manual?a:void 0),a;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Vn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,bs).notify({query:this,type:"updated",action:t})})},XD);function u5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function UP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Sa,Zt,Zp,sa,Fc,Ld,ui,sl,Jp,Fd,Bd,Bc,zc,ol,zd,sr,Hh,C1,E1,O1,A1,P1,k1,T1,d5,QD,$J=(QD=class extends gg{constructor(t,r){super();xt(this,sr);xt(this,Sa);xt(this,Zt);xt(this,Zp);xt(this,sa);xt(this,Fc);xt(this,Ld);xt(this,ui);xt(this,sl);xt(this,Jp);xt(this,Fd);xt(this,Bd);xt(this,Bc);xt(this,zc);xt(this,ol);xt(this,zd,new Set);this.options=r,Ge(this,Sa,t),Ge(this,sl,null),Ge(this,ui,N1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Zt).addObserver(this),VP(Y(this,Zt),this.options)?Qt(this,sr,Hh).call(this):this.updateResult(),Qt(this,sr,A1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return M1(Y(this,Zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return M1(Y(this,Zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qt(this,sr,P1).call(this),Qt(this,sr,k1).call(this),Y(this,Zt).removeObserver(this)}setOptions(t){const r=this.options,n=Y(this,Zt);if(this.options=Y(this,Sa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,Y(this,Zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qt(this,sr,T1).call(this),Y(this,Zt).setOptions(this.options),r._defaulted&&!w1(this.options,r)&&Y(this,Sa).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Zt),observer:this});const a=this.hasListeners();a&&qP(Y(this,Zt),n,this.options,r)&&Qt(this,sr,Hh).call(this),this.updateResult(),a&&(Y(this,Zt)!==n||ws(this.options.enabled,Y(this,Zt))!==ws(r.enabled,Y(this,Zt))||Al(this.options.staleTime,Y(this,Zt))!==Al(r.staleTime,Y(this,Zt)))&&Qt(this,sr,C1).call(this);const o=Qt(this,sr,E1).call(this);a&&(Y(this,Zt)!==n||ws(this.options.enabled,Y(this,Zt))!==ws(r.enabled,Y(this,Zt))||o!==Y(this,ol))&&Qt(this,sr,O1).call(this,o)}getOptimisticResult(t){const r=Y(this,Sa).getQueryCache().build(Y(this,Sa),t),n=this.createResult(r,t);return IJ(this,n)&&(Ge(this,sa,n),Ge(this,Ld,this.options),Ge(this,Fc,Y(this,Zt).state)),n}getCurrentResult(){return Y(this,sa)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,ui).status==="pending"&&Y(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){Y(this,zd).add(t)}getCurrentQuery(){return Y(this,Zt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Y(this,Sa).defaultQueryOptions(t),n=Y(this,Sa).getQueryCache().build(Y(this,Sa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Qt(this,sr,Hh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,sa)))}createResult(t,r){var E;const n=Y(this,Zt),a=this.options,o=Y(this,sa),i=Y(this,Fc),l=Y(this,Ld),u=t!==n?t.state:Y(this,Zp),{state:f}=t;let d={...f},h=!1,m;if(r._optimisticResults){const P=this.hasListeners(),A=!P&&VP(t,r),M=P&&qP(t,n,r,a);(A||M)&&(d={...d,...u5(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=d;m=d.data;let w=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let P;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=o.data,w=!0):P=typeof r.placeholderData=="function"?r.placeholderData((E=Y(this,Bd))==null?void 0:E.state.data,Y(this,Bd)):r.placeholderData,P!==void 0&&(v="success",m=_1(o==null?void 0:o.data,P,r),h=!0)}if(r.select&&m!==void 0&&!w)if(o&&m===(i==null?void 0:i.data)&&r.select===Y(this,Jp))m=Y(this,Fd);else try{Ge(this,Jp,r.select),m=r.select(m),m=_1(o==null?void 0:o.data,m,r),Ge(this,Fd,m),Ge(this,sl,null)}catch(P){Ge(this,sl,P)}Y(this,sl)&&(g=Y(this,sl),m=Y(this,Fd),p=Date.now(),v="error");const y=d.fetchStatus==="fetching",b=v==="pending",_=v==="error",j=b&&y,N=m!==void 0,C={status:v,fetchStatus:d.fetchStatus,isPending:b,isSuccess:v==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:_&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&N,isStale:bE(t,r),refetch:this.refetch,promise:Y(this,ui),isEnabled:ws(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=O=>{C.status==="error"?O.reject(C.error):C.data!==void 0&&O.resolve(C.data)},A=()=>{const O=Ge(this,ui,C.promise=N1());P(O)},M=Y(this,ui);switch(M.status){case"pending":t.queryHash===n.queryHash&&P(M);break;case"fulfilled":(C.status==="error"||C.data!==M.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==M.reason)&&A();break}}return C}updateResult(){const t=Y(this,sa),r=this.createResult(Y(this,Zt),this.options);if(Ge(this,Fc,Y(this,Zt).state),Ge(this,Ld,this.options),Y(this,Fc).data!==void 0&&Ge(this,Bd,Y(this,Zt)),w1(r,t))return;Ge(this,sa,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,zd).size)return!0;const i=new Set(o??Y(this,zd));return this.options.throwOnError&&i.add("error"),Object.keys(Y(this,sa)).some(l=>{const c=l;return Y(this,sa)[c]!==t[c]&&i.has(c)})};Qt(this,sr,d5).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qt(this,sr,A1).call(this)}},Sa=new WeakMap,Zt=new WeakMap,Zp=new WeakMap,sa=new WeakMap,Fc=new WeakMap,Ld=new WeakMap,ui=new WeakMap,sl=new WeakMap,Jp=new WeakMap,Fd=new WeakMap,Bd=new WeakMap,Bc=new WeakMap,zc=new WeakMap,ol=new WeakMap,zd=new WeakMap,sr=new WeakSet,Hh=function(t){Qt(this,sr,T1).call(this);let r=Y(this,Zt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ca)),r},C1=function(){Qt(this,sr,P1).call(this);const t=Al(this.options.staleTime,Y(this,Zt));if(tu||Y(this,sa).isStale||!b1(t))return;const n=a5(Y(this,sa).dataUpdatedAt,t)+1;Ge(this,Bc,Cc.setTimeout(()=>{Y(this,sa).isStale||this.updateResult()},n))},E1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Zt)):this.options.refetchInterval)??!1},O1=function(t){Qt(this,sr,k1).call(this),Ge(this,ol,t),!(tu||ws(this.options.enabled,Y(this,Zt))===!1||!b1(Y(this,ol))||Y(this,ol)===0)&&Ge(this,zc,Cc.setInterval(()=>{(this.options.refetchIntervalInBackground||xE.isFocused())&&Qt(this,sr,Hh).call(this)},Y(this,ol)))},A1=function(){Qt(this,sr,C1).call(this),Qt(this,sr,O1).call(this,Qt(this,sr,E1).call(this))},P1=function(){Y(this,Bc)&&(Cc.clearTimeout(Y(this,Bc)),Ge(this,Bc,void 0))},k1=function(){Y(this,zc)&&(Cc.clearInterval(Y(this,zc)),Ge(this,zc,void 0))},T1=function(){const t=Y(this,Sa).getQueryCache().build(Y(this,Sa),this.options);if(t===Y(this,Zt))return;const r=Y(this,Zt);Ge(this,Zt,t),Ge(this,Zp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},d5=function(t){Vn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Y(this,sa))}),Y(this,Sa).getQueryCache().notify({query:Y(this,Zt),type:"observerResultsUpdated"})})},QD);function DJ(e,t){return ws(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function VP(e,t){return DJ(e,t)||e.state.data!==void 0&&M1(e,t,t.refetchOnMount)}function M1(e,t,r){if(ws(t.enabled,e)!==!1&&Al(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&bE(e,t)}return!1}function qP(e,t,r,n){return(e!==t||ws(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&bE(e,r)}function bE(e,t){return ws(t.enabled,e)!==!1&&e.isStaleByTime(Al(t.staleTime,e))}function IJ(e,t){return!w1(e.getCurrentResult(),t)}function WP(e){return{onFetch:(t,r)=>{var f,d,h,m,g;const n=t.options,a=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=o5(t.options,t.fetchOptions),y=async(b,_,j)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return v(A),A})(),C=await w(S),{maxPages:E}=t.options,P=j?EJ:CJ;return{pages:P(b.pages,C,E),pageParams:P(b.pageParams,_,E)}};if(a&&o.length){const b=a==="backward",_=b?LJ:HP,j={pages:o,pageParams:i},N=_(n,j);l=await y(j,N,b)}else{const b=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:HP(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function HP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function LJ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var eg,Eo,oa,Uc,Oo,qi,ZD,FJ=(ZD=class extends c5{constructor(t){super();xt(this,Oo);xt(this,eg);xt(this,Eo);xt(this,oa);xt(this,Uc);Ge(this,eg,t.client),this.mutationId=t.mutationId,Ge(this,oa,t.mutationCache),Ge(this,Eo,[]),this.state=t.state||BJ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Eo).includes(t)||(Y(this,Eo).push(t),this.clearGcTimeout(),Y(this,oa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ge(this,Eo,Y(this,Eo).filter(r=>r!==t)),this.scheduleGc(),Y(this,oa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Eo).length||(this.state.status==="pending"?this.scheduleGc():Y(this,oa).remove(this))}continue(){var t;return((t=Y(this,Uc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,f,d,h,m,g,p,v,w,y,b,_,j,N,S,C,E;const r=()=>{Qt(this,Oo,qi).call(this,{type:"continue"})},n={client:Y(this,eg),meta:this.options.meta,mutationKey:this.options.mutationKey};Ge(this,Uc,l5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{Qt(this,Oo,qi).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{Qt(this,Oo,qi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,oa).canRun(this)}));const a=this.state.status==="pending",o=!Y(this,Uc).canStart();try{if(a)r();else{Qt(this,Oo,qi).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(i=Y(this,oa).config).onMutate)==null?void 0:l.call(i,t,this,n));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));A!==this.state.context&&Qt(this,Oo,qi).call(this,{type:"pending",context:A,variables:t,isPaused:o})}const P=await Y(this,Uc).start();return await((d=(f=Y(this,oa).config).onSuccess)==null?void 0:d.call(f,P,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,t,this.state.context,n)),await((p=(g=Y(this,oa).config).onSettled)==null?void 0:p.call(g,P,null,this.state.variables,this.state.context,this,n)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,P,null,t,this.state.context,n)),Qt(this,Oo,qi).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(y=Y(this,oa).config).onError)==null?void 0:b.call(y,P,t,this.state.context,this,n)),await((j=(_=this.options).onError)==null?void 0:j.call(_,P,t,this.state.context,n)),await((S=(N=Y(this,oa).config).onSettled)==null?void 0:S.call(N,void 0,P,this.state.variables,this.state.context,this,n)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,P,t,this.state.context,n)),P}finally{Qt(this,Oo,qi).call(this,{type:"error",error:P})}}finally{Y(this,oa).runNext(this)}}},eg=new WeakMap,Eo=new WeakMap,oa=new WeakMap,Uc=new WeakMap,Oo=new WeakSet,qi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vn.batch(()=>{Y(this,Eo).forEach(n=>{n.onMutationUpdate(t)}),Y(this,oa).notify({mutation:this,type:"updated",action:t})})},ZD);function BJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var di,Js,tg,JD,zJ=(JD=class extends gg{constructor(t={}){super();xt(this,di);xt(this,Js);xt(this,tg);this.config=t,Ge(this,di,new Set),Ge(this,Js,new Map),Ge(this,tg,0)}build(t,r,n){const a=new FJ({client:t,mutationCache:this,mutationId:++zg(this,tg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Y(this,di).add(t);const r=uv(t);if(typeof r=="string"){const n=Y(this,Js).get(r);n?n.push(t):Y(this,Js).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,di).delete(t)){const r=uv(t);if(typeof r=="string"){const n=Y(this,Js).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Y(this,Js).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=uv(t);if(typeof r=="string"){const n=Y(this,Js).get(r),a=n==null?void 0:n.find(o=>o.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=uv(t);if(typeof r=="string"){const a=(n=Y(this,Js).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vn.batch(()=>{Y(this,di).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,di).clear(),Y(this,Js).clear()})}getAll(){return Array.from(Y(this,di))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>LP(r,n))}findAll(t={}){return this.getAll().filter(r=>LP(t,r))}notify(t){Vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Vn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ca))))}},di=new WeakMap,Js=new WeakMap,tg=new WeakMap,JD);function uv(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ao,eI,UJ=(eI=class extends gg{constructor(t={}){super();xt(this,Ao);this.config=t,Ge(this,Ao,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??vE(a,r);let i=this.get(o);return i||(i=new RJ({client:t,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){Y(this,Ao).has(t.queryHash)||(Y(this,Ao).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,Ao).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,Ao).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,Ao).get(t)}getAll(){return[...Y(this,Ao).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>IP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>IP(t,n)):r}notify(t){Vn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ao=new WeakMap,eI),Yr,il,ll,Ud,Vd,cl,qd,Wd,tI,VJ=(tI=class{constructor(e={}){xt(this,Yr);xt(this,il);xt(this,ll);xt(this,Ud);xt(this,Vd);xt(this,cl);xt(this,qd);xt(this,Wd);Ge(this,Yr,e.queryCache||new UJ),Ge(this,il,e.mutationCache||new zJ),Ge(this,ll,e.defaultOptions||{}),Ge(this,Ud,new Map),Ge(this,Vd,new Map),Ge(this,cl,0)}mount(){zg(this,cl)._++,Y(this,cl)===1&&(Ge(this,qd,xE.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,Yr).onFocus())})),Ge(this,Wd,Hy.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,Yr).onOnline())})))}unmount(){var e,t;zg(this,cl)._--,Y(this,cl)===0&&((e=Y(this,qd))==null||e.call(this),Ge(this,qd,void 0),(t=Y(this,Wd))==null||t.call(this),Ge(this,Wd,void 0))}isFetching(e){return Y(this,Yr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,il).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,Yr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,Yr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Al(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,Yr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Y(this,Yr).get(n.queryHash),o=a==null?void 0:a.state.data,i=_J(t,o);if(i!==void 0)return Y(this,Yr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Vn.batch(()=>Y(this,Yr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,Yr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,Yr);Vn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,Yr);return Vn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Vn.batch(()=>Y(this,Yr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ca).catch(Ca)}invalidateQueries(e,t={}){return Vn.batch(()=>(Y(this,Yr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Vn.batch(()=>Y(this,Yr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ca)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ca)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,Yr).build(this,t);return r.isStaleByTime(Al(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ca).catch(Ca)}fetchInfiniteQuery(e){return e.behavior=WP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ca).catch(Ca)}ensureInfiniteQueryData(e){return e.behavior=WP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hy.isOnline()?Y(this,il).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Yr)}getMutationCache(){return Y(this,il)}getDefaultOptions(){return Y(this,ll)}setDefaultOptions(e){Ge(this,ll,e)}setQueryDefaults(e,t){Y(this,Ud).set(Gm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,Ud).values()],r={};return t.forEach(n=>{Km(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,Vd).set(Gm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,Vd).values()],r={};return t.forEach(n=>{Km(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,ll).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,ll).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,Yr).clear(),Y(this,il).clear()}},Yr=new WeakMap,il=new WeakMap,ll=new WeakMap,Ud=new WeakMap,Vd=new WeakMap,cl=new WeakMap,qd=new WeakMap,Wd=new WeakMap,tI),f5=x.createContext(void 0),qJ=e=>{const t=x.useContext(f5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},WJ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(f5.Provider,{value:e,children:t})),h5=x.createContext(!1),HJ=()=>x.useContext(h5);h5.Provider;function GJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KJ=x.createContext(GJ()),YJ=()=>x.useContext(KJ),XJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},QJ=e=>{x.useEffect(()=>{e.clearReset()},[e])},ZJ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||OJ(r,[e.error,n])),JJ=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eee=(e,t)=>e.isLoading&&e.isFetching&&!t,tee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,GP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ree(e,t,r){var d,h,m,g,p;const n=HJ(),a=YJ(),o=qJ(),i=o.defaultQueryOptions(e);(h=(d=o.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=n?"isRestoring":"optimistic",JJ(i),XJ(i,a),QJ(a);const l=!o.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const w=f?c.subscribe(Vn.batchCalls(v)):Ca;return c.updateResult(),w},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i)},[i,c]),tee(i,u))throw GP(i,c,a);if(ZJ({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,u),i.experimental_prefetchInRender&&!tu&&eee(u,n)){const v=l?GP(i,c,a):(p=o.getQueryCache().get(i.queryHash))==null?void 0:p.promise;v==null||v.catch(Ca).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function zi(e,t){return ree(e,$J)}var R1=function(e,t){return R1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},R1(e,t)};function m5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");R1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ns=function(){return Ns=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ns.apply(this,arguments)};function Gl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function p5(e,t,r,n){var a=arguments.length,o=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function g5(e,t){return function(r,n){t(r,n,e)}}function v5(e,t,r,n,a,o){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,m=r.length-1;m>=0;m--){var g={};for(var p in n)g[p]=p==="access"?{}:n[p];for(var p in n.access)g.access[p]=n.access[p];g.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(w||null))};var v=(0,r[m])(l==="accessor"?{get:f.get,set:f.set}:f[c],g);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=i(v.get))&&(f.get=d),(d=i(v.set))&&(f.set=d),(d=i(v.init))&&a.unshift(d)}else(d=i(v))&&(l==="field"?a.unshift(d):f[c]=d)}u&&Object.defineProperty(u,n.name,f),h=!0}function y5(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function x5(e){return typeof e=="symbol"?e:"".concat(e)}function b5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function w5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dt(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(f){try{u(n.next(f))}catch(d){i(d)}}function c(f){try{u(n.throw(f))}catch(d){i(d)}}function u(f){f.done?o(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function j5(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(o=u[0]&2?a.return:u[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,u[1])).done)return o;switch(a=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var J0=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function _5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&J0(t,e,r)}function Gy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wE(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,o=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function N5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wE(arguments[t]));return e}function S5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)n[a]=o[i];return n}function jE(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function nf(e){return this instanceof nf?(this.v=e,this):new nf(e)}function C5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(g){return Promise.resolve(g).then(m,d)}}function l(m,g){n[m]&&(a[m]=function(p){return new Promise(function(v,w){o.push([m,p,v,w])>1||c(m,p)})},g&&(a[m]=g(a[m])))}function c(m,g){try{u(n[m](g))}catch(p){h(o[0][3],p)}}function u(m){m.value instanceof nf?Promise.resolve(m.value.v).then(f,d):h(o[0][2],m)}function f(m){c("next",m)}function d(m){c("throw",m)}function h(m,g){m(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function E5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,o){t[a]=e[a]?function(i){return(r=!r)?{value:nf(e[a](i)),done:!1}:o?o(i):i}:o}}function O5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Gy=="function"?Gy(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(l,c){i=e[o](i),a(l,c,i.done,i.value)})}}function a(o,i,l,c){Promise.resolve(c).then(function(u){o({value:u,done:l})},i)}}function A5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var nee=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},$1=function(e){return $1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},$1(e)};function P5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=$1(e),n=0;n<r.length;n++)r[n]!=="default"&&J0(t,e,r[n]);return nee(t,e),t}function k5(e){return e&&e.__esModule?e:{default:e}}function T5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function M5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function R5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function $5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var aee=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function D5(e){function t(o){e.error=e.hasError?new aee(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function I5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,o,i){return n?t?".jsx":".js":a&&(!o||!i)?r:a+o+"."+i.toLowerCase()+"js"}):e}const see={__extends:m5,__assign:Ns,__rest:Gl,__decorate:p5,__param:g5,__esDecorate:v5,__runInitializers:y5,__propKey:x5,__setFunctionName:b5,__metadata:w5,__awaiter:dt,__generator:j5,__createBinding:J0,__exportStar:_5,__values:Gy,__read:wE,__spread:N5,__spreadArrays:S5,__spreadArray:jE,__await:nf,__asyncGenerator:C5,__asyncDelegator:E5,__asyncValues:O5,__makeTemplateObject:A5,__importStar:P5,__importDefault:k5,__classPrivateFieldGet:T5,__classPrivateFieldSet:M5,__classPrivateFieldIn:R5,__addDisposableResource:$5,__disposeResources:D5,__rewriteRelativeImportExtension:I5},oee=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$5,get __assign(){return Ns},__asyncDelegator:E5,__asyncGenerator:C5,__asyncValues:O5,__await:nf,__awaiter:dt,__classPrivateFieldGet:T5,__classPrivateFieldIn:R5,__classPrivateFieldSet:M5,__createBinding:J0,__decorate:p5,__disposeResources:D5,__esDecorate:v5,__exportStar:_5,__extends:m5,__generator:j5,__importDefault:k5,__importStar:P5,__makeTemplateObject:A5,__metadata:w5,__param:g5,__propKey:x5,__read:wE,__rest:Gl,__rewriteRelativeImportExtension:I5,__runInitializers:y5,__setFunctionName:b5,__spread:N5,__spreadArray:jE,__spreadArrays:S5,__values:Gy,default:see},Symbol.toStringTag,{value:"Module"})),iee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class _E extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class KP extends _E{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class YP extends _E{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class XP extends _E{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var D1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(D1||(D1={}));class lee{constructor(t,{headers:r={},customFetch:n,region:a=D1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=iee(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return dt(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:o,method:i,body:l,signal:c}=n;let u={},{region:f}=n;f||(f=this.region);const d=new URL(`${this.url}/${r}`);f&&f!=="any"&&(u["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let h;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new KP(w)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new YP(m);if(!m.ok)throw new XP(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield m.json():p==="application/octet-stream"||p==="application/pdf"?v=yield m.blob():p==="text/event-stream"?v=m:p==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new KP(o)}:{data:null,error:o,response:o instanceof XP||o instanceof YP?o.context:void 0}}})}}var ua={};const Qf=c7(oee);var dv={},fv={},hv={},mv={},pv={},gv={},QP;function L5(){if(QP)return gv;QP=1,Object.defineProperty(gv,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gv.default=e,gv}var ZP;function F5(){if(ZP)return pv;ZP=1,Object.defineProperty(pv,"__esModule",{value:!0});const t=Qf.__importDefault(L5());class r{constructor(a){var o,i;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,d,h;let m=null,g=null,p=null,v=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const b=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&_&&_.length>1&&(p=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,v=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await c.text();try{m=JSON.parse(b),Array.isArray(m)&&c.status===404&&(g=[],m=null,v=200,w="OK")}catch{c.status===404&&b===""?(v=204,w="No Content"):m={message:b}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,w="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:g,count:p,status:v,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,o)}returns(){return this}overrideTypes(){return this}}return pv.default=r,pv}var JP;function B5(){if(JP)return mv;JP=1,Object.defineProperty(mv,"__esModule",{value:!0});const t=Qf.__importDefault(F5());class r extends t.default{select(a){let o=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${a}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:i=o}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,o,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const d=[a?"analyze":null,o?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return mv.default=r,mv}var ek;function NE(){if(ek)return hv;ek=1,Object.defineProperty(hv,"__esModule",{value:!0});const t=Qf.__importDefault(B5()),r=new RegExp("[,()]");class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${u}fts${f}.${i}`),this}match(o){return Object.entries(o).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(o,i,l){return this.url.searchParams.append(o,`not.${i}.${l}`),this}or(o,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,l){return this.url.searchParams.append(o,`${i}.${l}`),this}}return hv.default=n,hv}var tk;function z5(){if(tk)return fv;tk=1,Object.defineProperty(fv,"__esModule",{value:!0});const t=Qf.__importDefault(NE());class r{constructor(a,{headers:o={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(o),this.schema=i,this.fetch=l}select(a,o){const{head:i=!1,count:l}=o??{},c=i?"HEAD":"GET";let u=!1;const f=(a??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:i=!0}={}){var l;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:o}={}){var i;const l="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var o;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return fv.default=r,fv}var rk;function cee(){if(rk)return dv;rk=1,Object.defineProperty(dv,"__esModule",{value:!0});const e=Qf,t=e.__importDefault(z5()),r=e.__importDefault(NE());class n{constructor(o,{headers:i={},schema:l,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(o){const i=new URL(`${this.url}/${o}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:l=!1,get:c=!1,count:u}={}){var f;let d;const h=new URL(`${this.url}/rpc/${o}`);let m;l||c?(d=l?"HEAD":"GET",Object.entries(i).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{h.searchParams.append(p,v)})):(d="POST",m=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:g,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return dv.default=n,dv}Object.defineProperty(ua,"__esModule",{value:!0});var U5=ua.PostgrestError=Z5=ua.PostgrestBuilder=X5=ua.PostgrestTransformBuilder=K5=ua.PostgrestFilterBuilder=H5=ua.PostgrestQueryBuilder=q5=ua.PostgrestClient=void 0;const Zf=Qf,V5=Zf.__importDefault(cee());var q5=ua.PostgrestClient=V5.default;const W5=Zf.__importDefault(z5());var H5=ua.PostgrestQueryBuilder=W5.default;const G5=Zf.__importDefault(NE());var K5=ua.PostgrestFilterBuilder=G5.default;const Y5=Zf.__importDefault(B5());var X5=ua.PostgrestTransformBuilder=Y5.default;const Q5=Zf.__importDefault(F5());var Z5=ua.PostgrestBuilder=Q5.default;const J5=Zf.__importDefault(L5());U5=ua.PostgrestError=J5.default;var eF=ua.default={PostgrestClient:V5.default,PostgrestQueryBuilder:W5.default,PostgrestFilterBuilder:G5.default,PostgrestTransformBuilder:Y5.default,PostgrestBuilder:Q5.default,PostgrestError:J5.default};const uee=rI({__proto__:null,get PostgrestBuilder(){return Z5},get PostgrestClient(){return q5},get PostgrestError(){return U5},get PostgrestFilterBuilder(){return K5},get PostgrestQueryBuilder(){return H5},get PostgrestTransformBuilder(){return X5},default:eF},[ua]),{PostgrestClient:dee,PostgrestQueryBuilder:q3e,PostgrestFilterBuilder:W3e,PostgrestTransformBuilder:H3e,PostgrestBuilder:G3e,PostgrestError:K3e}=eF||uee;class fee{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hee="2.80.0",mee=`realtime-js/${hee}`,pee="1.0.0",I1=1e4,gee=1e3,vee=100;var um;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(um||(um={}));var Cn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cn||(Cn={}));var to;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(to||(to={}));var L1;(function(e){e.websocket="websocket"})(L1||(L1={}));var gc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gc||(gc={}));class yee{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class tF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vr||(vr={}));const nk=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=xee(i,e,t,a),o),{}):{}},xee=(e,t,r,n)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=r[e];return o&&!n.includes(o)?rF(o,i):F1(i)},rF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _ee(t,r)}switch(e){case vr.bool:return bee(t);case vr.float4:case vr.float8:case vr.int2:case vr.int4:case vr.int8:case vr.numeric:case vr.oid:return wee(t);case vr.json:case vr.jsonb:return jee(t);case vr.timestamp:return Nee(t);case vr.abstime:case vr.date:case vr.daterange:case vr.int4range:case vr.int8range:case vr.money:case vr.reltime:case vr.text:case vr.time:case vr.timestamptz:case vr.timetz:case vr.tsrange:case vr.tstzrange:return F1(t);default:return F1(t)}},F1=e=>e,bee=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wee=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jee=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_ee=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>rF(t,l))}return e},Nee=e=>typeof e=="string"?e.replace(" ","T"):e,nF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class tj{constructor(t,r,n={},a=I1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ak;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ak||(ak={}));class dm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dm.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=dm.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=dm.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const d=o[u];if(d){const h=f.map(v=>v.presence_ref),m=d.map(v=>v.presence_ref),g=f.filter(v=>m.indexOf(v.presence_ref)<0),p=d.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(m=>m.presence_ref),h=f.filter(m=>d.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sk||(sk={}));var fm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fm||(fm={}));var ii;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ii||(ii={}));class SE{constructor(t,r={config:{}},n){var a,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tj(this,to.join,this.params,this.timeout),this.rejoinTimer=new tF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(to.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new dm(this),this.broadcastEndpointURL=nF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[fm.PRESENCE]&&this.bindings[fm.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ii.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ii.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(ii.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,w=[];for(let y=0;y<v;y++){const b=p[y],{filter:{event:_,schema:j,table:N,filter:S}}=b,C=m&&m[y];if(C&&C.event===_&&C.schema===j&&C.table===N&&C.filter===S)w.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Cn.errored,t==null||t(ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ii.SUBSCRIBED);return}}).receive("error",m=>{this.state=Cn.errored,t==null||t(ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Cn.joined&&t===fm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(to.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new tj(this,to.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new tj(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vee){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=to;if(n&&[l,c,u,f].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var g,p,v,w,y,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:w,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:w,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&SE.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(to.close,{},t)}_onError(t){this._on(to.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=nk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=nk(t.columns,t.old_record)),r}}const rj=()=>{},vv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},See=[1e3,2e3,5e3,1e4],Cee=1e4,Eee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Oee{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=I1,this.transport=null,this.heartbeatIntervalMs=vv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rj,this.ref=0,this.reconnectTimer=null,this.logger=rj,this.conn=null,this.sendBuffer=[],this.serializer=new yee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${L1.websocket}`,this.httpEndpoint=nF(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fee.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pee}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case um.connecting:return gc.Connecting;case um.open:return gc.Open;case um.closing:return gc.Closing;default:return gc.Closed}}isConnected(){return this.connectionState()===gc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new SE(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gee,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(to.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Eee],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:mee};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(to.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,o,i,l,c,u,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:I1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:vv.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:rj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>See[d-1]||Cee,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class CE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ur(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Aee extends CE{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B1 extends CE{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const EE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pee=()=>Response,z1=e=>{if(Array.isArray(e))return e.map(r=>z1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=z1(n)}),t},kee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nj=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Tee=(e,t,r)=>dt(void 0,void 0,void 0,function*(){const n=yield Pee();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const o=e.status||500,i=(a==null?void 0:a.statusCode)||o+"";t(new Aee(nj(a),o,i))}).catch(a=>{t(new B1(nj(a),a))}):t(new B1(nj(e),e))}),Mee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(kee(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function vg(e,t,r,n,a,o){return dt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Mee(t,n,a,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Tee(c,l,n))})})}function Ym(e,t,r,n){return dt(this,void 0,void 0,function*(){return vg(e,"GET",t,r,n)})}function Qs(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return vg(e,"POST",t,n,a,r)})}function U1(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return vg(e,"PUT",t,n,a,r)})}function Ree(e,t,r,n){return dt(this,void 0,void 0,function*(){return vg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function OE(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return vg(e,"DELETE",t,n,a,r)})}class $ee{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return dt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}}var aF;class Dee{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[aF]="BlobDownloadBuilder",this.promise=null}asStream(){return new $ee(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}}aF=Symbol.toStringTag;const Iee={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ok={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lee{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=EE(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return dt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},ok),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield(t=="PUT"?U1:Qs)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ur(o))return{data:null,error:o};throw o}})}upload(t,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return dt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ok.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield U1(this.fetch,l.toString(),c,{headers:f});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ur(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield Qs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new CE("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}update(t,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return dt(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}copy(t,r,n){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return dt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Qs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return dt(this,void 0,void 0,function*(){try{const a=yield Qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>Ym(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new Dee(c,this.shouldThrowOnError)}info(t){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ym(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:z1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}exists(t){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ree(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n)&&n instanceof B1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return dt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}list(t,r,n){return dt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Iee),r),{prefix:t||""});return{data:yield Qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}listV2(t,r){return dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sF="2.80.0",oF={"X-Client-Info":`storage-js/${sF}`};class Fee{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const o=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oF),r),this.fetch=EE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ym(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}createBucket(t){return dt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield U1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}emptyBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Bee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oF),r),this.fetch=EE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ym(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}}const AE={"X-Client-Info":`storage-js/${sF}`,"Content-Type":"application/json"};class iF extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ka(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class aj extends iF{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zee extends iF{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var ik;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ik||(ik={}));const PE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Uee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vee=(e,t,r)=>dt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new aj(lk(i),a,l))}).catch(()=>{const i=a+"",l=o.statusText||`HTTP ${a} error`;t(new aj(l,a,i))});else{const i=a+"",l=o.statusText||`HTTP ${a} error`;t(new aj(l,a,i))}}else t(new zee(lk(e),e))}),qee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Uee(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Wee(e,t,r,n,a,o){return dt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,qee(t,n,a,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Vee(c,l,n))})})}function Ya(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return Wee(e,"POST",t,n,a,r)})}class Hee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AE),r),this.fetch=PE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}getIndex(t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ka(n))return{data:null,error:n};throw n}})}listIndexes(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return dt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ka(n))return{data:null,error:n};throw n}})}}class Gee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AE),r),this.fetch=PE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ya(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}getVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}listVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ya(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}queryVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}deleteVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ya(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}}class Kee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AE),r),this.fetch=PE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}listBuckets(){return dt(this,arguments,void 0,function*(t={}){try{return{data:yield Ya(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}}class Yee extends Kee{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Xee(this.url,this.headers,t,this.fetch)}}class Xee extends Hee{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Qee(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Qee extends Gee{constructor(t,r,n,a,o){super(t,r,o),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Zee extends Fee{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Lee(this.url,this.headers,t,this.fetch)}get vectors(){return new Yee(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bee(this.url+"/iceberg",this.headers,this.fetch)}}const Jee="2.80.0";let Gh="";typeof Deno<"u"?Gh="deno":typeof document<"u"?Gh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gh="react-native":Gh="node";const ete={"X-Client-Info":`supabase-js-${Gh}/${Jee}`},tte={headers:ete},rte={schema:"public"},nte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ate={},ste=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ote=()=>Headers,ite=(e,t,r)=>{const n=ste(r),a=ote();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))}};function lte(e){return e.endsWith("/")?e:e+"/"}function cte(e,t){var r,n;const{db:a,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ute(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lte(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lF="2.80.0",Hu=30*1e3,V1=3,sj=V1*Hu,dte="http://localhost:9999",fte="supabase.auth.token",hte={"X-Client-Info":`gotrue-js/${lF}`},q1="X-Supabase-Api-Version",cF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mte=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pte=10*60*1e3;class Xm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gte extends Xm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vte(e){return vt(e)&&e.name==="AuthApiError"}class vc extends Xm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Kl extends Xm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Gs extends Kl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yte(e){return vt(e)&&e.name==="AuthSessionMissingError"}class ku extends Kl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yv extends Kl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xv extends Kl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xte(e){return vt(e)&&e.name==="AuthImplicitGrantRedirectError"}class ck extends Kl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W1 extends Kl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function oj(e){return vt(e)&&e.name==="AuthRetryableFetchError"}class uk extends Kl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class H1 extends Kl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ky="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dk=` 	
\r=`.split(""),bte=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dk.length;t+=1)e[dk[t].charCodeAt(0)]=-2;for(let t=0;t<Ky.length;t+=1)e[Ky[t].charCodeAt(0)]=t;return e})();function fk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ky[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ky[n]),t.queuedBits-=6}}function uF(e,t,r){const n=bte[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hk(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{_te(i,n,r)};for(let i=0;i<e.length;i+=1)uF(e.charCodeAt(i),a,o);return t.join("")}function wte(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jte(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wte(n,t)}}function _te(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)uF(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Nte(e){const t=[];return jte(e,r=>t.push(r)),new Uint8Array(t)}function Ec(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>fk(a,r,n)),fk(null,r,n),t.join("")}function Ste(e){return Math.round(Date.now()/1e3)+e}function Cte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",ac={tested:!1,writable:!1},dF=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ac.tested)return ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ac.tested=!0,ac.writable=!0}catch{ac.tested=!0,ac.writable=!1}return ac.writable};function Ete(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const fF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ote=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ui=async(e,t)=>{await e.removeItem(t)};class eb{constructor(){this.promise=new eb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}eb.promiseConstructor=Promise;function ij(e){const t=e.split(".");if(t.length!==3)throw new H1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mte.test(t[n]))throw new H1("JWT not in base64url format");return{header:JSON.parse(hk(t[0])),payload:JSON.parse(hk(t[1])),signature:Sd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ate(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Pte(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function kte(e){return("0"+e.toString(16)).substr(-2)}function Tte(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kte).join("")}async function Mte(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Rte(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Mte(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tu(e,t,r=!1){const n=Tte();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gu(e,`${t}-code-verifier`,a);const o=await Rte(n);return[o,n===o?"plain":"s256"]}const $te=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dte(e){const t=e.headers.get(q1);if(!t||!t.match($te))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ite(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Lte(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fte=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mu(e){if(!Fte.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bte(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function mk(e){return JSON.parse(JSON.stringify(e))}const dc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zte=[502,503,504];async function pk(e){var t;if(!Ote(e))throw new W1(dc(e),0);if(zte.includes(e.status))throw new W1(dc(e),e.status);let r;try{r=await e.json()}catch(o){throw new vc(dc(o),o)}let n;const a=Dte(e);if(a&&a.getTime()>=cF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uk(dc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new uk(dc(r),e.status,r.weak_password.reasons);throw new gte(dc(r),e.status||500,n)}const Ute=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function _t(e,t,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[q1]||(o[q1]=cF["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Vte(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Vte(e,t,r,n,a,o){const i=Ute(t,n,a,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new W1(dc(c),0)}if(l.ok||await pk(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pk(c)}}function Ks(e){var t;let r=null;Hte(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ste(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gk(e){const t=Ks(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function el(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qte(e){return{data:e,error:null}}function Wte(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,i=Gl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function vk(e){return e}function Hte(e){return e.access_token&&e.refresh_token&&e.expires_in}const cj=["global","local","others"];class Gte{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=fF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=cj[0]){if(cj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cj.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:el})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Gl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Wte,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:el})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:vk});if(f.error)throw f.error;const d=await f.json(),h=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(vt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mu(t);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:el})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Mu(t);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:el})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Mu(t);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:el})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mu(t.userId);try{const{data:r,error:n}=await _t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Mu(t.userId),Mu(t.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:vk});if(f.error)throw f.error;const d=await f.json(),h=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(vt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await _t(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}}function yk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ru={debug:!!(globalThis&&dF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Kte extends hF{}async function Yte(e,t,r){Ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ru.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Kte(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ru.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Xte(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Qte(e){return parseInt(e,16)}function Zte(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Jte(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=mF(e.address),g=f?`${f}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}w+=y}return`${v}
${w}`}class mn extends Error{constructor({message:t,code:r,cause:n,name:a}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=a??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Yy extends mn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ere({error:e,options:t}){var r,n,a;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new mn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(pF(i)){if(o.rp.id!==i)return new mn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new mn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tre({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(pF(n)){if(r.rpId!==n)return new mn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class rre{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nre=new rre;function are(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Gl(e,["challenge","user","excludeCredentials"]),o=Sd(t).buffer,i=Object.assign(Object.assign({},r),{id:Sd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:o,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Sd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function sre(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Gl(e,["challenge","allowCredentials"]),a=Sd(t).buffer,o=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Sd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function ore(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ec(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ec(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ire(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ec(new Uint8Array(a.authenticatorData)),clientDataJSON:Ec(new Uint8Array(a.clientDataJSON)),signature:Ec(new Uint8Array(a.signature)),userHandle:a.userHandle?Ec(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xk(){var e,t;return!!(Kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lre(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yy("Browser returned unexpected credential type",t)}:{data:null,error:new Yy("Empty credential response",t)}}catch(t){return{data:null,error:ere({error:t,options:e})}}}async function cre(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yy("Browser returned unexpected credential type",t)}:{data:null,error:new Yy("Empty credential response",t)}}catch(t){return{data:null,error:tre({error:t,options:e})}}}const ure={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},dre={userVerification:"preferred",hints:["security-key"]};function Xy(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const o in a){const i=a[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const l=n[o];t(l)?n[o]=Xy(l,i):n[o]=Xy(i)}else n[o]=i}return n}function fre(e,t){return Xy(ure,e,t||{})}function hre(e,t){return Xy(dre,e,t||{})}class mre{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=a??nre.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=fre(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:d}=await lre({publicKey:u,signal:c});return f?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const u=hre(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:d}=await cre(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(i){return vt(i)?{data:null,error:i}:{data:null,error:new vc("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},o){if(!r)return{data:null,error:new Xm("rpId is required for WebAuthn authentication")};try{if(!xk())return{data:null,error:new vc("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return vt(i)?{data:null,error:i}:{data:null,error:new vc("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},o){if(!r)return{data:null,error:new Xm("rpId is required for WebAuthn registration")};try{if(!xk())return{data:null,error:new vc("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return vt(i)?{data:null,error:i}:{data:null,error:new vc("Unexpected error in register",i)}}}}Xte();const pre={url:dte,storageKey:fte,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hte,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function bk(e,t,r){return await r()}const $u={};class Qm{get jwks(){var t,r;return(r=(t=$u[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$u[this.storageKey]=Object.assign(Object.assign({},$u[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$u[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$u[this.storageKey]=Object.assign(Object.assign({},$u[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},pre),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Qm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Kn()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Gte({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=fF(o.fetch),this.lock=o.lock||bk,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Yte:this.lock=bk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mre(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:dF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yk(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=yk(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kn()&&(r=Ete(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),xte(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return vt(r)?this._returnResult({error:r}):this._returnResult({error:new vc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ks}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(vt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:f,password:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Tu(this.storage,this.storageKey)),o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ks})}else if("phone"in t){const{phone:f,password:d,options:h}=t;o=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ks})}else throw new yv("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(vt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gk})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gk})}else throw new yv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const o=new ku;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(vt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,o,i,l,c,u,f,d,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:w,options:y}=t;let b;if(Kn())if(typeof v=="object")b=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")b=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=mF(j[0]);let S=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const E=await b.request({method:"eth_chainId"});S=Qte(E)}const C={domain:_.host,address:N,statement:w,uri:_.href,version:"1",chainId:S,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=y==null?void 0:y.signInWithEthereum)===null||f===void 0?void 0:f.resources};m=Jte(C),g=await b.request({method:"personal_sign",params:[Zte(m),N]})}try{const{data:p,error:v}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ks});if(v)throw v;if(!p||!p.session||!p.user){const w=new ku;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(vt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,a,o,i,l,c,u,f,d,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:w,statement:y,options:b}=t;let _;if(Kn())if(typeof w=="object")_=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:v,error:w}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ec(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ks});if(w)throw w;if(!v||!v.session||!v.user){const y=new ku;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(vt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await sc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ks});if(await Ui(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new ku;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(vt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=t,l=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ks}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const f=new ku;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(vt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Tu(this.storage,this.storageKey));const{error:d}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new yv("You must provide either an email or phone number.")}catch(l){if(vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ks});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(vt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Tu(this.storage,this.storageKey));const l=await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:qte});return this._returnResult(l)}catch(o){if(vt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gs;const{error:a}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(vt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:i}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:i,error:l}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new yv("You must provide either an email or phone number and a type")}catch(r){if(vt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await sc(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=lj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Bte(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:el}):await this._useSession(async r=>{var n,a,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gs}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:el})})}catch(r){if(vt(r))return yte(r)&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Gs;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Tu(this.storage,this.storageKey));const{data:u,error:f}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:el});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(vt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gs;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=ij(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(vt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Gs;const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(vt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kn())throw new xv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ck("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ck("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new xv("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const m=h-f;m*1e3<=Hu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:p,error:v}=await this._getUser(o);if(v)throw v;const w={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:d,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(vt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(vte(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Cte(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Tu(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(vt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,l,c,u,f;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return Kn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(vt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:i,provider:l,token:c,access_token:u,nonce:f}=t,d=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ks}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ku}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(vt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Pte(async a=>(a>0&&await Ate(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ks})),(a,o)=>{const i=200*Math.pow(2,a);return o&&oj(o)&&Date.now()+i-n<Hu})}catch(n){if(this._debug(r,"error",n),vt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await sc(this.storage,this.storageKey);if(a&&this.userStorage){let i=await sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Gu(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:lj()}else if(a&&!a.user&&!a.user){const i=await sc(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Ui(this.storage,this.storageKey+"-user"),await Gu(this.storage,this.storageKey,a)):a.user=lj()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sj;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${sj}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),oj(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new eb;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Gs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),vt(o)){const i={data:null,error:o};return oj(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=mk(a);await Gu(this.storage,this.storageKey,o)}else{const a=mk(r);await Gu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ui(this.storage,this.storageKey),await Ui(this.storage,this.storageKey+"-code-verifier"),await Ui(this.storage,this.storageKey+"-user"),this.userStorage&&await Ui(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Hu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Hu}ms, refresh threshold is ${V1} ticks`),a<=V1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Tu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await _t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ore(t.webauthn.credential_response):ire(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:are(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:sre(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ij(n.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await _t(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Gs})})}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Gs});const i=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Gs});const i=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+pte>a)return n;const{data:o,error:i}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=ij(n);r!=null&&r.allowExpired||Ite(o.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:a,signature:i},error:null}}const f=Lte(a.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,i,Nte(`${l}.${c}`)))throw new H1("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}}Qm.nextInstanceID={};const gre=Qm;class vre extends gre{constructor(t){super(t)}}class yre{constructor(t,r,n){var a,o,i;this.supabaseUrl=t,this.supabaseKey=r;const l=ute(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:rte,realtime:ate,auth:Object.assign(Object.assign({},nte),{storageKey:c}),global:tte},f=cte(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=ite(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new dee(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Zee(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new lee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:i,flowType:l,lock:c,debug:u,throwOnError:f},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vre({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:o,flowType:l,lock:c,debug:u,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Oee(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xre=(e,t,r)=>new yre(e,t,r);function bre(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bre()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wre="https://fplfjqttuvawzachfnob.supabase.co",gF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZwbGZqcXR0dXZhd3phY2hmbm9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMTE4MDYsImV4cCI6MjA3NzY4NzgwNn0.mW5zagf6JeS5oomwp4wBU5ZjlIHnG8YjLXIe2XiKwdM",yc=!!gF,Z=xre(wre,gF),vF=x.createContext(void 0);function jre({children:e}){const[t,r]=x.useState(null),[n,a]=x.useState(null),[o,i]=x.useState(null),[l,c]=x.useState(null),[u,f]=x.useState(!0),{toast:d}=en(),h=async y=>{try{const{data:b,error:_}=await Z.from("profiles").select("*").eq("id",y).single();if(_)throw _;i(b);const{data:j,error:N}=await Z.from("user_roles").select("role").eq("user_id",y).single();if(N)throw N;c(j.role)}catch(b){console.error("Error fetching profile:",b)}};x.useEffect(()=>{if(!yc){console.error("Supabase no configurado: defina VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY no ambiente."),f(!1);return}const{data:{subscription:y}}=Z.auth.onAuthStateChange((b,_)=>{a(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{h(_.user.id)},0):(i(null),c(null)),f(!1)});return Z.auth.getSession().then(({data:{session:b}})=>{a(b),r((b==null?void 0:b.user)??null),b!=null&&b.user&&setTimeout(()=>{h(b.user.id)},0),f(!1)}),()=>y.unsubscribe()},[]);const m=async(y,b)=>{if(!yc)return{error:new Error("Supabase no configurado no ambiente. Configure VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.")};try{const{error:_}=await Z.auth.signInWithPassword({email:y,password:b});return _?_.message.includes("Invalid login credentials")?{error:new Error("Email ou senha incorretos")}:{error:_}:{error:null}}catch(_){return{error:_}}},g=async(y,b,_)=>{if(!yc)return{error:new Error("Supabase no configurado no ambiente. Configure VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.")};try{const j=`${window.location.origin}/`,{error:N}=await Z.auth.signUp({email:y,password:b,options:{emailRedirectTo:j,data:{nome_completo:_}}});return N?N.message.includes("already registered")?{error:new Error("Este email j est cadastrado")}:{error:N}:(d({title:"Conta criada com sucesso!",description:"Voc j pode fazer login."}),{error:null})}catch(j){return{error:j}}},p=async()=>{try{const{error:y}=await Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});return y?{error:y}:{error:null}}catch(y){return{error:y}}},v=async()=>{yc&&(await Z.auth.signOut(),r(null),a(null),i(null),c(null))},w=async y=>{if(!t)return{error:new Error("Usurio no autenticado")};if(!yc)return{error:new Error("Supabase no configurado no ambiente.")};try{const{error:b}=await Z.from("profiles").update(y).eq("id",t.id);if(b)throw b;return i(_=>_?{..._,...y}:null),d({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso."}),{error:null}}catch(b){return{error:b}}};return s.jsx(vF.Provider,{value:{user:t,session:n,profile:o,userRole:l,loading:u,signIn:m,signUp:g,signInWithGoogle:p,signOut:v,updateProfile:w},children:e})}function dn(){const e=x.useContext(vF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function xc({className:e,...t}){return s.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",e),...t})}function _a({children:e}){const{user:t,loading:r}=dn(),n=Bs();return x.useEffect(()=>{!r&&!t&&n("/auth")},[t,r,n]),r?s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx(xc,{className:"h-12 w-64"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(xc,{className:"h-32 rounded-xl"}),s.jsx(xc,{className:"h-32 rounded-xl"}),s.jsx(xc,{className:"h-32 rounded-xl"}),s.jsx(xc,{className:"h-32 rounded-xl"})]})]})}):t?s.jsx(s.Fragment,{children:e}):null}function tb(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rb="Switch",[_re]=na(rb),[Nre,Sre]=_re(rb),yF=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,m]=x.useState(null),g=Mt(t,b=>m(b)),p=x.useRef(!1),v=h?f||!!h.closest("form"):!0,[w,y]=$s({prop:a,defaultProp:o??!1,onChange:u,caller:rb});return s.jsxs(Nre,{scope:r,checked:w,disabled:l,children:[s.jsx(pt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":jF(w),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:g,onClick:Se(e.onClick,b=>{y(_=>!_),v&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),v&&s.jsx(wF,{control:h,bubbles:!p.current,name:n,value:c,checked:w,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});yF.displayName=rb;var xF="SwitchThumb",bF=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Sre(xF,r);return s.jsx(pt.span,{"data-state":jF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});bF.displayName=xF;var Cre="SwitchBubbleInput",wF=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},o)=>{const i=x.useRef(null),l=Mt(i,o),c=tb(r),u=H0(t);return x.useEffect(()=>{const f=i.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wF.displayName=Cre;function jF(e){return e?"checked":"unchecked"}var _F=yF,Ere=bF;const NF=x.forwardRef(({className:e,...t},r)=>s.jsx(_F,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(Ere,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));NF.displayName=_F.displayName;var Ore=x.createContext(void 0);function yg(e){const t=x.useContext(Ore);return e||t||"ltr"}var uj=0;function nb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wk()),document.body.insertAdjacentElement("beforeend",e[1]??wk()),uj++,()=>{uj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uj--}},[])}function wk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dj="focusScope.autoFocusOnMount",fj="focusScope.autoFocusOnUnmount",jk={bubbles:!1,cancelable:!0},Are="FocusScope",xg=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=x.useState(null),u=ta(a),f=ta(o),d=x.useRef(null),h=Mt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?d.current=_:Wi(d.current,{select:!0})},v=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Wi(d.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Wi(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){Nk.add(m);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(dj,jk);l.addEventListener(dj,u),l.dispatchEvent(w),w.defaultPrevented||(Pre($re(SF(l)),{select:!0}),document.activeElement===p&&Wi(l))}return()=>{l.removeEventListener(dj,u),setTimeout(()=>{const w=new CustomEvent(fj,jk);l.addEventListener(fj,f),l.dispatchEvent(w),w.defaultPrevented||Wi(p??document.body,{select:!0}),l.removeEventListener(fj,f),Nk.remove(m)},0)}}},[l,u,f,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(v&&w){const y=p.currentTarget,[b,_]=kre(y);b&&_?!p.shiftKey&&w===_?(p.preventDefault(),r&&Wi(b,{select:!0})):p.shiftKey&&w===b&&(p.preventDefault(),r&&Wi(_,{select:!0})):w===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(pt.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});xg.displayName=Are;function Pre(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wi(n,{select:t}),document.activeElement!==r)return}function kre(e){const t=SF(e),r=_k(t,e),n=_k(t.reverse(),e);return[r,n]}function SF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _k(e,t){for(const r of e)if(!Tre(r,{upTo:t}))return r}function Tre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mre(e){return e instanceof HTMLInputElement&&"select"in e}function Wi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mre(e)&&t&&e.select()}}var Nk=Rre();function Rre(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Sk(e,t),e.unshift(t)},remove(t){var r;e=Sk(e,t),(r=e[0])==null||r.resume()}}}function Sk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $re(e){return e.filter(t=>t.tagName!=="A")}var hj="rovingFocusGroup.onEntryFocus",Dre={bubbles:!1,cancelable:!0},bg="RovingFocusGroup",[G1,CF,Ire]=lg(bg),[Lre,ab]=na(bg,[Ire]),[Fre,Bre]=Lre(bg),EF=x.forwardRef((e,t)=>s.jsx(G1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(G1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(zre,{...e,ref:t})})}));EF.displayName=bg;var zre=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=x.useRef(null),m=Mt(t,h),g=yg(o),[p,v]=$s({prop:i,defaultProp:l??null,onChange:c,caller:bg}),[w,y]=x.useState(!1),b=ta(u),_=CF(r),j=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(hj,b),()=>C.removeEventListener(hj,b)},[b]),s.jsx(Fre,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(C=>v(C),[v]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>S(C=>C-1),[]),children:s.jsx(pt.div,{tabIndex:w||N===0?-1:0,"data-orientation":n,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{j.current=!0}),onFocus:Se(e.onFocus,C=>{const E=!j.current;if(C.target===C.currentTarget&&E&&!w){const P=new CustomEvent(hj,Dre);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=_().filter(D=>D.focusable),M=A.find(D=>D.active),O=A.find(D=>D.id===p),L=[M,O,...A].filter(Boolean).map(D=>D.ref.current);PF(L,f)}}j.current=!1}),onBlur:Se(e.onBlur,()=>y(!1))})})}),OF="RovingFocusGroupItem",AF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=As(),u=o||c,f=Bre(OF,r),d=f.currentTabStopId===u,h=CF(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=f;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(G1.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(pt.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Se(e.onMouseDown,v=>{n?f.onItemFocus(u):v.preventDefault()}),onFocus:Se(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Se(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){f.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=qre(v,f.orientation,f.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=f.loop?Wre(b,_+1):b.slice(_+1)}setTimeout(()=>PF(b))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:p!=null}):i})})});AF.displayName=OF;var Ure={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vre(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qre(e,t,r){const n=Vre(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ure[n]}function PF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Wre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var kF=EF,TF=AF,Hre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Du=new WeakMap,bv=new WeakMap,wv={},mj=0,MF=function(e){return e&&(e.host||MF(e.parentNode))},Gre=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Kre=function(e,t,r,n){var a=Gre(t,Array.isArray(e)?e:[e]);wv[r]||(wv[r]=new WeakMap);var o=wv[r],i=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Du.get(h)||0)+1,v=(o.get(h)||0)+1;Du.set(h,p),o.set(h,v),i.push(h),p===1&&g&&bv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return f(t),l.clear(),mj++,function(){i.forEach(function(d){var h=Du.get(d)-1,m=o.get(d)-1;Du.set(d,h),o.set(d,m),h||(bv.has(d)||d.removeAttribute(n),bv.delete(d)),m||d.removeAttribute(r)}),mj--,mj||(Du=new WeakMap,Du=new WeakMap,bv=new WeakMap,wv={})}},sb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Hre(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Kre(n,a,r,"aria-hidden")):function(){return null}},sy="right-scroll-bar-position",oy="width-before-scroll-bar",Yre="with-scroll-bars-hidden",Xre="--removed-body-scroll-bar-size";function pj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qre(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Zre=typeof window<"u"?x.useLayoutEffect:x.useEffect,Ck=new WeakMap;function Jre(e,t){var r=Qre(null,function(n){return e.forEach(function(a){return pj(a,n)})});return Zre(function(){var n=Ck.get(r);if(n){var a=new Set(n),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||pj(l,null)}),o.forEach(function(l){a.has(l)||pj(l,i)})}Ck.set(r,e)},[e]),r}function ene(e){return e}function tne(e,t){t===void 0&&(t=ene);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var f=i;i=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),r}}}};return a}function rne(e){e===void 0&&(e={});var t=tne(null);return t.options=Ns({async:!0,ssr:!1},e),t}var RF=function(e){var t=e.sideCar,r=Gl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ns({},r))};RF.isSideCarExport=!0;function nne(e,t){return e.useMedium(t),RF}var $F=rne(),gj=function(){},ob=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:gj,onWheelCapture:gj,onTouchMoveCapture:gj}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,b=e.gapMode,_=Gl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=Jre([r,t]),S=Ns(Ns({},_),a);return x.createElement(x.Fragment,null,f&&x.createElement(j,{sideCar:$F,removeScrollBar:u,shards:d,noRelative:m,noIsolation:g,inert:p,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?x.cloneElement(x.Children.only(l),Ns(Ns({},S),{ref:N})):x.createElement(y,Ns({},S,{className:c,ref:N}),l))});ob.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ob.classNames={fullWidth:oy,zeroRight:sy};var ane=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ane();return t&&e.setAttribute("nonce",t),e}function one(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ine(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=sne())&&(one(t,r),ine(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cne=function(){var e=lne();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},DF=function(){var e=cne(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},une={left:0,top:0,right:0,gap:0},vj=function(e){return parseInt(e||"",10)||0},dne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vj(r),vj(n),vj(a)]},fne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return une;var t=dne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},hne=DF(),Cd="data-scroll-locked",mne=function(e,t,r,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Yre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(oy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sy," .").concat(sy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(oy," .").concat(oy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cd,`] {
    `).concat(Xre,": ").concat(l,`px;
  }
`)},Ek=function(){var e=parseInt(document.body.getAttribute(Cd)||"0",10);return isFinite(e)?e:0},pne=function(){x.useEffect(function(){return document.body.setAttribute(Cd,(Ek()+1).toString()),function(){var e=Ek()-1;e<=0?document.body.removeAttribute(Cd):document.body.setAttribute(Cd,e.toString())}},[])},gne=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;pne();var o=x.useMemo(function(){return fne(a)},[a]);return x.createElement(hne,{styles:mne(o,!t,a,r?"":"!important")})},K1=!1;if(typeof window<"u")try{var jv=Object.defineProperty({},"passive",{get:function(){return K1=!0,!0}});window.addEventListener("test",jv,jv),window.removeEventListener("test",jv,jv)}catch{K1=!1}var Iu=K1?{passive:!1}:!1,vne=function(e){return e.tagName==="TEXTAREA"},IF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vne(e)&&r[t]==="visible")},yne=function(e){return IF(e,"overflowY")},xne=function(e){return IF(e,"overflowX")},Ok=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=LF(e,n);if(a){var o=FF(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},bne=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wne=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},LF=function(e,t){return e==="v"?yne(t):xne(t)},FF=function(e,t){return e==="v"?bne(t):wne(t)},jne=function(e,t){return e==="h"&&t==="rtl"?-1:1},_ne=function(e,t,r,n,a){var o=jne(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,f=i>0,d=0,h=0;do{if(!l)break;var m=FF(e,l),g=m[0],p=m[1],v=m[2],w=p-v-o*g;(g||w)&&LF(e,l)&&(d+=w,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},_v=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ak=function(e){return[e.deltaX,e.deltaY]},Pk=function(e){return e&&"current"in e?e.current:e},Nne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cne=0,Lu=[];function Ene(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Cne++)[0],o=x.useState(DF)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=jE([e.lockRef.current],(e.shards||[]).map(Pk),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var w=_v(p),y=r.current,b="deltaX"in p?p.deltaX:y[0]-w[0],_="deltaY"in p?p.deltaY:y[1]-w[1],j,N=p.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&N.type==="range")return!1;var C=Ok(S,N);if(!C)return!0;if(C?j=S:(j=S==="v"?"h":"v",C=Ok(S,N)),!C)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=j),!j)return!0;var E=n.current||j;return _ne(E,v,p,E==="h"?b:_)},[]),c=x.useCallback(function(p){var v=p;if(!(!Lu.length||Lu[Lu.length-1]!==o)){var w="deltaY"in v?Ak(v):_v(v),y=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Nne(j.delta,w)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(Pk).filter(Boolean).filter(function(j){return j.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(p,v,w,y){var b={name:p,delta:v,target:w,should:y,shadowParent:One(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),f=x.useCallback(function(p){r.current=_v(p),n.current=void 0},[]),d=x.useCallback(function(p){u(p.type,Ak(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,_v(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Lu.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Iu),document.addEventListener("touchmove",c,Iu),document.addEventListener("touchstart",f,Iu),function(){Lu=Lu.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Iu),document.removeEventListener("touchmove",c,Iu),document.removeEventListener("touchstart",f,Iu)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(o,{styles:Sne(a)}):null,m?x.createElement(gne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function One(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ane=nne($F,Ene);var wg=x.forwardRef(function(e,t){return x.createElement(ob,Ns({},e,{ref:t,sideCar:Ane}))});wg.classNames=ob.classNames;var Y1=["Enter"," "],Pne=["ArrowDown","PageUp","Home"],BF=["ArrowUp","PageDown","End"],kne=[...Pne,...BF],Tne={ltr:[...Y1,"ArrowRight"],rtl:[...Y1,"ArrowLeft"]},Mne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jg="Menu",[Zm,Rne,$ne]=lg(jg),[xu,ib]=na(jg,[$ne,Hl,ab]),lb=Hl(),zF=ab(),[Dne,bu]=xu(jg),[Ine,_g]=xu(jg),UF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=lb(t),[c,u]=x.useState(null),f=x.useRef(!1),d=ta(o),h=yg(a);return x.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(G0,{...l,children:s.jsx(Dne,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(Ine,{scope:t,onClose:x.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:n})})})};UF.displayName=jg;var Lne="MenuAnchor",kE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=lb(r);return s.jsx(pg,{...a,...n,ref:t})});kE.displayName=Lne;var TE="MenuPortal",[Fne,VF]=xu(TE,{forceMount:void 0}),qF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=bu(TE,t);return s.jsx(Fne,{scope:t,forceMount:r,children:s.jsx(La,{present:r||o.open,children:s.jsx(Wf,{asChild:!0,container:a,children:n})})})};qF.displayName=TE;var Ps="MenuContent",[Bne,ME]=xu(Ps),WF=x.forwardRef((e,t)=>{const r=VF(Ps,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=bu(Ps,e.__scopeMenu),i=_g(Ps,e.__scopeMenu);return s.jsx(Zm.Provider,{scope:e.__scopeMenu,children:s.jsx(La,{present:n||o.open,children:s.jsx(Zm.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(zne,{...a,ref:t}):s.jsx(Une,{...a,ref:t})})})})}),zne=x.forwardRef((e,t)=>{const r=bu(Ps,e.__scopeMenu),n=x.useRef(null),a=Mt(t,n);return x.useEffect(()=>{const o=n.current;if(o)return sb(o)},[]),s.jsx(RE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Une=x.forwardRef((e,t)=>{const r=bu(Ps,e.__scopeMenu);return s.jsx(RE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Vne=Jc("MenuContent.ScrollLock"),RE=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=bu(Ps,r),w=_g(Ps,r),y=lb(r),b=zF(r),_=Rne(r),[j,N]=x.useState(null),S=x.useRef(null),C=Mt(t,S,v.onContentChange),E=x.useRef(0),P=x.useRef(""),A=x.useRef(0),M=x.useRef(null),O=x.useRef("right"),R=x.useRef(0),L=g?wg:x.Fragment,D=g?{as:Vne,allowPinchZoom:!0}:void 0,B=T=>{var he,qe;const q=P.current+T,Q=_().filter(ie=>!ie.disabled),F=document.activeElement,X=(he=Q.find(ie=>ie.ref.current===F))==null?void 0:he.textValue,ce=Q.map(ie=>ie.textValue),pe=tae(ce,q,X),ge=(qe=Q.find(ie=>ie.textValue===pe))==null?void 0:qe.ref.current;(function ie(ye){P.current=ye,window.clearTimeout(E.current),ye!==""&&(E.current=window.setTimeout(()=>ie(""),1e3))})(q),ge&&setTimeout(()=>ge.focus())};x.useEffect(()=>()=>window.clearTimeout(E.current),[]),nb();const k=x.useCallback(T=>{var Q,F;return O.current===((Q=M.current)==null?void 0:Q.side)&&nae(T,(F=M.current)==null?void 0:F.area)},[]);return s.jsx(Bne,{scope:r,searchRef:P,onItemEnter:x.useCallback(T=>{k(T)&&T.preventDefault()},[k]),onItemLeave:x.useCallback(T=>{var q;k(T)||((q=S.current)==null||q.focus(),N(null))},[k]),onTriggerLeave:x.useCallback(T=>{k(T)&&T.preventDefault()},[k]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(T=>{M.current=T},[]),children:s.jsx(L,{...D,children:s.jsx(xg,{asChild:!0,trapped:a,onMountAutoFocus:Se(o,T=>{var q;T.preventDefault(),(q=S.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(yu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:s.jsx(kF,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:Se(c,T=>{w.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(K0,{role:"menu","aria-orientation":"vertical","data-state":iB(v.open),"data-radix-menu-content":"",dir:w.dir,...y,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:Se(p.onKeyDown,T=>{const Q=T.target.closest("[data-radix-menu-content]")===T.currentTarget,F=T.ctrlKey||T.altKey||T.metaKey,X=T.key.length===1;Q&&(T.key==="Tab"&&T.preventDefault(),!F&&X&&B(T.key));const ce=S.current;if(T.target!==ce||!kne.includes(T.key))return;T.preventDefault();const ge=_().filter(he=>!he.disabled).map(he=>he.ref.current);BF.includes(T.key)&&ge.reverse(),Jne(ge)}),onBlur:Se(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:Se(e.onPointerMove,Jm(T=>{const q=T.target,Q=R.current!==T.clientX;if(T.currentTarget.contains(q)&&Q){const F=T.clientX>R.current?"right":"left";O.current=F,R.current=T.clientX}}))})})})})})})});WF.displayName=Ps;var qne="MenuGroup",$E=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(pt.div,{role:"group",...n,ref:t})});$E.displayName=qne;var Wne="MenuLabel",HF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(pt.div,{...n,ref:t})});HF.displayName=Wne;var Qy="MenuItem",kk="menu.itemSelect",cb=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=x.useRef(null),i=_g(Qy,e.__scopeMenu),l=ME(Qy,e.__scopeMenu),c=Mt(t,o),u=x.useRef(!1),f=()=>{const d=o.current;if(!r&&d){const h=new CustomEvent(kk,{bubbles:!0,cancelable:!0});d.addEventListener(kk,m=>n==null?void 0:n(m),{once:!0}),YC(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(GF,{...a,ref:c,disabled:r,onClick:Se(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:Se(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Se(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Y1.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});cb.displayName=Qy;var GF=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,i=ME(Qy,r),l=zF(r),c=x.useRef(null),u=Mt(t,c),[f,d]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[o.children]),s.jsx(Zm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(TF,{asChild:!0,...l,focusable:!n,children:s.jsx(pt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:Se(e.onPointerMove,Jm(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(e.onPointerLeave,Jm(g=>i.onItemLeave(g))),onFocus:Se(e.onFocus,()=>d(!0)),onBlur:Se(e.onBlur,()=>d(!1))})})})}),Hne="MenuCheckboxItem",KF=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(JF,{scope:e.__scopeMenu,checked:r,children:s.jsx(cb,{role:"menuitemcheckbox","aria-checked":Zy(r)?"mixed":r,...a,ref:t,"data-state":IE(r),onSelect:Se(a.onSelect,()=>n==null?void 0:n(Zy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});KF.displayName=Hne;var YF="MenuRadioGroup",[Gne,Kne]=xu(YF,{value:void 0,onValueChange:()=>{}}),XF=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=ta(n);return s.jsx(Gne,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx($E,{...a,ref:t})})});XF.displayName=YF;var QF="MenuRadioItem",ZF=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Kne(QF,e.__scopeMenu),o=r===a.value;return s.jsx(JF,{scope:e.__scopeMenu,checked:o,children:s.jsx(cb,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":IE(o),onSelect:Se(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});ZF.displayName=QF;var DE="MenuItemIndicator",[JF,Yne]=xu(DE,{checked:!1}),eB=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=Yne(DE,r);return s.jsx(La,{present:n||Zy(o.checked)||o.checked===!0,children:s.jsx(pt.span,{...a,ref:t,"data-state":IE(o.checked)})})});eB.displayName=DE;var Xne="MenuSeparator",tB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(pt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});tB.displayName=Xne;var Qne="MenuArrow",rB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=lb(r);return s.jsx(Y0,{...a,...n,ref:t})});rB.displayName=Qne;var Zne="MenuSub",[Y3e,nB]=xu(Zne),Kh="MenuSubTrigger",aB=x.forwardRef((e,t)=>{const r=bu(Kh,e.__scopeMenu),n=_g(Kh,e.__scopeMenu),a=nB(Kh,e.__scopeMenu),o=ME(Kh,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(kE,{asChild:!0,...u,children:s.jsx(GF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":iB(r.open),...e,ref:ig(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(e.onPointerMove,Jm(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Se(e.onPointerLeave,Jm(d=>{var m,g;f();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",w=v?-5:5,y=h[v?"left":"right"],b=h[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+w,y:d.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Se(e.onKeyDown,d=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||Tne[n.dir].includes(d.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),d.preventDefault())})})})});aB.displayName=Kh;var sB="MenuSubContent",oB=x.forwardRef((e,t)=>{const r=VF(Ps,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=bu(Ps,e.__scopeMenu),i=_g(Ps,e.__scopeMenu),l=nB(sB,e.__scopeMenu),c=x.useRef(null),u=Mt(t,c);return s.jsx(Zm.Provider,{scope:e.__scopeMenu,children:s.jsx(La,{present:n||o.open,children:s.jsx(Zm.Slot,{scope:e.__scopeMenu,children:s.jsx(RE,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Se(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Se(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Se(e.onKeyDown,f=>{var m;const d=f.currentTarget.contains(f.target),h=Mne[i.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(m=l.trigger)==null||m.focus(),f.preventDefault())})})})})})});oB.displayName=sB;function iB(e){return e?"open":"closed"}function Zy(e){return e==="indeterminate"}function IE(e){return Zy(e)?"indeterminate":e?"checked":"unchecked"}function Jne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function eae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function tae(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=eae(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function rae(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function nae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return rae(r,t)}function Jm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var lB=UF,cB=kE,uB=qF,dB=WF,fB=$E,hB=HF,mB=cb,pB=KF,gB=XF,vB=ZF,yB=eB,xB=tB,bB=rB,wB=aB,jB=oB,ub="DropdownMenu",[aae]=na(ub,[ib]),ba=ib(),[sae,_B]=aae(ub),NB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=ba(t),u=x.useRef(null),[f,d]=$s({prop:a,defaultProp:o??!1,onChange:i,caller:ub});return s.jsx(sae,{scope:t,triggerId:As(),triggerRef:u,contentId:As(),open:f,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:l,children:s.jsx(lB,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};NB.displayName=ub;var SB="DropdownMenuTrigger",CB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=_B(SB,r),i=ba(r);return s.jsx(cB,{asChild:!0,...i,children:s.jsx(pt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ig(t,o.triggerRef),onPointerDown:Se(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Se(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});CB.displayName=SB;var oae="DropdownMenuPortal",EB=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ba(t);return s.jsx(uB,{...n,...r})};EB.displayName=oae;var OB="DropdownMenuContent",AB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_B(OB,r),o=ba(r),i=x.useRef(!1);return s.jsx(dB,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:Se(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AB.displayName=OB;var iae="DropdownMenuGroup",lae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(fB,{...a,...n,ref:t})});lae.displayName=iae;var cae="DropdownMenuLabel",PB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(hB,{...a,...n,ref:t})});PB.displayName=cae;var uae="DropdownMenuItem",kB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(mB,{...a,...n,ref:t})});kB.displayName=uae;var dae="DropdownMenuCheckboxItem",TB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(pB,{...a,...n,ref:t})});TB.displayName=dae;var fae="DropdownMenuRadioGroup",hae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(gB,{...a,...n,ref:t})});hae.displayName=fae;var mae="DropdownMenuRadioItem",MB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(vB,{...a,...n,ref:t})});MB.displayName=mae;var pae="DropdownMenuItemIndicator",RB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(yB,{...a,...n,ref:t})});RB.displayName=pae;var gae="DropdownMenuSeparator",$B=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(xB,{...a,...n,ref:t})});$B.displayName=gae;var vae="DropdownMenuArrow",yae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(bB,{...a,...n,ref:t})});yae.displayName=vae;var xae="DropdownMenuSubTrigger",DB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(wB,{...a,...n,ref:t})});DB.displayName=xae;var bae="DropdownMenuSubContent",IB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(jB,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IB.displayName=bae;var wae=NB,jae=CB,_ae=EB,LB=AB,FB=PB,BB=kB,zB=TB,UB=MB,VB=RB,qB=$B,WB=DB,HB=IB;const LE=wae,FE=jae,Nae=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(WB,{ref:a,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Hf,{className:"ml-auto h-4 w-4"})]}));Nae.displayName=WB.displayName;const Sae=x.forwardRef(({className:e,...t},r)=>s.jsx(HB,{ref:r,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Sae.displayName=HB.displayName;const db=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(_ae,{children:s.jsx(LB,{ref:n,sideOffset:t,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));db.displayName=LB.displayName;const Ed=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(BB,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ed.displayName=BB.displayName;const GB=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(zB,{ref:a,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(VB,{children:s.jsx(yr,{className:"h-4 w-4"})})}),t]}));GB.displayName=zB.displayName;const Cae=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(UB,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(VB,{children:s.jsx(a3,{className:"h-2 w-2 fill-current"})})}),t]}));Cae.displayName=UB.displayName;const BE=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(FB,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));BE.displayName=FB.displayName;const Od=x.forwardRef(({className:e,...t},r)=>s.jsx(qB,{ref:r,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));Od.displayName=qB.displayName;function KB(e,t=[]){let r=[];function n(o,i){const l=x.createContext(i);l.displayName=o+"Context";const c=r.length;r=[...r,i];const u=d=>{var w;const{scope:h,children:m,...g}=d,p=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,v=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=o+"Provider";function f(d,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Eae(a,...t)]}function Eae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Oae=Symbol.for("react.lazy"),Jy=b0[" use ".trim().toString()];function Aae(e){return typeof e=="object"&&e!==null&&"then"in e}function YB(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Oae&&"_payload"in e&&Aae(e._payload)}function XB(e){const t=Pae(e),r=x.forwardRef((n,a)=>{let{children:o,...i}=n;YB(o)&&typeof Jy=="function"&&(o=Jy(o._payload));const l=x.Children.toArray(o),c=l.find(Tae);if(c){const u=c.props.children,f=l.map(d=>d===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}var QB=XB("Slot");function Pae(e){const t=x.forwardRef((r,n)=>{let{children:a,...o}=r;if(YB(a)&&typeof Jy=="function"&&(a=Jy(a._payload)),x.isValidElement(a)){const i=Rae(a),l=Mae(o,a.props);return a.type!==x.Fragment&&(l.ref=n?ig(n,i):i),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kae=Symbol("radix.slottable");function Tae(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kae}function Mae(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function Rae(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wu=$ae.reduce((e,t)=>{const r=XB(`Primitive.${t}`),n=x.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ZB={exports:{}},JB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=x;function Dae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Iae=typeof Object.is=="function"?Object.is:Dae,Lae=af.useState,Fae=af.useEffect,Bae=af.useLayoutEffect,zae=af.useDebugValue;function Uae(e,t){var r=t(),n=Lae({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return Bae(function(){a.value=r,a.getSnapshot=t,yj(a)&&o({inst:a})},[e,r,t]),Fae(function(){return yj(a)&&o({inst:a}),e(function(){yj(a)&&o({inst:a})})},[e]),zae(r),r}function yj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Iae(e,r)}catch{return!0}}function Vae(e,t){return t()}var qae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vae:Uae;JB.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:qae;ZB.exports=JB;var Wae=ZB.exports;function Hae(){return Wae.useSyncExternalStore(Gae,()=>!0,()=>!1)}function Gae(){return()=>{}}var zE="Avatar",[Kae]=KB(zE),[Yae,e6]=Kae(zE),t6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,o]=x.useState("idle");return s.jsx(Yae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(wu.span,{...n,ref:t})})});t6.displayName=zE;var r6="AvatarImage",n6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=e6(r6,r),l=Xae(n,o),c=ta(u=>{a(u),i.onImageLoadingStatusChange(u)});return bn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(wu.img,{...o,ref:t,src:n}):null});n6.displayName=r6;var a6="AvatarFallback",s6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,o=e6(a6,r),[i,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?s.jsx(wu.span,{...a,ref:t}):null});s6.displayName=a6;function Tk(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Xae(e,{referrerPolicy:t,crossOrigin:r}){const n=Hae(),a=x.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=x.useState(()=>Tk(o,e));return bn(()=>{l(Tk(o,e))},[o,e]),bn(()=>{const c=d=>()=>{l(d)};if(!o)return;const u=c("loaded"),f=c("error");return o.addEventListener("load",u),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",u),o.removeEventListener("error",f)}},[o,r,t]),i}var o6=t6,i6=n6,l6=s6;const c6=x.forwardRef(({className:e,...t},r)=>s.jsx(o6,{ref:r,className:Ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));c6.displayName=o6.displayName;const u6=x.forwardRef(({className:e,...t},r)=>s.jsx(i6,{ref:r,className:Ae("aspect-square h-full w-full",e),...t}));u6.displayName=i6.displayName;const d6=x.forwardRef(({className:e,...t},r)=>s.jsx(l6,{ref:r,className:Ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));d6.displayName=l6.displayName;function UE({avatarUrl:e,name:t,className:r}){const n=t.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return s.jsxs(c6,{className:Ae("border-2 border-border",r),children:[e&&s.jsx(u6,{src:e,alt:t,className:"object-cover object-center w-full h-full"}),s.jsx(d6,{className:"bg-primary text-primary-foreground font-semibold",children:n})]})}const Qae=ug.cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ft({className:e,variant:t,...r}){return s.jsx("div",{className:Ae(Qae({variant:t}),e),...r})}function Zae(){const{profile:e,userRole:t,signOut:r}=dn(),n=Bs(),a=async()=>{await r(),n("/auth")};if(!e)return null;const o={admin:"Administrador",manager:"Gerente",user:"Usurio"};return s.jsxs(LE,{children:[s.jsx(FE,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-3 hover:opacity-80 transition-opacity rounded-xl p-2 hover:bg-accent",children:[s.jsx(UE,{avatarUrl:e.avatar_url,name:e.nome_completo,className:"h-9 w-9"}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("p",{className:"text-sm font-medium",children:e.nome_completo}),t&&s.jsx(ft,{variant:"secondary",className:"text-xs mt-1",children:o[t]})]})]})}),s.jsxs(db,{align:"end",className:"w-56 rounded-xl",children:[s.jsx(BE,{children:"Minha Conta"}),s.jsx(Od,{}),s.jsxs(Ed,{onClick:()=>n("/perfil"),className:"rounded-lg",children:[s.jsx(iX,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Configuraes"})]}),s.jsx(Od,{}),s.jsxs(Ed,{onClick:a,className:"rounded-lg text-destructive",children:[s.jsx(XY,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Sair"})]})]})]})}const ep=ug.cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?QB:"button";return s.jsx(i,{className:Ae(ep({variant:t,size:r,className:e})),ref:o,...a})});H.displayName="Button";const te=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const Le=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));Le.displayName="CardHeader";const Fe=x.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fe.displayName="CardTitle";const Ja=x.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));Ja.displayName="CardDescription";const me=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("p-6 pt-0",e),...t}));me.displayName="CardContent";const Jae=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ae("flex items-center p-6 pt-0",e),...t}));Jae.displayName="CardFooter";function ese(){const[e,t]=x.useState([]),[r,n]=x.useState(0),[a,o]=x.useState(!1);x.useEffect(()=>{const h=[{id:"1",type:"appointment",title:"Novo Agendamento",message:"Maria Silva agendou uma sesso para amanh s 14h",timestamp:new Date(Date.now()-3e5),read:!1,priority:"high"},{id:"2",type:"payment",title:"Pagamento Recebido",message:"R$ 800,00 recebido de Joo Santos",timestamp:new Date(Date.now()-9e5),read:!1,priority:"medium"},{id:"3",type:"client",title:"Cliente Inativo",message:"Ana Costa no faz agendamentos h 90 dias",timestamp:new Date(Date.now()-18e5),read:!0,priority:"low"},{id:"4",type:"project",title:"Projeto Concludo",message:"Tatuagem das costas de Pedro Lima finalizada",timestamp:new Date(Date.now()-72e5),read:!1,priority:"medium"},{id:"5",type:"system",title:"Meta Atingida",message:"Parabns! Meta de receita mensal atingida",timestamp:new Date(Date.now()-144e5),read:!0,priority:"high"}];t(h),n(h.filter(g=>!g.read).length);const m=setInterval(()=>{const g={id:Date.now().toString(),type:["appointment","payment","client","project"][Math.floor(Math.random()*4)],title:"Nova Atividade",message:"Uma nova atividade foi detectada no sistema",timestamp:new Date,read:!1,priority:["high","medium","low"][Math.floor(Math.random()*3)]};t(p=>[g,...p.slice(0,7)]),n(p=>p+1)},45e3);return()=>clearInterval(m)},[]);const i=h=>{t(m=>m.map(g=>g.id===h?{...g,read:!0}:g)),n(m=>Math.max(0,m-1))},l=()=>{t(h=>h.map(m=>({...m,read:!0}))),n(0)},c=h=>{t(g=>g.filter(p=>p.id!==h));const m=e.find(g=>g.id===h);m&&!m.read&&n(g=>Math.max(0,g-1))},u=h=>{switch(h){case"appointment":return _r;case"payment":return ra;case"client":return Ds;case"project":return dg;case"system":return Pn;default:return Qw}},f=(h,m)=>{if(m==="high")return"text-red-600 bg-red-500/10";if(m==="medium")return"text-orange-600 bg-orange-500/10";switch(h){case"appointment":return"text-blue-600 bg-blue-500/10";case"payment":return"text-green-600 bg-green-500/10";case"client":return"text-purple-600 bg-purple-500/10";case"project":return"text-indigo-600 bg-indigo-500/10";case"system":return"text-cyan-600 bg-cyan-500/10";default:return"text-gray-600 bg-gray-500/10"}},d=h=>{const g=new Date().getTime()-h.getTime(),p=Math.floor(g/(1e3*60)),v=Math.floor(g/(1e3*60*60)),w=Math.floor(g/(1e3*60*60*24));return p<1?"Agora":p<60?`${p}min`:v<24?`${v}h`:`${w}d`};return s.jsxs(LE,{open:a,onOpenChange:o,children:[s.jsx(FE,{asChild:!0,children:s.jsxs(H,{variant:"ghost",size:"icon",className:"rounded-xl relative",children:[r>0?s.jsx(BY,{className:"w-5 h-5 text-primary"}):s.jsx(Qw,{className:"w-5 h-5"}),r>0&&s.jsx(ft,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:r>9?"9+":r})]})}),s.jsx(db,{align:"end",className:"w-96 p-0 rounded-3xl border-0 shadow-2xl bg-background/95 backdrop-blur-xl",sideOffset:8,children:s.jsxs(te,{className:"border-0 shadow-none bg-transparent",children:[s.jsx(Le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-lg",children:"Notificaes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[r>0&&s.jsxs(H,{variant:"ghost",size:"sm",onClick:l,className:"h-7 px-2 text-xs rounded-xl",children:[s.jsx($o,{className:"w-3 h-3 mr-1"}),"Marcar todas"]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})]})}),s.jsxs(me,{className:"space-y-2 max-h-80 overflow-y-auto",children:[e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Qw,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]}):e.slice(0,6).map(h=>{const m=u(h.type),g=f(h.type,h.priority);return s.jsx("div",{className:`p-3 rounded-2xl border transition-all hover:shadow-sm cursor-pointer ${h.read?"bg-muted/20 border-muted/30":"bg-background border-primary/20 shadow-sm"}`,onClick:()=>i(h.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-1.5 rounded-xl ${g} flex-shrink-0`,children:s.jsx(m,{className:"w-3 h-3"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:`font-medium text-xs truncate ${h.read?"text-muted-foreground":"text-foreground"}`,children:h.title}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:d(h.timestamp)}),s.jsx(H,{variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),c(h.id)},className:"h-4 w-4 p-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ef,{className:"w-3 h-3"})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:h.message}),!h.read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"})]})]})},h.id)}),e.length>6&&s.jsx("div",{className:"text-center pt-2",children:s.jsx(H,{variant:"ghost",size:"sm",className:"text-xs rounded-xl",children:"Ver todas as notificaes"})})]})]})})]})}const f6=x.createContext(void 0);function tse({children:e}){const t=wo(),[r,n]=x.useState(()=>localStorage.getItem("theme")??"system"),[a,o]=x.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[i,l]=x.useState(()=>{const g=localStorage.getItem("colorTheme"),p=["default","ocean","sunset","forest","purple","rose","black"],v="black",w=g??v;return p.includes(w)?w:v}),c=x.useMemo(()=>r==="system"?a:r,[r,a]);x.useEffect(()=>{var v;const g=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");if(!g)return;const p=w=>o(w.matches?"dark":"light");return o(g.matches?"dark":"light"),r==="system"&&((v=g.addEventListener)==null||v.call(g,"change",p)),()=>{var w;return(w=g.removeEventListener)==null?void 0:w.call(g,"change",p)}},[r]),x.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark"),g.classList.remove("theme-noxus","theme-ocean","theme-sunset","theme-forest","theme-purple","theme-rose","theme-black","theme-custom"),g.classList.add(c),g.style.setProperty("color-scheme",c),i!=="default"&&g.classList.add(`theme-${i}`),g.style.removeProperty("--primary"),g.style.removeProperty("--primary-foreground"),localStorage.setItem("theme",r),localStorage.setItem("colorTheme",i)},[c,r,i]),x.useEffect(()=>{const g=window.document.documentElement;g.style.removeProperty("--primary"),g.style.removeProperty("--accent"),g.style.removeProperty("--ring"),g.style.removeProperty("--primary-foreground")},[t.pathname]);const u=()=>{n(g=>g==="light"?"dark":"light")},f=g=>{n(g)},{user:d,profile:h}=dn();x.useEffect(()=>{const g=["default","ocean","sunset","forest","purple","rose","black"],p=h==null?void 0:h.color_theme;p&&g.includes(p)&&p!==i?l(p):d&&!p&&yc&&Z.from("profiles").update({color_theme:"black"}).eq("id",d.id)},[h==null?void 0:h.color_theme,d]);const m=g=>{l(g),d&&yc&&Z.from("profiles").update({color_theme:g}).eq("id",d.id)};return s.jsx(f6.Provider,{value:{theme:r,colorTheme:i,toggleTheme:u,setTheme:f,setColorTheme:m},children:e})}function ru(){const e=x.useContext(f6);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function rse(){const{theme:e,toggleTheme:t}=ru(),r=x.useMemo(()=>"NOXUS",[]);return s.jsxs("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-xl px-6 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(Nc,{to:"/",className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uo,{className:"w-6 h-6 text-primary"}),s.jsx("h1",{className:"tracking-tight text-foreground text-2xl font-black uppercase tracking-wide",style:{fontFamily:"'Montserrat', 'Oswald', 'Impact', sans-serif",letterSpacing:"0.05em"},children:r})]})})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h3,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(NF,{checked:e==="dark",onCheckedChange:t,className:"data-[state=checked]:bg-primary"}),s.jsx(l3,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(ese,{}),s.jsx(Zae,{})]})]})}const h6=x.createContext(void 0);function nse({children:e}){const[t,r]=x.useState(()=>localStorage.getItem("navigation-type")||"dock"),[n,a]=x.useState(()=>(localStorage.setItem("navigation-visible","true"),!0)),o=l=>{r(l),localStorage.setItem("navigation-type",l)},i=l=>{a(!0),localStorage.setItem("navigation-visible","true")};return s.jsx(h6.Provider,{value:{navigationType:t,setNavigationType:o,isNavigationVisible:n,setIsNavigationVisible:i},children:e})}function VE(){const e=x.useContext(h6);if(!e)throw new Error("useNavigation must be used within NavigationProvider");return e}const Mk=[{icon:Jd,label:"Dashboard",path:"/noxus"},{icon:Ds,label:"Clientes",path:"/clientes"},{icon:dg,label:"Projetos",path:"/projetos"},{icon:_r,label:"Agendamentos",path:"/agendamentos"},{icon:ZY,label:"Marketing",path:"/marketing"},{icon:rX,label:"Estoque",path:"/estoque"},{icon:ra,label:"Financeiro Tattoo",path:"/financeiro"}];function Rk(){const e=wo(),{isNavigationVisible:t}=VE(),[r,n]=x.useState({x:0,y:0}),[a,o]=x.useState(!1),i=x.useRef(null),l=f=>{if(i.current){const d=i.current.getBoundingClientRect();n({x:f.clientX-d.left,y:f.clientY-d.top})}},c=f=>{if(!a)return 1;const d=60,h=f*d+d/2,m=Math.abs(r.x-h),g=120;if(m>g)return 1;const p=1+.3*(1-m/g);return Math.max(1,Math.min(1.3,p))},u=()=>a?1+(Math.max(...Mk.map((d,h)=>c(h)))-1)*.2:1;return s.jsx("div",{className:t?"fixed bottom-6 left-1/2 -translate-x-1/2 z-50":"relative",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-foreground/10 via-foreground/20 to-foreground/10 blur-2xl rounded-full transition-transform duration-200 ease-out",style:{transform:`scale(${u()})`}}),s.jsx("div",{ref:i,className:"relative bg-background/90 backdrop-blur-3xl border border-foreground/20 rounded-full shadow-2xl px-4 py-3 transition-transform duration-200 ease-out",style:{transform:`scale(${u()})`},onMouseMove:l,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:s.jsx(pE,{children:s.jsx("div",{className:"flex items-center gap-2",children:Mk.map((f,d)=>{const h=e.pathname===f.path,m=f.icon,g=c(d);return s.jsxs(r5,{children:[s.jsx(n5,{asChild:!0,children:s.jsx(Nc,{to:f.path,children:s.jsxs("div",{className:`
                            relative p-2.5 rounded-full transition-all duration-200 ease-out group
                            ${h?"bg-primary/30 backdrop-blur-xl border border-primary/40 text-primary shadow-2xl shadow-primary/30":"bg-foreground/15 backdrop-blur-md border border-foreground/25 hover:bg-foreground/25 hover:border-foreground/45 hover:shadow-xl hover:shadow-foreground/20 active:scale-95"}
                          `,style:{transform:`scale(${g})`,zIndex:Math.round(g*10)},children:[s.jsx(m,{className:`w-4 h-4 transition-all duration-300 ${h?"drop-shadow-lg text-primary":"text-foreground/90 group-hover:text-foreground group-hover:drop-shadow-md"}`}),h&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-primary/80 rounded-full shadow-lg shadow-primary/30"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-primary/60 rounded-full animate-pulse"})]})]})})}),s.jsx(gE,{side:"top",className:"rounded-2xl bg-card/95 backdrop-blur-xl border-border/50",children:s.jsx("p",{className:"font-medium text-sm",children:f.label})})]},f.path)})})})})]})})}const ase=[{icon:o3,label:"Dashboard",path:"/"},{icon:Ds,label:"Clientes",path:"/clientes"},{icon:dg,label:"Projetos",path:"/projetos"},{icon:_r,label:"Agendamentos",path:"/agendamentos"},{icon:ra,label:"Financeiro",path:"/tattoo/financeiro"},{icon:ra,label:"Financeiro Tattoo",path:"/financeiro"},{icon:Iy,label:"Conhecimento",path:"/conhecimento"}];function sse(){const e=wo(),{theme:t,toggleTheme:r}=ru();return s.jsxs("aside",{className:"w-52 h-screen bg-card border-r border-border flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-border flex items-center gap-3",children:[s.jsx(Uo,{className:"w-10 h-10 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Sistema Noxus"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestor para Tatuadores"})]})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-1",children:ase.map(n=>{const a=e.pathname===n.path,o=n.icon;return s.jsx(Nc,{to:n.path,children:s.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-colors ${a?"bg-primary text-primary-foreground":"hover:bg-secondary text-foreground"}`,children:[s.jsx(o,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:n.label})]})},n.path)})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs(H,{variant:"ghost",size:"sm",onClick:r,className:"w-full justify-start gap-3 rounded-xl",children:[t==="light"?s.jsx(l3,{className:"w-5 h-5"}):s.jsx(h3,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:t==="light"?"Modo Escuro":"Modo Claro"})]})})]})}var fb="Dialog",[m6,p6]=na(fb),[ose,jo]=m6(fb),g6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,f]=$s({prop:n,defaultProp:a??!1,onChange:o,caller:fb});return s.jsx(ose,{scope:t,triggerRef:l,contentRef:c,contentId:As(),titleId:As(),descriptionId:As(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};g6.displayName=fb;var v6="DialogTrigger",y6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=jo(v6,r),o=Mt(t,a.triggerRef);return s.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":HE(a.open),...n,ref:o,onClick:Se(e.onClick,a.onOpenToggle)})});y6.displayName=v6;var qE="DialogPortal",[ise,x6]=m6(qE,{forceMount:void 0}),b6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=jo(qE,t);return s.jsx(ise,{scope:t,forceMount:r,children:x.Children.map(n,i=>s.jsx(La,{present:r||o.open,children:s.jsx(Wf,{asChild:!0,container:a,children:i})}))})};b6.displayName=qE;var ex="DialogOverlay",w6=x.forwardRef((e,t)=>{const r=x6(ex,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=jo(ex,e.__scopeDialog);return o.modal?s.jsx(La,{present:n||o.open,children:s.jsx(cse,{...a,ref:t})}):null});w6.displayName=ex;var lse=Jc("DialogOverlay.RemoveScroll"),cse=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=jo(ex,r);return s.jsx(wg,{as:lse,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(pt.div,{"data-state":HE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),nu="DialogContent",j6=x.forwardRef((e,t)=>{const r=x6(nu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=jo(nu,e.__scopeDialog);return s.jsx(La,{present:n||o.open,children:o.modal?s.jsx(use,{...a,ref:t}):s.jsx(dse,{...a,ref:t})})});j6.displayName=nu;var use=x.forwardRef((e,t)=>{const r=jo(nu,e.__scopeDialog),n=x.useRef(null),a=Mt(t,r.contentRef,n);return x.useEffect(()=>{const o=n.current;if(o)return sb(o)},[]),s.jsx(_6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,o=>o.preventDefault())})}),dse=x.forwardRef((e,t)=>{const r=jo(nu,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(_6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),_6=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=jo(nu,r),c=x.useRef(null),u=Mt(t,c);return nb(),s.jsxs(s.Fragment,{children:[s.jsx(xg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(yu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":HE(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(hse,{titleId:l.titleId}),s.jsx(pse,{contentRef:c,descriptionId:l.descriptionId})]})]})}),WE="DialogTitle",N6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=jo(WE,r);return s.jsx(pt.h2,{id:a.titleId,...n,ref:t})});N6.displayName=WE;var S6="DialogDescription",C6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=jo(S6,r);return s.jsx(pt.p,{id:a.descriptionId,...n,ref:t})});C6.displayName=S6;var E6="DialogClose",O6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=jo(E6,r);return s.jsx(pt.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,()=>a.onOpenChange(!1))})});O6.displayName=E6;function HE(e){return e?"open":"closed"}var A6="DialogTitleWarning",[fse,P6]=qK(A6,{contentName:nu,titleName:WE,docsSlug:"dialog"}),hse=({titleId:e})=>{const t=P6(A6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mse="DialogDescriptionWarning",pse=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P6(mse).contentName}}.`;return x.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},k6=g6,T6=y6,M6=b6,GE=w6,KE=j6,YE=N6,XE=C6,QE=O6;const Ir=k6,_o=T6,gse=M6,R6=x.forwardRef(({className:e,...t},r)=>s.jsx(GE,{ref:r,className:Ae("fixed inset-0 z-40 bg-background/70 backdrop-blur-[2px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));R6.displayName=GE.displayName;const Cr=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gse,{children:[s.jsx(R6,{}),s.jsxs(KE,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(QE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(ef,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cr.displayName=KE.displayName;const Er=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Er.displayName="DialogHeader";const hb=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hb.displayName="DialogFooter";const Or=x.forwardRef(({className:e,...t},r)=>s.jsx(YE,{ref:r,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Or.displayName=YE.displayName;const mb=x.forwardRef(({className:e,...t},r)=>s.jsx(XE,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));mb.displayName=XE.displayName;const de=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));de.displayName="Input";var $k;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})($k||($k={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dk;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Dk||(Dk={}));var Ik;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ik||(Ik={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=["user","model","function","system"];var Fk;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Fk||(Fk={}));var Bk;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Bk||(Bk={}));var zk;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(zk||(zk={}));var Uk;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Uk||(Uk={}));var hm;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(hm||(hm={}));var Vk;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Vk||(Vk={}));var qk;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(qk||(qk={}));var Wk;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Wk||(Wk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Fu extends Zn{constructor(t,r){super(t),this.response=r}}class $6 extends Zn{constructor(t,r,n,a){super(t),this.status=r,this.statusText=n,this.errorDetails=a}}class Pl extends Zn{}class D6 extends Zn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse="https://generativelanguage.googleapis.com",yse="v1beta",xse="0.24.1",bse="genai-js";var au;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(au||(au={}));class wse{constructor(t,r,n,a,o){this.model=t,this.task=r,this.apiKey=n,this.stream=a,this.requestOptions=o}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||yse;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||vse}/${n}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function jse(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${bse}/${xse}`),t.join(" ")}async function _se(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",jse(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(a){throw new Pl(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${a.message}`)}for(const[a,o]of n.entries()){if(a==="x-goog-api-key")throw new Pl(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Pl(`Header name ${a} can only be set using the apiClient field`);r.append(a,o)}}return r}async function Nse(e,t,r,n,a,o){const i=new wse(e,t,r,n,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},Ose(o)),{method:"POST",headers:await _se(i),body:a})}}async function Ng(e,t,r,n,a,o={},i=fetch){const{url:l,fetchOptions:c}=await Nse(e,t,r,n,a,o);return Sse(l,c,i)}async function Sse(e,t,r=fetch){let n;try{n=await r(e,t)}catch(a){Cse(a,e)}return n.ok||await Ese(n,e),n}function Cse(e,t){let r=e;throw r.name==="AbortError"?(r=new D6(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof $6||e instanceof Pl||(r=new Zn(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function Ese(e,t){let r="",n;try{const a=await e.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,n=a.error.details)}catch{}throw new $6(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Ose(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),iy(e.candidates[0]))throw new Fu(`${Yi(e)}`,e);return Ase(e)}else if(e.promptFeedback)throw new Fu(`Text not available. ${Yi(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),iy(e.candidates[0]))throw new Fu(`${Yi(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Hk(e)[0]}else if(e.promptFeedback)throw new Fu(`Function call not available. ${Yi(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),iy(e.candidates[0]))throw new Fu(`${Yi(e)}`,e);return Hk(e)}else if(e.promptFeedback)throw new Fu(`Function call not available. ${Yi(e)}`,e)},e}function Ase(e){var t,r,n,a;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.text&&o.push(i.text),i.executableCode&&o.push("\n```"+i.executableCode.language+`
`+i.executableCode.code+"\n```\n"),i.codeExecutionResult&&o.push("\n```\n"+i.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Hk(e){var t,r,n,a;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const i of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)i.functionCall&&o.push(i.functionCall);if(o.length>0)return o}const Pse=[hm.RECITATION,hm.SAFETY,hm.LANGUAGE];function iy(e){return!!e.finishReason&&Pse.includes(e.finishReason)}function Yi(e){var t,r,n;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const o=e.candidates[0];iy(o)&&(a+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(a+=`: ${o.finishMessage}`))}return a}function tp(e){return this instanceof tp?(this.v=e,this):new tp(e)}function kse(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(h){n[h]&&(a[h]=function(m){return new Promise(function(g,p){o.push([h,m,g,p])>1||l(h,m)})})}function l(h,m){try{c(n[h](m))}catch(g){d(o[0][3],g)}}function c(h){h.value instanceof tp?Promise.resolve(h.value.v).then(u,f):d(o[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,m){h(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Tse(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=$se(t),[n,a]=r.tee();return{stream:Rse(n),response:Mse(a)}}async function Mse(e){const t=[],r=e.getReader();for(;;){const{done:n,value:a}=await r.read();if(n)return ZE(Dse(t));t.push(a)}}function Rse(e){return kse(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:a}=yield tp(r.read());if(a)break;yield yield tp(ZE(n))}})}function $se(e){const t=e.getReader();return new ReadableStream({start(n){let a="";return o();function o(){return t.read().then(({value:i,done:l})=>{if(l){if(a.trim()){n.error(new Zn("Failed to parse stream"));return}n.close();return}a+=i;let c=a.match(Gk),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new Zn(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),a=a.substring(c[0].length),c=a.match(Gk)}return o()}).catch(i=>{let l=i;throw l.stack=i.stack,l.name==="AbortError"?l=new D6("Request aborted when reading from the stream"):l=new Zn("Error reading from the stream"),l})}}})}function Dse(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let a=0;for(const o of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=o.citationMetadata,r.candidates[a].groundingMetadata=o.groundingMetadata,r.candidates[a].finishReason=o.finishReason,r.candidates[a].finishMessage=o.finishMessage,r.candidates[a].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[a].content||(r.candidates[a].content={role:o.content.role||"user",parts:[]});const i={};for(const l of o.content.parts)l.text&&(i.text=l.text),l.functionCall&&(i.functionCall=l.functionCall),l.executableCode&&(i.executableCode=l.executableCode),l.codeExecutionResult&&(i.codeExecutionResult=l.codeExecutionResult),Object.keys(i).length===0&&(i.text=""),r.candidates[a].content.parts.push(i)}a++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(e,t,r,n){const a=await Ng(t,au.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return Tse(a)}async function L6(e,t,r,n){const o=await(await Ng(t,au.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:ZE(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function rp(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Ise(t)}function Ise(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,a=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),a=!0):(t.parts.push(o),n=!0);if(n&&a)throw new Zn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!a)throw new Zn("No content is provided for sending chat message.");return n?t:r}function Lse(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new Pl("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const o=rp(e);n.contents=[o]}return{generateContentRequest:n}}function Kk(e){let t;return e.contents?t=e:t={contents:[rp(e)]},e.systemInstruction&&(t.systemInstruction=F6(e.systemInstruction)),t}function Fse(e){return typeof e=="string"||Array.isArray(e)?{content:rp(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Bse={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function zse(e){let t=!1;for(const r of e){const{role:n,parts:a}=r;if(!t&&n!=="user")throw new Zn(`First content should be with role 'user', got ${n}`);if(!Lk.includes(n))throw new Zn(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Lk)}`);if(!Array.isArray(a))throw new Zn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Zn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of a)for(const c of Yk)c in l&&(o[c]+=1);const i=Bse[n];for(const l of Yk)if(!i.includes(l)&&o[l]>0)throw new Zn(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function Xk(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="SILENT_ERROR";class Use{constructor(t,r,n,a={}){this.model=r,this.params=n,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(zse(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,a,o,i,l,c;await this._sendPromise;const u=rp(t),f={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),r);let h;return this._sendPromise=this._sendPromise.then(()=>L6(this._apiKey,this.model,f,d)).then(m=>{var g;if(Xk(m.response)){this._history.push(u);const p=Object.assign({parts:[],role:"model"},(g=m.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(p)}else{const p=Yi(m.response);p&&console.warn(`sendMessage() was unsuccessful. ${p}. Inspect response object for details.`)}h=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,h}async sendMessageStream(t,r={}){var n,a,o,i,l,c;await this._sendPromise;const u=rp(t),f={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),r),h=I6(this._apiKey,this.model,f,d);return this._sendPromise=this._sendPromise.then(()=>h).catch(m=>{throw new Error(Qk)}).then(m=>m.response).then(m=>{if(Xk(m)){this._history.push(u);const g=Object.assign({},m.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Yi(m);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(m=>{m.message!==Qk&&console.error(m)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vse(e,t,r,n){return(await Ng(t,au.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qse(e,t,r,n){return(await Ng(t,au.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function Wse(e,t,r,n){const a=r.requests.map(i=>Object.assign(Object.assign({},i),{model:t}));return(await Ng(t,au.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=F6(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const a=Kk(t),o=Object.assign(Object.assign({},this._requestOptions),r);return L6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),o)}async generateContentStream(t,r={}){var n;const a=Kk(t),o=Object.assign(Object.assign({},this._requestOptions),r);return I6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),o)}startChat(t){var r;return new Use(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=Lse(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return Vse(this.apiKey,this.model,n,a)}async embedContent(t,r={}){const n=Fse(t),a=Object.assign(Object.assign({},this._requestOptions),r);return qse(this.apiKey,this.model,n,a)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return Wse(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Zn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Zk(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new Pl("Cached content must contain a `name` field.");if(!t.model)throw new Pl("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const i of a)if(r!=null&&r[i]&&t[i]&&(r==null?void 0:r[i])!==t[i]){if(i==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new Pl(`Different value for "${i}" specified in modelParams (${r[i]}) and cachedContent (${t[i]})`)}const o=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Zk(this.apiKey,o,n)}}const B6="AIzaSyA_qfJ4rr3OQQg9BdJosk11AYqckZXvH38",ly=["gemini-1.5-flash","gemini-1.5-flash-001","gemini-1.5-pro","gemini-1.0-pro","gemini-1.0-pro-001"];function Gse(e){const t=e.toLowerCase();return t.includes("preview")||t.includes("-exp")||t.includes("experimental")}async function Kse(){try{const e=`https://generativelanguage.googleapis.com/v1beta/models?key=${B6}`,t=await fetch(e);if(!t.ok)return console.warn(`ListModels falhou: status ${t.status}`),ly[0];const n=(await t.json()).models||[],a=c=>{const u=c.supportedGenerationMethods||c.supported_generation_methods||[];return Array.isArray(u)&&u.includes("generateContent")},o=n.filter(a).filter(c=>!Gse(String(c.name))),i=o.find(c=>String(c.name).includes("gemini-1.5-flash"))||o.find(c=>String(c.name).includes("gemini-1.5-pro"))||o.find(c=>String(c.name).includes("gemini-1.0-pro"))||o[0],l=(i==null?void 0:i.name)||ly[0];return String(l).replace(/^models\//,"")}catch(e){return console.warn("Falha ao resolver modelo Gemini via ListModels:",e),ly[0]}}async function z6(e){var u,f,d,h;const t=new Hse(B6),r=await Kse();console.debug("Usando modelo Gemini:",r);const n=((u=e.find(m=>m.role==="system"))==null?void 0:u.content)||"Voc  um assistente til focado em insights do negcio.",a=e.filter(m=>m.role!=="system").map(m=>`${m.role==="user"?"Usurio":"Assistente"}: ${m.content}`).join(`
`),o=`${n}

Histrico:
${a}

Responda em portugus com objetividade.`;let i;const l=[r,...ly.filter(m=>m!==r)];for(const m of l)try{const g=t.getGenerativeModel({model:m}),p=[{role:"user",parts:[{text:o}]}];return{role:"assistant",content:(await g.generateContent({contents:p})).response.text()}}catch(g){i=g;const p=((d=(f=g==null?void 0:g.message)==null?void 0:f.toLowerCase)==null?void 0:d.call(f))||"",v=(g==null?void 0:g.status)??((h=g==null?void 0:g.response)==null?void 0:h.status);if(v===429||p.includes("quota")||p.includes("rate limit")||p.includes("retry")){const y=`Limite/quota da API Gemini atingido para este projeto. 
- Verifique quotas em ai.dev/usage (aba 'rate-limit'). 
- Se a cota for 0 no Free Tier, vincule faturamento no AI Studio para desbloquear. 
- Aguarde ~3060s e tente novamente.`;throw new Error(y)}if(v===403||p.includes("permission")||p.includes("api key"))throw new Error("Permisso negada: verifique se a chave VITE_GEMINI_API_KEY est correta e ativa para o projeto.");if(v===404||p.includes("not found")||p.includes("unsupported")){console.warn(`Modelo no suportado/404: ${m}. Tentando prximo...`);continue}break}const c=(i==null?void 0:i.message)||String(i||"Erro desconhecido");throw new Error(`Falha ao gerar resposta com Gemini: ${c}`)}function Ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Un(e,t){const r=Ft(e);return isNaN(t)?wr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Is(e,t){const r=Ft(e);if(isNaN(t))return wr(e,NaN);if(!t)return r;const n=r.getDate(),a=wr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const JE=6048e5,Yse=864e5,eO=6e4,tO=36e5,Xse=1e3;let Qse={};function ju(){return Qse}function ls(e,t){var l,c,u,f;const r=ju(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Ft(e),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Ci(e){return ls(e,{weekStartsOn:1})}function U6(e){const t=Ft(e),r=t.getFullYear(),n=wr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Ci(n),o=wr(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Ci(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function sf(e){const t=Ft(e);return t.setHours(0,0,0,0),t}function of(e){const t=Ft(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Io(e,t){const r=sf(e),n=sf(t),a=+r-of(r),o=+n-of(n);return Math.round((a-o)/Yse)}function Zse(e){const t=U6(e),r=wr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ci(r)}function X1(e,t){const r=t*7;return Un(e,r)}function Jse(e,t){return Is(e,t*12)}function eoe(e){let t;return e.forEach(function(r){const n=Ft(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function toe(e){let t;return e.forEach(r=>{const n=Ft(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Pa(e,t){const r=sf(e),n=sf(t);return+r==+n}function rO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function roe(e){if(!rO(e)&&typeof e!="number")return!1;const t=Ft(e);return!isNaN(Number(t))}function np(e,t){const r=Ft(e),n=Ft(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function noe(e,t,r){const n=ls(e,r),a=ls(t,r),o=+n-of(n),i=+a-of(a);return Math.round((o-i)/JE)}function ka(e){const t=Ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Sg(e,t){const r=Ft(e.start),n=Ft(e.end);let a=+r>+n;const o=a?+r:+n,i=a?n:r;i.setHours(0,0,0,0),i.setDate(1);let l=1;const c=[];for(;+i<=o;)c.push(Ft(i)),i.setMonth(i.getMonth()+l);return a?c.reverse():c}function Gr(e){const t=Ft(e);return t.setDate(1),t.setHours(0,0,0,0),t}function V6(e){const t=Ft(e),r=wr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function nO(e,t){var l,c,u,f;const r=ju(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Ft(e),o=a.getDay(),i=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function q6(e){return nO(e,{weekStartsOn:1})}const aoe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},soe=(e,t,r)=>{let n;const a=aoe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ad(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ooe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ioe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},loe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},coe={date:Ad({formats:ooe,defaultWidth:"full"}),time:Ad({formats:ioe,defaultWidth:"full"}),dateTime:Ad({formats:loe,defaultWidth:"full"})},uoe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},doe=(e,t,r,n)=>uoe[e];function ko(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const foe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},moe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},poe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},goe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},voe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yoe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xoe={ordinalNumber:yoe,era:ko({values:foe,defaultWidth:"wide"}),quarter:ko({values:hoe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ko({values:moe,defaultWidth:"wide"}),day:ko({values:poe,defaultWidth:"wide"}),dayPeriod:ko({values:goe,defaultWidth:"wide",formattingValues:voe,defaultFormattingWidth:"wide"})};function To(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?woe(l,d=>d.test(i)):boe(l,d=>d.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(i.length);return{value:u,rest:f}}}function boe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function woe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function W6(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const joe=/^(\d+)(th|st|nd|rd)?/i,_oe=/\d+/i,Noe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Soe={any:[/^b/i,/^(a|c)/i]},Coe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Eoe={any:[/1/i,/2/i,/3/i,/4/i]},Ooe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Aoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Poe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},koe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Toe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Moe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Roe={ordinalNumber:W6({matchPattern:joe,parsePattern:_oe,valueCallback:e=>parseInt(e,10)}),era:To({matchPatterns:Noe,defaultMatchWidth:"wide",parsePatterns:Soe,defaultParseWidth:"any"}),quarter:To({matchPatterns:Coe,defaultMatchWidth:"wide",parsePatterns:Eoe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:To({matchPatterns:Ooe,defaultMatchWidth:"wide",parsePatterns:Aoe,defaultParseWidth:"any"}),day:To({matchPatterns:Poe,defaultMatchWidth:"wide",parsePatterns:koe,defaultParseWidth:"any"}),dayPeriod:To({matchPatterns:Toe,defaultMatchWidth:"any",parsePatterns:Moe,defaultParseWidth:"any"})},aO={code:"en-US",formatDistance:soe,formatLong:coe,formatRelative:doe,localize:xoe,match:Roe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $oe(e){const t=Ft(e);return Io(t,V6(t))+1}function sO(e){const t=Ft(e),r=+Ci(t)-+Zse(t);return Math.round(r/JE)+1}function oO(e,t){var f,d,h,m;const r=Ft(e),n=r.getFullYear(),a=ju(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=wr(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=ls(i,t),c=wr(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=ls(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Doe(e,t){var l,c,u,f;const r=ju(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,a=oO(e,t),o=wr(e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),ls(o,t)}function iO(e,t){const r=Ft(e),n=+ls(r,t)-+Doe(r,t);return Math.round(n/JE)+1}function lr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Vi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return lr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):lr(r+1,2)},d(e,t){return lr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return lr(e.getHours()%12||12,t.length)},H(e,t){return lr(e.getHours(),t.length)},m(e,t){return lr(e.getMinutes(),t.length)},s(e,t){return lr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return lr(a,t.length)}},Bu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jk={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Vi.y(e,t)},Y:function(e,t,r,n){const a=oO(e,n),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return lr(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):lr(o,t.length)},R:function(e,t){const r=U6(e);return lr(r,t.length)},u:function(e,t){const r=e.getFullYear();return lr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return lr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return lr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Vi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return lr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=iO(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):lr(a,t.length)},I:function(e,t,r){const n=sO(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):lr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vi.d(e,t)},D:function(e,t,r){const n=$oe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):lr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return lr(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return lr(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return lr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Bu.noon:n===0?a=Bu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Bu.evening:n>=12?a=Bu.afternoon:n>=4?a=Bu.morning:a=Bu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):lr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):lr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vi.s(e,t)},S:function(e,t){return Vi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return tT(n);case"XXXX":case"XX":return fc(n);case"XXXXX":case"XXX":default:return fc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return tT(n);case"xxxx":case"xx":return fc(n);case"xxxxx":case"xxx":default:return fc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eT(n,":");case"OOOO":default:return"GMT"+fc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eT(n,":");case"zzzz":default:return"GMT"+fc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return lr(n,t.length)},T:function(e,t,r){const n=e.getTime();return lr(n,t.length)}};function eT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+lr(o,2)}function tT(e,t){return e%60===0?(e>0?"-":"+")+lr(Math.abs(e)/60,2):fc(e,t)}function fc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=lr(Math.trunc(n/60),2),o=lr(n%60,2);return r+a+t+o}const rT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},H6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ioe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return rT(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",rT(n,t)).replace("{{time}}",H6(a,t))},Q1={p:H6,P:Ioe},Loe=/^D+$/,Foe=/^Y+$/,Boe=["D","DD","YY","YYYY"];function G6(e){return Loe.test(e)}function K6(e){return Foe.test(e)}function Z1(e,t,r){const n=zoe(e,t,r);if(console.warn(n),Boe.includes(e))throw new RangeError(n)}function zoe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Uoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Voe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qoe=/^'([^]*?)'?$/,Woe=/''/g,Hoe=/[a-zA-Z]/;function Xt(e,t,r){var f,d,h,m,g,p,v,w;const n=ju(),a=(r==null?void 0:r.locale)??n.locale??aO,o=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=Ft(e);if(!roe(l))throw new RangeError("Invalid time value");let c=t.match(Voe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const _=Q1[b];return _(y,a.formatLong)}return y}).join("").match(Uoe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:Goe(y)};if(Jk[b])return{isToken:!0,value:y};if(b.match(Hoe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&K6(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&G6(b))&&Z1(b,t,String(e));const _=Jk[b[0]];return _(l,b,a.localize,u)}).join("")}function Goe(e){const t=e.match(qoe);return t?t[1].replace(Woe,"'"):e}function Koe(e){const t=Ft(e),r=t.getFullYear(),n=t.getMonth(),a=wr(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Yoe(){return Object.assign({},ju())}function Xoe(e){let r=Ft(e).getDay();return r===0&&(r=7),r}function Qoe(e){return Math.trunc(+Ft(e)/1e3)}function Zoe(e){const t=Ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Joe(e,t){return noe(Zoe(e),Gr(e),t)+1}function J1(e,t){const r=Ft(e),n=Ft(t);return r.getTime()>n.getTime()}function Y6(e,t){const r=Ft(e),n=Ft(t);return+r<+n}function eie(e,t){const r=t instanceof Date?wr(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const tie=10;class X6{constructor(){Ve(this,"subPriority",0)}validate(t,r){return!0}}class rie extends X6{constructor(t,r,n,a,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class nie extends X6{constructor(){super(...arguments);Ve(this,"priority",tie);Ve(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:wr(r,eie(r,Date))}}class nr{run(t,r,n,a){const o=this.parse(t,r,n,a);return o?{setter:new rie(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}}class aie extends nr{constructor(){super(...arguments);Ve(this,"priority",140);Ve(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const ln={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Mo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function cn(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ro(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*tO+o*eO+i*Xse),rest:t.slice(r[0].length)}}function Q6(e){return Wr(ln.anyDigitsSigned,e)}function Jr(e,t){switch(e){case 1:return Wr(ln.singleDigit,t);case 2:return Wr(ln.twoDigits,t);case 3:return Wr(ln.threeDigits,t);case 4:return Wr(ln.fourDigits,t);default:return Wr(new RegExp("^\\d{1,"+e+"}"),t)}}function tx(e,t){switch(e){case 1:return Wr(ln.singleDigitSigned,t);case 2:return Wr(ln.twoDigitsSigned,t);case 3:return Wr(ln.threeDigitsSigned,t);case 4:return Wr(ln.fourDigitsSigned,t);default:return Wr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function lO(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Z6(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const o=n+50,i=Math.trunc(o/100)*100,l=e>=o%100;a=e+i-(l?100:0)}return r?a:1-a}function J6(e){return e%400===0||e%4===0&&e%100!==0}class sie extends nr{constructor(){super(...arguments);Ve(this,"priority",130);Ve(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const o=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return cn(Jr(4,r),o);case"yo":return cn(a.ordinalNumber(r,{unit:"year"}),o);default:return cn(Jr(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const o=r.getFullYear();if(a.isTwoDigitYear){const l=Z6(a.year,o);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class oie extends nr{constructor(){super(...arguments);Ve(this,"priority",130);Ve(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const o=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return cn(Jr(4,r),o);case"Yo":return cn(a.ordinalNumber(r,{unit:"year"}),o);default:return cn(Jr(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,o){const i=oO(r,o);if(a.isTwoDigitYear){const c=Z6(a.year,i);return r.setFullYear(c,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),ls(r,o)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),ls(r,o)}}class iie extends nr{constructor(){super(...arguments);Ve(this,"priority",130);Ve(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return tx(n==="R"?4:n.length,r)}set(r,n,a){const o=wr(r,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Ci(o)}}class lie extends nr{constructor(){super(...arguments);Ve(this,"priority",130);Ve(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return tx(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class cie extends nr{constructor(){super(...arguments);Ve(this,"priority",120);Ve(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Jr(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class uie extends nr{constructor(){super(...arguments);Ve(this,"priority",120);Ve(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Jr(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class die extends nr{constructor(){super(...arguments);Ve(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ve(this,"priority",110)}parse(r,n,a){const o=i=>i-1;switch(n){case"M":return cn(Wr(ln.month,r),o);case"MM":return cn(Jr(2,r),o);case"Mo":return cn(a.ordinalNumber(r,{unit:"month"}),o);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class fie extends nr{constructor(){super(...arguments);Ve(this,"priority",110);Ve(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const o=i=>i-1;switch(n){case"L":return cn(Wr(ln.month,r),o);case"LL":return cn(Jr(2,r),o);case"Lo":return cn(a.ordinalNumber(r,{unit:"month"}),o);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function hie(e,t,r){const n=Ft(e),a=iO(n,r)-t;return n.setDate(n.getDate()-a*7),n}class mie extends nr{constructor(){super(...arguments);Ve(this,"priority",100);Ve(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Wr(ln.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Jr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,o){return ls(hie(r,a,o),o)}}function pie(e,t){const r=Ft(e),n=sO(r)-t;return r.setDate(r.getDate()-n*7),r}class gie extends nr{constructor(){super(...arguments);Ve(this,"priority",100);Ve(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Wr(ln.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Jr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Ci(pie(r,a))}}const vie=[31,28,31,30,31,30,31,31,30,31,30,31],yie=[31,29,31,30,31,30,31,31,30,31,30,31];class xie extends nr{constructor(){super(...arguments);Ve(this,"priority",90);Ve(this,"subPriority",1);Ve(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Wr(ln.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Jr(n.length,r)}}validate(r,n){const a=r.getFullYear(),o=J6(a),i=r.getMonth();return o?n>=1&&n<=yie[i]:n>=1&&n<=vie[i]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class bie extends nr{constructor(){super(...arguments);Ve(this,"priority",90);Ve(this,"subpriority",1);Ve(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Wr(ln.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Jr(n.length,r)}}validate(r,n){const a=r.getFullYear();return J6(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function cO(e,t,r){var d,h,m,g;const n=ju(),a=(r==null?void 0:r.weekStartsOn)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,o=Ft(e),i=o.getDay(),c=(t%7+7)%7,u=7-a,f=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return Un(o,f)}class wie extends nr{constructor(){super(...arguments);Ve(this,"priority",90);Ve(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=cO(r,a,o),r.setHours(0,0,0,0),r}}class jie extends nr{constructor(){super(...arguments);Ve(this,"priority",90);Ve(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return cn(Jr(n.length,r),i);case"eo":return cn(a.ordinalNumber(r,{unit:"day"}),i);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=cO(r,a,o),r.setHours(0,0,0,0),r}}class _ie extends nr{constructor(){super(...arguments);Ve(this,"priority",90);Ve(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return cn(Jr(n.length,r),i);case"co":return cn(a.ordinalNumber(r,{unit:"day"}),i);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=cO(r,a,o),r.setHours(0,0,0,0),r}}function Nie(e,t){const r=Ft(e),n=Xoe(r),a=t-n;return Un(r,a)}class Sie extends nr{constructor(){super(...arguments);Ve(this,"priority",90);Ve(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const o=i=>i===0?7:i;switch(n){case"i":case"ii":return Jr(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return cn(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return cn(a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return cn(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return cn(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=Nie(r,a),r.setHours(0,0,0,0),r}}class Cie extends nr{constructor(){super(...arguments);Ve(this,"priority",80);Ve(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(lO(a),0,0,0),r}}class Eie extends nr{constructor(){super(...arguments);Ve(this,"priority",80);Ve(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(lO(a),0,0,0),r}}class Oie extends nr{constructor(){super(...arguments);Ve(this,"priority",80);Ve(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(lO(a),0,0,0),r}}class Aie extends nr{constructor(){super(...arguments);Ve(this,"priority",70);Ve(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Wr(ln.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const o=r.getHours()>=12;return o&&a<12?r.setHours(a+12,0,0,0):!o&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class Pie extends nr{constructor(){super(...arguments);Ve(this,"priority",70);Ve(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Wr(ln.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class kie extends nr{constructor(){super(...arguments);Ve(this,"priority",70);Ve(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Wr(ln.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Tie extends nr{constructor(){super(...arguments);Ve(this,"priority",70);Ve(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Wr(ln.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Jr(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const o=a<=24?a%24:a;return r.setHours(o,0,0,0),r}}class Mie extends nr{constructor(){super(...arguments);Ve(this,"priority",60);Ve(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Wr(ln.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Jr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class Rie extends nr{constructor(){super(...arguments);Ve(this,"priority",50);Ve(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Wr(ln.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Jr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class $ie extends nr{constructor(){super(...arguments);Ve(this,"priority",30);Ve(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return cn(Jr(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Die extends nr{constructor(){super(...arguments);Ve(this,"priority",10);Ve(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Ro(Mo.basicOptionalMinutes,r);case"XX":return Ro(Mo.basic,r);case"XXXX":return Ro(Mo.basicOptionalSeconds,r);case"XXXXX":return Ro(Mo.extendedOptionalSeconds,r);case"XXX":default:return Ro(Mo.extended,r)}}set(r,n,a){return n.timestampIsSet?r:wr(r,r.getTime()-of(r)-a)}}class Iie extends nr{constructor(){super(...arguments);Ve(this,"priority",10);Ve(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Ro(Mo.basicOptionalMinutes,r);case"xx":return Ro(Mo.basic,r);case"xxxx":return Ro(Mo.basicOptionalSeconds,r);case"xxxxx":return Ro(Mo.extendedOptionalSeconds,r);case"xxx":default:return Ro(Mo.extended,r)}}set(r,n,a){return n.timestampIsSet?r:wr(r,r.getTime()-of(r)-a)}}class Lie extends nr{constructor(){super(...arguments);Ve(this,"priority",40);Ve(this,"incompatibleTokens","*")}parse(r){return Q6(r)}set(r,n,a){return[wr(r,a*1e3),{timestampIsSet:!0}]}}class Fie extends nr{constructor(){super(...arguments);Ve(this,"priority",20);Ve(this,"incompatibleTokens","*")}parse(r){return Q6(r)}set(r,n,a){return[wr(r,a),{timestampIsSet:!0}]}}const Bie={G:new aie,y:new sie,Y:new oie,R:new iie,u:new lie,Q:new cie,q:new uie,M:new die,L:new fie,w:new mie,I:new gie,d:new xie,D:new bie,E:new wie,e:new jie,c:new _ie,i:new Sie,a:new Cie,b:new Eie,B:new Oie,h:new Aie,H:new Pie,K:new kie,k:new Tie,m:new Mie,s:new Rie,S:new $ie,X:new Die,x:new Iie,t:new Lie,T:new Fie},zie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vie=/^'([^]*?)'?$/,qie=/''/g,Wie=/\S/,Hie=/[a-zA-Z]/;function hl(e,t,r,n){var p,v,w,y;const a=Yoe(),o=a.locale??aO,i=a.firstWeekContainsDate??((v=(p=a.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,l=a.weekStartsOn??((y=(w=a.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,c={firstWeekContainsDate:i,weekStartsOn:l,locale:o},u=[new nie],f=t.match(Uie).map(b=>{const _=b[0];if(_ in Q1){const j=Q1[_];return j(b,o.formatLong)}return b}).join("").match(zie),d=[];for(let b of f){K6(b)&&Z1(b,t,e),G6(b)&&Z1(b,t,e);const _=b[0],j=Bie[_];if(j){const{incompatibleTokens:N}=j;if(Array.isArray(N)){const C=d.find(E=>N.includes(E.token)||E.token===_);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${b}\` at the same time`)}else if(j.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);d.push({token:_,fullToken:b});const S=j.run(e,b,o.match,c);if(!S)return wr(r,NaN);u.push(S.setter),e=S.rest}else{if(_.match(Hie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(b==="''"?b="'":_==="'"&&(b=Gie(b)),e.indexOf(b)===0)e=e.slice(b.length);else return wr(r,NaN)}}if(e.length>0&&Wie.test(e))return wr(r,NaN);const h=u.map(b=>b.priority).sort((b,_)=>_-b).filter((b,_,j)=>j.indexOf(b)===_).map(b=>u.filter(_=>_.priority===b).sort((_,j)=>j.subPriority-_.subPriority)).map(b=>b[0]);let m=Ft(r);if(isNaN(m.getTime()))return wr(r,NaN);const g={};for(const b of h){if(!b.validate(m,c))return wr(r,NaN);const _=b.set(m,g,c);Array.isArray(_)?(m=_[0],Object.assign(g,_[1])):m=_}return wr(r,m)}function Gie(e){return e.match(Vie)[1].replace(qie,"'")}function uO(e,t){const r=Ft(e),n=Ft(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Kie(e,t){const r=Ft(e),n=Ft(t);return r.getFullYear()===n.getFullYear()}function ml(e,t){return Un(e,-t)}function xj(e,t){const n=Zie(e);let a;if(n.date){const c=Jie(n.date,2);a=ele(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const o=a.getTime();let i=0,l;if(n.time&&(i=tle(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(l=rle(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+i+l)}const Nv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Yie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Qie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zie(e){const t={},r=e.split(Nv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Nv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Nv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Nv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Jie(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function ele(e,t){if(t===null)return new Date(NaN);const r=e.match(Yie);if(!r)return new Date(NaN);const n=!!r[4],a=Eh(r[1]),o=Eh(r[2])-1,i=Eh(r[3]),l=Eh(r[4]),c=Eh(r[5])-1;if(n)return ile(t,l,c)?nle(t,l,c):new Date(NaN);{const u=new Date(0);return!sle(t,o,i)||!ole(t,a)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(a,i)),u)}}function Eh(e){return e?parseInt(e):1}function tle(e){const t=e.match(Xie);if(!t)return NaN;const r=bj(t[1]),n=bj(t[2]),a=bj(t[3]);return lle(r,n,a)?r*tO+n*eO+a*1e3:NaN}function bj(e){return e&&parseFloat(e.replace(",","."))||0}function rle(e){if(e==="Z")return 0;const t=e.match(Qie);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return cle(n,a)?r*(n*tO+a*eO):NaN}function nle(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,o=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const ale=[31,null,31,30,31,30,31,31,30,31,30,31];function e8(e){return e%400===0||e%4===0&&e%100!==0}function sle(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ale[t]||(e8(e)?29:28))}function ole(e,t){return t>=1&&t<=(e8(e)?366:365)}function ile(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function lle(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function cle(e,t){return t>=0&&t<=59}function wj(e,t){const r=Ft(e),n=r.getFullYear(),a=r.getDate(),o=wr(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=Koe(o);return r.setMonth(t,Math.min(a,i)),r}function nT(e,t){const r=Ft(e);return isNaN(+r)?wr(e,NaN):(r.setFullYear(t),r)}function Ga(e,t){return Is(e,-t)}function t8(e="30d"){const r=(()=>{const j=new Date;switch(e){case"7d":return ml(j,7);case"30d":return ml(j,30);case"3m":return Ga(j,3);case"6m":return Ga(j,6);case"1y":return Ga(j,12);default:return null}})(),a=(()=>{const j=new Date;switch(e){case"7d":return ml(j,14);case"30d":return ml(j,60);case"3m":return Ga(j,6);case"6m":return Ga(j,12);case"1y":return Ga(j,24);default:return null}})(),{data:o,isLoading:i}=zi({queryKey:["projetos",e],queryFn:async()=>{let j=Z.from("projetos").select("*, clientes(nome)");r&&(j=j.gte("created_at",r.toISOString()));const{data:N,error:S}=await j;if(S)throw S;return N}}),{data:l,isLoading:c}=zi({queryKey:["projetos_prev",e],queryFn:async()=>{if(!r||!a)return[];const{data:j,error:N}=await Z.from("projetos").select("*, clientes(nome)").gte("created_at",a.toISOString()).lt("created_at",r.toISOString());if(N)throw N;return j||[]}}),{data:u,isLoading:f}=zi({queryKey:["clientes",e],queryFn:async()=>{let j=Z.from("clientes").select("*");r&&(j=j.gte("created_at",r.toISOString()));const{data:N,error:S}=await j;if(S)throw S;return N}}),{data:d,isLoading:h}=zi({queryKey:["clientes_prev",e],queryFn:async()=>{if(!r||!a)return[];const{data:j,error:N}=await Z.from("clientes").select("*").gte("created_at",a.toISOString()).lt("created_at",r.toISOString());if(N)throw N;return j||[]}}),{data:m,isLoading:g}=zi({queryKey:["transacoes",e],queryFn:async()=>{let j=Z.from("transacoes").select("*");r&&(j=j.gte("created_at",r.toISOString()));const{data:N,error:S}=await j;if(S)throw S;return N}}),{data:p,isLoading:v}=zi({queryKey:["transacoes_prev",e],queryFn:async()=>{if(!r||!a)return[];const{data:j,error:N}=await Z.from("transacoes").select("*").gte("created_at",a.toISOString()).lt("created_at",r.toISOString());if(N)throw N;return j||[]}}),{data:w,isLoading:y}=zi({queryKey:["agendamentos",e],queryFn:async()=>{let j=Z.from("agendamentos").select("*");r&&(j=j.gte("created_at",r.toISOString()));const{data:N,error:S}=await j;if(S)throw S;return N}}),{data:b,isLoading:_}=zi({queryKey:["agendamentos_prev",e],queryFn:async()=>{if(!r||!a)return[];const{data:j,error:N}=await Z.from("agendamentos").select("*").gte("created_at",a.toISOString()).lt("created_at",r.toISOString());if(N)throw N;return j||[]}});return{projetos:o||[],prevProjetos:l||[],clientes:u||[],prevClientes:d||[],transacoes:m||[],prevTransacoes:p||[],agendamentos:w||[],prevAgendamentos:b||[],isLoading:i||f||g||y||c||h||v||_}}var pb="Checkbox",[ule]=na(pb),[dle,dO]=ule(pb);function fle(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:d}=e,[h,m]=$s({prop:r,defaultProp:a??!1,onChange:c,caller:pb}),[g,p]=x.useState(null),[v,w]=x.useState(null),y=x.useRef(!1),b=g?!!i||!!g.closest("form"):!0,_={checked:h,disabled:o,setChecked:m,control:g,setControl:p,name:l,form:i,value:f,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:kl(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:w};return s.jsx(dle,{scope:t,..._,children:hle(d)?d(_):n})}var r8="CheckboxTrigger",n8=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=dO(r8,e),p=Mt(a,f),v=x.useRef(c);return x.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const y=()=>d(v.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[o,d]),s.jsx(pt.button,{type:"button",role:"checkbox","aria-checked":kl(c)?"mixed":c,"aria-required":u,"data-state":l8(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:p,onKeyDown:Se(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Se(r,w=>{d(y=>kl(y)?!0:!y),g&&m&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});n8.displayName=r8;var fO=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:f,...d}=e;return s.jsx(fle,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(n8,{...d,ref:t,__scopeCheckbox:r}),h&&s.jsx(i8,{__scopeCheckbox:r})]})})});fO.displayName=pb;var a8="CheckboxIndicator",s8=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=dO(a8,r);return s.jsx(La,{present:n||kl(o.checked)||o.checked===!0,children:s.jsx(pt.span,{"data-state":l8(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});s8.displayName=a8;var o8="CheckboxBubbleInput",i8=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:f,form:d,bubbleInput:h,setBubbleInput:m}=dO(o8,e),g=Mt(r,m),p=tb(o),v=H0(n);x.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,N=!a.current;if(p!==o&&j){const S=new Event("click",{bubbles:N});y.indeterminate=kl(o),j.call(y,kl(o)?!1:o),y.dispatchEvent(S)}},[h,p,o,a]);const w=x.useRef(kl(o)?!1:o);return s.jsx(pt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:l,disabled:c,name:u,value:f,form:d,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});i8.displayName=o8;function hle(e){return typeof e=="function"}function kl(e){return e==="indeterminate"}function l8(e){return kl(e)?"indeterminate":e?"checked":"unchecked"}const lf=x.forwardRef(({className:e,...t},r)=>s.jsx(fO,{ref:r,className:Ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(s8,{className:Ae("flex items-center justify-center text-current"),children:s.jsx(yr,{className:"h-4 w-4"})})}));lf.displayName=fO.displayName;function mle(){const[e,t]=x.useState([{role:"system",content:"Voc  um assistente de IA focado em gerar insights prticos sobre clientes, projetos, agenda e financeiro da Noxus."}]),[r,n]=x.useState(""),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState(!0),{user:f}=dn(),{clientes:d,projetos:h,agendamentos:m,transacoes:g,isLoading:p}=t8("30d"),v=x.useRef(null);x.useEffect(()=>{const j=v.current;j&&(j.scrollTop=j.scrollHeight)},[e,a]);function w(){try{const j=k=>String(k||"").toLowerCase(),N=(d||[]).map(k=>k==null?void 0:k.nome).filter(k=>typeof k=="string").slice(0,5),S=(h||[]).map(k=>k==null?void 0:k.titulo).filter(k=>typeof k=="string").slice(0,5),C=(m||[]).slice(0,3).map(k=>`${(k==null?void 0:k.status)||""}`).filter(k=>typeof k=="string"&&k.length>0),E=[`Usurio: ${(f==null?void 0:f.email)||"(no autenticado)"}`,`Clientes (30d): ${(d==null?void 0:d.length)||0}`,`Projetos (30d): ${(h==null?void 0:h.length)||0}`,`Agendamentos (30d): ${(m==null?void 0:m.length)||0}`,`Transaes (30d): ${(g==null?void 0:g.length)||0}`];N.length&&E.push(`Clientes em foco: ${N.join(", ")}`),S.length&&E.push(`Projetos em destaque: ${S.join(", ")}`),C.length&&E.push(`Agenda (amostra): ${C.join(", ")}`);const P=(g||[]).filter(k=>j(k==null?void 0:k.tipo)==="receita").reduce((k,T)=>k+Number((T==null?void 0:T.valor)||0),0),A=(g||[]).filter(k=>j(k==null?void 0:k.tipo)==="despesa").reduce((k,T)=>k+Number((T==null?void 0:T.valor)||0),0),M=P-A,O=(g||[]).filter(k=>j(k==null?void 0:k.tipo)==="receita"&&!!(k!=null&&k.data_liquidacao)).reduce((k,T)=>k+Number((T==null?void 0:T.valor)||0),0),R=(g||[]).filter(k=>j(k==null?void 0:k.tipo)==="receita"&&!(k!=null&&k.data_liquidacao)).reduce((k,T)=>k+Number((T==null?void 0:T.valor)||0),0),L=(g||[]).filter(k=>j(k==null?void 0:k.tipo)==="despesa"&&!!(k!=null&&k.data_liquidacao)).reduce((k,T)=>k+Number((T==null?void 0:T.valor)||0),0),D=(g||[]).filter(k=>j(k==null?void 0:k.tipo)==="despesa"&&!(k!=null&&k.data_liquidacao)).reduce((k,T)=>k+Number((T==null?void 0:T.valor)||0),0);E.push(`Receitas (30d): R$ ${P.toFixed(2)}`,`Despesas (30d): R$ ${A.toFixed(2)}`,`Saldo (30d): R$ ${M.toFixed(2)}`,`Receitas liquidadas: R$ ${O.toFixed(2)} | pendentes: R$ ${R.toFixed(2)}`,`Despesas liquidadas: R$ ${L.toFixed(2)} | pendentes: R$ ${D.toFixed(2)}`);const B=(g||[]).slice().sort((k,T)=>{const q=new Date((k==null?void 0:k.data_vencimento)||(k==null?void 0:k.created_at)||0).getTime();return new Date((T==null?void 0:T.data_vencimento)||(T==null?void 0:T.created_at)||0).getTime()-q}).slice(0,10).map(k=>{const T=new Date((k==null?void 0:k.data_vencimento)||(k==null?void 0:k.created_at)||Date.now()).toLocaleDateString("pt-BR"),q=Number((k==null?void 0:k.valor)||0).toFixed(2),Q=((k==null?void 0:k.tipo)||"-").toString(),F=((k==null?void 0:k.categoria)||"-").toString(),X=((k==null?void 0:k.descricao)||"").toString(),ce=k!=null&&k.data_liquidacao?"liquidada":"pendente";return`${T}  ${Q}  R$ ${q}  ${F}  ${ce}${X?"  "+X:""}`});return B.length&&(E.push("ltimas transaes (amostra):"),E.push(...B)),E.join(`
`)}catch{return""}}const y=async()=>{const j=r.trim();if(!j||a)return;l(null);const N=[...e,{role:"user",content:j}];t(N),n(""),o(!0);try{const S=e[0],C=c&&!p?w():"",P=[C?{role:"system",content:`${S.content}

Contexto do sistema (30d):
${C}

Use o contexto acima para responder com recomendaes prticas.`}:S,...e.slice(1),{role:"user",content:j}],A=await z6(P);t([...N,A])}catch(S){l((S==null?void 0:S.message)||"Falha ao consultar a IA")}finally{o(!1)}};function b(j){return j.split(/(\*\*.*?\*\*)/g).map((S,C)=>{const E=S.match(/^\*\*(.*?)\*\*$/);return E?s.jsx("strong",{className:"font-semibold",children:E[1]},C):s.jsx("span",{children:S},C)})}function _(j){const N=j.split(`
`).filter(A=>A.trim().length>0),S=[];let C=[];const E=A=>{const M=A.toLowerCase();return/(receita|despesa|financeir|saldo|pagament|faturamento|custo|lucro)/.test(M)?"":/(agenda|agendamento|reuni|calend|prazo|follow-up|confirm)/.test(M)?"":/(oportunidade|crescimento|upsell|tendn|tendenc|meta|expans|converso|conversao|melhora|escala)/.test(M)?"":""},P=()=>{C.length&&(S.push(s.jsx("div",{className:"pl-1 space-y-1",children:C.map((A,M)=>s.jsxs("div",{className:"leading-relaxed flex items-start gap-2",children:[s.jsx("span",{className:"select-none","aria-hidden":!0,children:E(A)}),s.jsx("span",{children:b(A)})]},M))},`list-${S.length}`)),C=[])};for(const A of N){const M=A.trim(),O=M.match(/^([*\-])\s+(.*)$/);if(O){C.push(O[2]);continue}P(),S.push(s.jsx("p",{className:"leading-relaxed",children:b(M)},`p-${S.length}`))}return P(),s.jsx("div",{className:"space-y-2",children:S})}return s.jsxs(te,{className:"rounded-2xl border border-border/40 bg-background shadow-sm h-full flex flex-col",children:[s.jsx(Le,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:s.jsx(r3,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-base",children:"Chat de IA (Insights)"}),s.jsx("p",{className:"text-[11px] leading-tight text-muted-foreground",children:"Converse com a IA para obter recomendaes e anlises."})]})]})}),s.jsx(me,{className:"p-4 flex-1 min-h-0 flex flex-col",children:s.jsxs("div",{className:"space-y-4 flex-1 min-h-0 flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1 text-[11px] leading-tight text-muted-foreground",children:[s.jsx(lf,{id:"ctx",checked:c,onCheckedChange:j=>u(!!j)}),s.jsx("label",{htmlFor:"ctx",children:"Incluir contexto do sistema (ltimos 30 dias)"}),c&&p&&s.jsx("span",{className:"ml-2",children:"Carregando dados"})]}),s.jsx("div",{ref:v,className:"flex-1 min-h-0 overflow-y-auto rounded-xl border border-border/40 p-3 bg-muted/20",children:e.filter(j=>j.role!=="system").length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:'Faa uma pergunta, por exemplo: "Quais oportunidades de upsell vejo esta semana?"'}):s.jsxs("div",{className:"space-y-3",children:[e.filter(j=>j.role!=="system").map((j,N)=>s.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-2xl text-sm ${j.role==="user"?"bg-primary text-primary-foreground":"bg-background border"}`,children:_(j.content)})},N)),a&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[s.jsx(Uo,{className:"w-4 h-4 animate-spin"})," Pensando"]})]})}),i&&s.jsx("div",{className:"text-xs text-red-600",children:i}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 border-t pt-3 mt-2",children:[s.jsx(de,{placeholder:"Digite sua pergunta",value:r,onChange:j=>n(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),y())}}),s.jsxs(H,{onClick:y,disabled:a,className:"gap-2",children:[s.jsx(oX,{className:"w-4 h-4"}),"Enviar"]})]})]})})]})}function ple(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed right-6 bottom-6 z-50",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute inset-0 rounded-full blur-xl transition-all duration-200 ease-out pointer-events-none -z-10 ${r?"opacity-60 scale-125 bg-primary/25":"opacity-0 scale-100"}`}),s.jsx("button",{type:"button","aria-label":"Abrir chat de IA",onClick:()=>t(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"relative z-10 h-12 w-12 rounded-full shadow-lg border border-border bg-background flex items-center justify-center transition-all duration-200 ease-out hover:scale-125 hover:border-primary/50 hover:shadow-2xl hover:bg-primary/10 active:scale-95",children:s.jsx(r3,{className:"w-6 h-6 text-primary transition-transform duration-200"})})]})}),s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Cr,{className:"max-w-lg w-[95vw] sm:w-[520px] md:w-[560px] rounded-2xl h-[80vh] sm:h-[75vh] overflow-hidden fixed right-6 bottom-24 left-auto top-auto translate-x-0 translate-y-0 shadow-2xl origin-bottom-right transition-transform duration-300 ease-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[state=open]:slide-in-from-bottom-4 data-[state=closed]:slide-out-to-bottom-4 flex flex-col",children:[s.jsx(Er,{className:"flex-shrink-0 px-3 py-2",children:s.jsx(Or,{children:"Assistente IA"})}),s.jsx("div",{className:"mt-2 flex-1 min-h-0",children:s.jsx(mle,{})})]})})]})}function Na({children:e}){const{navigationType:t,isNavigationVisible:r}=VE(),[n,a]=x.useState(!1),o=wo(),l=["/tattoo/financeiro","/carteira"].includes(o.pathname),c=t==="sidebar",u=t==="dock",f=c&&(r||n),d=u&&(r||n);return s.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[c&&!r&&s.jsx("div",{className:"fixed left-0 top-0 w-8 h-full z-50 bg-transparent",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)}),c&&s.jsx("div",{className:`transition-transform duration-300 ease-in-out ${f?"translate-x-0":"-translate-x-full"}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:s.jsx(sse,{})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(rse,{}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6 pb-24",children:e}),u&&r&&!l&&s.jsx(Rk,{}),s.jsx(ple,{})]}),u&&!r&&!l&&s.jsx("div",{className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 transition-all duration-300 ease-in-out ${d?"translate-y-0 opacity-100 scale-100":"translate-y-8 opacity-0 scale-95"}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:s.jsx("div",{className:"bg-background/90 backdrop-blur-xl border border-foreground/20 rounded-full shadow-2xl p-2",children:s.jsx(Rk,{})})}),u&&!r&&!l&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-20 z-50 bg-transparent pointer-events-auto",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)})]})}function gle(e){if(!e.isOpen)return null;const t=e.steps[e.stepIndex],r=e.stepIndex===e.steps.length-1;return s.jsxs("div",{className:"fixed inset-0 z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-lg rounded-lg bg-white dark:bg-neutral-900 shadow-2xl ring-1 ring-black/10 dark:ring-white/10",children:[s.jsxs("div",{className:"px-6 py-5",children:[s.jsx("div",{className:"mb-1 text-xs uppercase tracking-wide text-neutral-500",children:"Tour Noxus"}),s.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-neutral-700 dark:text-neutral-300",children:t.description})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-neutral-200 dark:border-neutral-800 px-6 py-4",children:[s.jsx("button",{className:"text-sm text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200",onClick:e.onSkip,children:"Pular"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-md border border-neutral-300 dark:border-neutral-700 px-3 py-1.5 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 disabled:opacity-50",onClick:e.onPrev,disabled:e.stepIndex===0,children:"Voltar"}),r?s.jsx("button",{className:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700",onClick:e.onComplete,children:"Concluir"}):s.jsx("button",{className:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700",onClick:e.onNext,children:"Prximo"})]})]}),s.jsxs("div",{className:"px-6 pb-4 text-xs text-neutral-500",children:["Etapa ",e.stepIndex+1," de ",e.steps.length]})]})})]})}const Sv="noxus:onboarding:completed";function vle(e){const[t,r]=x.useState(!1),[n,a]=x.useState(0),o=x.useMemo(()=>e,[e]);x.useEffect(()=>{localStorage.getItem(Sv)==="true"||r(!0)},[]);const i=x.useCallback(()=>{a(0),r(!0),localStorage.removeItem(Sv)},[]),l=x.useCallback(()=>{a(d=>Math.min(d+1,o.length-1))},[o.length]),c=x.useCallback(()=>{a(d=>Math.max(d-1,0))},[]),u=x.useCallback(()=>{r(!1),localStorage.setItem(Sv,"true")},[]),f=x.useCallback(()=>{r(!1),localStorage.setItem(Sv,"true")},[]);return{isOpen:t,stepIndex:n,steps:o,start:i,next:l,prev:c,skip:u,complete:f}}var gb="Tabs",[yle]=na(gb,[ab]),c8=ab(),[xle,hO]=yle(gb),u8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=yg(l),[d,h]=$s({prop:n,onChange:a,defaultProp:o??"",caller:gb});return s.jsx(xle,{scope:r,baseId:As(),value:d,onValueChange:h,orientation:i,dir:f,activationMode:c,children:s.jsx(pt.div,{dir:f,"data-orientation":i,...u,ref:t})})});u8.displayName=gb;var d8="TabsList",f8=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=hO(d8,r),i=c8(r);return s.jsx(kF,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(pt.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});f8.displayName=d8;var h8="TabsTrigger",m8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=hO(h8,r),l=c8(r),c=v8(i.baseId,n),u=y8(i.baseId,n),f=n===i.value;return s.jsx(TF,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(pt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:Se(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:Se(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:Se(e.onFocus,()=>{const d=i.activationMode!=="manual";!f&&!a&&d&&i.onValueChange(n)})})})});m8.displayName=h8;var p8="TabsContent",g8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,l=hO(p8,r),c=v8(l.baseId,n),u=y8(l.baseId,n),f=n===l.value,d=x.useRef(f);return x.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(La,{present:a||f,children:({present:h})=>s.jsx(pt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&o})})});g8.displayName=p8;function v8(e,t){return`${e}-trigger-${t}`}function y8(e,t){return`${e}-content-${t}`}var ble=u8,x8=f8,b8=m8,w8=g8;const Fa=ble,wa=x.forwardRef(({className:e,...t},r)=>s.jsx(x8,{ref:r,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));wa.displayName=x8.displayName;const St=x.forwardRef(({className:e,...t},r)=>s.jsx(b8,{ref:r,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));St.displayName=b8.displayName;const Ct=x.forwardRef(({className:e,...t},r)=>s.jsx(w8,{ref:r,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ct.displayName=w8.displayName;function rx(e,[t,r]){return Math.min(r,Math.max(t,e))}var wle=[" ","Enter","ArrowUp","ArrowDown"],jle=[" ","Enter"],su="Select",[vb,yb,_le]=lg(su),[Jf]=na(su,[_le,Hl]),xb=Hl(),[Nle,Yl]=Jf(su),[Sle,Cle]=Jf(su),j8=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:m,form:g}=e,p=xb(t),[v,w]=x.useState(null),[y,b]=x.useState(null),[_,j]=x.useState(!1),N=yg(u),[S,C]=$s({prop:n,defaultProp:a??!1,onChange:o,caller:su}),[E,P]=$s({prop:i,defaultProp:l,onChange:c,caller:su}),A=x.useRef(null),M=v?g||!!v.closest("form"):!0,[O,R]=x.useState(new Set),L=Array.from(O).map(D=>D.props.value).join(";");return s.jsx(G0,{...p,children:s.jsxs(Nle,{required:m,scope:t,trigger:v,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:As(),value:E,onValueChange:P,open:S,onOpenChange:C,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(vb.Provider,{scope:t,children:s.jsx(Sle,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(D=>{R(B=>new Set(B).add(D))},[]),onNativeOptionRemove:x.useCallback(D=>{R(B=>{const k=new Set(B);return k.delete(D),k})},[]),children:r})}),M?s.jsxs(H8,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:d,value:E,onChange:D=>P(D.target.value),disabled:h,form:g,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},L):null]})})};j8.displayName=su;var _8="SelectTrigger",N8=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=xb(r),i=Yl(_8,r),l=i.disabled||n,c=Mt(t,i.onTriggerChange),u=yb(r),f=x.useRef("touch"),[d,h,m]=K8(p=>{const v=u().filter(b=>!b.disabled),w=v.find(b=>b.value===i.value),y=Y8(v,p,w);y!==void 0&&i.onValueChange(y.value)}),g=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(pg,{asChild:!0,...o,children:s.jsx(pt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":G8(i.value)?"":void 0,...a,ref:c,onClick:Se(a.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&g(p)}),onPointerDown:Se(a.onPointerDown,p=>{f.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Se(a.onKeyDown,p=>{const v=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&wle.includes(p.key)&&(g(),p.preventDefault())})})})});N8.displayName=_8;var S8="SelectValue",C8=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...l}=e,c=Yl(S8,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=Mt(t,c.onValueNodeChange);return bn(()=>{u(f)},[u,f]),s.jsx(pt.span,{...l,ref:d,style:{pointerEvents:"none"},children:G8(c.value)?s.jsx(s.Fragment,{children:i}):o})});C8.displayName=S8;var Ele="SelectIcon",E8=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(pt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});E8.displayName=Ele;var Ole="SelectPortal",O8=e=>s.jsx(Wf,{asChild:!0,...e});O8.displayName=Ole;var ou="SelectContent",A8=x.forwardRef((e,t)=>{const r=Yl(ou,e.__scopeSelect),[n,a]=x.useState();if(bn(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?ql.createPortal(s.jsx(P8,{scope:e.__scopeSelect,children:s.jsx(vb.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(k8,{...e,ref:t})});A8.displayName=ou;var Ys=10,[P8,Xl]=Jf(ou),Ale="SelectContentImpl",Ple=Jc("SelectContent.RemoveScroll"),k8=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...w}=e,y=Yl(ou,r),[b,_]=x.useState(null),[j,N]=x.useState(null),S=Mt(t,he=>_(he)),[C,E]=x.useState(null),[P,A]=x.useState(null),M=yb(r),[O,R]=x.useState(!1),L=x.useRef(!1);x.useEffect(()=>{if(b)return sb(b)},[b]),nb();const D=x.useCallback(he=>{const[qe,...ie]=M().map(ne=>ne.ref.current),[ye]=ie.slice(-1),ve=document.activeElement;for(const ne of he)if(ne===ve||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===qe&&j&&(j.scrollTop=0),ne===ye&&j&&(j.scrollTop=j.scrollHeight),ne==null||ne.focus(),document.activeElement!==ve))return},[M,j]),B=x.useCallback(()=>D([C,b]),[D,C,b]);x.useEffect(()=>{O&&B()},[O,B]);const{onOpenChange:k,triggerPointerDownPosRef:T}=y;x.useEffect(()=>{if(b){let he={x:0,y:0};const qe=ye=>{var ve,ne;he={x:Math.abs(Math.round(ye.pageX)-(((ve=T.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((ne=T.current)==null?void 0:ne.y)??0))}},ie=ye=>{he.x<=10&&he.y<=10?ye.preventDefault():b.contains(ye.target)||k(!1),document.removeEventListener("pointermove",qe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",qe),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",qe),document.removeEventListener("pointerup",ie,{capture:!0})}}},[b,k,T]),x.useEffect(()=>{const he=()=>k(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[k]);const[q,Q]=K8(he=>{const qe=M().filter(ve=>!ve.disabled),ie=qe.find(ve=>ve.ref.current===document.activeElement),ye=Y8(qe,he,ie);ye&&setTimeout(()=>ye.ref.current.focus())}),F=x.useCallback((he,qe,ie)=>{const ye=!L.current&&!ie;(y.value!==void 0&&y.value===qe||ye)&&(E(he),ye&&(L.current=!0))},[y.value]),X=x.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=x.useCallback((he,qe,ie)=>{const ye=!L.current&&!ie;(y.value!==void 0&&y.value===qe||ye)&&A(he)},[y.value]),pe=n==="popper"?eN:T8,ge=pe===eN?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(P8,{scope:r,content:b,viewport:j,onViewportChange:N,itemRefCallback:F,selectedItem:C,onItemLeave:X,itemTextRefCallback:ce,focusSelectedItem:B,selectedItemText:P,position:n,isPositioned:O,searchRef:q,children:s.jsx(wg,{as:Ple,allowPinchZoom:!0,children:s.jsx(xg,{asChild:!0,trapped:y.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Se(a,he=>{var qe;(qe=y.trigger)==null||qe.focus({preventScroll:!0}),he.preventDefault()}),children:s.jsx(yu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(pe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:he=>he.preventDefault(),...w,...ge,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Se(w.onKeyDown,he=>{const qe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!qe&&he.key.length===1&&Q(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ye=M().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ve=he.target,ne=ye.indexOf(ve);ye=ye.slice(ne+1)}setTimeout(()=>D(ye)),he.preventDefault()}})})})})})})});k8.displayName=Ale;var kle="SelectItemAlignedPosition",T8=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=Yl(ou,r),i=Xl(ou,r),[l,c]=x.useState(null),[u,f]=x.useState(null),d=Mt(t,S=>f(S)),h=yb(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:w,focusSelectedItem:y}=i,b=x.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&v&&w){const S=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(o.dir!=="rtl"){const ve=P.left-C.left,ne=E.left-ve,gt=S.left-ne,at=S.width+gt,je=Math.max(at,C.width),yt=window.innerWidth-Ys,Ut=rx(ne,[Ys,Math.max(Ys,yt-je)]);l.style.minWidth=at+"px",l.style.left=Ut+"px"}else{const ve=C.right-P.right,ne=window.innerWidth-E.right-ve,gt=window.innerWidth-S.right-ne,at=S.width+gt,je=Math.max(at,C.width),yt=window.innerWidth-Ys,Ut=rx(ne,[Ys,Math.max(Ys,yt-je)]);l.style.minWidth=at+"px",l.style.right=Ut+"px"}const A=h(),M=window.innerHeight-Ys*2,O=p.scrollHeight,R=window.getComputedStyle(u),L=parseInt(R.borderTopWidth,10),D=parseInt(R.paddingTop,10),B=parseInt(R.borderBottomWidth,10),k=parseInt(R.paddingBottom,10),T=L+D+O+k+B,q=Math.min(v.offsetHeight*5,T),Q=window.getComputedStyle(p),F=parseInt(Q.paddingTop,10),X=parseInt(Q.paddingBottom,10),ce=S.top+S.height/2-Ys,pe=M-ce,ge=v.offsetHeight/2,he=v.offsetTop+ge,qe=L+D+he,ie=T-qe;if(qe<=ce){const ve=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-p.offsetTop-p.offsetHeight,gt=Math.max(pe,ge+(ve?X:0)+ne+B),at=qe+gt;l.style.height=at+"px"}else{const ve=A.length>0&&v===A[0].ref.current;l.style.top="0px";const gt=Math.max(ce,L+p.offsetTop+(ve?F:0)+ge)+ie;l.style.height=gt+"px",p.scrollTop=qe-ce+p.offsetTop}l.style.margin=`${Ys}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,l,u,p,v,w,o.dir,n]);bn(()=>b(),[b]);const[_,j]=x.useState();bn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return s.jsx(Mle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(pt.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});T8.displayName=kle;var Tle="SelectPopperPosition",eN=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ys,...o}=e,i=xb(r);return s.jsx(K0,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eN.displayName=Tle;var[Mle,mO]=Jf(ou,{}),tN="SelectViewport",M8=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=Xl(tN,r),i=mO(tN,r),l=Mt(t,o.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(vb.Slot,{scope:r,children:s.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Se(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const m=Math.abs(c.current-f.scrollTop);if(m>0){const g=window.innerHeight-Ys*2,p=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),w=Math.max(p,v);if(w<g){const y=w+m,b=Math.min(g,y),_=y-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});M8.displayName=tN;var R8="SelectGroup",[Rle,$le]=Jf(R8),Dle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=As();return s.jsx(Rle,{scope:r,id:a,children:s.jsx(pt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Dle.displayName=R8;var $8="SelectLabel",D8=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$le($8,r);return s.jsx(pt.div,{id:a.id,...n,ref:t})});D8.displayName=$8;var nx="SelectItem",[Ile,I8]=Jf(nx),L8=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,l=Yl(nx,r),c=Xl(nx,r),u=l.value===n,[f,d]=x.useState(o??""),[h,m]=x.useState(!1),g=Mt(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),p=As(),v=x.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Ile,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(y=>{d(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(vb.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(pt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:Se(i.onFocus,()=>m(!0)),onBlur:Se(i.onBlur,()=>m(!1)),onClick:Se(i.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:Se(i.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:Se(i.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Se(i.onPointerMove,y=>{var b;v.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Se(i.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(jle.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});L8.displayName=nx;var Yh="SelectItemText",F8=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=Yl(Yh,r),l=Xl(Yh,r),c=I8(Yh,r),u=Cle(Yh,r),[f,d]=x.useState(null),h=Mt(t,w=>d(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),m=f==null?void 0:f.textContent,g=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return bn(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(pt.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ql.createPortal(o.children,i.valueNode):null]})});F8.displayName=Yh;var B8="SelectItemIndicator",z8=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return I8(B8,r).isSelected?s.jsx(pt.span,{"aria-hidden":!0,...n,ref:t}):null});z8.displayName=B8;var rN="SelectScrollUpButton",U8=x.forwardRef((e,t)=>{const r=Xl(rN,e.__scopeSelect),n=mO(rN,e.__scopeSelect),[a,o]=x.useState(!1),i=Mt(t,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(q8,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});U8.displayName=rN;var nN="SelectScrollDownButton",V8=x.forwardRef((e,t)=>{const r=Xl(nN,e.__scopeSelect),n=mO(nN,e.__scopeSelect),[a,o]=x.useState(!1),i=Mt(t,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(q8,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});V8.displayName=nN;var q8=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=Xl("SelectScrollButton",r),i=x.useRef(null),l=yb(r),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),bn(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(pt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Se(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Se(a.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Se(a.onPointerLeave,()=>{c()})})}),Lle="SelectSeparator",W8=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(pt.div,{"aria-hidden":!0,...n,ref:t})});W8.displayName=Lle;var aN="SelectArrow",Fle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=xb(r),o=Yl(aN,r),i=Xl(aN,r);return o.open&&i.position==="popper"?s.jsx(Y0,{...a,...n,ref:t}):null});Fle.displayName=aN;var Ble="SelectBubbleInput",H8=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),o=Mt(n,a),i=tb(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[i,t]),s.jsx(pt.select,{...r,style:{...TL,...r.style},ref:o,defaultValue:t})});H8.displayName=Ble;function G8(e){return e===""||e===void 0}function K8(e){const t=ta(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function Y8(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=zle(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function zle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ule=j8,X8=N8,Vle=C8,qle=E8,Wle=O8,Q8=A8,Hle=M8,Z8=D8,J8=L8,Gle=F8,Kle=z8,ez=U8,tz=V8,rz=W8;const ot=Ule,it=Vle,rt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(X8,{ref:n,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(qle,{asChild:!0,children:s.jsx(JC,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=X8.displayName;const nz=x.forwardRef(({className:e,...t},r)=>s.jsx(ez,{ref:r,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(VY,{className:"h-4 w-4"})}));nz.displayName=ez.displayName;const az=x.forwardRef(({className:e,...t},r)=>s.jsx(tz,{ref:r,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(JC,{className:"h-4 w-4"})}));az.displayName=tz.displayName;const nt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Wle,{children:s.jsxs(Q8,{ref:a,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(nz,{}),s.jsx(Hle,{className:Ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(az,{})]})}));nt.displayName=Q8.displayName;const Yle=x.forwardRef(({className:e,...t},r)=>s.jsx(Z8,{ref:r,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Yle.displayName=Z8.displayName;const J=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(J8,{ref:n,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Kle,{children:s.jsx(yr,{className:"h-4 w-4"})})}),s.jsx(Gle,{children:t})]}));J.displayName=J8.displayName;const Xle=x.forwardRef(({className:e,...t},r)=>s.jsx(rz,{ref:r,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));Xle.displayName=rz.displayName;const Qle={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Zle=(e,t,r)=>{let n;const a=Qle[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},Jle={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},ece={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tce={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rce={date:Ad({formats:Jle,defaultWidth:"full"}),time:Ad({formats:ece,defaultWidth:"full"}),dateTime:Ad({formats:tce,defaultWidth:"full"})},nce={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},ace=(e,t,r,n)=>{const a=nce[e];return typeof a=="function"?a(t):a},sce={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},oce={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ice={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},lce={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},cce={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},uce={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},dce=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},fce={ordinalNumber:dce,era:ko({values:sce,defaultWidth:"wide"}),quarter:ko({values:oce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ko({values:ice,defaultWidth:"wide"}),day:ko({values:lce,defaultWidth:"wide"}),dayPeriod:ko({values:cce,defaultWidth:"wide",formattingValues:uce,defaultFormattingWidth:"wide"})},hce=/^(\d+)[o]?/i,mce=/\d+/i,pce={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},gce={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},vce={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},yce={any:[/1/i,/2/i,/3/i,/4/i]},xce={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},bce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},wce={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},jce={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},_ce={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Nce={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Sce={ordinalNumber:W6({matchPattern:hce,parsePattern:mce,valueCallback:e=>parseInt(e,10)}),era:To({matchPatterns:pce,defaultMatchWidth:"wide",parsePatterns:gce,defaultParseWidth:"any"}),quarter:To({matchPatterns:vce,defaultMatchWidth:"wide",parsePatterns:yce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:To({matchPatterns:xce,defaultMatchWidth:"wide",parsePatterns:bce,defaultParseWidth:"any"}),day:To({matchPatterns:wce,defaultMatchWidth:"wide",parsePatterns:jce,defaultParseWidth:"any"}),dayPeriod:To({matchPatterns:_ce,defaultMatchWidth:"any",parsePatterns:Nce,defaultParseWidth:"any"})},Nr={code:"pt-BR",formatDistance:Zle,formatLong:rce,formatRelative:ace,localize:fce,match:Sce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cce({transacoes:e,clientes:t,projetos:r,agendamentos:n}){const[a,o]=x.useState("revenue"),[i,l]=x.useState(new Date().getFullYear()),[c,u]=x.useState([]),[f,d]=x.useState(!1),h=P=>String(P||"").toLowerCase();x.useEffect(()=>{try{const P=localStorage.getItem("noxus:charts:selectedChart");(P==="revenue"||P==="clients"||P==="projects")&&o(P);const A=localStorage.getItem("noxus:charts:selectedYear");if(A){const O=parseInt(A);Number.isNaN(O)||l(O)}const M=localStorage.getItem("noxus:charts:selectedMonths");if(M){const O=JSON.parse(M);Array.isArray(O)&&u(O)}}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem("noxus:charts:selectedChart",a)}catch{}},[a]),x.useEffect(()=>{try{localStorage.setItem("noxus:charts:selectedYear",String(i))}catch{}},[i]),x.useEffect(()=>{try{localStorage.setItem("noxus:charts:selectedMonths",JSON.stringify(c))}catch{}},[c]);const m=x.useMemo(()=>{const P=new Date(i,0,1),A=new Date(i,11,31);return Sg({start:P,end:A})},[i]),g=x.useMemo(()=>m.map(P=>Xt(P,"MMM",{locale:Nr})),[m]);x.useEffect(()=>{g.length&&u(P=>P.length?P:g.map((A,M)=>M))},[i,g.length]);const p=x.useMemo(()=>{const P=new Date().getFullYear();return[P-2,P-1,P]},[]),v=x.useMemo(()=>{const P=m.map(A=>{const M=Gr(A),O=ka(A),R=e.filter(L=>h(L.tipo)==="receita").filter(L=>{const D=new Date(L.data_vencimento||L.created_at||L.data);return D>=M&&D<=O}).reduce((L,D)=>L+Number(D.valor||0),0);return{name:Xt(A,"MMM",{locale:Nr}),value:R}});return P.map((A,M)=>{var D;const O=((D=P[M-1])==null?void 0:D.value)??0,R=ka(m[M])>new Date;let L;return R?L=void 0:O>0?L=Number(((A.value-O)/O*100).toFixed(1)):A.value>0?L=100:L=void 0,{...A,change:L}})},[m,e]),w=x.useMemo(()=>{const P=m.map(A=>{const M=Gr(A),O=ka(A),R=t.filter(L=>{const D=new Date(L.created_at||L.data||new Date);return D>=M&&D<=O}).length;return{name:Xt(A,"MMM",{locale:Nr}),value:R}});return P.map((A,M)=>{var D;const O=((D=P[M-1])==null?void 0:D.value)??0,R=ka(m[M])>new Date;let L;return R?L=void 0:O>0?L=Number(((A.value-O)/O*100).toFixed(1)):A.value>0?L=100:L=void 0,{...A,change:L}})},[m,t]),y=x.useMemo(()=>{const P=A=>r.filter(M=>h(M.status)===A).length;return[{name:"Concludos",value:P("concluido")},{name:"Em Andamento",value:P("em_andamento")||P("andamento")},{name:"Planejamento",value:P("planejamento")},{name:"Cancelados",value:P("cancelado")}]},[r]),b=()=>{switch(a){case"revenue":return v;case"clients":return w;case"projects":return y;default:return v}},_=()=>{switch(a){case"revenue":return"Receitas por Perodo";case"clients":return"Crescimento de Clientes";case"projects":return"Performance de Projetos";default:return"Analytics"}},j=x.useMemo(()=>{const P=b();return a==="projects"?P:P.filter((A,M)=>c.includes(M))},[a,c,v,w,y]),N=()=>{const P=j;return P.length?Math.max(0,...P.map(A=>A.value)):0},S=x.useMemo(()=>{var R,L;const P=((R=v[v.length-1])==null?void 0:R.value)??0,A=((L=v[v.length-2])==null?void 0:L.value)??0;if(!A)return"+0%";const M=(P-A)/A*100;return`${M>=0?"+":""}${M.toFixed(1)}%`},[v]),C=x.useMemo(()=>{const P=e.filter(O=>h(O.tipo)==="receita"),A=P.reduce((O,R)=>O+Number(R.valor||0),0),M=P.length?A/P.length:0;return`R$ ${Math.round(M).toLocaleString("pt-BR")}`},[e]),E=x.useMemo(()=>{const P=n.length,A=n.filter(O=>h(O.status)==="concluido").length;return`${P?Math.round(A/P*100):0}%`},[n]);return s.jsxs("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:[s.jsxs(te,{className:"lg:col-span-2 rounded-3xl border-0 bg-gradient-to-br from-background to-muted/20 shadow-xl",children:[s.jsx(Le,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-xl font-semibold",children:_()}),s.jsxs("div",{className:"flex gap-2",children:[a!=="projects"&&s.jsxs(ot,{value:String(i),onValueChange:P=>l(parseInt(P)),children:[s.jsx(rt,{className:"h-9 w-28",children:s.jsx(it,{placeholder:"Ano"})}),s.jsx(nt,{children:p.map(P=>s.jsx(J,{value:String(P),children:P},P))})]}),s.jsx("button",{onClick:()=>o("revenue"),className:`p-2 rounded-xl transition-all ${a==="revenue"?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 hover:bg-muted"}`,children:s.jsx(UY,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>o("clients"),className:`p-2 rounded-xl transition-all ${a==="clients"?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 hover:bg-muted"}`,children:s.jsx(Jd,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>o("projects"),className:`p-2 rounded-xl transition-all ${a==="projects"?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 hover:bg-muted"}`,children:s.jsx(pP,{className:"w-4 h-4"})}),a!=="projects"&&s.jsxs(LE,{open:f,onOpenChange:d,children:[s.jsx(FE,{asChild:!0,children:s.jsx("button",{className:"p-2 rounded-xl transition-all bg-muted/50 hover:bg-muted","aria-label":"Filtrar meses",children:s.jsx(_r,{className:"w-4 h-4"})})}),s.jsxs(db,{align:"end",side:"bottom",sideOffset:8,avoidCollisions:!0,collisionPadding:12,className:"max-h-[60vh] overflow-auto",children:[s.jsx(BE,{children:"Meses"}),s.jsx(Od,{}),g.map((P,A)=>s.jsx(GB,{checked:c.includes(A),onCheckedChange:M=>{u(O=>M?Array.from(new Set([...O,A])).sort((R,L)=>R-L):O.filter(R=>R!==A)),d(!0)},children:P},A)),s.jsx(Od,{}),s.jsx(Ed,{onSelect:P=>P.preventDefault(),onClick:()=>{u(g.map((P,A)=>A)),d(!0)},children:"Selecionar todos"}),s.jsx(Ed,{onSelect:P=>P.preventDefault(),onClick:()=>{u([]),d(!0)},children:"Limpar seleo"}),s.jsx(Od,{}),s.jsx(Ed,{onClick:()=>d(!1),children:"Confirmar"})]})]})]})]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:j.map(P=>{const A=N(),M=A>0?P.value/A*100:0,O=Math.max(0,Math.min(100,Number.isFinite(M)?M:0)),R=(P.change||0)>=0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:P.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:a==="revenue"?`R$ ${P.value.toLocaleString()}`:P.value}),P.change&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${R?"text-green-500":"text-red-500"}`,children:[R?s.jsx(Pn,{className:"w-3 h-3"}):s.jsx(Vm,{className:"w-3 h-3"}),Math.abs(P.change),"%"]})]})]}),s.jsx("div",{className:"w-full bg-muted/30 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/80 rounded-full transition-all duration-1000 ease-out",style:{width:`${O}%`}})})]},P.name)})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{className:"rounded-3xl border-0 shadow-sm bg-gradient-to-br from-background to-muted/20",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl",children:s.jsx(Pn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Crescimento Mensal"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:S})]})]})})}),s.jsx(te,{className:"rounded-3xl border-0 shadow-sm bg-gradient-to-br from-background to-muted/20",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl",children:s.jsx(Jd,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Mdio"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:C})]})]})})}),s.jsx(te,{className:"rounded-3xl border-0 shadow-sm bg-gradient-to-br from-background to-muted/20",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl",children:s.jsx(pP,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa Converso"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:E})]})]})})})]})]})}function Ece({projetos:e,clientes:t,transacoes:r,agendamentos:n,prevProjetos:a=[],prevClientes:o=[],prevTransacoes:i=[],prevAgendamentos:l=[],onOpenMetasTab:c,onCreateMeta:u}){const f=b=>String(b||"").toLowerCase(),d=e.filter(b=>f(b.status)!=="concluido"&&f(b.status)!=="cancelado").length,h=r.filter(b=>f(b.tipo)==="receita").reduce((b,_)=>b+Number(_.valor||0),0),m=n.filter(b=>b.status==="agendado").length,g=(a||[]).filter(b=>f(b.status)!=="concluido"&&f(b.status)!=="cancelado").length,p=(i||[]).filter(b=>f(b.tipo)==="receita").reduce((b,_)=>b+Number(_.valor||0),0),v=(l||[]).filter(b=>b.status==="agendado").length,w=(b,_)=>{if(!_&&b)return{change:100,trend:"up"};if(!_&&!b)return{change:0,trend:"up"};const j=b-_,N=j/_*100;return{change:Math.abs(Number(N.toFixed(1))),trend:j>=0?"up":"down"}},y=[{icon:Ds,label:"Total de Clientes",value:t.length.toString(),color:"text-primary",bgColor:"bg-primary/20",...w(t.length,(o||[]).length)},{icon:dg,label:"Projetos Ativos",value:d.toString(),color:"text-primary",bgColor:"bg-primary/20",...w(d,g)},{icon:_r,label:"Agendamentos",value:m.toString(),color:"text-primary",bgColor:"bg-primary/20",...w(m,v)},{icon:ra,label:"Receitas Total",value:`R$ ${(h/1e3).toFixed(1)}K`,color:"text-primary",bgColor:"bg-primary/20",...w(h,p)}];return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:y.map((b,_)=>{const j=b.icon,N=b.trend==="up"?FY:IY,S=b.trend==="up";return s.jsxs(te,{className:"rounded-3xl border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group relative overflow-hidden bg-gradient-to-br from-background to-muted/20",children:[s.jsx("div",{className:`absolute inset-0 opacity-5 ${b.bgColor.replace("/10","")}`}),s.jsxs(me,{className:"p-6 relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-2xl ${b.bgColor} group-hover:scale-110 transition-transform duration-300`,children:s.jsx(j,{className:`w-6 h-6 ${b.color}`})}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(N,{className:`w-3 h-3 ${S?"text-green-500":"text-red-500"}`}),s.jsxs("span",{className:S?"text-green-500":"text-red-500",children:[Math.abs(b.change),"%"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:b.label}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("p",{className:"text-3xl font-bold tracking-tight",children:b.value}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"este ms"})]})]})]})]},b.label)})}),s.jsxs(Fa,{defaultValue:"analytics",className:"space-y-6",children:[s.jsx(wa,{className:"rounded-2xl p-1.5 bg-muted/50",children:s.jsxs(St,{value:"analytics",className:"rounded-xl",children:[s.jsx(Jd,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),s.jsx(Ct,{value:"analytics",className:"space-y-6",children:s.jsx(Cce,{transacoes:r,clientes:t,projetos:e,agendamentos:n})})]})]})}var Oce=Array.isArray,Ba=Oce,Ace=typeof Ug=="object"&&Ug&&Ug.Object===Object&&Ug,sz=Ace,Pce=sz,kce=typeof self=="object"&&self&&self.Object===Object&&self,Tce=Pce||kce||Function("return this")(),Jo=Tce,Mce=Jo,Rce=Mce.Symbol,Cg=Rce,aT=Cg,oz=Object.prototype,$ce=oz.hasOwnProperty,Dce=oz.toString,Oh=aT?aT.toStringTag:void 0;function Ice(e){var t=$ce.call(e,Oh),r=e[Oh];try{e[Oh]=void 0;var n=!0}catch{}var a=Dce.call(e);return n&&(t?e[Oh]=r:delete e[Oh]),a}var Lce=Ice,Fce=Object.prototype,Bce=Fce.toString;function zce(e){return Bce.call(e)}var Uce=zce,sT=Cg,Vce=Lce,qce=Uce,Wce="[object Null]",Hce="[object Undefined]",oT=sT?sT.toStringTag:void 0;function Gce(e){return e==null?e===void 0?Hce:Wce:oT&&oT in Object(e)?Vce(e):qce(e)}var Ri=Gce;function Kce(e){return e!=null&&typeof e=="object"}var $i=Kce,Yce=Ri,Xce=$i,Qce="[object Symbol]";function Zce(e){return typeof e=="symbol"||Xce(e)&&Yce(e)==Qce}var eh=Zce,Jce=Ba,eue=eh,tue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rue=/^\w*$/;function nue(e,t){if(Jce(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||eue(e)?!0:rue.test(e)||!tue.test(e)||t!=null&&e in Object(t)}var pO=nue;function aue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ql=aue;const th=or(Ql);var sue=Ri,oue=Ql,iue="[object AsyncFunction]",lue="[object Function]",cue="[object GeneratorFunction]",uue="[object Proxy]";function due(e){if(!oue(e))return!1;var t=sue(e);return t==lue||t==cue||t==iue||t==uue}var gO=due;const jt=or(gO);var fue=Jo,hue=fue["__core-js_shared__"],mue=hue,jj=mue,iT=function(){var e=/[^.]+$/.exec(jj&&jj.keys&&jj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pue(e){return!!iT&&iT in e}var gue=pue,vue=Function.prototype,yue=vue.toString;function xue(e){if(e!=null){try{return yue.call(e)}catch{}try{return e+""}catch{}}return""}var iz=xue,bue=gO,wue=gue,jue=Ql,_ue=iz,Nue=/[\\^$.*+?()[\]{}|]/g,Sue=/^\[object .+?Constructor\]$/,Cue=Function.prototype,Eue=Object.prototype,Oue=Cue.toString,Aue=Eue.hasOwnProperty,Pue=RegExp("^"+Oue.call(Aue).replace(Nue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kue(e){if(!jue(e)||wue(e))return!1;var t=bue(e)?Pue:Sue;return t.test(_ue(e))}var Tue=kue;function Mue(e,t){return e==null?void 0:e[t]}var Rue=Mue,$ue=Tue,Due=Rue;function Iue(e,t){var r=Due(e,t);return $ue(r)?r:void 0}var _u=Iue,Lue=_u,Fue=Lue(Object,"create"),bb=Fue,lT=bb;function Bue(){this.__data__=lT?lT(null):{},this.size=0}var zue=Bue;function Uue(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vue=Uue,que=bb,Wue="__lodash_hash_undefined__",Hue=Object.prototype,Gue=Hue.hasOwnProperty;function Kue(e){var t=this.__data__;if(que){var r=t[e];return r===Wue?void 0:r}return Gue.call(t,e)?t[e]:void 0}var Yue=Kue,Xue=bb,Que=Object.prototype,Zue=Que.hasOwnProperty;function Jue(e){var t=this.__data__;return Xue?t[e]!==void 0:Zue.call(t,e)}var ede=Jue,tde=bb,rde="__lodash_hash_undefined__";function nde(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tde&&t===void 0?rde:t,this}var ade=nde,sde=zue,ode=Vue,ide=Yue,lde=ede,cde=ade;function rh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rh.prototype.clear=sde;rh.prototype.delete=ode;rh.prototype.get=ide;rh.prototype.has=lde;rh.prototype.set=cde;var ude=rh;function dde(){this.__data__=[],this.size=0}var fde=dde;function hde(e,t){return e===t||e!==e&&t!==t}var vO=hde,mde=vO;function pde(e,t){for(var r=e.length;r--;)if(mde(e[r][0],t))return r;return-1}var wb=pde,gde=wb,vde=Array.prototype,yde=vde.splice;function xde(e){var t=this.__data__,r=gde(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yde.call(t,r,1),--this.size,!0}var bde=xde,wde=wb;function jde(e){var t=this.__data__,r=wde(t,e);return r<0?void 0:t[r][1]}var _de=jde,Nde=wb;function Sde(e){return Nde(this.__data__,e)>-1}var Cde=Sde,Ede=wb;function Ode(e,t){var r=this.__data__,n=Ede(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Ade=Ode,Pde=fde,kde=bde,Tde=_de,Mde=Cde,Rde=Ade;function nh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nh.prototype.clear=Pde;nh.prototype.delete=kde;nh.prototype.get=Tde;nh.prototype.has=Mde;nh.prototype.set=Rde;var jb=nh,$de=_u,Dde=Jo,Ide=$de(Dde,"Map"),yO=Ide,cT=ude,Lde=jb,Fde=yO;function Bde(){this.size=0,this.__data__={hash:new cT,map:new(Fde||Lde),string:new cT}}var zde=Bde;function Ude(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vde=Ude,qde=Vde;function Wde(e,t){var r=e.__data__;return qde(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _b=Wde,Hde=_b;function Gde(e){var t=Hde(this,e).delete(e);return this.size-=t?1:0,t}var Kde=Gde,Yde=_b;function Xde(e){return Yde(this,e).get(e)}var Qde=Xde,Zde=_b;function Jde(e){return Zde(this,e).has(e)}var efe=Jde,tfe=_b;function rfe(e,t){var r=tfe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nfe=rfe,afe=zde,sfe=Kde,ofe=Qde,ife=efe,lfe=nfe;function ah(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ah.prototype.clear=afe;ah.prototype.delete=sfe;ah.prototype.get=ofe;ah.prototype.has=ife;ah.prototype.set=lfe;var xO=ah,lz=xO,cfe="Expected a function";function bO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cfe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(bO.Cache||lz),r}bO.Cache=lz;var cz=bO;const ufe=or(cz);var dfe=cz,ffe=500;function hfe(e){var t=dfe(e,function(n){return r.size===ffe&&r.clear(),n}),r=t.cache;return t}var mfe=hfe,pfe=mfe,gfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vfe=/\\(\\)?/g,yfe=pfe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gfe,function(r,n,a,o){t.push(a?o.replace(vfe,"$1"):n||r)}),t}),xfe=yfe;function bfe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var wO=bfe,uT=Cg,wfe=wO,jfe=Ba,_fe=eh,dT=uT?uT.prototype:void 0,fT=dT?dT.toString:void 0;function uz(e){if(typeof e=="string")return e;if(jfe(e))return wfe(e,uz)+"";if(_fe(e))return fT?fT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Nfe=uz,Sfe=Nfe;function Cfe(e){return e==null?"":Sfe(e)}var dz=Cfe,Efe=Ba,Ofe=pO,Afe=xfe,Pfe=dz;function kfe(e,t){return Efe(e)?e:Ofe(e,t)?[e]:Afe(Pfe(e))}var fz=kfe,Tfe=eh;function Mfe(e){if(typeof e=="string"||Tfe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Nb=Mfe,Rfe=fz,$fe=Nb;function Dfe(e,t){t=Rfe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$fe(t[r++])];return r&&r==n?e:void 0}var jO=Dfe,Ife=jO;function Lfe(e,t,r){var n=e==null?void 0:Ife(e,t);return n===void 0?r:n}var hz=Lfe;const rs=or(hz);function Ffe(e){return e==null}var Bfe=Ffe;const Pt=or(Bfe);var zfe=Ri,Ufe=Ba,Vfe=$i,qfe="[object String]";function Wfe(e){return typeof e=="string"||!Ufe(e)&&Vfe(e)&&zfe(e)==qfe}var Hfe=Wfe;const iu=or(Hfe);var mz={exports:{}},ur={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O=Symbol.for("react.element"),NO=Symbol.for("react.portal"),Sb=Symbol.for("react.fragment"),Cb=Symbol.for("react.strict_mode"),Eb=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Ab=Symbol.for("react.context"),Gfe=Symbol.for("react.server_context"),Pb=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Tb=Symbol.for("react.suspense_list"),Mb=Symbol.for("react.memo"),Rb=Symbol.for("react.lazy"),Kfe=Symbol.for("react.offscreen"),pz;pz=Symbol.for("react.module.reference");function zs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _O:switch(e=e.type,e){case Sb:case Eb:case Cb:case kb:case Tb:return e;default:switch(e=e&&e.$$typeof,e){case Gfe:case Ab:case Pb:case Rb:case Mb:case Ob:return e;default:return t}}case NO:return t}}}ur.ContextConsumer=Ab;ur.ContextProvider=Ob;ur.Element=_O;ur.ForwardRef=Pb;ur.Fragment=Sb;ur.Lazy=Rb;ur.Memo=Mb;ur.Portal=NO;ur.Profiler=Eb;ur.StrictMode=Cb;ur.Suspense=kb;ur.SuspenseList=Tb;ur.isAsyncMode=function(){return!1};ur.isConcurrentMode=function(){return!1};ur.isContextConsumer=function(e){return zs(e)===Ab};ur.isContextProvider=function(e){return zs(e)===Ob};ur.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_O};ur.isForwardRef=function(e){return zs(e)===Pb};ur.isFragment=function(e){return zs(e)===Sb};ur.isLazy=function(e){return zs(e)===Rb};ur.isMemo=function(e){return zs(e)===Mb};ur.isPortal=function(e){return zs(e)===NO};ur.isProfiler=function(e){return zs(e)===Eb};ur.isStrictMode=function(e){return zs(e)===Cb};ur.isSuspense=function(e){return zs(e)===kb};ur.isSuspenseList=function(e){return zs(e)===Tb};ur.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sb||e===Eb||e===Cb||e===kb||e===Tb||e===Kfe||typeof e=="object"&&e!==null&&(e.$$typeof===Rb||e.$$typeof===Mb||e.$$typeof===Ob||e.$$typeof===Ab||e.$$typeof===Pb||e.$$typeof===pz||e.getModuleId!==void 0)};ur.typeOf=zs;mz.exports=ur;var Yfe=mz.exports,Xfe=Ri,Qfe=$i,Zfe="[object Number]";function Jfe(e){return typeof e=="number"||Qfe(e)&&Xfe(e)==Zfe}var gz=Jfe;const ehe=or(gz);var the=gz;function rhe(e){return the(e)&&e!=+e}var nhe=rhe;const sh=or(nhe);var fa=function(t){return t===0?0:t>0?1:-1},Oc=function(t){return iu(t)&&t.indexOf("%")===t.length-1},Ce=function(t){return ehe(t)&&!sh(t)},ahe=function(t){return Pt(t)},Tn=function(t){return Ce(t)||iu(t)},she=0,Nu=function(t){var r=++she;return"".concat(t||"").concat(r)},ha=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&!iu(t))return n;var o;if(Oc(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return sh(o)&&(o=n),a&&o>r&&(o=r),o},tl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ohe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},An=function(t,r){return Ce(t)&&Ce(r)?function(n){return t+n*(r-t)}:function(){return r}};function ax(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):rs(n,t))===r})}var ihe=function(t,r){return Ce(t)&&Ce(r)?t-r:iu(t)&&iu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Pd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sN(e){"@babel/helpers - typeof";return sN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sN(e)}var lhe=["viewBox","children"],che=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hT=["points","pathLength"],_j={svg:lhe,polygon:hT,polyline:hT},SO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!th(n))return null;var a={};return Object.keys(n).forEach(function(o){SO.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},uhe=function(t,r,n){return function(a){return t(r,n,a),null}},lu=function(t,r,n){if(!th(t)||sN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];SO.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=uhe(i,r,n))}),a},dhe=["children"],fhe=["children"];function mT(e,t){if(e==null)return{};var r=hhe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oN(e){"@babel/helpers - typeof";return oN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oN(e)}var pT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},gT=null,Nj=null,CO=function e(t){if(t===gT&&Array.isArray(Nj))return Nj;var r=[];return x.Children.forEach(t,function(n){Pt(n)||(Yfe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Nj=r,gT=t,r};function ns(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return yi(a)}):n=[yi(t)],CO(e).forEach(function(a){var o=rs(a,"type.displayName")||rs(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function qa(e,t){var r=ns(e,t);return r&&r[0]}var vT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ce(n)||n<=0||!Ce(a)||a<=0)},mhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],phe=function(t){return t&&t.type&&iu(t.type)&&mhe.indexOf(t.type)>=0},vz=function(t){return t&&oN(t)==="object"&&"clipDot"in t},ghe=function(t,r,n,a){var o,i=(o=_j==null?void 0:_j[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!jt(t)&&(a&&i.includes(r)||che.includes(r))||n&&SO.includes(r)},mt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!th(a))return null;var o={};return Object.keys(a).forEach(function(i){var l;ghe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(o[i]=a[i])}),o},iN=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return yT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!yT(o,i))return!1}return!0},yT=function(t,r){if(Pt(t)&&Pt(r))return!0;if(!Pt(t)&&!Pt(r)){var n=t.props||{},a=n.children,o=mT(n,dhe),i=r.props||{},l=i.children,c=mT(i,fhe);return a&&l?Pd(o,c)&&iN(a,l):!a&&!l?Pd(o,c):!1}return!1},xT=function(t,r){var n=[],a={};return CO(t).forEach(function(o,i){if(phe(o))n.push(o);else if(o){var l=yi(o.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(o,l,i);n.push(d),a[l]=!0}}}),n},vhe=function(t){var r=t&&t.type;return r&&pT[r]?pT[r]:null},yhe=function(t,r){return CO(r).indexOf(t)},xhe=["children","width","height","viewBox","className","style","title","desc"];function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(this,arguments)}function bhe(e,t){if(e==null)return{};var r=whe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,l=e.title,c=e.desc,u=bhe(e,xhe),f=a||{width:r,height:n,x:0,y:0},d=Dt("recharts-surface",o);return z.createElement("svg",lN({},mt(u,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var jhe=["children","className"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(this,arguments)}function _he(e,t){if(e==null)return{};var r=Nhe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wt=z.forwardRef(function(e,t){var r=e.children,n=e.className,a=_he(e,jhe),o=Dt("recharts-layer",n);return z.createElement("g",uN({className:o},mt(a,!0),{ref:t}),r)}),ho=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function She(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var Che=She,Ehe=Che;function Ohe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ehe(e,t,r)}var Ahe=Ohe,Phe="\\ud800-\\udfff",khe="\\u0300-\\u036f",The="\\ufe20-\\ufe2f",Mhe="\\u20d0-\\u20ff",Rhe=khe+The+Mhe,$he="\\ufe0e\\ufe0f",Dhe="\\u200d",Ihe=RegExp("["+Dhe+Phe+Rhe+$he+"]");function Lhe(e){return Ihe.test(e)}var yz=Lhe;function Fhe(e){return e.split("")}var Bhe=Fhe,xz="\\ud800-\\udfff",zhe="\\u0300-\\u036f",Uhe="\\ufe20-\\ufe2f",Vhe="\\u20d0-\\u20ff",qhe=zhe+Uhe+Vhe,Whe="\\ufe0e\\ufe0f",Hhe="["+xz+"]",dN="["+qhe+"]",fN="\\ud83c[\\udffb-\\udfff]",Ghe="(?:"+dN+"|"+fN+")",bz="[^"+xz+"]",wz="(?:\\ud83c[\\udde6-\\uddff]){2}",jz="[\\ud800-\\udbff][\\udc00-\\udfff]",Khe="\\u200d",_z=Ghe+"?",Nz="["+Whe+"]?",Yhe="(?:"+Khe+"(?:"+[bz,wz,jz].join("|")+")"+Nz+_z+")*",Xhe=Nz+_z+Yhe,Qhe="(?:"+[bz+dN+"?",dN,wz,jz,Hhe].join("|")+")",Zhe=RegExp(fN+"(?="+fN+")|"+Qhe+Xhe,"g");function Jhe(e){return e.match(Zhe)||[]}var eme=Jhe,tme=Bhe,rme=yz,nme=eme;function ame(e){return rme(e)?nme(e):tme(e)}var sme=ame,ome=Ahe,ime=yz,lme=sme,cme=dz;function ume(e){return function(t){t=cme(t);var r=ime(t)?lme(t):void 0,n=r?r[0]:t.charAt(0),a=r?ome(r,1).join(""):t.slice(1);return n[e]()+a}}var dme=ume,fme=dme,hme=fme("toUpperCase"),mme=hme;const $b=or(mme);function br(e){return function(){return e}}const Sz=Math.cos,ox=Math.sin,No=Math.sqrt,ix=Math.PI,Db=2*ix,hN=Math.PI,mN=2*hN,hc=1e-6,pme=mN-hc;function Cz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Cz;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class vme{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Cz:gme(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,f=i-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hc)if(!(Math.abs(d*c-u*f)>hc)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,g=a-l,p=c*c+u*u,v=m*m+g*g,w=Math.sqrt(p),y=Math.sqrt(h),b=o*Math.tan((hN-Math.acos((p+h-v)/(2*w*y)))/2),_=b/y,j=b/w;Math.abs(_-1)>hc&&this._append`L${t+_*f},${r+_*d}`,this._append`A${o},${o},0,0,${+(d*m>f*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>hc||Math.abs(this._y1-f)>hc)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%mN+mN),h>pme?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>hc&&this._append`A${n},${n},0,${+(h>=hN)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function EO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vme(t)}function OO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ez(e){this._context=e}Ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ib(e){return new Ez(e)}function Oz(e){return e[0]}function Az(e){return e[1]}function Pz(e,t){var r=br(!0),n=null,a=Ib,o=null,i=EO(l);e=typeof e=="function"?e:e===void 0?Oz:br(e),t=typeof t=="function"?t:t===void 0?Az:br(t);function l(c){var u,f=(c=OO(c)).length,d,h=!1,m;for(n==null&&(o=a(m=i())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,c),+t(d,u,c));if(m)return o=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:br(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:br(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:br(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(o=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=o=null:o=a(n=c),l):n},l}function Cv(e,t,r){var n=null,a=br(!0),o=null,i=Ib,l=null,c=EO(u);e=typeof e=="function"?e:e===void 0?Oz:br(+e),t=typeof t=="function"?t:br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Az:br(+r);function u(d){var h,m,g,p=(d=OO(d)).length,v,w=!1,y,b=new Array(p),_=new Array(p);for(o==null&&(l=i(y=c())),h=0;h<=p;++h){if(!(h<p&&a(v=d[h],h,d))===w)if(w=!w)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],_[g]);l.lineEnd(),l.areaEnd()}w&&(b[h]=+e(v,h,d),_[h]=+t(v,h,d),l.point(n?+n(v,h,d):b[h],r?+r(v,h,d):_[h]))}if(y)return l=null,y+""||null}function f(){return Pz().defined(a).curve(i).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:br(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:br(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:br(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:br(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:br(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:br(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:br(!!d),u):a},u.curve=function(d){return arguments.length?(i=d,o!=null&&(l=i(o)),u):i},u.context=function(d){return arguments.length?(d==null?o=l=null:l=i(o=d),u):o},u}class kz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yme(e){return new kz(e,!0)}function xme(e){return new kz(e,!1)}const AO={draw(e,t){const r=No(t/ix);e.moveTo(r,0),e.arc(0,0,r,0,Db)}},bme={draw(e,t){const r=No(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Tz=No(1/3),wme=Tz*2,jme={draw(e,t){const r=No(t/wme),n=r*Tz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},_me={draw(e,t){const r=No(t),n=-r/2;e.rect(n,n,r,r)}},Nme=.8908130915292852,Mz=ox(ix/10)/ox(7*ix/10),Sme=ox(Db/10)*Mz,Cme=-Sz(Db/10)*Mz,Eme={draw(e,t){const r=No(t*Nme),n=Sme*r,a=Cme*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Db*o/5,l=Sz(i),c=ox(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Sj=No(3),Ome={draw(e,t){const r=-No(t/(Sj*3));e.moveTo(0,r*2),e.lineTo(-Sj*r,-r),e.lineTo(Sj*r,-r),e.closePath()}},vs=-.5,ys=No(3)/2,pN=1/No(12),Ame=(pN/2+1)*3,Pme={draw(e,t){const r=No(t/Ame),n=r/2,a=r*pN,o=n,i=r*pN+r,l=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(l,c),e.lineTo(vs*n-ys*a,ys*n+vs*a),e.lineTo(vs*o-ys*i,ys*o+vs*i),e.lineTo(vs*l-ys*c,ys*l+vs*c),e.lineTo(vs*n+ys*a,vs*a-ys*n),e.lineTo(vs*o+ys*i,vs*i-ys*o),e.lineTo(vs*l+ys*c,vs*c-ys*l),e.closePath()}};function kme(e,t){let r=null,n=EO(a);e=typeof e=="function"?e:br(e||AO),t=typeof t=="function"?t:br(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:br(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:br(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function lx(){}function cx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Rz(e){this._context=e}Rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tme(e){return new Rz(e)}function $z(e){this._context=e}$z.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mme(e){return new $z(e)}function Dz(e){this._context=e}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rme(e){return new Dz(e)}function Iz(e){this._context=e}Iz.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $me(e){return new Iz(e)}function bT(e){return e<0?-1:1}function wT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(o*a+i*n)/(n+a);return(bT(o)+bT(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(l))||0}function jT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Cj(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,l=(o-n)/3;e._context.bezierCurveTo(n+l,a+l*t,o-l,i-l*r,o,i)}function ux(e){this._context=e}ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cj(this,this._t0,jT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cj(this,jT(this,r=wT(this,e,t)),r);break;default:Cj(this,this._t0,r=wT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Lz(e){this._context=new Fz(e)}(Lz.prototype=Object.create(ux.prototype)).point=function(e,t){ux.prototype.point.call(this,t,e)};function Fz(e){this._context=e}Fz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function Dme(e){return new ux(e)}function Ime(e){return new Lz(e)}function Bz(e){this._context=e}Bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_T(e),a=_T(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _T(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Lme(e){return new Bz(e)}function Lb(e,t){this._context=e,this._t=t}Lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fme(e){return new Lb(e,.5)}function Bme(e){return new Lb(e,0)}function zme(e){return new Lb(e,1)}function cf(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,l=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ume(e,t){return e[t]}function Vme(e){const t=[];return t.key=e,t}function qme(){var e=br([]),t=gN,r=cf,n=Ume;function a(o){var i=Array.from(e.apply(this,arguments),Vme),l,c=i.length,u=-1,f;for(const d of o)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(d,i[l].key,u,o)]).data=d;for(l=0,f=OO(t(i));l<c;++l)i[f[l]].index=l;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:br(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:br(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?gN:typeof o=="function"?o:br(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??cf,a):r},a}function Wme(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}cf(e,t)}}function Hme(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}cf(e,t)}}function Gme(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var l=0,c=0,u=0;l<i;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,m=(d-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,w=p[n-1][1]||0;m+=v-w}c+=d,u+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,cf(e,t)}}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var Kme=["type","size","sizeType"];function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(this,arguments)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){Yme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yme(e,t,r){return t=Xme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xme(e){var t=Qme(e,"string");return ap(t)=="symbol"?t:t+""}function Qme(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zme(e,t){if(e==null)return{};var r=Jme(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zz={symbolCircle:AO,symbolCross:bme,symbolDiamond:jme,symbolSquare:_me,symbolStar:Eme,symbolTriangle:Ome,symbolWye:Pme},epe=Math.PI/180,tpe=function(t){var r="symbol".concat($b(t));return zz[r]||AO},rpe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*epe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},npe=function(t,r){zz["symbol".concat($b(t))]=r},PO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=Zme(t,Kme),u=ST(ST({},c),{},{type:n,size:o,sizeType:l}),f=function(){var v=tpe(n),w=kme().type(v).size(rpe(o,l,n));return w()},d=u.className,h=u.cx,m=u.cy,g=mt(u,!0);return h===+h&&m===+m&&o===+o?z.createElement("path",vN({},g,{className:Dt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};PO.registerSymbol=npe;function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ape(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ope(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vz(n.key),n)}}function ipe(e,t,r){return t&&ope(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lpe(e,t,r){return t=dx(t),cpe(e,Uz()?Reflect.construct(t,r||[],dx(e).constructor):t.apply(e,r))}function cpe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(e)}function upe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(e)}function dpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xN(e,t)}function sp(e,t,r){return t=Vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=fpe(e,"string");return uf(t)=="symbol"?t:t+""}function fpe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xs=32,kO=function(e){function t(){return spe(this,t),lpe(this,t,arguments)}return dpe(t,e),ipe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=xs/2,i=xs/6,l=xs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:xs,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(xs,"M").concat(2*l,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xs/8,"h").concat(xs,"v").concat(xs*3/4,"h").concat(-xs,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=ape({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(PO,{fill:c,cx:o,cy:o,size:xs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:xs,height:xs},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var p=m.formatter||c,v=Dt(sp(sp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=jt(m.value)?null:m.value;ho(!jt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return z.createElement("li",yN({className:v,style:d,key:"legend-item-".concat(g)},lu(n.props,m,g)),z.createElement(cN,{width:i,height:i,viewBox:f,style:h},n.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(w,m,g):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);sp(kO,"displayName","Legend");sp(kO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hpe=jb;function mpe(){this.__data__=new hpe,this.size=0}var ppe=mpe;function gpe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var vpe=gpe;function ype(e){return this.__data__.get(e)}var xpe=ype;function bpe(e){return this.__data__.has(e)}var wpe=bpe,jpe=jb,_pe=yO,Npe=xO,Spe=200;function Cpe(e,t){var r=this.__data__;if(r instanceof jpe){var n=r.__data__;if(!_pe||n.length<Spe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Npe(n)}return r.set(e,t),this.size=r.size,this}var Epe=Cpe,Ope=jb,Ape=ppe,Ppe=vpe,kpe=xpe,Tpe=wpe,Mpe=Epe;function oh(e){var t=this.__data__=new Ope(e);this.size=t.size}oh.prototype.clear=Ape;oh.prototype.delete=Ppe;oh.prototype.get=kpe;oh.prototype.has=Tpe;oh.prototype.set=Mpe;var qz=oh,Rpe="__lodash_hash_undefined__";function $pe(e){return this.__data__.set(e,Rpe),this}var Dpe=$pe;function Ipe(e){return this.__data__.has(e)}var Lpe=Ipe,Fpe=xO,Bpe=Dpe,zpe=Lpe;function fx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Fpe;++t<r;)this.add(e[t])}fx.prototype.add=fx.prototype.push=Bpe;fx.prototype.has=zpe;var Wz=fx;function Upe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Hz=Upe;function Vpe(e,t){return e.has(t)}var Gz=Vpe,qpe=Wz,Wpe=Hz,Hpe=Gz,Gpe=1,Kpe=2;function Ype(e,t,r,n,a,o){var i=r&Gpe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=o.get(e),f=o.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,m=r&Kpe?new qpe:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var g=e[d],p=t[d];if(n)var v=i?n(p,g,d,t,e,o):n(g,p,d,e,t,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Wpe(t,function(w,y){if(!Hpe(m,y)&&(g===w||a(g,w,r,n,o)))return m.push(y)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Kz=Ype,Xpe=Jo,Qpe=Xpe.Uint8Array,Zpe=Qpe;function Jpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var ege=Jpe;function tge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var TO=tge,ET=Cg,OT=Zpe,rge=vO,nge=Kz,age=ege,sge=TO,oge=1,ige=2,lge="[object Boolean]",cge="[object Date]",uge="[object Error]",dge="[object Map]",fge="[object Number]",hge="[object RegExp]",mge="[object Set]",pge="[object String]",gge="[object Symbol]",vge="[object ArrayBuffer]",yge="[object DataView]",AT=ET?ET.prototype:void 0,Ej=AT?AT.valueOf:void 0;function xge(e,t,r,n,a,o,i){switch(r){case yge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vge:return!(e.byteLength!=t.byteLength||!o(new OT(e),new OT(t)));case lge:case cge:case fge:return rge(+e,+t);case uge:return e.name==t.name&&e.message==t.message;case hge:case pge:return e==t+"";case dge:var l=age;case mge:var c=n&oge;if(l||(l=sge),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=ige,i.set(e,t);var f=nge(l(e),l(t),n,a,o,i);return i.delete(e),f;case gge:if(Ej)return Ej.call(e)==Ej.call(t)}return!1}var bge=xge;function wge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Yz=wge,jge=Yz,_ge=Ba;function Nge(e,t,r){var n=t(e);return _ge(e)?n:jge(n,r(e))}var Sge=Nge;function Cge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var Ege=Cge;function Oge(){return[]}var Age=Oge,Pge=Ege,kge=Age,Tge=Object.prototype,Mge=Tge.propertyIsEnumerable,PT=Object.getOwnPropertySymbols,Rge=PT?function(e){return e==null?[]:(e=Object(e),Pge(PT(e),function(t){return Mge.call(e,t)}))}:kge,$ge=Rge;function Dge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ige=Dge,Lge=Ri,Fge=$i,Bge="[object Arguments]";function zge(e){return Fge(e)&&Lge(e)==Bge}var Uge=zge,kT=Uge,Vge=$i,Xz=Object.prototype,qge=Xz.hasOwnProperty,Wge=Xz.propertyIsEnumerable,Hge=kT(function(){return arguments}())?kT:function(e){return Vge(e)&&qge.call(e,"callee")&&!Wge.call(e,"callee")},MO=Hge,hx={exports:{}};function Gge(){return!1}var Kge=Gge;hx.exports;(function(e,t){var r=Jo,n=Kge,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(hx,hx.exports);var Qz=hx.exports,Yge=9007199254740991,Xge=/^(?:0|[1-9]\d*)$/;function Qge(e,t){var r=typeof e;return t=t??Yge,!!t&&(r=="number"||r!="symbol"&&Xge.test(e))&&e>-1&&e%1==0&&e<t}var RO=Qge,Zge=9007199254740991;function Jge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zge}var $O=Jge,eve=Ri,tve=$O,rve=$i,nve="[object Arguments]",ave="[object Array]",sve="[object Boolean]",ove="[object Date]",ive="[object Error]",lve="[object Function]",cve="[object Map]",uve="[object Number]",dve="[object Object]",fve="[object RegExp]",hve="[object Set]",mve="[object String]",pve="[object WeakMap]",gve="[object ArrayBuffer]",vve="[object DataView]",yve="[object Float32Array]",xve="[object Float64Array]",bve="[object Int8Array]",wve="[object Int16Array]",jve="[object Int32Array]",_ve="[object Uint8Array]",Nve="[object Uint8ClampedArray]",Sve="[object Uint16Array]",Cve="[object Uint32Array]",Rr={};Rr[yve]=Rr[xve]=Rr[bve]=Rr[wve]=Rr[jve]=Rr[_ve]=Rr[Nve]=Rr[Sve]=Rr[Cve]=!0;Rr[nve]=Rr[ave]=Rr[gve]=Rr[sve]=Rr[vve]=Rr[ove]=Rr[ive]=Rr[lve]=Rr[cve]=Rr[uve]=Rr[dve]=Rr[fve]=Rr[hve]=Rr[mve]=Rr[pve]=!1;function Eve(e){return rve(e)&&tve(e.length)&&!!Rr[eve(e)]}var Ove=Eve;function Ave(e){return function(t){return e(t)}}var Zz=Ave,mx={exports:{}};mx.exports;(function(e,t){var r=sz,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(mx,mx.exports);var Pve=mx.exports,kve=Ove,Tve=Zz,TT=Pve,MT=TT&&TT.isTypedArray,Mve=MT?Tve(MT):kve,Jz=Mve,Rve=Ige,$ve=MO,Dve=Ba,Ive=Qz,Lve=RO,Fve=Jz,Bve=Object.prototype,zve=Bve.hasOwnProperty;function Uve(e,t){var r=Dve(e),n=!r&&$ve(e),a=!r&&!n&&Ive(e),o=!r&&!n&&!a&&Fve(e),i=r||n||a||o,l=i?Rve(e.length,String):[],c=l.length;for(var u in e)(t||zve.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Lve(u,c)))&&l.push(u);return l}var Vve=Uve,qve=Object.prototype;function Wve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qve;return e===r}var Hve=Wve;function Gve(e,t){return function(r){return e(t(r))}}var eU=Gve,Kve=eU,Yve=Kve(Object.keys,Object),Xve=Yve,Qve=Hve,Zve=Xve,Jve=Object.prototype,eye=Jve.hasOwnProperty;function tye(e){if(!Qve(e))return Zve(e);var t=[];for(var r in Object(e))eye.call(e,r)&&r!="constructor"&&t.push(r);return t}var rye=tye,nye=gO,aye=$O;function sye(e){return e!=null&&aye(e.length)&&!nye(e)}var Eg=sye,oye=Vve,iye=rye,lye=Eg;function cye(e){return lye(e)?oye(e):iye(e)}var Fb=cye,uye=Sge,dye=$ge,fye=Fb;function hye(e){return uye(e,fye,dye)}var mye=hye,RT=mye,pye=1,gye=Object.prototype,vye=gye.hasOwnProperty;function yye(e,t,r,n,a,o){var i=r&pye,l=RT(e),c=l.length,u=RT(t),f=u.length;if(c!=f&&!i)return!1;for(var d=c;d--;){var h=l[d];if(!(i?h in t:vye.call(t,h)))return!1}var m=o.get(e),g=o.get(t);if(m&&g)return m==t&&g==e;var p=!0;o.set(e,t),o.set(t,e);for(var v=i;++d<c;){h=l[d];var w=e[h],y=t[h];if(n)var b=i?n(y,w,h,t,e,o):n(w,y,h,e,t,o);if(!(b===void 0?w===y||a(w,y,r,n,o):b)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return o.delete(e),o.delete(t),p}var xye=yye,bye=_u,wye=Jo,jye=bye(wye,"DataView"),_ye=jye,Nye=_u,Sye=Jo,Cye=Nye(Sye,"Promise"),Eye=Cye,Oye=_u,Aye=Jo,Pye=Oye(Aye,"Set"),tU=Pye,kye=_u,Tye=Jo,Mye=kye(Tye,"WeakMap"),Rye=Mye,bN=_ye,wN=yO,jN=Eye,_N=tU,NN=Rye,rU=Ri,ih=iz,$T="[object Map]",$ye="[object Object]",DT="[object Promise]",IT="[object Set]",LT="[object WeakMap]",FT="[object DataView]",Dye=ih(bN),Iye=ih(wN),Lye=ih(jN),Fye=ih(_N),Bye=ih(NN),mc=rU;(bN&&mc(new bN(new ArrayBuffer(1)))!=FT||wN&&mc(new wN)!=$T||jN&&mc(jN.resolve())!=DT||_N&&mc(new _N)!=IT||NN&&mc(new NN)!=LT)&&(mc=function(e){var t=rU(e),r=t==$ye?e.constructor:void 0,n=r?ih(r):"";if(n)switch(n){case Dye:return FT;case Iye:return $T;case Lye:return DT;case Fye:return IT;case Bye:return LT}return t});var zye=mc,Oj=qz,Uye=Kz,Vye=bge,qye=xye,BT=zye,zT=Ba,UT=Qz,Wye=Jz,Hye=1,VT="[object Arguments]",qT="[object Array]",Ev="[object Object]",Gye=Object.prototype,WT=Gye.hasOwnProperty;function Kye(e,t,r,n,a,o){var i=zT(e),l=zT(t),c=i?qT:BT(e),u=l?qT:BT(t);c=c==VT?Ev:c,u=u==VT?Ev:u;var f=c==Ev,d=u==Ev,h=c==u;if(h&&UT(e)){if(!UT(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new Oj),i||Wye(e)?Uye(e,t,r,n,a,o):Vye(e,t,c,r,n,a,o);if(!(r&Hye)){var m=f&&WT.call(e,"__wrapped__"),g=d&&WT.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return o||(o=new Oj),a(p,v,r,n,o)}}return h?(o||(o=new Oj),qye(e,t,r,n,a,o)):!1}var Yye=Kye,Xye=Yye,HT=$i;function nU(e,t,r,n,a){return e===t?!0:e==null||t==null||!HT(e)&&!HT(t)?e!==e&&t!==t:Xye(e,t,r,n,nU,a)}var DO=nU,Qye=qz,Zye=DO,Jye=1,exe=2;function txe(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=r[a];var c=l[0],u=e[c],f=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new Qye;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?Zye(f,u,Jye|exe,n,d):h))return!1}}return!0}var rxe=txe,nxe=Ql;function axe(e){return e===e&&!nxe(e)}var aU=axe,sxe=aU,oxe=Fb;function ixe(e){for(var t=oxe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,sxe(a)]}return t}var lxe=ixe;function cxe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sU=cxe,uxe=rxe,dxe=lxe,fxe=sU;function hxe(e){var t=dxe(e);return t.length==1&&t[0][2]?fxe(t[0][0],t[0][1]):function(r){return r===e||uxe(r,e,t)}}var mxe=hxe;function pxe(e,t){return e!=null&&t in Object(e)}var gxe=pxe,vxe=fz,yxe=MO,xxe=Ba,bxe=RO,wxe=$O,jxe=Nb;function _xe(e,t,r){t=vxe(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=jxe(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&wxe(a)&&bxe(i,a)&&(xxe(e)||yxe(e)))}var Nxe=_xe,Sxe=gxe,Cxe=Nxe;function Exe(e,t){return e!=null&&Cxe(e,t,Sxe)}var Oxe=Exe,Axe=DO,Pxe=hz,kxe=Oxe,Txe=pO,Mxe=aU,Rxe=sU,$xe=Nb,Dxe=1,Ixe=2;function Lxe(e,t){return Txe(e)&&Mxe(t)?Rxe($xe(e),t):function(r){var n=Pxe(r,e);return n===void 0&&n===t?kxe(r,e):Axe(t,n,Dxe|Ixe)}}var Fxe=Lxe;function Bxe(e){return e}var lh=Bxe;function zxe(e){return function(t){return t==null?void 0:t[e]}}var Uxe=zxe,Vxe=jO;function qxe(e){return function(t){return Vxe(t,e)}}var Wxe=qxe,Hxe=Uxe,Gxe=Wxe,Kxe=pO,Yxe=Nb;function Xxe(e){return Kxe(e)?Hxe(Yxe(e)):Gxe(e)}var Qxe=Xxe,Zxe=mxe,Jxe=Fxe,e0e=lh,t0e=Ba,r0e=Qxe;function n0e(e){return typeof e=="function"?e:e==null?e0e:typeof e=="object"?t0e(e)?Jxe(e[0],e[1]):Zxe(e):r0e(e)}var ei=n0e;function a0e(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var oU=a0e;function s0e(e){return e!==e}var o0e=s0e;function i0e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var l0e=i0e,c0e=oU,u0e=o0e,d0e=l0e;function f0e(e,t,r){return t===t?d0e(e,t,r):c0e(e,u0e,r)}var h0e=f0e,m0e=h0e;function p0e(e,t){var r=e==null?0:e.length;return!!r&&m0e(e,t,0)>-1}var g0e=p0e;function v0e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var y0e=v0e;function x0e(){}var b0e=x0e,Aj=tU,w0e=b0e,j0e=TO,_0e=1/0,N0e=Aj&&1/j0e(new Aj([,-0]))[1]==_0e?function(e){return new Aj(e)}:w0e,S0e=N0e,C0e=Wz,E0e=g0e,O0e=y0e,A0e=Gz,P0e=S0e,k0e=TO,T0e=200;function M0e(e,t,r){var n=-1,a=E0e,o=e.length,i=!0,l=[],c=l;if(r)i=!1,a=O0e;else if(o>=T0e){var u=t?null:P0e(e);if(u)return k0e(u);i=!1,a=A0e,c=new C0e}else c=t?[]:l;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var R0e=M0e,$0e=ei,D0e=R0e;function I0e(e,t){return e&&e.length?D0e(e,$0e(t)):[]}var L0e=I0e;const GT=or(L0e);function iU(e,t,r){return t===!0?GT(e,r):jt(t)?GT(e,t):e}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}var F0e=["ref"];function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cU(n.key),n)}}function z0e(e,t,r){return t&&YT(e.prototype,t),r&&YT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U0e(e,t,r){return t=px(t),V0e(e,lU()?Reflect.construct(t,r||[],px(e).constructor):t.apply(e,r))}function V0e(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0e(e)}function q0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(e)}function W0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SN(e,t)}function Bb(e,t,r){return t=cU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=H0e(e,"string");return df(t)=="symbol"?t:t+""}function H0e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G0e(e,t){if(e==null)return{};var r=K0e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y0e(e){return e.value}function X0e(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=G0e(t,F0e);return z.createElement(kO,r)}var XT=1,as=function(e){function t(){var r;B0e(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=U0e(this,t,[].concat(a)),Bb(r,"lastBoundingBox",{width:-1,height:-1}),r}return W0e(t,e),z0e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>XT||Math.abs(a.height-this.lastBoundingBox.height)>XT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ri({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((f||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ri(ri({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=ri(ri({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},X0e(o,ri(ri({},this.props),{},{payload:iU(f,u,Y0e)})))}}],[{key:"getWithHeight",value:function(n,a){var o=ri(ri({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&Ce(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);Bb(as,"displayName","Legend");Bb(as,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QT=Cg,Q0e=MO,Z0e=Ba,ZT=QT?QT.isConcatSpreadable:void 0;function J0e(e){return Z0e(e)||Q0e(e)||!!(ZT&&e&&e[ZT])}var ebe=J0e,tbe=Yz,rbe=ebe;function uU(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=rbe),a||(a=[]);++o<i;){var l=e[o];t>0&&r(l)?t>1?uU(l,t-1,r,n,a):tbe(a,l):n||(a[a.length]=l)}return a}var dU=uU;function nbe(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(o[c],c,o)===!1)break}return t}}var abe=nbe,sbe=abe,obe=sbe(),ibe=obe,lbe=ibe,cbe=Fb;function ube(e,t){return e&&lbe(e,t,cbe)}var fU=ube,dbe=Eg;function fbe(e,t){return function(r,n){if(r==null)return r;if(!dbe(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var hbe=fbe,mbe=fU,pbe=hbe,gbe=pbe(mbe),IO=gbe,vbe=IO,ybe=Eg;function xbe(e,t){var r=-1,n=ybe(e)?Array(e.length):[];return vbe(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var hU=xbe;function bbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wbe=bbe,JT=eh;function jbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=JT(e),i=t!==void 0,l=t===null,c=t===t,u=JT(t);if(!l&&!u&&!o&&e>t||o&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!o&&!u&&e<t||u&&r&&a&&!n&&!o||l&&r&&a||!i&&a||!c)return-1}return 0}var _be=jbe,Nbe=_be;function Sbe(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,l=r.length;++n<i;){var c=Nbe(a[n],o[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Cbe=Sbe,Pj=wO,Ebe=jO,Obe=ei,Abe=hU,Pbe=wbe,kbe=Zz,Tbe=Cbe,Mbe=lh,Rbe=Ba;function $be(e,t,r){t.length?t=Pj(t,function(o){return Rbe(o)?function(i){return Ebe(i,o.length===1?o[0]:o)}:o}):t=[Mbe];var n=-1;t=Pj(t,kbe(Obe));var a=Abe(e,function(o,i,l){var c=Pj(t,function(u){return u(o)});return{criteria:c,index:++n,value:o}});return Pbe(a,function(o,i){return Tbe(o,i,r)})}var Dbe=$be;function Ibe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Lbe=Ibe,Fbe=Lbe,eM=Math.max;function Bbe(e,t,r){return t=eM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=eM(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),Fbe(e,this,l)}}var zbe=Bbe;function Ube(e){return function(){return e}}var Vbe=Ube,qbe=_u,Wbe=function(){try{var e=qbe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mU=Wbe,Hbe=Vbe,tM=mU,Gbe=lh,Kbe=tM?function(e,t){return tM(e,"toString",{configurable:!0,enumerable:!1,value:Hbe(t),writable:!0})}:Gbe,Ybe=Kbe,Xbe=800,Qbe=16,Zbe=Date.now;function Jbe(e){var t=0,r=0;return function(){var n=Zbe(),a=Qbe-(n-r);if(r=n,a>0){if(++t>=Xbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ewe=Jbe,twe=Ybe,rwe=ewe,nwe=rwe(twe),awe=nwe,swe=lh,owe=zbe,iwe=awe;function lwe(e,t){return iwe(owe(e,t,swe),e+"")}var cwe=lwe,uwe=vO,dwe=Eg,fwe=RO,hwe=Ql;function mwe(e,t,r){if(!hwe(r))return!1;var n=typeof t;return(n=="number"?dwe(r)&&fwe(t,r.length):n=="string"&&t in r)?uwe(r[t],e):!1}var zb=mwe,pwe=dU,gwe=Dbe,vwe=cwe,rM=zb,ywe=vwe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&rM(e,t[0],t[1])?t=[]:r>2&&rM(t[0],t[1],t[2])&&(t=[t[0]]),gwe(e,pwe(t,1),[])}),xwe=ywe;const LO=or(xwe);function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function bwe(e,t){return Nwe(e)||_we(e,t)||jwe(e,t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(e,t){if(e){if(typeof e=="string")return nM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nM(e,t)}}function nM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _we(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Nwe(e){if(Array.isArray(e))return e}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){Swe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Swe(e,t,r){return t=Cwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cwe(e){var t=Ewe(e,"string");return op(t)=="symbol"?t:t+""}function Ewe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Owe(e){return Array.isArray(e)&&Tn(e[0])&&Tn(e[1])?e.join(" ~ "):e}var Awe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,w=t.accessibilityLayer,y=w===void 0?!1:w,b=function(){if(f&&f.length){var M={padding:0,margin:0},O=(h?LO(f,h):f).map(function(R,L){if(R.type==="none")return null;var D=kj({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),B=R.formatter||d||Owe,k=R.value,T=R.name,q=k,Q=T;if(B&&q!=null&&Q!=null){var F=B(k,T,R,L,f);if(Array.isArray(F)){var X=bwe(F,2);q=X[0],Q=X[1]}else q=F}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:D},Tn(Q)?z.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Tn(Q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},q),z.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:M},O)}return null},_=kj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),j=kj({margin:0},u),N=!Pt(p),S=N?p:"",C=Dt("recharts-default-tooltip",m),E=Dt("recharts-tooltip-label",g);N&&v&&f!==void 0&&f!==null&&(S=v(p,f));var P=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",CN({className:C,style:_},P),z.createElement("p",{className:E,style:j},z.isValidElement(S)?S:"".concat(S)),b())};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Ov(e,t,r){return t=Pwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pwe(e){var t=kwe(e,"string");return ip(t)=="symbol"?t:t+""}function kwe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ah="recharts-tooltip-wrapper",Twe={visibility:"hidden"};function Mwe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Dt(Ah,Ov(Ov(Ov(Ov({},"".concat(Ah,"-right"),Ce(r)&&t&&Ce(t.x)&&r>=t.x),"".concat(Ah,"-left"),Ce(r)&&t&&Ce(t.x)&&r<t.x),"".concat(Ah,"-bottom"),Ce(n)&&t&&Ce(t.y)&&n>=t.y),"".concat(Ah,"-top"),Ce(n)&&t&&Ce(t.y)&&n<t.y))}function sM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(o&&Ce(o[n]))return o[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,m=c[n];return h<m?Math.max(d,c[n]):Math.max(f,c[n])}var g=d+l,p=c[n]+u;return g>p?Math.max(f,c[n]):Math.max(d,c[n])}function Rwe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $we(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return i.height>0&&i.width>0&&r?(f=sM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),d=sM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=Rwe({translateX:f,translateY:d,useTranslate3d:l})):u=Twe,{cssProperties:u,cssClasses:Mwe({translateX:f,translateY:d,coordinate:r})}}function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){ON(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gU(n.key),n)}}function Lwe(e,t,r){return t&&Iwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fwe(e,t,r){return t=gx(t),Bwe(e,pU()?Reflect.construct(t,r||[],gx(e).constructor):t.apply(e,r))}function Bwe(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zwe(e)}function zwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!e})()}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(e)}function Uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EN(e,t)}function ON(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=Vwe(e,"string");return ff(t)=="symbol"?t:t+""}function Vwe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lM=1,qwe=function(e){function t(){var r;Dwe(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Fwe(this,t,[].concat(a)),ON(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ON(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return Uwe(t,e),Lwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>lM||Math.abs(n.height-this.state.lastBoundingBox.height)>lM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,w=a.viewBox,y=a.wrapperStyle,b=$we({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),_=b.cssClasses,j=b.cssProperties,N=iM(iM({transition:h&&o?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),Wwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zl={isSsr:Wwe()};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){FO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yU(n.key),n)}}function Kwe(e,t,r){return t&&Gwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ywe(e,t,r){return t=vx(t),Xwe(e,vU()?Reflect.construct(t,r||[],vx(e).constructor):t.apply(e,r))}function Xwe(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qwe(e)}function Qwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vU=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(e)}function Zwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AN(e,t)}function FO(e,t,r){return t=yU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=Jwe(e,"string");return hf(t)=="symbol"?t:t+""}function Jwe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eje(e){return e.dataKey}function tje(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(Awe,t)}var Lr=function(e){function t(){return Hwe(this,t),Ywe(this,t,arguments)}return Zwe(t,e),Kwe(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,w=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,j=g??[];d&&j.length&&(j=iU(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,eje));var N=j.length>0;return z.createElement(qwe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:o,coordinate:f,hasPayload:N,offset:m,position:v,reverseDirection:w,useTranslate3d:y,viewBox:b,wrapperStyle:_},tje(u,uM(uM({},this.props),{},{payload:j})))}}])}(x.PureComponent);FO(Lr,"displayName","Tooltip");FO(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rje=Jo,nje=function(){return rje.Date.now()},aje=nje,sje=/\s/;function oje(e){for(var t=e.length;t--&&sje.test(e.charAt(t)););return t}var ije=oje,lje=ije,cje=/^\s+/;function uje(e){return e&&e.slice(0,lje(e)+1).replace(cje,"")}var dje=uje,fje=dje,dM=Ql,hje=eh,fM=NaN,mje=/^[-+]0x[0-9a-f]+$/i,pje=/^0b[01]+$/i,gje=/^0o[0-7]+$/i,vje=parseInt;function yje(e){if(typeof e=="number")return e;if(hje(e))return fM;if(dM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fje(e);var r=pje.test(e);return r||gje.test(e)?vje(e.slice(2),r?2:8):mje.test(e)?fM:+e}var xU=yje,xje=Ql,Tj=aje,hM=xU,bje="Expected a function",wje=Math.max,jje=Math.min;function _je(e,t,r){var n,a,o,i,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(bje);t=hM(t)||0,xje(r)&&(f=!!r.leading,d="maxWait"in r,o=d?wje(hM(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,C=a;return n=a=void 0,u=N,i=e.apply(C,S),i}function g(N){return u=N,l=setTimeout(w,t),f?m(N):i}function p(N){var S=N-c,C=N-u,E=t-S;return d?jje(E,o-C):E}function v(N){var S=N-c,C=N-u;return c===void 0||S>=t||S<0||d&&C>=o}function w(){var N=Tj();if(v(N))return y(N);l=setTimeout(w,p(N))}function y(N){return l=void 0,h&&n?m(N):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:y(Tj())}function j(){var N=Tj(),S=v(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(w,t),m(c)}return l===void 0&&(l=setTimeout(w,t)),i}return j.cancel=b,j.flush=_,j}var Nje=_je,Sje=Nje,Cje=Ql,Eje="Expected a function";function Oje(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Eje);return Cje(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Sje(e,t,{leading:n,maxWait:t,trailing:a})}var Aje=Oje;const bU=or(Aje);function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){Pje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pje(e,t,r){return t=kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Tje(e,"string");return lp(t)=="symbol"?t:t+""}function Tje(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mje(e,t){return Ije(e)||Dje(e,t)||$je(e,t)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(e,t){if(e){if(typeof e=="string")return pM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(e,t)}}function pM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Ije(e){if(Array.isArray(e))return e}var da=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,w=e.className,y=e.onResize,b=e.style,_=b===void 0?{}:b,j=x.useRef(null),N=x.useRef();N.current=y,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),C=Mje(S,2),E=C[0],P=C[1],A=x.useCallback(function(O,R){P(function(L){var D=Math.round(O),B=Math.round(R);return L.containerWidth===D&&L.containerHeight===B?L:{containerWidth:D,containerHeight:B}})},[]);x.useEffect(function(){var O=function(T){var q,Q=T[0].contentRect,F=Q.width,X=Q.height;A(F,X),(q=N.current)===null||q===void 0||q.call(N,F,X)};p>0&&(O=bU(O,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(O),L=j.current.getBoundingClientRect(),D=L.width,B=L.height;return A(D,B),R.observe(j.current),function(){R.disconnect()}},[A,p]);var M=x.useMemo(function(){var O=E.containerWidth,R=E.containerHeight;if(O<0||R<0)return null;ho(Oc(i)||Oc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),ho(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Oc(i)?O:i,D=Oc(c)?R:c;r&&r>0&&(L?D=L/r:D&&(L=D*r),h&&D>h&&(D=h)),ho(L>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,i,c,f,d,r);var B=!Array.isArray(m)&&yi(m.type).endsWith("Chart");return z.Children.map(m,function(k){return z.isValidElement(k)?x.cloneElement(k,Av({width:L,height:D},B?{style:Av({height:"100%",width:"100%",maxHeight:D,maxWidth:L},k.props.style)}:{})):k})},[r,m,c,h,d,f,E,i]);return z.createElement("div",{id:v?"".concat(v):void 0,className:Dt("recharts-responsive-container",w),style:Av(Av({},_),{},{width:i,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},M)}),Yo=function(t){return null};Yo.displayName="Cell";function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){Lje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lje(e,t,r){return t=Fje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fje(e){var t=Bje(e,"string");return cp(t)=="symbol"?t:t+""}function Bje(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu={widthCache:{},cacheCount:0},zje=2e3,Uje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vM="recharts_measurement_span";function Vje(e){var t=PN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zl.isSsr)return{width:0,height:0};var n=Vje(r),a=JSON.stringify({text:t,copyStyle:n});if(zu.widthCache[a])return zu.widthCache[a];try{var o=document.getElementById(vM);o||(o=document.createElement("span"),o.setAttribute("id",vM),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=PN(PN({},Uje),n);Object.assign(o.style,i),o.textContent="".concat(t);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return zu.widthCache[a]=c,++zu.cacheCount>zje&&(zu.cacheCount=0,zu.widthCache={}),c}catch{return{width:0,height:0}}},qje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function yx(e,t){return Kje(e)||Gje(e,t)||Hje(e,t)||Wje()}function Wje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hje(e,t){if(e){if(typeof e=="string")return yM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(e,t)}}function yM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Kje(e){if(Array.isArray(e))return e}function Yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qje(n.key),n)}}function Xje(e,t,r){return t&&xM(e.prototype,t),r&&xM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qje(e){var t=Zje(e,"string");return up(t)=="symbol"?t:t+""}function Zje(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t_e=Object.keys(wU),ud="NaN";function r_e(e,t){return e*wU[t]}var Pv=function(){function e(t,r){Yje(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Jje.test(r)&&(this.num=NaN,this.unit=""),t_e.includes(r)&&(this.num=r_e(t,r),this.unit="px")}return Xje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=e_e.exec(r))!==null&&n!==void 0?n:[],o=yx(a,3),i=o[1],l=o[2];return new e(parseFloat(i),l??"")}}])}();function jU(e){if(e.includes(ud))return ud;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=bM.exec(t))!==null&&r!==void 0?r:[],a=yx(n,4),o=a[1],i=a[2],l=a[3],c=Pv.parse(o??""),u=Pv.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return ud;t=t.replace(bM,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=wM.exec(t))!==null&&d!==void 0?d:[],m=yx(h,4),g=m[1],p=m[2],v=m[3],w=Pv.parse(g??""),y=Pv.parse(v??""),b=p==="+"?w.add(y):w.subtract(y);if(b.isNaN())return ud;t=t.replace(wM,b.toString())}return t}var jM=/\(([^()]*)\)/;function n_e(e){for(var t=e;t.includes("(");){var r=jM.exec(t),n=yx(r,2),a=n[1];t=t.replace(jM,jU(a))}return t}function a_e(e){var t=e.replace(/\s+/g,"");return t=n_e(t),t=jU(t),t}function s_e(e){try{return a_e(e)}catch{return ud}}function Mj(e){var t=s_e(e.slice(5,-1));return t===ud?"":t}var o_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],i_e=["dx","dy","angle","className","breakAll"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(this,arguments)}function _M(e,t){if(e==null)return{};var r=l_e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NM(e,t){return f_e(e)||d_e(e,t)||u_e(e,t)||c_e()}function c_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u_e(e,t){if(e){if(typeof e=="string")return SM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(e,t)}}function SM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function f_e(e){if(Array.isArray(e))return e}var _U=/[ \f\n\r\t\v\u2028\u2029]+/,NU=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Pt(r)||(n?o=r.toString().split(""):o=r.toString().split(_U));var i=o.map(function(c){return{word:c,width:mm(c,a).width}}),l=n?0:mm("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},h_e=function(t,r,n,a,o){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Ce(i),d=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(D,B){var k=B.word,T=B.width,q=D[D.length-1];if(q&&(a==null||o||q.width+T+n<Number(a)))q.words.push(k),q.width+=T+n;else{var Q={words:[k],width:T};D.push(Q)}return D},[])},m=h(r),g=function(L){return L.reduce(function(D,B){return D.width>B.width?D:B})};if(!f)return m;for(var p="",v=function(L){var D=d.slice(0,L),B=NU({breakAll:u,style:c,children:D+p}).wordsWithComputedWidth,k=h(B),T=k.length>i||g(k).width>Number(a);return[T,k]},w=0,y=d.length-1,b=0,_;w<=y&&b<=d.length-1;){var j=Math.floor((w+y)/2),N=j-1,S=v(N),C=NM(S,2),E=C[0],P=C[1],A=v(j),M=NM(A,1),O=M[0];if(!E&&!O&&(w=j+1),E&&O&&(y=j-1),!E&&O){_=P;break}b++}return _||m},CM=function(t){var r=Pt(t)?[]:t.toString().split(_U);return[{words:r}]},m_e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Zl.isSsr){var c,u,f=NU({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return CM(a);return h_e({breakAll:i,children:a,maxLines:l,style:o},c,u,r,n)}return CM(a)},EM="#808080",cu=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,w=v===void 0?EM:v,y=_M(t,o_e),b=x.useMemo(function(){return m_e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),_=y.dx,j=y.dy,N=y.angle,S=y.className,C=y.breakAll,E=_M(y,i_e);if(!Tn(n)||!Tn(o))return null;var P=n+(Ce(_)?_:0),A=o+(Ce(j)?j:0),M;switch(p){case"start":M=Mj("calc(".concat(u,")"));break;case"middle":M=Mj("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=Mj("calc(".concat(b.length-1," * -").concat(l,")"));break}var O=[];if(d){var R=b[0].width,L=y.width;O.push("scale(".concat((Ce(L)?L/R:1)/R,")"))}return N&&O.push("rotate(".concat(N,", ").concat(P,", ").concat(A,")")),O.length&&(E.transform=O.join(" ")),z.createElement("text",kN({},mt(E,!0),{x:P,y:A,className:Dt("recharts-text",S),textAnchor:m,fill:w.includes("url")?EM:w}),b.map(function(D,B){var k=D.words.join(C?"":" ");return z.createElement("tspan",{x:P,dy:B===0?M:l,key:"".concat(k,"-").concat(B)},k)}))};function Tl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BO(e){let t,r,n;e.length!==2?(t=Tl,r=(l,c)=>Tl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Tl||e===p_e?e:g_e,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:i,right:o}}function g_e(){return 0}function SU(e){return e===null?NaN:+e}function*v_e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const y_e=BO(Tl),Og=y_e.right;BO(SU).center;class OM extends Map{constructor(t,r=w_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(AM(this,t))}has(t){return super.has(AM(this,t))}set(t,r){return super.set(x_e(this,t),r)}delete(t){return super.delete(b_e(this,t))}}function AM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function x_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function b_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function j_e(e=Tl){if(e===Tl)return CU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function CU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const __e=Math.sqrt(50),N_e=Math.sqrt(10),S_e=Math.sqrt(2);function xx(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=__e?10:o>=N_e?5:o>=S_e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?xx(e,t,r*2):[l,c,u]}function TN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?xx(t,e,r):xx(e,t,r);if(!(o>=a))return[];const l=o-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(o-u)/-i;else for(let u=0;u<l;++u)c[u]=(o-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function MN(e,t,r){return t=+t,e=+e,r=+r,xx(e,t,r)[2]}function RN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?MN(t,e,r):MN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function PM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function kM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function EU(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?CU:j_e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/c+h)),g=Math.min(n,Math.floor(t+(c-u)*d/c+h));EU(e,t,m,g,a)}const o=e[t];let i=r,l=n;for(Ph(e,r,t),a(e[n],o)>0&&Ph(e,r,n);i<l;){for(Ph(e,i,l),++i,--l;a(e[i],o)<0;)++i;for(;a(e[l],o)>0;)--l}a(e[r],o)===0?Ph(e,r,l):(++l,Ph(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ph(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function C_e(e,t,r){if(e=Float64Array.from(v_e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return kM(e);if(t>=1)return PM(e);var n,a=(n-1)*t,o=Math.floor(a),i=PM(EU(e,o).subarray(0,o+1)),l=kM(e.subarray(o+1));return i+(l-i)*(a-o)}}function E_e(e,t,r=SU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),l=+r(e[o+1],o+1,e);return i+(l-i)*(a-o)}}function O_e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Us(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Di(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $N=Symbol("implicit");function zO(){var e=new OM,t=[],r=[],n=$N;function a(o){let i=e.get(o);if(i===void 0){if(n!==$N)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new OM;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return zO(t,r).unknown(n)},Us.apply(a,arguments),a}function dp(){var e=zO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;o=(p-g)/Math.max(1,h-c+u*2),l&&(o=Math.floor(o)),g+=(p-g-o*(h-c))*f,i=o*(1-c),l&&(g=Math.round(g),i=Math.round(i));var v=O_e(h).map(function(w){return g+o*w});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return dp(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Us.apply(d(),arguments)}function OU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OU(t())},e}function pm(){return OU(dp.apply(null,arguments).paddingInner(1))}function UO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function AU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ag(){}var fp=.7,bx=1/fp,kd="\\s*([+-]?\\d+)\\s*",hp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A_e=/^#([0-9a-f]{3,8})$/,P_e=new RegExp(`^rgb\\(${kd},${kd},${kd}\\)$`),k_e=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),T_e=new RegExp(`^rgba\\(${kd},${kd},${kd},${hp}\\)$`),M_e=new RegExp(`^rgba\\(${qo},${qo},${qo},${hp}\\)$`),R_e=new RegExp(`^hsl\\(${hp},${qo},${qo}\\)$`),$_e=new RegExp(`^hsla\\(${hp},${qo},${qo},${hp}\\)$`),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UO(Ag,mp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MM,formatHex:MM,formatHex8:D_e,formatHsl:I_e,formatRgb:RM,toString:RM});function MM(){return this.rgb().formatHex()}function D_e(){return this.rgb().formatHex8()}function I_e(){return PU(this).formatHsl()}function RM(){return this.rgb().formatRgb()}function mp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=A_e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$M(t):r===3?new Ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P_e.exec(e))?new Ta(t[1],t[2],t[3],1):(t=k_e.exec(e))?new Ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T_e.exec(e))?kv(t[1],t[2],t[3],t[4]):(t=M_e.exec(e))?kv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R_e.exec(e))?LM(t[1],t[2]/100,t[3]/100,1):(t=$_e.exec(e))?LM(t[1],t[2]/100,t[3]/100,t[4]):TM.hasOwnProperty(e)?$M(TM[e]):e==="transparent"?new Ta(NaN,NaN,NaN,0):null}function $M(e){return new Ta(e>>16&255,e>>8&255,e&255,1)}function kv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ta(e,t,r,n)}function L_e(e){return e instanceof Ag||(e=mp(e)),e?(e=e.rgb(),new Ta(e.r,e.g,e.b,e.opacity)):new Ta}function DN(e,t,r,n){return arguments.length===1?L_e(e):new Ta(e,t,r,n??1)}function Ta(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}UO(Ta,DN,AU(Ag,{brighter(e){return e=e==null?bx:Math.pow(bx,e),new Ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fp:Math.pow(fp,e),new Ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ta(Wc(this.r),Wc(this.g),Wc(this.b),wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DM,formatHex:DM,formatHex8:F_e,formatRgb:IM,toString:IM}));function DM(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function F_e(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function IM(){const e=wx(this.opacity);return`${e===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${e===1?")":`, ${e})`}`}function wx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ac(e){return e=Wc(e),(e<16?"0":"")+e.toString(16)}function LM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new so(e,t,r,n)}function PU(e){if(e instanceof so)return new so(e.h,e.s,e.l,e.opacity);if(e instanceof Ag||(e=mp(e)),!e)return new so;if(e instanceof so)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,l=o-a,c=(o+a)/2;return l?(t===o?i=(r-n)/l+(r<n)*6:r===o?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?o+a:2-o-a,i*=60):l=c>0&&c<1?0:i,new so(i,l,c,e.opacity)}function B_e(e,t,r,n){return arguments.length===1?PU(e):new so(e,t,r,n??1)}function so(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}UO(so,B_e,AU(Ag,{brighter(e){return e=e==null?bx:Math.pow(bx,e),new so(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fp:Math.pow(fp,e),new so(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ta(Rj(e>=240?e-240:e+120,a,n),Rj(e,a,n),Rj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new so(FM(this.h),Tv(this.s),Tv(this.l),wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wx(this.opacity);return`${e===1?"hsl(":"hsla("}${FM(this.h)}, ${Tv(this.s)*100}%, ${Tv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FM(e){return e=(e||0)%360,e<0?e+360:e}function Tv(e){return Math.max(0,Math.min(1,e||0))}function Rj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const VO=e=>()=>e;function z_e(e,t){return function(r){return e+r*t}}function U_e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function V_e(e){return(e=+e)==1?kU:function(t,r){return r-t?U_e(t,r,e):VO(isNaN(t)?r:t)}}function kU(e,t){var r=t-e;return r?z_e(e,r):VO(isNaN(e)?t:e)}const BM=function e(t){var r=V_e(t);function n(a,o){var i=r((a=DN(a)).r,(o=DN(o)).r),l=r(a.g,o.g),c=r(a.b,o.b),u=kU(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function q_e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function W_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function H_e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=ch(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(l){for(i=0;i<n;++i)o[i]=a[i](l);return o}}function G_e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K_e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ch(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var IN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$j=new RegExp(IN.source,"g");function Y_e(e){return function(){return e}}function X_e(e){return function(t){return e(t)+""}}function Q_e(e,t){var r=IN.lastIndex=$j.lastIndex=0,n,a,o,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=IN.exec(e))&&(a=$j.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),l[i]?l[i]+=o:l[++i]=o),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:jx(n,a)})),r=$j.lastIndex;return r<t.length&&(o=t.slice(r),l[i]?l[i]+=o:l[++i]=o),l.length<2?c[0]?X_e(c[0].x):Y_e(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function ch(e,t){var r=typeof t,n;return t==null||r==="boolean"?VO(t):(r==="number"?jx:r==="string"?(n=mp(t))?(t=n,BM):Q_e:t instanceof mp?BM:t instanceof Date?G_e:W_e(t)?q_e:Array.isArray(t)?H_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K_e:jx)(e,t)}function qO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Z_e(e,t){t===void 0&&(t=e,e=ch);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[l](i-l)}}function J_e(e){return function(){return e}}function _x(e){return+e}var zM=[0,1];function ma(e){return e}function LN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:J_e(isNaN(t)?NaN:.5)}function e1e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function t1e(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=LN(a,n),o=r(i,o)):(n=LN(n,a),o=r(o,i)),function(l){return o(n(l))}}function r1e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=LN(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(l){var c=Og(e,l,1,n)-1;return o[c](a[c](l))}}function Pg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ub(){var e=zM,t=zM,r=ch,n,a,o,i=ma,l,c,u;function f(){var h=Math.min(e.length,t.length);return i!==ma&&(i=e1e(e[0],e[h-1])),l=h>2?r1e:t1e,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((u||(u=l(t,e.map(n),jx)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,_x),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=qO,f()},d.clamp=function(h){return arguments.length?(i=h?!0:ma,f()):i!==ma},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,m){return n=h,a=m,f()}}function WO(){return Ub()(ma,ma)}function n1e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mf(e){return e=Nx(Math.abs(e)),e?e[1]:NaN}function a1e(e,t){return function(r,n){for(var a=r.length,o=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return o.reverse().join(t)}}function s1e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var o1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pp(e){if(!(t=o1e.exec(e)))throw new Error("invalid format: "+e);var t;return new HO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pp.prototype=HO.prototype;function HO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function i1e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var TU;function l1e(e,t){var r=Nx(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(TU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Nx(e,Math.max(0,t+o-1))[0]}function UM(e,t){var r=Nx(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const VM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:n1e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UM(e*100,t),r:UM,s:l1e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qM(e){return e}var WM=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c1e(e){var t=e.grouping===void 0||e.thousands===void 0?qM:a1e(WM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?qM:s1e(WM.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=pp(d);var h=d.fill,m=d.align,g=d.sign,p=d.symbol,v=d.zero,w=d.width,y=d.comma,b=d.precision,_=d.trim,j=d.type;j==="n"?(y=!0,j="g"):VM[j]||(b===void 0&&(b=12),_=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=p==="$"?n:/[%p]/.test(j)?i:"",C=VM[j],E=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var M=N,O=S,R,L,D;if(j==="c")O=C(A)+O,A="";else{A=+A;var B=A<0||1/A<0;if(A=isNaN(A)?c:C(Math.abs(A),b),_&&(A=i1e(A)),B&&+A==0&&g!=="+"&&(B=!1),M=(B?g==="("?g:l:g==="-"||g==="("?"":g)+M,O=(j==="s"?HM[8+TU/3]:"")+O+(B&&g==="("?")":""),E){for(R=-1,L=A.length;++R<L;)if(D=A.charCodeAt(R),48>D||D>57){O=(D===46?a+A.slice(R+1):A.slice(R))+O,A=A.slice(0,R);break}}}y&&!v&&(A=t(A,1/0));var k=M.length+A.length+O.length,T=k<w?new Array(w-k+1).join(h):"";switch(y&&v&&(A=t(T+A,T.length?w-O.length:1/0),T=""),m){case"<":A=M+A+O+T;break;case"=":A=M+T+A+O;break;case"^":A=T.slice(0,k=T.length>>1)+M+A+O+T.slice(k);break;default:A=T+M+A+O;break}return o(A)}return P.toString=function(){return d+""},P}function f(d,h){var m=u((d=pp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(mf(h)/3)))*3,p=Math.pow(10,-g),v=HM[8+g/3];return function(w){return m(p*w)+v}}return{format:u,formatPrefix:f}}var Mv,GO,MU;u1e({thousands:",",grouping:[3],currency:["$",""]});function u1e(e){return Mv=c1e(e),GO=Mv.format,MU=Mv.formatPrefix,Mv}function d1e(e){return Math.max(0,-mf(Math.abs(e)))}function f1e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mf(t)/3)))*3-mf(Math.abs(e)))}function h1e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mf(t)-mf(e))+1}function RU(e,t,r,n){var a=RN(e,t,r),o;switch(n=pp(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=f1e(a,i))&&(n.precision=o),MU(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=h1e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=d1e(a))&&(n.precision=o-(n.type==="%")*2);break}}return GO(n)}function Jl(e){var t=e.domain;return e.ticks=function(r){var n=t();return TN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return RU(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],l=n[o],c,u,f=10;for(l<i&&(u=i,i=l,l=u,u=a,a=o,o=u);f-- >0;){if(u=MN(i,l,r),u===c)return n[a]=i,n[o]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Sx(){var e=WO();return e.copy=function(){return Pg(e,Sx())},Us.apply(e,arguments),Jl(e)}function $U(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_x),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $U(e).unknown(t)},e=arguments.length?Array.from(e,_x):[0,1],Jl(r)}function DU(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function GM(e){return Math.log(e)}function KM(e){return Math.exp(e)}function m1e(e){return-Math.log(-e)}function p1e(e){return-Math.exp(-e)}function g1e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v1e(e){return e===10?g1e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function y1e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YM(e){return(t,r)=>-e(-t,r)}function KO(e){const t=e(GM,KM),r=t.domain;let n=10,a,o;function i(){return a=y1e(n),o=v1e(n),r()[0]<0?(a=YM(a),o=YM(o),e(m1e,p1e)):e(GM,KM),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),m=a(f),g,p;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/o(-h):g*o(h),!(p<u)){if(p>f)break;w.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/o(-h):g*o(h),!(p<u)){if(p>f)break;w.push(p)}w.length*2<v&&(w=TN(u,f,v))}else w=TN(h,m,Math.min(m-h,v)).map(o);return d?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pp(c)).precision==null&&(c.trim=!0),c=GO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(DU(r(),{floor:l=>o(Math.floor(a(l))),ceil:l=>o(Math.ceil(a(l)))})),t}function IU(){const e=KO(Ub()).domain([1,10]);return e.copy=()=>Pg(e,IU()).base(e.base()),Us.apply(e,arguments),e}function XM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function YO(e){var t=1,r=e(XM(t),QM(t));return r.constant=function(n){return arguments.length?e(XM(t=+n),QM(t)):t},Jl(r)}function LU(){var e=YO(Ub());return e.copy=function(){return Pg(e,LU()).constant(e.constant())},Us.apply(e,arguments)}function ZM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function x1e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function b1e(e){return e<0?-e*e:e*e}function XO(e){var t=e(ma,ma),r=1;function n(){return r===1?e(ma,ma):r===.5?e(x1e,b1e):e(ZM(r),ZM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Jl(t)}function QO(){var e=XO(Ub());return e.copy=function(){return Pg(e,QO()).exponent(e.exponent())},Us.apply(e,arguments),e}function w1e(){return QO.apply(null,arguments).exponent(.5)}function JM(e){return Math.sign(e)*e*e}function j1e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FU(){var e=WO(),t=[0,1],r=!1,n;function a(o){var i=j1e(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(JM(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,_x)).map(JM)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return FU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Us.apply(a,arguments),Jl(a)}function BU(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=E_e(e,i/l);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Og(r,i)]}return o.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Tl),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return BU().domain(e).range(t).unknown(n)},Us.apply(o,arguments)}function zU(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(c){return c!=null&&c<=c?a[Og(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return zU().domain([e,t]).range(a).unknown(o)},Us.apply(Jl(i),arguments)}function UU(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Og(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return UU().domain(e).range(t).unknown(r)},Us.apply(a,arguments)}const Dj=new Date,Ij=new Date;function Mn(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),l=a.ceil(o);return o-i<l-o?i:l},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,l)=>{const c=[];if(o=a.ceil(o),l=l==null?1:Math.floor(l),!(o<i)||!(l>0))return c;let u;do c.push(u=new Date(+o)),t(o,l),e(o);while(u<o&&o<i);return c},a.filter=o=>Mn(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!o(i););else for(;--l>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Dj.setTime(+o),Ij.setTime(+i),e(Dj),e(Ij),Math.floor(r(Dj,Ij))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Cx=Mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cx);Cx.range;const mi=1e3,Es=mi*60,pi=Es*60,Ei=pi*24,ZO=Ei*7,eR=Ei*30,Lj=Ei*365,Pc=Mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCSeconds());Pc.range;const JO=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getMinutes());JO.range;const e2=Mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCMinutes());e2.range;const t2=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi-e.getMinutes()*Es)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getHours());t2.range;const r2=Mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCHours());r2.range;const kg=Mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Es)/Ei,e=>e.getDate()-1);kg.range;const Vb=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>e.getUTCDate()-1);Vb.range;const VU=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>Math.floor(e/Ei));VU.range;function Su(e){return Mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Es)/ZO)}const qb=Su(0),Ex=Su(1),_1e=Su(2),N1e=Su(3),pf=Su(4),S1e=Su(5),C1e=Su(6);qb.range;Ex.range;_1e.range;N1e.range;pf.range;S1e.range;C1e.range;function Cu(e){return Mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ZO)}const Wb=Cu(0),Ox=Cu(1),E1e=Cu(2),O1e=Cu(3),gf=Cu(4),A1e=Cu(5),P1e=Cu(6);Wb.range;Ox.range;E1e.range;O1e.range;gf.range;A1e.range;P1e.range;const n2=Mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());n2.range;const a2=Mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());a2.range;const Oi=Mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Oi.range;const Ai=Mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ai.range;function qU(e,t,r,n,a,o){const i=[[Pc,1,mi],[Pc,5,5*mi],[Pc,15,15*mi],[Pc,30,30*mi],[o,1,Es],[o,5,5*Es],[o,15,15*Es],[o,30,30*Es],[a,1,pi],[a,3,3*pi],[a,6,6*pi],[a,12,12*pi],[n,1,Ei],[n,2,2*Ei],[r,1,ZO],[t,1,eR],[t,3,3*eR],[e,1,Lj]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:c(u,f,d),g=m?m.range(u,+f+1):[];return h?g.reverse():g}function c(u,f,d){const h=Math.abs(f-u)/d,m=BO(([,,v])=>v).right(i,h);if(m===i.length)return e.every(RN(u/Lj,f/Lj,d));if(m===0)return Cx.every(Math.max(RN(u,f,d),1));const[g,p]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[k1e,T1e]=qU(Ai,a2,Wb,VU,r2,e2),[M1e,R1e]=qU(Oi,n2,qb,kg,t2,JO);function Fj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $1e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Th(a),f=Mh(a),d=Th(o),h=Mh(o),m=Th(i),g=Mh(i),p=Th(l),v=Mh(l),w=Th(c),y=Mh(c),b={a:B,A:k,b:T,B:q,c:null,d:oR,e:oR,f:aNe,g:mNe,G:gNe,H:tNe,I:rNe,j:nNe,L:WU,m:sNe,M:oNe,p:Q,q:F,Q:cR,s:uR,S:iNe,u:lNe,U:cNe,V:uNe,w:dNe,W:fNe,x:null,X:null,y:hNe,Y:pNe,Z:vNe,"%":lR},_={a:X,A:ce,b:pe,B:ge,c:null,d:iR,e:iR,f:wNe,g:kNe,G:MNe,H:yNe,I:xNe,j:bNe,L:GU,m:jNe,M:_Ne,p:he,q:qe,Q:cR,s:uR,S:NNe,u:SNe,U:CNe,V:ENe,w:ONe,W:ANe,x:null,X:null,y:PNe,Y:TNe,Z:RNe,"%":lR},j={a:P,A,b:M,B:O,c:R,d:aR,e:aR,f:Q1e,g:nR,G:rR,H:sR,I:sR,j:G1e,L:X1e,m:H1e,M:K1e,p:E,q:W1e,Q:J1e,s:eNe,S:Y1e,u:B1e,U:z1e,V:U1e,w:F1e,W:V1e,x:L,X:D,y:nR,Y:rR,Z:q1e,"%":Z1e};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(ie,ye){return function(ve){var ne=[],gt=-1,at=0,je=ie.length,yt,Ut,gr;for(ve instanceof Date||(ve=new Date(+ve));++gt<je;)ie.charCodeAt(gt)===37&&(ne.push(ie.slice(at,gt)),(Ut=tR[yt=ie.charAt(++gt)])!=null?yt=ie.charAt(++gt):Ut=yt==="e"?" ":"0",(gr=ye[yt])&&(yt=gr(ve,Ut)),ne.push(yt),at=gt+1);return ne.push(ie.slice(at,gt)),ne.join("")}}function S(ie,ye){return function(ve){var ne=kh(1900,void 0,1),gt=C(ne,ie,ve+="",0),at,je;if(gt!=ve.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ye&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(at=Bj(kh(ne.y,0,1)),je=at.getUTCDay(),at=je>4||je===0?Ox.ceil(at):Ox(at),at=Vb.offset(at,(ne.V-1)*7),ne.y=at.getUTCFullYear(),ne.m=at.getUTCMonth(),ne.d=at.getUTCDate()+(ne.w+6)%7):(at=Fj(kh(ne.y,0,1)),je=at.getDay(),at=je>4||je===0?Ex.ceil(at):Ex(at),at=kg.offset(at,(ne.V-1)*7),ne.y=at.getFullYear(),ne.m=at.getMonth(),ne.d=at.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),je="Z"in ne?Bj(kh(ne.y,0,1)).getUTCDay():Fj(kh(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(je+5)%7:ne.w+ne.U*7-(je+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Bj(ne)):Fj(ne)}}function C(ie,ye,ve,ne){for(var gt=0,at=ye.length,je=ve.length,yt,Ut;gt<at;){if(ne>=je)return-1;if(yt=ye.charCodeAt(gt++),yt===37){if(yt=ye.charAt(gt++),Ut=j[yt in tR?ye.charAt(gt++):yt],!Ut||(ne=Ut(ie,ve,ne))<0)return-1}else if(yt!=ve.charCodeAt(ne++))return-1}return ne}function E(ie,ye,ve){var ne=u.exec(ye.slice(ve));return ne?(ie.p=f.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function P(ie,ye,ve){var ne=m.exec(ye.slice(ve));return ne?(ie.w=g.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function A(ie,ye,ve){var ne=d.exec(ye.slice(ve));return ne?(ie.w=h.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function M(ie,ye,ve){var ne=w.exec(ye.slice(ve));return ne?(ie.m=y.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function O(ie,ye,ve){var ne=p.exec(ye.slice(ve));return ne?(ie.m=v.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function R(ie,ye,ve){return C(ie,t,ye,ve)}function L(ie,ye,ve){return C(ie,r,ye,ve)}function D(ie,ye,ve){return C(ie,n,ye,ve)}function B(ie){return i[ie.getDay()]}function k(ie){return o[ie.getDay()]}function T(ie){return c[ie.getMonth()]}function q(ie){return l[ie.getMonth()]}function Q(ie){return a[+(ie.getHours()>=12)]}function F(ie){return 1+~~(ie.getMonth()/3)}function X(ie){return i[ie.getUTCDay()]}function ce(ie){return o[ie.getUTCDay()]}function pe(ie){return c[ie.getUTCMonth()]}function ge(ie){return l[ie.getUTCMonth()]}function he(ie){return a[+(ie.getUTCHours()>=12)]}function qe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ye=N(ie+="",b);return ye.toString=function(){return ie},ye},parse:function(ie){var ye=S(ie+="",!1);return ye.toString=function(){return ie},ye},utcFormat:function(ie){var ye=N(ie+="",_);return ye.toString=function(){return ie},ye},utcParse:function(ie){var ye=S(ie+="",!0);return ye.toString=function(){return ie},ye}}}var tR={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,D1e=/^%/,I1e=/[\\^$*+?|[\]().{}]/g;function rr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function L1e(e){return e.replace(I1e,"\\$&")}function Th(e){return new RegExp("^(?:"+e.map(L1e).join("|")+")","i")}function Mh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function F1e(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function B1e(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function z1e(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function U1e(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function V1e(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rR(e,t,r){var n=Fn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nR(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function q1e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function W1e(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function H1e(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function aR(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function G1e(e,t,r){var n=Fn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function sR(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function K1e(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Y1e(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function X1e(e,t,r){var n=Fn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Q1e(e,t,r){var n=Fn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Z1e(e,t,r){var n=D1e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function J1e(e,t,r){var n=Fn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eNe(e,t,r){var n=Fn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function oR(e,t){return rr(e.getDate(),t,2)}function tNe(e,t){return rr(e.getHours(),t,2)}function rNe(e,t){return rr(e.getHours()%12||12,t,2)}function nNe(e,t){return rr(1+kg.count(Oi(e),e),t,3)}function WU(e,t){return rr(e.getMilliseconds(),t,3)}function aNe(e,t){return WU(e,t)+"000"}function sNe(e,t){return rr(e.getMonth()+1,t,2)}function oNe(e,t){return rr(e.getMinutes(),t,2)}function iNe(e,t){return rr(e.getSeconds(),t,2)}function lNe(e){var t=e.getDay();return t===0?7:t}function cNe(e,t){return rr(qb.count(Oi(e)-1,e),t,2)}function HU(e){var t=e.getDay();return t>=4||t===0?pf(e):pf.ceil(e)}function uNe(e,t){return e=HU(e),rr(pf.count(Oi(e),e)+(Oi(e).getDay()===4),t,2)}function dNe(e){return e.getDay()}function fNe(e,t){return rr(Ex.count(Oi(e)-1,e),t,2)}function hNe(e,t){return rr(e.getFullYear()%100,t,2)}function mNe(e,t){return e=HU(e),rr(e.getFullYear()%100,t,2)}function pNe(e,t){return rr(e.getFullYear()%1e4,t,4)}function gNe(e,t){var r=e.getDay();return e=r>=4||r===0?pf(e):pf.ceil(e),rr(e.getFullYear()%1e4,t,4)}function vNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rr(t/60|0,"0",2)+rr(t%60,"0",2)}function iR(e,t){return rr(e.getUTCDate(),t,2)}function yNe(e,t){return rr(e.getUTCHours(),t,2)}function xNe(e,t){return rr(e.getUTCHours()%12||12,t,2)}function bNe(e,t){return rr(1+Vb.count(Ai(e),e),t,3)}function GU(e,t){return rr(e.getUTCMilliseconds(),t,3)}function wNe(e,t){return GU(e,t)+"000"}function jNe(e,t){return rr(e.getUTCMonth()+1,t,2)}function _Ne(e,t){return rr(e.getUTCMinutes(),t,2)}function NNe(e,t){return rr(e.getUTCSeconds(),t,2)}function SNe(e){var t=e.getUTCDay();return t===0?7:t}function CNe(e,t){return rr(Wb.count(Ai(e)-1,e),t,2)}function KU(e){var t=e.getUTCDay();return t>=4||t===0?gf(e):gf.ceil(e)}function ENe(e,t){return e=KU(e),rr(gf.count(Ai(e),e)+(Ai(e).getUTCDay()===4),t,2)}function ONe(e){return e.getUTCDay()}function ANe(e,t){return rr(Ox.count(Ai(e)-1,e),t,2)}function PNe(e,t){return rr(e.getUTCFullYear()%100,t,2)}function kNe(e,t){return e=KU(e),rr(e.getUTCFullYear()%100,t,2)}function TNe(e,t){return rr(e.getUTCFullYear()%1e4,t,4)}function MNe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gf(e):gf.ceil(e),rr(e.getUTCFullYear()%1e4,t,4)}function RNe(){return"+0000"}function lR(){return"%"}function cR(e){return+e}function uR(e){return Math.floor(+e/1e3)}var Uu,YU,XU;$Ne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Ne(e){return Uu=$1e(e),YU=Uu.format,Uu.parse,XU=Uu.utcFormat,Uu.utcParse,Uu}function DNe(e){return new Date(e)}function INe(e){return e instanceof Date?+e:+new Date(+e)}function s2(e,t,r,n,a,o,i,l,c,u){var f=WO(),d=f.invert,h=f.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),y=u("%b %d"),b=u("%B"),_=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?g:i(N)<N?p:o(N)<N?v:n(N)<N?a(N)<N?w:y:r(N)<N?b:_)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,INe)):h().map(DNe)},f.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},f.tickFormat=function(N,S){return S==null?j:u(S)},f.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(DU(S,N)):f},f.copy=function(){return Pg(f,s2(e,t,r,n,a,o,i,l,c,u))},f}function LNe(){return Us.apply(s2(M1e,R1e,Oi,n2,qb,kg,t2,JO,Pc,YU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FNe(){return Us.apply(s2(k1e,T1e,Ai,a2,Wb,Vb,r2,e2,Pc,XU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hb(){var e=0,t=1,r,n,a,o,i=ma,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:i(a===0?.5:(d=(o(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(i=d,u):i};function f(d){return function(h){var m,g;return arguments.length?([m,g]=h,i=d(m,g),u):[i(0),i(1)]}}return u.range=f(ch),u.rangeRound=f(qO),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function ec(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QU(){var e=Jl(Hb()(ma));return e.copy=function(){return ec(e,QU())},Di.apply(e,arguments)}function ZU(){var e=KO(Hb()).domain([1,10]);return e.copy=function(){return ec(e,ZU()).base(e.base())},Di.apply(e,arguments)}function JU(){var e=YO(Hb());return e.copy=function(){return ec(e,JU()).constant(e.constant())},Di.apply(e,arguments)}function o2(){var e=XO(Hb());return e.copy=function(){return ec(e,o2()).exponent(e.exponent())},Di.apply(e,arguments)}function BNe(){return o2.apply(null,arguments).exponent(.5)}function eV(){var e=[],t=ma;function r(n){if(n!=null&&!isNaN(n=+n))return t((Og(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Tl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>C_e(e,o/n))},r.copy=function(){return eV(t).domain(e)},Di.apply(r,arguments)}function Gb(){var e=0,t=.5,r=1,n=1,a,o,i,l,c,u=ma,f,d=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+f(p))-o)*(n*p<n*o?l:c),u(d?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),o=f(t=+t),i=f(r=+r),l=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(d=!!p,m):d},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var w,y,b;return arguments.length?([w,y,b]=v,u=Z_e(p,[w,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(ch),m.rangeRound=g(qO),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return f=p,a=p(e),o=p(t),i=p(r),l=a===o?0:.5/(o-a),c=o===i?0:.5/(i-o),n=o<a?-1:1,m}}function tV(){var e=Jl(Gb()(ma));return e.copy=function(){return ec(e,tV())},Di.apply(e,arguments)}function rV(){var e=KO(Gb()).domain([.1,1,10]);return e.copy=function(){return ec(e,rV()).base(e.base())},Di.apply(e,arguments)}function nV(){var e=YO(Gb());return e.copy=function(){return ec(e,nV()).constant(e.constant())},Di.apply(e,arguments)}function i2(){var e=XO(Gb());return e.copy=function(){return ec(e,i2()).exponent(e.exponent())},Di.apply(e,arguments)}function zNe(){return i2.apply(null,arguments).exponent(.5)}const dR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dp,scaleDiverging:tV,scaleDivergingLog:rV,scaleDivergingPow:i2,scaleDivergingSqrt:zNe,scaleDivergingSymlog:nV,scaleIdentity:$U,scaleImplicit:$N,scaleLinear:Sx,scaleLog:IU,scaleOrdinal:zO,scalePoint:pm,scalePow:QO,scaleQuantile:BU,scaleQuantize:zU,scaleRadial:FU,scaleSequential:QU,scaleSequentialLog:ZU,scaleSequentialPow:o2,scaleSequentialQuantile:eV,scaleSequentialSqrt:BNe,scaleSequentialSymlog:JU,scaleSqrt:w1e,scaleSymlog:LU,scaleThreshold:UU,scaleTime:LNe,scaleUtc:FNe,tickFormat:RU},Symbol.toStringTag,{value:"Module"}));var UNe=eh;function VNe(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(l===void 0?i===i&&!UNe(i):r(i,l)))var l=i,c=o}return c}var Kb=VNe;function qNe(e,t){return e>t}var aV=qNe,WNe=Kb,HNe=aV,GNe=lh;function KNe(e){return e&&e.length?WNe(e,GNe,HNe):void 0}var YNe=KNe;const pl=or(YNe);function XNe(e,t){return e<t}var sV=XNe,QNe=Kb,ZNe=sV,JNe=lh;function eSe(e){return e&&e.length?QNe(e,JNe,ZNe):void 0}var tSe=eSe;const Yb=or(tSe);var rSe=wO,nSe=ei,aSe=hU,sSe=Ba;function oSe(e,t){var r=sSe(e)?rSe:aSe;return r(e,nSe(t))}var iSe=oSe,lSe=dU,cSe=iSe;function uSe(e,t){return lSe(cSe(e,t),1)}var dSe=uSe;const fSe=or(dSe);var hSe=DO;function mSe(e,t){return hSe(e,t)}var pSe=mSe;const uu=or(pSe);var uh=1e9,gSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c2,Br=!0,Ls="[DecimalError] ",Hc=Ls+"Invalid argument: ",l2=Ls+"Exponent out of range: ",dh=Math.floor,pc=Math.pow,vSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,$n=1e7,$r=7,oV=9007199254740991,Ax=dh(oV/$r),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$r;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return xi(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return pr(xi(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return yn(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xa))throw Error(Ls+"NaN");if(r.s<1)throw Error(Ls+(r.s?"NaN":"-Infinity"));return r.eq(Xa)?new n(0):(Br=!1,t=xi(gp(r,o),gp(e,o),o),Br=!0,pr(t,a))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cV(t,e):iV(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ls+"NaN");return r.s?(Br=!1,t=xi(r,e,0,1).times(e),Br=!0,r.minus(t)):pr(new n(r),a)};Xe.naturalExponential=Xe.exp=function(){return lV(this)};Xe.naturalLogarithm=Xe.ln=function(){return gp(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iV(t,e):cV(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hc+e);if(t=yn(a)+1,n=a.d.length-1,r=n*$r+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,n,a,o,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ls+"NaN")}for(e=yn(l),Br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Lo(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=dh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(o=n,n=o.plus(xi(l,o,i+2)).times(.5),Lo(o.d).slice(0,i)===(t=Lo(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(pr(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(t!="9999")break;i+=4}return Br=!0,pr(n,r)};Xe.times=Xe.mul=function(e){var t,r,n,a,o,i,l,c,u,f=this,d=f.constructor,h=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=m.length,c<u&&(o=h,h=m,m=o,i=c,c=u,u=i),o=[],i=c+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=o[a]+m[n]*h[a-n-1]+t,o[a--]=l%$n|0,t=l/$n|0;o[a]=(o[a]+t)%$n|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Br?pr(e,d.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xo(e,0,uh),t===void 0?t=n.rounding:Xo(t,0,8),pr(r,e+yn(r)+1,t))};Xe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=du(n,!0):(Xo(e,0,uh),t===void 0?t=a.rounding:Xo(t,0,8),n=pr(new a(n),e+1,t),r=du(n,!0,e+1)),r};Xe.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?du(a):(Xo(e,0,uh),t===void 0?t=o.rounding:Xo(t,0,8),n=pr(new o(a),e+yn(a)+1,t),r=du(n.abs(),!1,e+yn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return pr(new t(e),yn(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,n,a,o,i,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Xa);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ls+"Infinity");return l}if(l.eq(Xa))return l;if(n=c.precision,e.eq(Xa))return pr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=l.s,i){if((r=f<0?-f:f)<=oV){for(a=new c(Xa),t=Math.ceil(n/$r+4),Br=!1;r%2&&(a=a.times(l),hR(a.d,t)),r=dh(r/2),r!==0;)l=l.times(l),hR(l.d,t);return Br=!0,e.s<0?new c(Xa).div(a):pr(a,n)}}else if(o<0)throw Error(Ls+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Br=!1,a=e.times(gp(l,n+u)),Br=!0,a=lV(a),a.s=o,a};Xe.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=yn(a),n=du(a,r<=o.toExpNeg||r>=o.toExpPos)):(Xo(e,1,uh),t===void 0?t=o.rounding:Xo(t,0,8),a=pr(new o(a),e,t),r=yn(a),n=du(a,e<=r||r<=o.toExpNeg,e)),n};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xo(e,1,uh),t===void 0?t=n.rounding:Xo(t,0,8)),pr(new n(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yn(e),r=e.constructor;return du(e,t<=r.toExpNeg||t>=r.toExpPos)};function iV(e,t){var r,n,a,o,i,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Br?pr(t,d):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),o=i-a,o){for(o<0?(n=c,o=-o,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(d/$r),l=i>l?i+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=u.length,l-o<0&&(o=l,n=u,u=c,c=n),r=0;o;)r=(c[--o]=c[o]+u[o]+r)/$n|0,c[o]%=$n;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Br?pr(t,d):t}function Xo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hc+e)}function Lo(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=$r-n.length,r&&(o+=Xi(r)),o+=n;i=e[t],n=i+"",r=$r-n.length,r&&(o+=Xi(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var xi=function(){function e(n,a){var o,i=0,l=n.length;for(n=n.slice();l--;)o=n[l]*a+i,n[l]=o%$n|0,i=o/$n|0;return i&&n.unshift(i),n}function t(n,a,o,i){var l,c;if(o!=i)c=o>i?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*$n+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var l,c,u,f,d,h,m,g,p,v,w,y,b,_,j,N,S,C,E=n.constructor,P=n.s==a.s?1:-1,A=n.d,M=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Ls+"Division by zero");for(c=n.e-a.e,S=M.length,j=A.length,m=new E(P),g=m.d=[],u=0;M[u]==(A[u]||0);)++u;if(M[u]>(A[u]||0)&&--c,o==null?y=o=E.precision:i?y=o+(yn(n)-yn(a))+1:y=o,y<0)return new E(0);if(y=y/$r+2|0,u=0,S==1)for(f=0,M=M[0],y++;(u<j||f)&&y--;u++)b=f*$n+(A[u]||0),g[u]=b/M|0,f=b%M|0;else{for(f=$n/(M[0]+1)|0,f>1&&(M=e(M,f),A=e(A,f),S=M.length,j=A.length),_=S,p=A.slice(0,S),v=p.length;v<S;)p[v++]=0;C=M.slice(),C.unshift(0),N=M[0],M[1]>=$n/2&&++N;do f=0,l=t(M,p,S,v),l<0?(w=p[0],S!=v&&(w=w*$n+(p[1]||0)),f=w/N|0,f>1?(f>=$n&&(f=$n-1),d=e(M,f),h=d.length,v=p.length,l=t(d,p,h,v),l==1&&(f--,r(d,S<h?C:M,h))):(f==0&&(l=f=1),d=M.slice()),h=d.length,h<v&&d.unshift(0),r(p,d,v),l==-1&&(v=p.length,l=t(M,p,S,v),l<1&&(f++,r(p,S<v?C:M,v))),v=p.length):l===0&&(f++,p=[0]),g[u++]=f,l&&p[0]?p[v++]=A[_]||0:(p=[A[_]],v=1);while((_++<j||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,pr(m,i?o+yn(m)+1:o)}}();function lV(e,t){var r,n,a,o,i,l,c=0,u=0,f=e.constructor,d=f.precision;if(yn(e)>16)throw Error(l2+yn(e));if(!e.s)return new f(Xa);for(Br=!1,l=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(pc(2,u))/Math.LN10*2+5|0,l+=n,r=a=o=new f(Xa),f.precision=l;;){if(a=pr(a.times(e),l),r=r.times(++c),i=o.plus(xi(a,r,l)),Lo(i.d).slice(0,l)===Lo(o.d).slice(0,l)){for(;u--;)o=pr(o.times(o),l);return f.precision=d,t==null?(Br=!0,pr(o,d)):o}o=i}}function yn(e){for(var t=e.e*$r,r=e.d[0];r>=10;r/=10)t++;return t}function zj(e,t,r){if(t>e.LN10.sd())throw Br=!0,r&&(e.precision=r),Error(Ls+"LN10 precision limit exceeded");return pr(new e(e.LN10),t)}function Xi(e){for(var t="";e--;)t+="0";return t}function gp(e,t){var r,n,a,o,i,l,c,u,f,d=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Ls+(m.s?"NaN":"-Infinity"));if(m.eq(Xa))return new p(0);if(t==null?(Br=!1,u=v):u=t,m.eq(10))return t==null&&(Br=!0),zj(p,u);if(u+=h,p.precision=u,r=Lo(g),n=r.charAt(0),o=yn(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Lo(m.d),n=r.charAt(0),d++;o=yn(m),n>1?(m=new p("0."+r),o++):m=new p(n+"."+r.slice(1))}else return c=zj(p,u+2,v).times(o+""),m=gp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Br=!0,pr(m,v)):m;for(l=i=m=xi(m.minus(Xa),m.plus(Xa),u),f=pr(m.times(m),u),a=3;;){if(i=pr(i.times(f),u),c=l.plus(xi(i,new p(a),u)),Lo(c.d).slice(0,u)===Lo(l.d).slice(0,u))return l=l.times(2),o!==0&&(l=l.plus(zj(p,u+2,v).times(o+""))),l=xi(l,new p(d),u),p.precision=v,t==null?(Br=!0,pr(l,v)):l;l=c,a+=2}}function fR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=dh(r/$r),e.d=[],n=(r+1)%$r,r<0&&(n+=$r),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=$r;n<a;)e.d.push(+t.slice(n,n+=$r));t=t.slice(n),n=$r-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Br&&(e.e>Ax||e.e<-Ax))throw Error(l2+r)}else e.s=0,e.e=0,e.d=[0];return e}function pr(e,t,r){var n,a,o,i,l,c,u,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=$r,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/$r),o=d.length,f>=o)return e;for(u=o=d[f],i=1;o>=10;o/=10)i++;n%=$r,a=n-$r+i}if(r!==void 0&&(o=pc(10,i-a-1),l=u/o%10|0,c=t<0||d[f+1]!==void 0||u%o,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/pc(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(o=yn(e),d.length=1,t=t-o-1,d[0]=pc(10,($r-t%$r)%$r),e.e=dh(-t/$r)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=pc(10,$r-n),d[f]=a>0?(u/pc(10,i-a)%pc(10,a)|0)*o:0),c)for(;;)if(f==0){(d[0]+=o)==$n&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=$n)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Br&&(e.e>Ax||e.e<-Ax))throw Error(l2+yn(e));return e}function cV(e,t){var r,n,a,o,i,l,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Br?pr(t,m):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(f=i<0,f?(r=c,i=-i,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(m/$r),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}i=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>i;){if(c[--a]<d[a]){for(o=a;o&&c[--o]===0;)c[o]=$n-1;--c[o],c[a]+=$n}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Br?pr(t,m):t):new h(0)}function du(e,t,r){var n,a=yn(e),o=Lo(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Xi(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Xi(-a-1)+o,r&&(n=r-i)>0&&(o+=Xi(n))):a>=i?(o+=Xi(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Xi(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Xi(n))),e.s<0?"-"+o:o}function hR(e,t){if(e.length>t)return e.length=t,!0}function uV(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Hc+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return fR(i,o.toString())}else if(typeof o!="string")throw Error(Hc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,vSe.test(o))fR(i,o);else throw Error(Hc+o)}if(a.prototype=Xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=uV,a.config=a.set=ySe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ySe(e){if(!e||typeof e!="object")throw Error(Ls+"Object expected");var t,r,n,a=["precision",1,uh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(dh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hc+r+": "+n);return this}var c2=uV(gSe);Xa=new c2(1);const hr=c2;function xSe(e){return _Se(e)||jSe(e)||wSe(e)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wSe(e,t){if(e){if(typeof e=="string")return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}}function jSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _Se(e){if(Array.isArray(e))return FN(e)}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NSe=function(t){return t},dV={},fV=function(t){return t===dV},mR=function(t){return function r(){return arguments.length===0||arguments.length===1&&fV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},SSe=function e(t,r){return t===1?r:mR(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(l){return l!==dV}).length;return i>=t?r.apply(void 0,a):e(t-i,mR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return fV(d)?c.shift():d});return r.apply(void 0,xSe(f).concat(c))}))})},Xb=function(t){return SSe(t.length,t)},BN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},CSe=Xb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ESe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return NSe;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},zN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},hV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=t.apply(void 0,o)),n}};function OSe(e){var t;return e===0?t=1:t=Math.floor(new hr(e).abs().log(10).toNumber())+1,t}function ASe(e,t,r){for(var n=new hr(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var PSe=Xb(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),kSe=Xb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),TSe=Xb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Qb={rangeStep:ASe,getDigitCount:OSe,interpolateNumber:PSe,uninterpolateNumber:kSe,uninterpolateTruncation:TSe};function UN(e){return $Se(e)||RSe(e)||mV(e)||MSe()}function MSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $Se(e){if(Array.isArray(e))return VN(e)}function vp(e,t){return LSe(e)||ISe(e,t)||mV(e,t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mV(e,t){if(e){if(typeof e=="string")return VN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VN(e,t)}}function VN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ISe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function LSe(e){if(Array.isArray(e))return e}function pV(e){var t=vp(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function gV(e,t,r){if(e.lte(0))return new hr(0);var n=Qb.getDigitCount(e.toNumber()),a=new hr(10).pow(n),o=e.div(a),i=n!==1?.05:.1,l=new hr(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new hr(Math.ceil(c))}function FSe(e,t,r){var n=1,a=new hr(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new hr(10).pow(Qb.getDigitCount(e)-1),a=new hr(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new hr(Math.floor(e)))}else e===0?a=new hr(Math.floor((t-1)/2)):r||(a=new hr(Math.floor(e)));var i=Math.floor((t-1)/2),l=ESe(CSe(function(c){return a.add(new hr(c-i).mul(n)).toNumber()}),BN);return l(0,t)}function vV(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var o=gV(new hr(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new hr(0):(i=new hr(e).add(t).div(2),i=i.sub(new hr(i).mod(o)));var l=Math.ceil(i.sub(e).div(o).toNumber()),c=Math.ceil(new hr(t).sub(i).div(o).toNumber()),u=l+c+1;return u>r?vV(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:o,tickMin:i.sub(new hr(l).mul(o)),tickMax:i.add(new hr(c).mul(o))})}function BSe(e){var t=vp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=pV([r,n]),c=vp(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(UN(BN(0,a-1).map(function(){return 1/0}))):[].concat(UN(BN(0,a-1).map(function(){return-1/0})),[f]);return r>n?zN(d):d}if(u===f)return FSe(u,a,o);var h=vV(u,f,i,o),m=h.step,g=h.tickMin,p=h.tickMax,v=Qb.rangeStep(g,p.add(new hr(.1).mul(m)),m);return r>n?zN(v):v}function zSe(e,t){var r=vp(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=pV([n,a]),l=vp(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=gV(new hr(u).sub(c).div(f-1),o,0),h=[].concat(UN(Qb.rangeStep(new hr(c),new hr(u).sub(new hr(.99).mul(d)),d)),[u]);return n>a?zN(h):h}var USe=hV(BSe),VSe=hV(zSe),qSe="Invariant failed";function fu(e,t){throw new Error(qSe)}var WSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}function HSe(e,t){return XSe(e)||YSe(e,t)||KSe(e,t)||GSe()}function GSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KSe(e,t){if(e){if(typeof e=="string")return pR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pR(e,t)}}function pR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function XSe(e){if(Array.isArray(e))return e}function QSe(e,t){if(e==null)return{};var r=ZSe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bV(n.key),n)}}function tCe(e,t,r){return t&&eCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rCe(e,t,r){return t=kx(t),nCe(e,yV()?Reflect.construct(t,r||[],kx(e).constructor):t.apply(e,r))}function nCe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aCe(e)}function aCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(e)}function sCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qN(e,t)}function qN(e,t){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qN(e,t)}function xV(e,t,r){return t=bV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=oCe(e,"string");return vf(t)=="symbol"?t:t+""}function oCe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tg=function(e){function t(){return JSe(this,t),rCe(this,t,arguments)}return sCe(t,e),tCe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=QSe(n,WSe),m=mt(h,!1);this.props.direction==="x"&&f.type!=="number"&&fu();var g=c.map(function(p){var v=u(p,l),w=v.x,y=v.y,b=v.value,_=v.errorVal;if(!_)return null;var j=[],N,S;if(Array.isArray(_)){var C=HSe(_,2);N=C[0],S=C[1]}else N=S=_;if(o==="vertical"){var E=f.scale,P=y+a,A=P+i,M=P-i,O=E(b-N),R=E(b+S);j.push({x1:R,y1:A,x2:R,y2:M}),j.push({x1:O,y1:P,x2:R,y2:P}),j.push({x1:O,y1:A,x2:O,y2:M})}else if(o==="horizontal"){var L=d.scale,D=w+a,B=D-i,k=D+i,T=L(b-N),q=L(b+S);j.push({x1:B,y1:q,x2:k,y2:q}),j.push({x1:D,y1:T,x2:D,y2:q}),j.push({x1:B,y1:T,x2:k,y2:T})}return z.createElement(Wt,Px({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),j.map(function(Q){return z.createElement("line",Px({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return z.createElement(Wt,{className:"recharts-errorBars"},g)}}])}(z.Component);xV(Tg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xV(Tg,"displayName","ErrorBar");function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){iCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iCe(e,t,r){return t=lCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lCe(e){var t=cCe(e,"string");return yp(t)=="symbol"?t:t+""}function cCe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=qa(r,as);if(!i)return null;var l=as.defaultProps,c=l!==void 0?oc(oc({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,m=d.props,g=m.sectors||m.data||[];return f.concat(g.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?oc(oc({},h),d.props):{},g=m.dataKey,p=m.name,v=m.legendType,w=m.hide;return{inactive:w,dataKey:g,type:c.iconType||v||"square",color:u2(d),value:p||g,payload:m}}),oc(oc(oc({},c),as.getWithHeight(i,a)),{},{payload:u,item:i})};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function vR(e){return hCe(e)||fCe(e)||dCe(e)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCe(e,t){if(e){if(typeof e=="string")return WN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WN(e,t)}}function fCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hCe(e){if(Array.isArray(e))return WN(e)}function WN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){Td(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Td(e,t,r){return t=mCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mCe(e){var t=pCe(e,"string");return xp(t)=="symbol"?t:t+""}function pCe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t,r){return Pt(e)||Pt(t)?r:Tn(t)?rs(e,t,r):jt(t)?t(e):r}function gm(e,t,r,n){var a=fSe(e,function(l){return on(l,t)});if(r==="number"){var o=a.filter(function(l){return Ce(l)||parseFloat(l)});return o.length?[Yb(o),pl(o)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Pt(l)}):a;return i.map(function(l){return Tn(l)||l instanceof Date?l:""})}var gCe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(fa(d-f)!==fa(h-d)){var g=[];if(fa(h-d)===fa(c[1]-c[0])){m=h;var p=d+c[1]-c[0];g[0]=Math.min(p,(p+f)/2),g[1]=Math.max(p,(p+f)/2)}else{m=f;var v=h+c[1]-c[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var w=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>w[0]&&t<=w[1]||t>=g[0]&&t<=g[1]){i=a[u].index;break}}else{var y=Math.min(f,h),b=Math.max(f,h);if(t>(y+d)/2&&t<=(b+d)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},u2=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,i=o.stroke,l=o.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},vCe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},l=Object.keys(o),c=0,u=l.length;c<u;c++)for(var f=o[l[c]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var g=f[d[h]],p=g.items,v=g.cateAxisId,w=p.filter(function(S){return yi(S.type).indexOf("Bar")>=0});if(w&&w.length){var y=w[0].type.defaultProps,b=y!==void 0?Qr(Qr({},y),w[0].props):w[0].props,_=b.barSize,j=b[v];i[j]||(i[j]=[]);var N=Pt(_)?r:_;i[j].push({item:w[0],stackList:w.slice(1),barSize:Pt(N)?void 0:ha(N,n,0)})}}return i},yCe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ha(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,g=i.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};f=i.reduce(function(_,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},S=[].concat(vR(_),[N]);return v=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){S.push({item:C,position:v})}),S},d)}else{var w=ha(n,a,0,!0);a-2*w-(c-1)*u<=0&&(u=0);var y=(a-2*w-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;f=i.reduce(function(_,j,N){var S=[].concat(vR(_),[{item:j.item,position:{offset:w+(y+u)*N+(y-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},d)}return f},xCe=function(t,r,n,a){var o=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=wV({children:o,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Ce(t[m]))return Qr(Qr({},t),{},Td({},m,t[m]+(d||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Ce(t[g]))return Qr(Qr({},t),{},Td({},g,t[g]+(h||0)))}return t},bCe=function(t,r,n){return Pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},jV=function(t,r,n,a,o){var i=r.props.children,l=ns(i,Tg).filter(function(u){return bCe(a,o,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=on(f,n);if(Pt(d))return u;var h=Array.isArray(d)?[Yb(d),pl(d)]:[d,d],m=c.reduce(function(g,p){var v=on(f,p,0),w=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},wCe=function(t,r,n,a,o){var i=r.map(function(l){return jV(t,l,n,o,a)}).filter(function(l){return!Pt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},_V=function(t,r,n,a,o){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&jV(t,c,u,a)||gm(t,u,n,o)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},NV=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},SV=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var o,i,l=t.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(i=!0),c.coordinate});return o||l.push(r),i||l.push(n),l},gi=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?fa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!sh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:o?o[d]:d,index:h,offset:u}})},Uj=new WeakMap,Rv=function(t,r){if(typeof r!="function")return t;Uj.has(t)||Uj.set(t,new WeakMap);var n=Uj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},CV=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:dp(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Sx(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pm(),realScaleType:"point"}:o==="category"?{scale:dp(),realScaleType:"band"}:{scale:Sx(),realScaleType:"linear"};if(iu(a)){var c="scale".concat($b(a));return{scale:(dR[c]||pm)(),realScaleType:dR[c]?c:"point"}}return jt(a)?{scale:a}:{scale:pm(),realScaleType:"point"}},xR=1e-4,EV=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-xR,i=Math.max(a[0],a[1])+xR,l=t(r[0]),c=t(r[n-1]);(l<o||l>i||c<o||c>i)&&t.domain([r[0],r[n-1]])}},jCe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},_Ce=function(t,r){if(!r||r.length!==2||!Ce(r[0])||!Ce(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Ce(t[0])||t[0]<n)&&(o[0]=n),(!Ce(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},NCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,l=0;l<r;++l){var c=sh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},SCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var l=sh(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=o,t[i][n][1]=o+l,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},CCe={sign:NCe,expand:Wme,none:cf,silhouette:Hme,wiggle:Gme,positive:SCe},ECe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),o=CCe[n],i=qme().keys(a).value(function(l,c){return+on(l,c,0)}).order(gN).offset(o);return i(t)},OCe=function(t,r,n,a,o,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(d,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Qr(Qr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return d;var w=g[n],y=d[w]||{hasStack:!1,stackGroups:{}};if(Tn(p)){var b=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[p]=b}else y.stackGroups[Nu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Qr(Qr({},d),{},Td({},w,y))},c),f={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var w=m.stackGroups[v];return Qr(Qr({},p),{},Td({},v,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:ECe(t,w.items,o)}))},g)}return Qr(Qr({},d),{},Td({},h,m))},f)},OV=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=USe(u,o,l);return t.domain([Yb(f),pl(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=VSe(d,o,l);return{niceTicks:h}}return null};function Tx(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pt(a[t.dataKey])){var l=ax(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=on(a,Pt(i)?t.dataKey:i);return Pt(c)?null:t.scale(c)}var bR=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=on(i,r.dataKey,r.domain[l]);return Pt(c)?null:r.scale(c)-o/2+a},ACe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},PCe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Tn(o)){var i=r[o];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},kCe=function(t){return t.reduce(function(r,n){return[Yb(n.concat([r[0]]).filter(Ce)),pl(n.concat([r[1]]).filter(Ce))]},[1/0,-1/0])},AV=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],l=i.stackedData,c=l.reduce(function(u,f){var d=kCe(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HN=function(t,r,n){if(jt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ce(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(wR.test(t[0])){var o=+wR.exec(t[0])[1];a[0]=r[0]-o}else jt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ce(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(jR.test(t[1])){var i=+jR.exec(t[1])[1];a[1]=r[1]+i}else jt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Mx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=LO(r,function(d){return d.coordinate}),i=1/0,l=1,c=o.length;l<c;l++){var u=o[l],f=o[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},_R=function(t,r,n){return!t||!t.length||uu(t,rs(n,"type.defaultProps.domain"))?r:t},PV=function(t,r){var n=t.type.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return Qr(Qr({},mt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:o||a,color:u2(t),value:on(r,a),type:c,payload:r,chartType:u,hide:f})};function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return t=TCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TCe(e){var t=MCe(e,"string");return bp(t)=="symbol"?t:t+""}function MCe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RCe(e,t){return LCe(e)||ICe(e,t)||DCe(e,t)||$Ce()}function $Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DCe(e,t){if(e){if(typeof e=="string")return SR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SR(e,t)}}function SR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ICe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function LCe(e){if(Array.isArray(e))return e}var Rx=Math.PI/180,FCe=function(t){return t*180/Math.PI},Sr=function(t,r,n,a){return{x:t+Math.cos(-Rx*a)*n,y:r+Math.sin(-Rx*a)*n}},TV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},BCe=function(t,r,n,a,o){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=ha(t.cx,i,i/2),d=ha(t.cy,l,l/2),h=TV(i,l,n),m=ha(t.innerRadius,h,0),g=ha(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,w){var y=r[w],b=y.domain,_=y.reversed,j;if(Pt(y.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,g]),_&&(j=[j[1],j[0]]);else{j=y.range;var N=j,S=RCe(N,2);c=S[0],u=S[1]}var C=CV(y,o),E=C.realScaleType,P=C.scale;P.domain(b).range(j),EV(P);var A=OV(P,li(li({},y),{},{realScaleType:E})),M=li(li(li({},y),A),{},{range:j,radius:g,realScaleType:E,scale:P,cx:f,cy:d,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return li(li({},v),{},kV({},w,M))},{})},zCe=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},UCe=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,l=zCe({x:n,y:a},{x:o,y:i});if(l<=0)return{radius:l};var c=(n-o)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:FCe(u),angleInRadian:u}},VCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},qCe=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(o,i);return t+l*360},CR=function(t,r){var n=t.x,a=t.y,o=UCe({x:n,y:a},r),i=o.radius,l=o.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var f=VCe(r),d=f.startAngle,h=f.endAngle,m=l,g;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=d}return g?li(li({},r),{},{radius:i,angle:qCe(m,r)}):null},MV=function(t){return!x.isValidElement(t)&&!jt(t)&&typeof t!="boolean"?t.className:""};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}var WCe=["offset"];function HCe(e){return XCe(e)||YCe(e)||KCe(e)||GCe()}function GCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KCe(e,t){if(e){if(typeof e=="string")return GN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(e,t)}}function YCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XCe(e){if(Array.isArray(e))return GN(e)}function GN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QCe(e,t){if(e==null)return{};var r=ZCe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){JCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JCe(e,t,r){return t=eEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eEe(e){var t=tEe(e,"string");return wp(t)=="symbol"?t:t+""}function tEe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}var rEe=function(t){var r=t.value,n=t.formatter,a=Pt(t.children)?r:t.children;return jt(n)?n(a):a},nEe=function(t,r){var n=fa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},aEe=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,l=t.className,c=o,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(d+h)/2,w=nEe(m,g),y=w>=0?1:-1,b,_;a==="insideStart"?(b=m+y*i,_=p):a==="insideEnd"?(b=g-y*i,_=!p):a==="end"&&(b=g+y*i,_=p),_=w<=0?_:!_;var j=Sr(u,f,v,b),N=Sr(u,f,v,b+(_?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Pt(t.id)?Nu("recharts-radial-line-"):t.id;return z.createElement("text",jp({},n,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:C,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(C)},r))},sEe=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,l=o.cy,c=o.innerRadius,u=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var m=Sr(i,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=Sr(i,l,v,h),y=w.x,b=w.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},oEe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,l=i.x,c=i.y,u=i.width,f=i.height,d=f>=0?1:-1,h=d*a,m=d>0?"end":"start",g=d>0?"start":"end",p=u>=0?1:-1,v=p*a,w=p>0?"end":"start",y=p>0?"start":"end";if(o==="top"){var b={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:m};return Sn(Sn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(o==="bottom"){var _={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:g};return Sn(Sn({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(o==="left"){var j={x:l-v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return Sn(Sn({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(o==="right"){var N={x:l+u+v,y:c+f/2,textAnchor:y,verticalAnchor:"middle"};return Sn(Sn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:f}:{})}var S=n?{width:u,height:f}:{};return o==="insideLeft"?Sn({x:l+v,y:c+f/2,textAnchor:y,verticalAnchor:"middle"},S):o==="insideRight"?Sn({x:l+u-v,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideTop"?Sn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):o==="insideBottom"?Sn({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:m},S):o==="insideTopLeft"?Sn({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},S):o==="insideTopRight"?Sn({x:l+u-v,y:c+h,textAnchor:w,verticalAnchor:g},S):o==="insideBottomLeft"?Sn({x:l+v,y:c+f-h,textAnchor:y,verticalAnchor:m},S):o==="insideBottomRight"?Sn({x:l+u-v,y:c+f-h,textAnchor:w,verticalAnchor:m},S):th(o)&&(Ce(o.x)||Oc(o.x))&&(Ce(o.y)||Oc(o.y))?Sn({x:l+ha(o.x,u),y:c+ha(o.y,f),textAnchor:"end",verticalAnchor:"end"},S):Sn({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},iEe=function(t){return"cx"in t&&Ce(t.cx)};function In(e){var t=e.offset,r=t===void 0?5:t,n=QCe(e,WCe),a=Sn({offset:r},n),o=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Pt(l)&&Pt(c)&&!x.isValidElement(u)&&!jt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(jt(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=rEe(a);var g=iEe(o),p=mt(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return aEe(a,m,p);var v=g?sEe(a):oEe(a);return z.createElement(cu,jp({className:Dt("recharts-label",d)},p,v,{breakAll:h}),m)}In.displayName="Label";var RV=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,w=t.clockWise,y=t.labelViewBox;if(y)return y;if(Ce(p)&&Ce(v)){if(Ce(d)&&Ce(h))return{x:d,y:h,width:p,height:v};if(Ce(m)&&Ce(g))return{x:m,y:g,width:p,height:v}}return Ce(d)&&Ce(h)?{x:d,y:h,width:0,height:0}:Ce(r)&&Ce(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},lEe=function(t,r){return t?t===!0?z.createElement(In,{key:"label-implicit",viewBox:r}):Tn(t)?z.createElement(In,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===In?x.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(In,{key:"label-implicit",content:t,viewBox:r}):jt(t)?z.createElement(In,{key:"label-implicit",content:t,viewBox:r}):th(t)?z.createElement(In,jp({viewBox:r},t,{key:"label-implicit"})):null:null},cEe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=RV(t),i=ns(a,In).map(function(c,u){return x.cloneElement(c,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var l=lEe(t.label,r||o);return[l].concat(HCe(i))};In.parseViewBox=RV;In.renderCallByParent=cEe;function uEe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dEe=uEe;const fEe=or(dEe);function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}var hEe=["valueAccessor"],mEe=["data","dataKey","clockWise","id","textBreakAll"];function pEe(e){return xEe(e)||yEe(e)||vEe(e)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vEe(e,t){if(e){if(typeof e=="string")return KN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(e,t)}}function yEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xEe(e){if(Array.isArray(e))return KN(e)}function KN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(this,arguments)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){bEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bEe(e,t,r){return t=wEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wEe(e){var t=jEe(e,"string");return _p(t)=="symbol"?t:t+""}function jEe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PR(e,t){if(e==null)return{};var r=_Ee(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NEe=function(t){return Array.isArray(t.value)?fEe(t.value):t.value};function Wo(e){var t=e.valueAccessor,r=t===void 0?NEe:t,n=PR(e,hEe),a=n.data,o=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=PR(n,mEe);return!a||!a.length?null:z.createElement(Wt,{className:"recharts-label-list"},a.map(function(f,d){var h=Pt(o)?r(f,d):on(f&&f.payload,o),m=Pt(l)?{}:{id:"".concat(l,"-").concat(d)};return z.createElement(In,$x({},mt(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:In.parseViewBox(Pt(i)?f:AR(AR({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Wo.displayName="LabelList";function SEe(e,t){return e?e===!0?z.createElement(Wo,{key:"labelList-implicit",data:t}):z.isValidElement(e)||jt(e)?z.createElement(Wo,{key:"labelList-implicit",data:t,content:e}):th(e)?z.createElement(Wo,$x({data:t},e,{key:"labelList-implicit"})):null:null}function CEe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ns(n,Wo).map(function(i,l){return x.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var o=SEe(e.label,t);return[o].concat(pEe(a))}Wo.renderCallByParent=CEe;function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YN.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){EEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EEe(e,t,r){return t=OEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OEe(e){var t=AEe(e,"string");return Np(t)=="symbol"?t:t+""}function AEe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PEe=function(t,r){var n=fa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},$v=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/Rx,h=u?o:o+i*d,m=Sr(r,n,f,h),g=Sr(r,n,a,h),p=u?o-i*d:o,v=Sr(r,n,f*Math.cos(d*Rx),p);return{center:m,circleTangency:g,lineTangency:v,theta:d}},$V=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,l=t.endAngle,c=PEe(i,l),u=i+c,f=Sr(r,n,o,i),d=Sr(r,n,o,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=Sr(r,n,a,i),g=Sr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},kEe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=fa(f-u),h=$v({cx:r,cy:n,radius:o,angle:u,sign:d,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=$v({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:c}),w=v.circleTangency,y=v.lineTangency,b=v.theta,_=c?Math.abs(u-f):Math.abs(u-f)-p-b;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):$V({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=$v({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=N.circleTangency,C=N.lineTangency,E=N.theta,P=$v({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=P.circleTangency,M=P.lineTangency,O=P.theta,R=c?Math.abs(u-f):Math.abs(u-f)-E-O;if(R<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},TEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DV=function(t){var r=TR(TR({},TEe),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var m=Dt("recharts-sector",h),g=i-o,p=ha(l,g,0,!0),v;return p>0&&Math.abs(f-d)<360?v=kEe({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=$V({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),z.createElement("path",YN({},mt(r,!0),{className:m,d:v,role:"img"}))};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){MEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MEe(e,t,r){return t=REe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=$Ee(e,"string");return Sp(t)=="symbol"?t:t+""}function $Ee(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $R={curveBasisClosed:Mme,curveBasisOpen:Rme,curveBasis:Tme,curveBumpX:yme,curveBumpY:xme,curveLinearClosed:$me,curveLinear:Ib,curveMonotoneX:Dme,curveMonotoneY:Ime,curveNatural:Lme,curveStep:Fme,curveStepAfter:zme,curveStepBefore:Bme},Dv=function(t){return t.x===+t.x&&t.y===+t.y},Rh=function(t){return t.x},$h=function(t){return t.y},DEe=function(t,r){if(jt(t))return t;var n="curve".concat($b(t));return(n==="curveMonotone"||n==="curveBump")&&r?$R["".concat(n).concat(r==="vertical"?"Y":"X")]:$R[n]||Ib},IEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=DEe(n,l),d=u?o.filter(function(p){return Dv(p)}):o,h;if(Array.isArray(i)){var m=u?i.filter(function(p){return Dv(p)}):i,g=d.map(function(p,v){return RR(RR({},p),{},{base:m[v]})});return l==="vertical"?h=Cv().y($h).x1(Rh).x0(function(p){return p.base.x}):h=Cv().x(Rh).y1($h).y0(function(p){return p.base.y}),h.defined(Dv).curve(f),h(g)}return l==="vertical"&&Ce(i)?h=Cv().y($h).x1(Rh).x0(i):Ce(i)?h=Cv().x(Rh).y1($h).y0(i):h=Pz().x(Rh).y($h),h.defined(Dv).curve(f),h(d)},Gc=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?IEe(t):a;return x.createElement("path",XN({},mt(t,!1),sx(t),{className:Dt("recharts-curve",r),d:i,ref:o}))},IV={exports:{}},LEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FEe=LEe,BEe=FEe;function LV(){}function FV(){}FV.resetWarningCache=LV;var zEe=function(){function e(n,a,o,i,l,c){if(c!==BEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FV,resetWarningCache:LV};return r.PropTypes=r,r};IV.exports=zEe();var UEe=IV.exports;const ar=or(UEe);var VEe=Object.getOwnPropertyNames,qEe=Object.getOwnPropertySymbols,WEe=Object.prototype.hasOwnProperty;function DR(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Iv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var o=a.cache,i=o.get(r),l=o.get(n);if(i&&l)return i===n&&l===r;o.set(r,n),o.set(n,r);var c=e(r,n,a);return o.delete(r),o.delete(n),c}}function HEe(e){return e!=null?e[Symbol.toStringTag]:void 0}function IR(e){return VEe(e).concat(qEe(e))}var GEe=Object.hasOwn||function(e,t){return WEe.call(e,t)};function Eu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var KEe="__v",YEe="__o",XEe="_owner",LR=Object.getOwnPropertyDescriptor,FR=Object.keys;function QEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ZEe(e,t){return Eu(e.getTime(),t.getTime())}function JEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function eOe(e,t){return e===t}function BR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.entries(),i,l,c=0;(i=o.next())&&!i.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,d,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var tOe=Eu;function rOe(e,t,r){var n=FR(e),a=n.length;if(FR(t).length!==a)return!1;for(;a-- >0;)if(!BV(e,t,r,n[a]))return!1;return!0}function Dh(e,t,r){var n=IR(e),a=n.length;if(IR(t).length!==a)return!1;for(var o,i,l;a-- >0;)if(o=n[a],!BV(e,t,r,o)||(i=LR(e,o),l=LR(t,o),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function nOe(e,t){return Eu(e.valueOf(),t.valueOf())}function aOe(e,t){return e.source===t.source&&e.flags===t.flags}function zR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.values(),i,l;(i=o.next())&&!i.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function sOe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function BV(e,t,r,n){return(n===XEe||n===YEe||n===KEe)&&(e.$$typeof||t.$$typeof)?!0:GEe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var iOe="[object Arguments]",lOe="[object Boolean]",cOe="[object Date]",uOe="[object Error]",dOe="[object Map]",fOe="[object Number]",hOe="[object Object]",mOe="[object RegExp]",pOe="[object Set]",gOe="[object String]",vOe="[object URL]",yOe=Array.isArray,UR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VR=Object.assign,xOe=Object.prototype.toString.call.bind(Object.prototype.toString);function bOe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual,m=e.unknownTagComparators;return function(p,v,w){if(p===v)return!0;if(p==null||v==null)return!1;var y=typeof p;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?i(p,v,w):y==="function"?a(p,v,w):!1;var b=p.constructor;if(b!==v.constructor)return!1;if(b===Object)return l(p,v,w);if(yOe(p))return t(p,v,w);if(UR!=null&&UR(p))return d(p,v,w);if(b===Date)return r(p,v,w);if(b===RegExp)return u(p,v,w);if(b===Map)return o(p,v,w);if(b===Set)return f(p,v,w);var _=xOe(p);if(_===cOe)return r(p,v,w);if(_===mOe)return u(p,v,w);if(_===dOe)return o(p,v,w);if(_===pOe)return f(p,v,w);if(_===hOe)return typeof p.then!="function"&&typeof v.then!="function"&&l(p,v,w);if(_===vOe)return h(p,v,w);if(_===uOe)return n(p,v,w);if(_===iOe)return l(p,v,w);if(_===lOe||_===fOe||_===gOe)return c(p,v,w);if(m){var j=m[_];if(!j){var N=HEe(p);N&&(j=m[N])}if(j)return j(p,v,w)}return!1}}function wOe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Dh:QEe,areDatesEqual:ZEe,areErrorsEqual:JEe,areFunctionsEqual:eOe,areMapsEqual:n?DR(BR,Dh):BR,areNumbersEqual:tOe,areObjectsEqual:n?Dh:rOe,arePrimitiveWrappersEqual:nOe,areRegExpsEqual:aOe,areSetsEqual:n?DR(zR,Dh):zR,areTypedArraysEqual:n?Dh:sOe,areUrlsEqual:oOe,unknownTagComparators:void 0};if(r&&(a=VR({},a,r(a))),t){var o=Iv(a.areArraysEqual),i=Iv(a.areMapsEqual),l=Iv(a.areObjectsEqual),c=Iv(a.areSetsEqual);a=VR({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function jOe(e){return function(t,r,n,a,o,i,l){return e(t,r,l)}}function _Oe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,m=f.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:o})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(c,u){return r(c,u,i)}}var NOe=tc();tc({strict:!0});tc({circular:!0});tc({circular:!0,strict:!0});tc({createInternalComparator:function(){return Eu}});tc({strict:!0,createInternalComparator:function(){return Eu}});tc({circular:!0,createInternalComparator:function(){return Eu}});tc({circular:!0,createInternalComparator:function(){return Eu},strict:!0});function tc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,i=o===void 0?!1:o,l=wOe(e),c=bOe(l),u=n?n(c):jOe(c);return _Oe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function SOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function qR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):SOe(a)};requestAnimationFrame(n)}function QN(e){"@babel/helpers - typeof";return QN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(e)}function COe(e){return POe(e)||AOe(e)||OOe(e)||EOe()}function EOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OOe(e,t){if(e){if(typeof e=="string")return WR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function POe(e){if(Array.isArray(e))return e}function kOe(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,l=COe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){qR(a.bind(null,u),c);return}a(c),qR(a.bind(null,u));return}QN(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){zV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zV(e,t,r){return t=TOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TOe(e){var t=MOe(e,"string");return Cp(t)==="symbol"?t:String(t)}function MOe(e,t){if(Cp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ROe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},$Oe=function(t){return t},DOe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vm=function(t,r){return Object.keys(r).reduce(function(n,a){return GR(GR({},n),{},zV({},a,t(a,r[a])))},{})},KR=function(t,r,n){return t.map(function(a){return"".concat(DOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function IOe(e,t){return BOe(e)||FOe(e,t)||UV(e,t)||LOe()}function LOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function BOe(e){if(Array.isArray(e))return e}function zOe(e){return qOe(e)||VOe(e)||UV(e)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function VOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qOe(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dx=1e-4,VV=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},qV=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},YR=function(t,r){return function(n){var a=VV(t,r);return qV(a,n)}},WOe=function(t,r){return function(n){var a=VV(t,r),o=[].concat(zOe(a.map(function(i,l){return i*l}).slice(1)),[0]);return qV(o,n)}},XR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,l=1;break;case"ease":a=.25,o=.1,i=.25,l=1;break;case"ease-in":a=.42,o=0,i=1,l=1;break;case"ease-out":a=.42,o=0,i=.58,l=1;break;case"ease-in-out":a=0,o=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=IOe(u,4);a=f[0],o=f[1],i=f[2],l=f[3]}}}var d=YR(a,i),h=YR(o,l),m=WOe(a,i),g=function(w){return w>1?1:w<0?0:w},p=function(w){for(var y=w>1?1:w,b=y,_=0;_<8;++_){var j=d(b)-y,N=m(b);if(Math.abs(j-y)<Dx||N<Dx)return h(b);b=g(b-j/N)}return h(b)};return p.isStepper=!1,p},HOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(f,d,h){var m=-(f-d)*n,g=h*o,p=h+(m-g)*l/1e3,v=h*l/1e3+f;return Math.abs(v-d)<Dx&&Math.abs(p)<Dx?[d,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},GOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XR(a);case"spring":return HOe();default:if(a.split("(")[0]==="cubic-bezier")return XR(a)}return typeof a=="function"?a:null};function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function QR(e){return XOe(e)||YOe(e)||WV(e)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XOe(e){if(Array.isArray(e))return eS(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){JN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JN(e,t,r){return t=QOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QOe(e){var t=ZOe(e,"string");return Ep(t)==="symbol"?t:String(t)}function ZOe(e,t){if(Ep(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ep(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JOe(e,t){return r2e(e)||t2e(e,t)||WV(e,t)||e2e()}function e2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e,t){if(e){if(typeof e=="string")return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function r2e(e){if(Array.isArray(e))return e}var Ix=function(t,r,n){return t+(r-t)*n},tS=function(t){var r=t.from,n=t.to;return r!==n},n2e=function e(t,r,n){var a=vm(function(o,i){if(tS(i)){var l=t(i.from,i.to,i.velocity),c=JOe(l,2),u=c[0],f=c[1];return Bn(Bn({},i),{},{from:u,velocity:f})}return i},r);return n<1?vm(function(o,i){return tS(i)?Bn(Bn({},i),{},{velocity:Ix(i.velocity,a[o].velocity,n),from:Ix(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const a2e=function(e,t,r,n,a){var o=ROe(e,t),i=o.reduce(function(v,w){return Bn(Bn({},v),{},JN({},w,[e[w],t[w]]))},{}),l=o.reduce(function(v,w){return Bn(Bn({},v),{},JN({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return vm(function(w,y){return y.from},l)},m=function(){return!Object.values(l).filter(tS).length},g=function(w){u||(u=w);var y=w-u,b=y/r.dt;l=n2e(r,l,b),a(Bn(Bn(Bn({},e),t),h())),u=w,m()||(c=requestAnimationFrame(d))},p=function(w){f||(f=w);var y=(w-f)/n,b=vm(function(j,N){return Ix.apply(void 0,QR(N).concat([r(y)]))},i);if(a(Bn(Bn(Bn({},e),t),b)),y<1)c=requestAnimationFrame(d);else{var _=vm(function(j,N){return Ix.apply(void 0,QR(N).concat([r(1)]))},i);a(Bn(Bn(Bn({},e),t),_))}};return d=r.isStepper?g:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var s2e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function o2e(e,t){if(e==null)return{};var r=i2e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i2e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Vj(e){return d2e(e)||u2e(e)||c2e(e)||l2e()}function l2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2e(e,t){if(e){if(typeof e=="string")return rS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(e,t)}}function u2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d2e(e){if(Array.isArray(e))return rS(e)}function rS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e,t,r){return t=HV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HV(n.key),n)}}function m2e(e,t,r){return t&&h2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HV(e){var t=p2e(e,"string");return yf(t)==="symbol"?t:String(t)}function p2e(e,t){if(yf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nS(e,t)}function v2e(e){var t=y2e();return function(){var n=Lx(e),a;if(t){var o=Lx(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return aS(this,a)}}function aS(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sS(e)}function sS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(e)}var xo=function(e){g2e(r,e);var t=v2e(r);function r(n,a){var o;f2e(this,r),o=t.call(this,n,a);var i=o.props,l=i.isActive,c=i.attributeName,u=i.from,f=i.to,d=i.steps,h=i.children,m=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(sS(o)),o.changeStyle=o.changeStyle.bind(sS(o)),!l||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),aS(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},aS(o);o.state={style:c?Xh({},c,u):u}}else o.state={style:{}};return o}return m2e(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,l=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(l){if(!i){var m={style:c?Xh({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(m);return}if(!(NOe(a.to,f)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?d:a.to;if(this.state&&h){var v={style:c?Xh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Hs(Hs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,m=a2e(i,l,GOe(u),c,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,f,g,c,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],f=u.style,d=u.duration,h=d===void 0?0:d,m=function(p,v,w){if(w===0)return p;var y=v.duration,b=v.easing,_=b===void 0?"ease":b,j=v.style,N=v.properties,S=v.onAnimationEnd,C=w>0?i[w-1]:v,E=N||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(Vj(p),[o.runJSAnimation.bind(o,{from:C.style,to:j,duration:y,easing:_}),y]);var P=KR(E,y,_),A=Hs(Hs(Hs({},C.style),j),{},{transition:P});return[].concat(Vj(p),[A,y,S]).filter($Oe)};return this.manager.start([c].concat(Vj(i.reduce(m,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=kOe());var o=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Xh({},l,c):c,v=KR(Object.keys(p),i,u);g.start([f,o,Hs(Hs({},p),{},{transition:v}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=o2e(a,s2e),u=x.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!l||u===0||i<=0)return o;var d=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,w=g.className,y=x.cloneElement(m,Hs(Hs({},c),{},{style:Hs(Hs({},v),f),className:w}));return y};return u===1?d(x.Children.only(o)):z.createElement("div",null,x.Children.map(o,function(h){return d(h)}))}}]),r}(x.PureComponent);xo.displayName="Animate";xo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xo.propTypes={from:ar.oneOfType([ar.object,ar.string]),to:ar.oneOfType([ar.object,ar.string]),attributeName:ar.string,duration:ar.number,begin:ar.number,easing:ar.oneOfType([ar.string,ar.func]),steps:ar.arrayOf(ar.shape({duration:ar.number.isRequired,style:ar.object.isRequired,easing:ar.oneOfType([ar.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ar.func]),properties:ar.arrayOf("string"),onAnimationEnd:ar.func})),children:ar.oneOfType([ar.node,ar.func]),isActive:ar.bool,canBegin:ar.bool,onAnimationEnd:ar.func,shouldReAnimate:ar.bool,onAnimationStart:ar.func,onAnimationReStart:ar.func};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(this,arguments)}function x2e(e,t){return _2e(e)||j2e(e,t)||w2e(e,t)||b2e()}function b2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2e(e,t){if(e){if(typeof e=="string")return e$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e$(e,t)}}function e$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _2e(e){if(Array.isArray(e))return e}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){N2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t,r){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2e(e){var t=C2e(e,"string");return Op(t)=="symbol"?t:t+""}function C2e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n$=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var g=Math.min(i,o);f="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},E2e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(o,o+l),f=Math.max(o,o+l),d=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},O2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d2=function(t){var r=r$(r$({},O2e),t),n=x.useRef(),a=x.useState(-1),o=x2e(a,2),i=o[0],l=o[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=Dt("recharts-rectangle",m);return y?z.createElement(xo,{canBegin:i>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(_){var j=_.width,N=_.height,S=_.x,C=_.y;return z.createElement(xo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:w,easing:g},z.createElement("path",Fx({},mt(r,!0),{className:b,d:n$(S,C,j,N,h),ref:n})))}):z.createElement("path",Fx({},mt(r,!0),{className:b,d:n$(c,u,f,d,h)}))},A2e=["points","className","baseLinePoints","connectNulls"];function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function P2e(e,t){if(e==null)return{};var r=k2e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a$(e){return $2e(e)||R2e(e)||M2e(e)||T2e()}function T2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e,t){if(e){if(typeof e=="string")return oS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(e,t)}}function R2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $2e(e){if(Array.isArray(e))return oS(e)}function oS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s$=function(t){return t&&t.x===+t.x&&t.y===+t.y},D2e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){s$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),s$(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ym=function(t,r){var n=D2e(t);r&&(n=[n.reduce(function(o,i){return[].concat(a$(o),a$(i))},[])]);var a=n.map(function(o){return o.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},I2e=function(t,r,n){var a=ym(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ym(r.reverse(),n).slice(1))},L2e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,o=t.connectNulls,i=P2e(t,A2e);if(!r||!r.length)return null;var l=Dt("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=I2e(r,a,o);return z.createElement("g",{className:l},z.createElement("path",dd({},mt(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?z.createElement("path",dd({},mt(i,!0),{fill:"none",d:ym(r,o)})):null,c?z.createElement("path",dd({},mt(i,!0),{fill:"none",d:ym(a,o)})):null)}var f=ym(r,o);return z.createElement("path",dd({},mt(i,!0),{fill:f.slice(-1)==="Z"?i.fill:"none",className:l,d:f}))};function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}var Mg=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=Dt("recharts-dot",o);return r===+r&&n===+n&&a===+a?x.createElement("circle",iS({},mt(t,!1),sx(t),{className:i,cx:r,cy:n,r:a})):null};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}var F2e=["x","y","top","left","width","height","className"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lS.apply(this,arguments)}function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(n){z2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z2e(e,t,r){return t=U2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2e(e){var t=V2e(e,"string");return Ap(t)=="symbol"?t:t+""}function V2e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q2e(e,t){if(e==null)return{};var r=W2e(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var H2e=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},G2e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,m=h===void 0?0:h,g=t.className,p=q2e(t,F2e),v=B2e({x:n,y:o,top:l,left:u,width:d,height:m},p);return!Ce(n)||!Ce(o)||!Ce(d)||!Ce(m)||!Ce(l)||!Ce(u)?null:z.createElement("path",lS({},mt(v,!0),{className:Dt("recharts-cross",g),d:H2e(n,o,d,m,l,u)}))},K2e=Kb,Y2e=aV,X2e=ei;function Q2e(e,t){return e&&e.length?K2e(e,X2e(t),Y2e):void 0}var Z2e=Q2e;const J2e=or(Z2e);var eAe=Kb,tAe=ei,rAe=sV;function nAe(e,t){return e&&e.length?eAe(e,tAe(t),rAe):void 0}var aAe=nAe;const sAe=or(aAe);var oAe=["cx","cy","angle","ticks","axisLine"],iAe=["ticks","tick","angle","tickFormatter","stroke"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(n){Zb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$(e,t){if(e==null)return{};var r=lAe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KV(n.key),n)}}function uAe(e,t,r){return t&&c$(e.prototype,t),r&&c$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dAe(e,t,r){return t=Bx(t),fAe(e,GV()?Reflect.construct(t,r||[],Bx(e).constructor):t.apply(e,r))}function fAe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hAe(e)}function hAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!e})()}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(e)}function mAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cS(e,t)}function Zb(e,t,r){return t=KV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=pAe(e,"string");return xf(t)=="symbol"?t:t+""}function pAe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jb=function(e){function t(){return cAe(this,t),dAe(this,t,arguments)}return mAe(t,e),uAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,o=this.props,i=o.angle,l=o.cx,c=o.cy;return Sr(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,o=n.cy,i=n.angle,l=n.ticks,c=J2e(l,function(f){return f.coordinate||0}),u=sAe(l,function(f){return f.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=l$(n,oAe),f=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),d=Sr(a,o,f[0],i),h=Sr(a,o,f[1],i),m=ic(ic(ic({},mt(u,!1)),{},{fill:"none"},mt(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return z.createElement("line",xm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=l$(a,iAe),d=this.getTickTextAnchor(),h=mt(f,!1),m=mt(i,!1),g=o.map(function(p,v){var w=n.getTickValueCoord(p),y=ic(ic(ic(ic({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},w),{},{payload:p});return z.createElement(Wt,xm({className:Dt("recharts-polar-radius-axis-tick",MV(i)),key:"tick-".concat(p.coordinate)},lu(n.props,p,v)),t.renderTickItem(i,y,c?c(p.value,v):p.value))});return z.createElement(Wt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.axisLine,i=n.tick;return!a||!a.length?null:z.createElement(Wt,{className:Dt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),In.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,o){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):jt(n)?i=n(a):i=z.createElement(cu,xm({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(x.PureComponent);Zb(Jb,"displayName","PolarRadiusAxis");Zb(Jb,"axisType","radiusAxis");Zb(Jb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(n){ew(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XV(n.key),n)}}function vAe(e,t,r){return t&&d$(e.prototype,t),r&&d$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yAe(e,t,r){return t=zx(t),xAe(e,YV()?Reflect.construct(t,r||[],zx(e).constructor):t.apply(e,r))}function xAe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bAe(e)}function bAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YV=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(e)}function wAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function ew(e,t,r){return t=XV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=jAe(e,"string");return bf(t)=="symbol"?t:t+""}function jAe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _Ae=Math.PI/180,f$=1e-5,tw=function(e){function t(){return gAe(this,t),yAe(this,t,arguments)}return wAe(t,e),vAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,d=Sr(o,i,l,n.coordinate),h=Sr(o,i,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,o=Math.cos(-n.coordinate*_Ae),i;return o>f$?i=a==="outer"?"start":"end":o<-f$?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=lc(lc({},mt(this.props,!1)),{},{fill:"none"},mt(l,!1));if(c==="circle")return z.createElement(Mg,bc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:o,r:i}));var f=this.props.ticks,d=f.map(function(h){return Sr(a,o,i,h.coordinate)});return z.createElement(L2e,bc({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=mt(this.props,!1),d=mt(i,!1),h=lc(lc({},f),{},{fill:"none"},mt(l,!1)),m=o.map(function(g,p){var v=n.getTickLineCoord(g),w=n.getTickTextAnchor(g),y=lc(lc(lc({textAnchor:w},f),{},{stroke:"none",fill:u},d),{},{index:p,payload:g,x:v.x2,y:v.y2});return z.createElement(Wt,bc({className:Dt("recharts-polar-angle-axis-tick",MV(i)),key:"tick-".concat(g.coordinate)},lu(n.props,g,p)),l&&z.createElement("line",bc({className:"recharts-polar-angle-axis-tick-line"},h,v)),i&&t.renderTickItem(i,y,c?c(g.value,p):g.value))});return z.createElement(Wt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.radius,i=n.axisLine;return o<=0||!a||!a.length?null:z.createElement(Wt,{className:Dt("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,o){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):jt(n)?i=n(a):i=z.createElement(cu,bc({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(x.PureComponent);ew(tw,"displayName","PolarAngleAxis");ew(tw,"axisType","angleAxis");ew(tw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var NAe=eU,SAe=NAe(Object.getPrototypeOf,Object),CAe=SAe,EAe=Ri,OAe=CAe,AAe=$i,PAe="[object Object]",kAe=Function.prototype,TAe=Object.prototype,QV=kAe.toString,MAe=TAe.hasOwnProperty,RAe=QV.call(Object);function $Ae(e){if(!AAe(e)||EAe(e)!=PAe)return!1;var t=OAe(e);if(t===null)return!0;var r=MAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&QV.call(r)==RAe}var DAe=$Ae;const IAe=or(DAe);var LAe=Ri,FAe=$i,BAe="[object Boolean]";function zAe(e){return e===!0||e===!1||FAe(e)&&LAe(e)==BAe}var UAe=zAe;const VAe=or(UAe);function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function qAe(e,t){return KAe(e)||GAe(e,t)||HAe(e,t)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HAe(e,t){if(e){if(typeof e=="string")return h$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h$(e,t)}}function h$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function KAe(e){if(Array.isArray(e))return e}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){YAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YAe(e,t,r){return t=XAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XAe(e){var t=QAe(e,"string");return Pp(t)=="symbol"?t:t+""}function QAe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g$=function(t,r,n,a,o){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+o),l+="L ".concat(t+n-i/2-a,",").concat(r+o),l+="L ".concat(t,",").concat(r," Z"),l},ZAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JAe=function(t){var r=p$(p$({},ZAe),t),n=x.useRef(),a=x.useState(-1),o=qAe(a,2),i=o[0],l=o[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var y=Dt("recharts-trapezoid",m);return w?z.createElement(xo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:w},function(b){var _=b.upperWidth,j=b.lowerWidth,N=b.height,S=b.x,C=b.y;return z.createElement(xo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},z.createElement("path",Ux({},mt(r,!0),{className:y,d:g$(S,C,_,j,N),ref:n})))}):z.createElement("g",null,z.createElement("path",Ux({},mt(r,!0),{className:y,d:g$(c,u,f,d,h)})))},ePe=["option","shapeType","propTransformer","activeClassName","isActive"];function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function tPe(e,t){if(e==null)return{};var r=rPe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){nPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nPe(e,t,r){return t=aPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aPe(e){var t=sPe(e,"string");return kp(t)=="symbol"?t:t+""}function sPe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oPe(e,t){return Vx(Vx({},t),e)}function iPe(e,t){return e==="symbols"}function y$(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(d2,r);case"trapezoid":return z.createElement(JAe,r);case"sector":return z.createElement(DV,r);case"symbols":if(iPe(t))return z.createElement(PO,r);break;default:return null}}function lPe(e){return x.isValidElement(e)?e.props:e}function ZV(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?oPe:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,l=e.isActive,c=tPe(e,ePe),u;if(x.isValidElement(t))u=x.cloneElement(t,Vx(Vx({},c),lPe(t)));else if(jt(t))u=t(c);else if(IAe(t)&&!VAe(t)){var f=a(t,c);u=z.createElement(y$,{shapeType:r,elementProps:f})}else{var d=c;u=z.createElement(y$,{shapeType:r,elementProps:d})}return l?z.createElement(Wt,{className:i},u):u}function rw(e,t){return t!=null&&"trapezoids"in e.props}function nw(e,t){return t!=null&&"sectors"in e.props}function Tp(e,t){return t!=null&&"points"in e.props}function cPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function uPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function dPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function fPe(e,t){var r;return rw(e,t)?r=cPe:nw(e,t)?r=uPe:Tp(e,t)&&(r=dPe),r}function hPe(e,t){var r;return rw(e,t)?r="trapezoids":nw(e,t)?r="sectors":Tp(e,t)&&(r="points"),r}function mPe(e,t){if(rw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(nw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Tp(e,t)?t.payload:{}}function pPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=hPe(r,t),o=mPe(r,t),i=n.filter(function(c,u){var f=uu(o,c),d=r.props[a].filter(function(g){var p=fPe(r,t);return p(g,t)}),h=r.props[a].indexOf(d[d.length-1]),m=u===h;return f&&m}),l=n.indexOf(i[i.length-1]);return l}var cy;function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(n){Ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eq(n.key),n)}}function vPe(e,t,r){return t&&b$(e.prototype,t),r&&b$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yPe(e,t,r){return t=qx(t),xPe(e,JV()?Reflect.construct(t,r||[],qx(e).constructor):t.apply(e,r))}function xPe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bPe(e)}function bPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(e)}function wPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(e,t)}function Ss(e,t,r){return t=eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=jPe(e,"string");return wf(t)=="symbol"?t:t+""}function jPe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fs=function(e){function t(r){var n;return gPe(this,t),n=yPe(this,t,[r]),Ss(n,"pieRef",null),Ss(n,"sectorRefs",[]),Ss(n,"id",Nu("recharts-pie-")),Ss(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jt(a)&&a()}),Ss(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return wPe(t,e),vPe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,c=o.dataKey,u=o.valueKey,f=mt(this.props,!1),d=mt(i,!1),h=mt(l,!1),m=i&&i.offsetRadius||20,g=n.map(function(p,v){var w=(p.startAngle+p.endAngle)/2,y=Sr(p.cx,p.cy,p.outerRadius+m,w),b=xr(xr(xr(xr({},f),p),{},{stroke:"none"},d),{},{index:v,textAnchor:t.getTextAnchor(y.x,p.cx)},y),_=xr(xr(xr(xr({},f),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Sr(p.cx,p.cy,p.outerRadius,w),y]}),j=c;return Pt(c)&&Pt(u)?j="value":Pt(c)&&(j=u),z.createElement(Wt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,b,on(p,j)))});return z.createElement(Wt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,o=this.props,i=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,m=d?i:h,g=xr(xr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return z.createElement(Wt,fd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},lu(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),z.createElement(ZV,fd({option:m,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,o=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,m=d.prevIsAnimationActive;return z.createElement(xo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],w=o&&o[0],y=w.startAngle;return o.forEach(function(b,_){var j=h&&h[_],N=_>0?rs(b,"paddingAngle",0):0;if(j){var S=An(j.endAngle-j.startAngle,b.endAngle-b.startAngle),C=xr(xr({},b),{},{startAngle:y+N,endAngle:y+S(p)+N});v.push(C),y=C.endAngle}else{var E=b.endAngle,P=b.startAngle,A=An(0,E-P),M=A(p),O=xr(xr({},b),{},{startAngle:y+N,endAngle:y+M+N});v.push(O),y=O.endAngle}}),z.createElement(Wt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,o=n.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!uu(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,o=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(o||!i||!i.length||!Ce(u)||!Ce(f)||!Ce(d)||!Ce(h))return null;var p=Dt("recharts-pie",l);return z.createElement(Wt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(i),In.renderCallByParent(this.props,null,!1),(!m||g)&&Wo.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,o){if(z.isValidElement(n))return z.cloneElement(n,a);if(jt(n))return n(a);var i=Dt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Gc,fd({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,o){if(z.isValidElement(n))return z.cloneElement(n,a);var i=o;if(jt(n)&&(i=n(a),z.isValidElement(i)))return i;var l=Dt("recharts-pie-label-text",typeof n!="boolean"&&!jt(n)?n.className:"");return z.createElement(cu,fd({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(x.PureComponent);cy=fs;Ss(fs,"displayName","Pie");Ss(fs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ss(fs,"parseDeltaAngle",function(e,t){var r=fa(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ss(fs,"getRealPieData",function(e){var t=e.data,r=e.children,n=mt(e,!1),a=ns(r,Yo);return t&&t.length?t.map(function(o,i){return xr(xr(xr({payload:o},n),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return xr(xr({},n),o.props)}):[]});Ss(fs,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,o=t.height,i=TV(a,o),l=n+ha(e.cx,a,a/2),c=r+ha(e.cy,o,o/2),u=ha(e.innerRadius,i,0),f=ha(e.outerRadius,i,i*.8),d=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});Ss(fs,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?xr(xr({},t.type.defaultProps),t.props):t.props,a=cy.getRealPieData(n);if(!a||!a.length)return null;var o=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=cy.parseCoordinateOfPie(n,r),p=cy.parseDeltaAngle(i,l),v=Math.abs(p),w=u;Pt(u)&&Pt(d)?(ho(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Pt(u)&&(ho(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var y=a.filter(function(C){return on(C,w,0)!==0}).length,b=(v>=360?y:y-1)*c,_=v-y*m-b,j=a.reduce(function(C,E){var P=on(E,w,0);return C+(Ce(P)?P:0)},0),N;if(j>0){var S;N=a.map(function(C,E){var P=on(C,w,0),A=on(C,f,E),M=(Ce(P)?P:0)/j,O;E?O=S.endAngle+fa(p)*c*(P!==0?1:0):O=i;var R=O+fa(p)*((P!==0?m:0)+M*_),L=(O+R)/2,D=(g.innerRadius+g.outerRadius)/2,B=[{name:A,value:P,payload:C,dataKey:w,type:h}],k=Sr(g.cx,g.cy,D,L);return S=xr(xr(xr({percent:M,cornerRadius:o,name:A,tooltipPayload:B,midAngle:L,middleRadius:D,tooltipPosition:k},C),g),{},{value:on(C,w),startAngle:O,endAngle:R,payload:C,paddingAngle:fa(p)*c}),S})}return xr(xr({},g),{},{sectors:N,data:a})});var _Pe=Math.ceil,NPe=Math.max;function SPe(e,t,r,n){for(var a=-1,o=NPe(_Pe((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var CPe=SPe,EPe=xU,w$=1/0,OPe=17976931348623157e292;function APe(e){if(!e)return e===0?e:0;if(e=EPe(e),e===w$||e===-w$){var t=e<0?-1:1;return t*OPe}return e===e?e:0}var tq=APe,PPe=CPe,kPe=zb,qj=tq;function TPe(e){return function(t,r,n){return n&&typeof n!="number"&&kPe(t,r,n)&&(r=n=void 0),t=qj(t),r===void 0?(r=t,t=0):r=qj(r),n=n===void 0?t<r?1:-1:qj(n),PPe(t,r,n,e)}}var MPe=TPe,RPe=MPe,$Pe=RPe(),DPe=$Pe;const Wx=or(DPe);function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function j$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return t=IPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IPe(e){var t=LPe(e,"string");return Mp(t)=="symbol"?t:t+""}function LPe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FPe=["Webkit","Moz","O","ms"],BPe=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=FPe.reduce(function(o,i){return _$(_$({},o),{},rq({},i+n,r))},{});return a[t]=r,a};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(this,arguments)}function N$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(r),!0).forEach(function(n){Ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aq(n.key),n)}}function UPe(e,t,r){return t&&S$(e.prototype,t),r&&S$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VPe(e,t,r){return t=Gx(t),qPe(e,nq()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function qPe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WPe(e)}function WPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function HPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fS(e,t)}function Ua(e,t,r){return t=aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=GPe(e,"string");return jf(t)=="symbol"?t:t+""}function GPe(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KPe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=pm().domain(Wx(0,c)).range([o,o+i-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},C$=function(t){return t.changedTouches&&!!t.changedTouches.length},_f=function(e){function t(r){var n;return zPe(this,t),n=VPe(this,t,[r]),Ua(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ua(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ua(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),Ua(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ua(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ua(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ua(n,"handleSlideDragStart",function(a){var o=C$(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HPe(t,e),UPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,o),h=Math.max(a,o),m=t.getIndexInRange(i,d),g=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:g===f?f:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,l=a.dataKey,c=on(o[n],l,n);return jt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-o;p>0?p=Math.min(p,u+f-d-l,u+f-d-i):p<0&&(p=Math.max(p,u-i,u-l));var v=this.getIndex({startX:i+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=C$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,g=f.onChange,p=f.gap,v=f.data,w={startX:this.state.startX,endX:this.state.endX},y=n.pageX-o;y>0?y=Math.min(y,d+h-m-u):y<0&&(y=Math.max(y,d-u)),w[i]=u+y;var b=this.getIndex(w),_=b.startIndex,j=b.endIndex,N=function(){var C=v.length-1;return i==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===C||i==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===C};this.setState(Ua(Ua({},i,u+y),"brushMoveStartX",n.pageX),function(){g&&N()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ua({},a,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:a,y:o,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=x.Children.only(u);return d?z.cloneElement(d,{x:a,y:o,width:i,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),y=Wj(Wj({},mt(this.props,!1)),{},{x:w,y:u,width:f,height:d}),b=m||"Min value: ".concat((o=g[p])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return z.createElement(Wt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,l=o.height,c=o.stroke,u=o.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:i,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,m=5,g={pointerEvents:"none",fill:u};return z.createElement(Wt,{className:"recharts-brush-texts"},z.createElement(cu,Hx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:i+l/2},g),this.getTextOfTick(a)),z.createElement(cu,Hx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+m,y:i+l/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,w=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Ce(l)||!Ce(c)||!Ce(u)||!Ce(f)||u<=0||f<=0)return null;var b=Dt("recharts-brush",o),_=z.Children.count(i)===1,j=BPe("userSelect","none");return z.createElement(Wt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||w||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(o+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:o,width:i,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return z.isValidElement(n)?o=z.cloneElement(n,a):jt(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||u!==a.prevUpdateId)return Wj({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},o&&o.length?KPe({data:o,width:i,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,l=o-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(x.PureComponent);Ua(_f,"displayName","Brush");Ua(_f,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var YPe=IO;function XPe(e,t){var r;return YPe(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var QPe=XPe,ZPe=Hz,JPe=ei,eke=QPe,tke=Ba,rke=zb;function nke(e,t,r){var n=tke(e)?ZPe:eke;return r&&rke(e,t,r)&&(t=void 0),n(e,JPe(t))}var ake=nke;const ske=or(ake);var Ho=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},E$=mU;function oke(e,t,r){t=="__proto__"&&E$?E$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ike=oke,lke=ike,cke=fU,uke=ei;function dke(e,t){var r={};return t=uke(t),cke(e,function(n,a,o){lke(r,a,t(n,a,o))}),r}var fke=dke;const hke=or(fke);function mke(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var pke=mke,gke=IO;function vke(e,t){var r=!0;return gke(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var yke=vke,xke=pke,bke=yke,wke=ei,jke=Ba,_ke=zb;function Nke(e,t,r){var n=jke(e)?xke:bke;return r&&_ke(e,t,r)&&(t=void 0),n(e,wke(t))}var Ske=Nke;const sq=or(Ske);var Cke=["x","y"];function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(n){Eke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eke(e,t,r){return t=Oke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oke(e){var t=Ake(e,"string");return Rp(t)=="symbol"?t:t+""}function Ake(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pke(e,t){if(e==null)return{};var r=kke(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tke(e,t){var r=e.x,n=e.y,a=Pke(e,Cke),o="".concat(r),i=parseInt(o,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Ih(Ih(Ih(Ih(Ih({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function A$(e){return z.createElement(ZV,hS({shapeType:"rectangle",propTransformer:Tke,activeClassName:"recharts-active-bar"},e))}var Mke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=Ce(n)||ahe(n);return o?t(n,a):(o||fu(),r)}},Rke=["value","background"],oq;function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function $ke(e,t){if(e==null)return{};var r=Dke(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(n){gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ike(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lq(n.key),n)}}function Lke(e,t,r){return t&&k$(e.prototype,t),r&&k$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fke(e,t,r){return t=Yx(t),Bke(e,iq()?Reflect.construct(t,r||[],Yx(e).constructor):t.apply(e,r))}function Bke(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zke(e)}function zke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(e)}function Uke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function gl(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=Vke(e,"string");return Nf(t)=="symbol"?t:t+""}function Vke(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fs=function(e){function t(){var r;Ike(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Fke(this,t,[].concat(a)),gl(r,"state",{isAnimationFinished:!1}),gl(r,"id",Nu("recharts-bar-")),gl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),gl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return Uke(t,e),Lke(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,l=o.dataKey,c=o.activeIndex,u=o.activeBar,f=mt(this.props,!1);return n&&n.map(function(d,h){var m=h===c,g=m?u:i,p=hn(hn(hn({},f),d),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(Wt,Kx({className:"recharts-bar-rectangle"},lu(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),z.createElement(A$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return z.createElement(xo,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=o.map(function(v,w){var y=h&&h[w];if(y){var b=An(y.x,v.x),_=An(y.y,v.y),j=An(y.width,v.width),N=An(y.height,v.height);return hn(hn({},v),{},{x:b(g),y:_(g),width:j(g),height:N(g)})}if(i==="horizontal"){var S=An(0,v.height),C=S(g);return hn(hn({},v),{},{y:v.y+v.height-C,height:C})}var E=An(0,v.width),P=E(g);return hn(hn({},v),{},{width:P})});return z.createElement(Wt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!uu(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,l=a.activeIndex,c=mt(this.props.background,!1);return o.map(function(u,f){u.value;var d=u.background,h=$ke(u,Rke);if(!d)return null;var m=hn(hn(hn(hn(hn({},h),{},{fill:"#eee"},d),c),lu(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return z.createElement(A$,Kx({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,l=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,d=ns(f,Tg);if(!d)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(v,w){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:on(v,w)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(Wt,g,d.map(function(p){return z.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=Dt("recharts-bar",i),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=y||b,j=Pt(p)?this.id:p;return z.createElement(Wt,{className:w},y||b?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(j)},z.createElement("rect",{x:y?u:u-d/2,y:b?f:f-h/2,width:y?d:d*2,height:b?h:h*2}))):null,z.createElement(Wt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||v)&&Wo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);oq=Fs;gl(Fs,"displayName","Bar");gl(Fs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gl(Fs,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=jCe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?hn(hn({},p),r.props):r.props,w=v.dataKey,y=v.children,b=v.minPointSize,_=g==="horizontal"?i:o,j=u?_.scale.domain():null,N=ACe({numericAxis:_}),S=ns(y,Yo),C=d.map(function(E,P){var A,M,O,R,L,D;u?A=_Ce(u[f+P],j):(A=on(E,w),Array.isArray(A)||(A=[N,A]));var B=Mke(b,oq.defaultProps.minPointSize)(A[1],P);if(g==="horizontal"){var k,T=[i.scale(A[0]),i.scale(A[1])],q=T[0],Q=T[1];M=bR({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:E,index:P}),O=(k=Q??q)!==null&&k!==void 0?k:void 0,R=m.size;var F=q-Q;if(L=Number.isNaN(F)?0:F,D={x:M,y:i.y,width:R,height:i.height},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var X=fa(L||B)*(Math.abs(B)-Math.abs(L));O-=X,L+=X}}else{var ce=[o.scale(A[0]),o.scale(A[1])],pe=ce[0],ge=ce[1];if(M=pe,O=bR({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:E,index:P}),R=ge-pe,L=m.size,D={x:o.x,y:O,width:o.width,height:L},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var he=fa(R||B)*(Math.abs(B)-Math.abs(R));R+=he}}return hn(hn(hn({},E),{},{x:M,y:O,width:R,height:L,value:u?A:A[1],payload:E,background:D},S&&S[P]&&S[P].props),{},{tooltipPayload:[PV(r,E)],tooltipPosition:{x:M+R/2,y:O+L/2}})});return hn({data:C,layout:g},h)});function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function qke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cq(n.key),n)}}function Wke(e,t,r){return t&&T$(e.prototype,t),r&&T$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(r),!0).forEach(function(n){aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aw(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=Hke(e,"string");return $p(t)=="symbol"?t:t+""}function Hke(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f2=function(t,r,n,a,o){var i=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!qa(u,Fs);return f.reduce(function(m,g){var p=r[g],v=p.orientation,w=p.domain,y=p.padding,b=y===void 0?{}:y,_=p.mirror,j=p.reversed,N="".concat(v).concat(_?"Mirror":""),S,C,E,P,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var M=w[1]-w[0],O=1/0,R=p.categoricalDomain.sort(ihe);if(R.forEach(function(ce,pe){pe>0&&(O=Math.min((ce||0)-(R[pe-1]||0),O))}),Number.isFinite(O)){var L=O/M,D=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(S=L*D/2),p.padding==="no-gap"){var B=ha(t.barCategoryGap,L*D),k=L*D/2;S=k-B-(k-B)/D*B}}}a==="xAxis"?C=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:C=p.range,j&&(C=[C[1],C[0]]);var T=CV(p,o,h),q=T.scale,Q=T.realScaleType;q.domain(w).range(C),EV(q);var F=OV(q,ro(ro({},p),{},{realScaleType:Q}));a==="xAxis"?(A=v==="top"&&!_||v==="bottom"&&_,E=n.left,P=d[N]-A*p.height):a==="yAxis"&&(A=v==="left"&&!_||v==="right"&&_,E=d[N]-A*p.width,P=n.top);var X=ro(ro(ro({},p),F),{},{realScaleType:Q,x:E,y:P,scale:q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return X.bandSize=Mx(X,F),!p.hide&&a==="xAxis"?d[N]+=(A?-1:1)*X.height:p.hide||(d[N]+=(A?-1:1)*X.width),ro(ro({},m),{},aw({},g,X))},{})},uq=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},Gke=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return uq({x:r,y:n},{x:a,y:o})},dq=function(){function e(t){qke(this,e),this.scale=t}return Wke(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();aw(dq,"EPS",1e-4);var h2=function(t){var r=Object.keys(t).reduce(function(n,a){return ro(ro({},n),{},aw({},a,dq.create(t[a])))},{});return ro(ro({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,l=o.position;return hke(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return sq(a,function(o,i){return r[i].isInRange(o)})}})};function Kke(e){return(e%180+180)%180}var Yke=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Kke(a),i=o*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},Xke=ei,Qke=Eg,Zke=Fb;function Jke(e){return function(t,r,n){var a=Object(t);if(!Qke(t)){var o=Xke(r);t=Zke(t),r=function(l){return o(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var eTe=Jke,tTe=tq;function rTe(e){var t=tTe(e),r=t%1;return t===t?r?t-r:t:0}var nTe=rTe,aTe=oU,sTe=ei,oTe=nTe,iTe=Math.max;function lTe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:oTe(r);return a<0&&(a=iTe(n+a,0)),aTe(e,sTe(t),a)}var cTe=lTe,uTe=eTe,dTe=cTe,fTe=uTe(dTe),hTe=fTe;const mTe=or(hTe);var pTe=ufe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),m2=x.createContext(void 0),p2=x.createContext(void 0),fq=x.createContext(void 0),hq=x.createContext({}),mq=x.createContext(void 0),pq=x.createContext(0),gq=x.createContext(0),R$=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,f=pTe(o);return z.createElement(m2.Provider,{value:n},z.createElement(p2.Provider,{value:a},z.createElement(hq.Provider,{value:o},z.createElement(fq.Provider,{value:f},z.createElement(mq.Provider,{value:i},z.createElement(pq.Provider,{value:u},z.createElement(gq.Provider,{value:c},l)))))))},gTe=function(){return x.useContext(mq)},vq=function(t){var r=x.useContext(m2);r==null&&fu();var n=r[t];return n==null&&fu(),n},vTe=function(){var t=x.useContext(m2);return tl(t)},yTe=function(){var t=x.useContext(p2),r=mTe(t,function(n){return sq(n.domain,Number.isFinite)});return r||tl(t)},yq=function(t){var r=x.useContext(p2);r==null&&fu();var n=r[t];return n==null&&fu(),n},xTe=function(){var t=x.useContext(fq);return t},bTe=function(){return x.useContext(hq)},g2=function(){return x.useContext(gq)},v2=function(){return x.useContext(pq)};function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function wTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bq(n.key),n)}}function _Te(e,t,r){return t&&jTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NTe(e,t,r){return t=Xx(t),STe(e,xq()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function STe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CTe(e)}function CTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function ETe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pS(e,t)}function pS(e,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pS(e,t)}function $$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(r),!0).forEach(function(n){y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y2(e,t,r){return t=bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=OTe(e,"string");return Sf(t)=="symbol"?t:t+""}function OTe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ATe(e,t){return MTe(e)||TTe(e,t)||kTe(e,t)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kTe(e,t){if(e){if(typeof e=="string")return I$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I$(e,t)}}function I$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function MTe(e){if(Array.isArray(e))return e}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}var RTe=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):jt(t)?n=t(r):n=z.createElement("line",gS({},r,{className:"recharts-reference-line-line"})),n},$Te=function(t,r,n,a,o,i,l,c,u){var f=o.x,d=o.y,h=o.width,m=o.height;if(n){var g=u.y,p=t.y.apply(g,{position:i});if(Ho(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:f+h,y:p},{x:f,y:p}];return c==="left"?v.reverse():v}if(r){var w=u.x,y=t.x.apply(w,{position:i});if(Ho(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:d+m},{x:y,y:d}];return l==="top"?b.reverse():b}if(a){var _=u.segment,j=_.map(function(N){return t.apply(N,{position:i})});return Ho(u,"discard")&&ske(j,function(N){return!t.isInRange(N)})?null:j}return null};function DTe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=gTe(),f=vq(a),d=yq(o),h=xTe();if(!u||!h)return null;ho(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=h2({x:f.scale,y:d.scale}),g=Tn(t),p=Tn(r),v=n&&n.length===2,w=$Te(m,g,p,v,h,e.position,f.orientation,d.orientation,e);if(!w)return null;var y=ATe(w,2),b=y[0],_=b.x,j=b.y,N=y[1],S=N.x,C=N.y,E=Ho(e,"hidden")?"url(#".concat(u,")"):void 0,P=D$(D$({clipPath:E},mt(e,!0)),{},{x1:_,y1:j,x2:S,y2:C});return z.createElement(Wt,{className:Dt("recharts-reference-line",l)},RTe(i,P),In.renderCallByParent(e,Gke({x1:_,y1:j,x2:S,y2:C})))}var x2=function(e){function t(){return wTe(this,t),NTe(this,t,arguments)}return ETe(t,e),_Te(t,[{key:"render",value:function(){return z.createElement(DTe,this.props)}}])}(z.Component);y2(x2,"displayName","ReferenceLine");y2(x2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ITe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jq(n.key),n)}}function FTe(e,t,r){return t&&LTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BTe(e,t,r){return t=Qx(t),zTe(e,wq()?Reflect.construct(t,r||[],Qx(e).constructor):t.apply(e,r))}function zTe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UTe(e)}function UTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(e)}function VTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yS(e,t)}function sw(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=qTe(e,"string");return Cf(t)=="symbol"?t:t+""}function qTe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WTe=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=h2({x:a.scale,y:o.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Ho(t,"discard")&&!i.isInRange(l)?null:l},ow=function(e){function t(){return ITe(this,t),BTe(this,t,arguments)}return VTe(t,e),FTe(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Tn(a),f=Tn(o);if(ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=WTe(this.props);if(!d)return null;var h=d.x,m=d.y,g=this.props,p=g.shape,v=g.className,w=Ho(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=F$(F$({clipPath:w},mt(this.props,!0)),{},{cx:h,cy:m});return z.createElement(Wt,{className:Dt("recharts-reference-dot",v)},t.renderDot(p,y),In.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(z.Component);sw(ow,"displayName","ReferenceDot");sw(ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sw(ow,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):jt(e)?r=e(t):r=z.createElement(Mg,vS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function B$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(r),!0).forEach(function(n){iw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nq(n.key),n)}}function KTe(e,t,r){return t&&GTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YTe(e,t,r){return t=Zx(t),XTe(e,_q()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function XTe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(e)}function QTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function ZTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bS(e,t)}function iw(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=JTe(e,"string");return Ef(t)=="symbol"?t:t+""}function JTe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eMe=function(t,r,n,a,o){var i=o.x1,l=o.x2,c=o.y1,u=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=h2({x:f.scale,y:d.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ho(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:uq(m,g)},lw=function(e){function t(){return HTe(this,t),YTe(this,t,arguments)}return ZTe(t,e),KTe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;ho(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Tn(a),h=Tn(o),m=Tn(i),g=Tn(l),p=this.props.shape;if(!d&&!h&&!m&&!g&&!p)return null;var v=eMe(d,h,m,g,this.props);if(!v&&!p)return null;var w=Ho(this.props,"hidden")?"url(#".concat(f,")"):void 0;return z.createElement(Wt,{className:Dt("recharts-reference-area",c)},t.renderRect(p,z$(z$({clipPath:w},mt(this.props,!0)),v)),In.renderCallByParent(this.props,v))}}])}(z.Component);iw(lw,"displayName","ReferenceArea");iw(lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});iw(lw,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):jt(e)?r=e(t):r=z.createElement(d2,xS({},t,{className:"recharts-reference-area-rect"})),r});function Sq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function tMe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Yke(n,r)}function rMe(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,l=e.height;return t===1?{start:n?a:o,end:n?a+i:o+l}:{start:n?a+i:o+l,end:n?a:o}}function Jx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function nMe(e,t){return Sq(e,t+1)}function aMe(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,f=i,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Sq(n,u)};var p=c,v,w=function(){return v===void 0&&(v=r(g,p)),v},y=g.coordinate,b=c===0||Jx(e,y,w,f,l);b||(c=0,f=i,u+=1),b&&(f=y+e*(w()/2+a),c+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(n){sMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sMe(e,t,r){return t=oMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oMe(e){var t=iMe(e,"string");return Dp(t)=="symbol"?t:t+""}function iMe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lMe(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,l=t.start,c=t.end,u=function(h){var m=o[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===i-1){var v=e*(m.coordinate+e*p()/2-c);o[h]=m=Yn(Yn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else o[h]=m=Yn(Yn({},m),{},{tickCoord:m.coordinate});var w=Jx(e,m.tickCoord,p,l,c);w&&(c=m.tickCoord-e*(p()/2+a),o[h]=Yn(Yn({},m),{},{isShow:!0}))},f=i-1;f>=0;f--)u(f);return o}function cMe(e,t,r,n,a,o){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(o){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);i[l-1]=f=Yn(Yn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var m=Jx(e,f.tickCoord,function(){return d},c,u);m&&(u=f.tickCoord-e*(d/2+a),i[l-1]=Yn(Yn({},f),{},{isShow:!0}))}for(var g=o?l-1:l,p=function(y){var b=i[y],_,j=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var N=e*(b.coordinate-e*j()/2-c);i[y]=b=Yn(Yn({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else i[y]=b=Yn(Yn({},b),{},{tickCoord:b.coordinate});var S=Jx(e,b.tickCoord,j,c,u);S&&(c=b.tickCoord+e*(j()/2+a),i[y]=Yn(Yn({},b),{},{isShow:!0}))},v=0;v<g;v++)p(v);return i}function b2(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Ce(c)||Zl.isSsr)return nMe(a,typeof c=="number"&&Ce(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=f&&m==="width"?mm(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(b,_){var j=jt(u)?u(b.value,_):b.value;return m==="width"?tMe(mm(j,{fontSize:t,letterSpacing:r}),g,d):mm(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?fa(a[1].coordinate-a[0].coordinate):1,w=rMe(o,v,m);return c==="equidistantPreserveStart"?aMe(v,w,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=cMe(v,w,p,a,i,c==="preserveStartEnd"):h=lMe(v,w,p,a,i),h.filter(function(y){return y.isShow}))}var uMe=["viewBox"],dMe=["viewBox"],fMe=["ticks"];function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}function V$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V$(Object(r),!0).forEach(function(n){w2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hj(e,t){if(e==null)return{};var r=hMe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eq(n.key),n)}}function pMe(e,t,r){return t&&q$(e.prototype,t),r&&q$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gMe(e,t,r){return t=e0(t),vMe(e,Cq()?Reflect.construct(t,r||[],e0(e).constructor):t.apply(e,r))}function vMe(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yMe(e)}function yMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cq=function(){return!!e})()}function e0(e){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(e)}function xMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wS(e,t)}function w2(e,t,r){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=bMe(e,"string");return Of(t)=="symbol"?t:t+""}function bMe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fh=function(e){function t(r){var n;return mMe(this,t),n=gMe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return xMe(t,e),pMe(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Hj(n,uMe),l=this.props,c=l.viewBox,u=Hj(l,dMe);return!Pd(o,c)||!Pd(i,u)||!Pd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,m,g,p,v,w,y,b=d?-1:1,_=n.tickSize||f,j=Ce(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=i+ +!d*c,p=v-b*_,y=p-b*h,w=j;break;case"left":p=v=n.coordinate,g=o+ +!d*l,m=g-b*_,w=m-b*h,y=j;break;case"right":p=v=n.coordinate,g=o+ +d*l,m=g+b*_,w=m+b*h,y=j;break;default:m=g=n.coordinate,v=i+ +d*c,p=v+b*_,y=p+b*h,w=j;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:w,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=_n(_n(_n({},mt(this.props,!1)),mt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=_n(_n({},d),{},{x1:a,y1:o+h*l,x2:a+i,y2:o+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);d=_n(_n({},d),{},{x1:a+m*i,y1:o,x2:a+m*i,y2:o+l})}return z.createElement("line",hd({},d,{className:Dt("recharts-cartesian-axis-line",rs(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,m=b2(_n(_n({},this.props),{},{ticks:n}),a,o),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=mt(this.props,!1),w=mt(f,!1),y=_n(_n({},v),{},{fill:"none"},mt(c,!1)),b=m.map(function(_,j){var N=i.getTickLineCoord(_),S=N.line,C=N.tick,E=_n(_n(_n(_n({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},w),C),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:d});return z.createElement(Wt,hd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},lu(i.props,_,j)),c&&z.createElement("line",hd({},y,S,{className:Dt("recharts-cartesian-axis-tick-line",rs(c,"className"))})),f&&t.renderTickItem(f,E,"".concat(jt(d)?d(_.value,j):_.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,m=Hj(d,fMe),g=h;return jt(c)&&(g=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!g||!g.length?null:z.createElement(Wt,{className:Dt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),In.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,l=Dt(a.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?i=z.cloneElement(n,_n(_n({},a),{},{className:l})):jt(n)?i=n(_n(_n({},a),{},{className:l})):i=z.createElement(cu,hd({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(x.Component);w2(fh,"displayName","CartesianAxis");w2(fh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wMe=["x1","y1","x2","y2","key"],jMe=["offset"];function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function W$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(r),!0).forEach(function(n){_Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Me(e,t,r){return t=NMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NMe(e){var t=SMe(e,"string");return hu(t)=="symbol"?t:t+""}function SMe(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function H$(e,t){if(e==null)return{};var r=CMe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var EMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,l=t.height,c=t.ry;return z.createElement("rect",{x:a,y:o,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Oq(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(jt(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,l=t.key,c=H$(t,wMe),u=mt(c,!1);u.offset;var f=H$(u,jMe);r=z.createElement("line",kc({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:l}))}return r}function OMe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(l,c){var u=Qn(Qn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Oq(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function AMe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(l,c){var u=Qn(Qn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Oq(a,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function PMe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var g=!f[m+1],p=g?a+i-h:f[m+1]-h;if(p<=0)return null;var v=m%t.length;return z.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:o,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kMe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var g=!f[m+1],p=g?o+l-h:f[m+1]-h;if(p<=0)return null;var v=m%n.length;return z.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var TMe=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return SV(b2(Qn(Qn(Qn({},fh.defaultProps),n),{},{ticks:gi(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},MMe=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return SV(b2(Qn(Qn(Qn({},fh.defaultProps),n),{},{ticks:gi(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Vu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function co(e){var t,r,n,a,o,i,l=g2(),c=v2(),u=bTe(),f=Qn(Qn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Vu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Vu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Vu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Vu.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Vu.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Vu.verticalFill,x:Ce(e.x)?e.x:u.left,y:Ce(e.y)?e.y:u.top,width:Ce(e.width)?e.width:u.width,height:Ce(e.height)?e.height:u.height}),d=f.x,h=f.y,m=f.width,g=f.height,p=f.syncWithTicks,v=f.horizontalValues,w=f.verticalValues,y=vTe(),b=yTe();if(!Ce(m)||m<=0||!Ce(g)||g<=0||!Ce(d)||d!==+d||!Ce(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||TMe,j=f.horizontalCoordinatesGenerator||MMe,N=f.horizontalPoints,S=f.verticalPoints;if((!N||!N.length)&&jt(j)){var C=v&&v.length,E=j({yAxis:b?Qn(Qn({},b),{},{ticks:C?v:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);ho(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hu(E),"]")),Array.isArray(E)&&(N=E)}if((!S||!S.length)&&jt(_)){var P=w&&w.length,A=_({xAxis:y?Qn(Qn({},y),{},{ticks:P?w:y.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);ho(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hu(A),"]")),Array.isArray(A)&&(S=A)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(EMe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),z.createElement(OMe,kc({},f,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),z.createElement(AMe,kc({},f,{offset:u,verticalPoints:S,xAxis:y,yAxis:b})),z.createElement(PMe,kc({},f,{horizontalPoints:N})),z.createElement(kMe,kc({},f,{verticalPoints:S})))}co.displayName="CartesianGrid";var RMe=["type","layout","connectNulls","ref"],$Me=["key"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function G$(e,t){if(e==null)return{};var r=DMe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qu(e){return BMe(e)||FMe(e)||LMe(e)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LMe(e,t){if(e){if(typeof e=="string")return jS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jS(e,t)}}function FMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BMe(e){if(Array.isArray(e))return jS(e)}function jS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pq(n.key),n)}}function UMe(e,t,r){return t&&Y$(e.prototype,t),r&&Y$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VMe(e,t,r){return t=t0(t),qMe(e,Aq()?Reflect.construct(t,r||[],t0(e).constructor):t.apply(e,r))}function qMe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WMe(e)}function WMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!e})()}function t0(e){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(e)}function HMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_S(e,t)}function no(e,t,r){return t=Pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=GMe(e,"string");return Af(t)=="symbol"?t:t+""}function GMe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ss=function(e){function t(){var r;zMe(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=VMe(this,t,[].concat(a)),no(r,"state",{isAnimationFinished:!0,totalLength:0}),no(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),no(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(w,y){return w+y});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var f=Math.floor(i/u),d=i%u,h=l-i,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>d){m=[].concat(qu(c.slice(0,g)),[d-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(qu(t.repeat(c,f)),qu(m),v).map(function(w){return"".concat(w,"px")}).join(", ")}),no(r,"id",Nu("recharts-line-")),no(r,"pathRef",function(i){r.mainCurve=i}),no(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),no(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return HMe(t,e),UMe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,l=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,d=ns(f,Tg);if(!d)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:on(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return z.createElement(Wt,m,d.map(function(g){return z.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=mt(this.props,!1),h=mt(c,!0),m=u.map(function(p,v){var w=za(za(za({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:f,payload:p.payload,points:u});return t.renderDotItem(c,w)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return z.createElement(Wt,bm({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,o,i){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=G$(l,RMe),h=za(za(za({},mt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:f});return z.createElement(Gc,bm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,g=i.animateNewValues,p=i.width,v=i.height,w=this.state,y=w.prevPoints,b=w.totalLength;return z.createElement(xo,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(y){var N=y.length/l.length,S=l.map(function(M,O){var R=Math.floor(O*N);if(y[R]){var L=y[R],D=An(L.x,M.x),B=An(L.y,M.y);return za(za({},M),{},{x:D(j),y:B(j)})}if(g){var k=An(p*2,M.x),T=An(v/2,M.y);return za(za({},M),{},{x:k(j),y:T(j)})}return za(za({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(S,n,a)}var C=An(0,b),E=C(j),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});P=o.getStrokeDasharray(E,b,A)}else P=o.generateSimpleStrokeDasharray(b,E);return o.renderCurveStatically(l,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!uu(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(o||!l||!l.length)return null;var w=this.state.isAnimationFinished,y=l.length===1,b=Dt("recharts-line",c),_=u&&u.allowDataOverflow,j=f&&f.allowDataOverflow,N=_||j,S=Pt(v)?this.id:v,C=(n=mt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=C.r,P=E===void 0?3:E,A=C.strokeWidth,M=A===void 0?2:A,O=vz(i)?i:{},R=O.clipDot,L=R===void 0?!0:R,D=P*2+M;return z.createElement(Wt,{className:b},_||j?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:_?h:h-m/2,y:j?d:d-g/2,width:_?m:m*2,height:j?g:g*2})),!L&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:h-D/2,y:d-D/2,width:m+D,height:g+D}))):null,!y&&this.renderCurve(N,S),this.renderErrorBar(N,S),(y||i)&&this.renderDots(N,L,S),(!p||w)&&Wo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(qu(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(qu(i),qu(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(z.isValidElement(n))o=z.cloneElement(n,a);else if(jt(n))o=n(a);else{var i=a.key,l=G$(a,$Me),c=Dt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=z.createElement(Mg,bm({key:i},l,{className:c}))}return o}}])}(x.PureComponent);no(ss,"displayName","Line");no(ss,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});no(ss,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,m){var g=on(h,i);return f==="horizontal"?{x:Tx({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Pt(g)?null:n.scale(g),value:g,payload:h}:{x:Pt(g)?null:r.scale(g),y:Tx({axis:n,ticks:o,bandSize:l,entry:h,index:m}),value:g,payload:h}});return za({points:d,layout:f},u)});var KMe=["layout","type","stroke","connectNulls","isRange","ref"],YMe=["key"],kq;function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function Tq(e,t){if(e==null)return{};var r=XMe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}function X$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(r),!0).forEach(function(n){Fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rq(n.key),n)}}function ZMe(e,t,r){return t&&Q$(e.prototype,t),r&&Q$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JMe(e,t,r){return t=r0(t),eRe(e,Mq()?Reflect.construct(t,r||[],r0(e).constructor):t.apply(e,r))}function eRe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tRe(e)}function tRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function r0(e){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r0(e)}function rRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NS(e,t)}function NS(e,t){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NS(e,t)}function Fo(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=nRe(e,"string");return Pf(t)=="symbol"?t:t+""}function nRe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rc=function(e){function t(){var r;QMe(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=JMe(this,t,[].concat(a)),Fo(r,"state",{isAnimationFinished:!0}),Fo(r,"id",Nu("recharts-area-")),Fo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),jt(i)&&i()}),Fo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),jt(i)&&i()}),r}return rRe(t,e),ZMe(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var c=this.props,u=c.dot,f=c.points,d=c.dataKey,h=mt(this.props,!1),m=mt(u,!0),g=f.map(function(v,w){var y=Hi(Hi(Hi({key:"dot-".concat(w),r:3},h),m),{},{index:w,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:f});return t.renderDotItem(u,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return z.createElement(Wt,Tc({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,c=i[0].x,u=i[i.length-1].x,f=n*Math.abs(c-u),d=pl(i.map(function(h){return h.y||0}));return Ce(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(pl(o.map(function(h){return h.y||0})),d)),Ce(d)?z.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,c=i[0].y,u=i[i.length-1].y,f=n*Math.abs(c-u),d=pl(i.map(function(h){return h.x||0}));return Ce(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(pl(o.map(function(h){return h.x||0})),d)),Ce(d)?z.createElement("rect",{x:0,y:c<u?c:c-f,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var l=this.props,c=l.layout,u=l.type,f=l.stroke,d=l.connectNulls,h=l.isRange;l.ref;var m=Tq(l,KMe);return z.createElement(Wt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},z.createElement(Gc,Tc({},mt(m,!0),{points:n,connectNulls:d,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&z.createElement(Gc,Tc({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&z.createElement(Gc,Tc({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return z.createElement(xo,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var y=w.t;if(p){var b=p.length/l.length,_=l.map(function(C,E){var P=Math.floor(E*b);if(p[P]){var A=p[P],M=An(A.x,C.x),O=An(A.y,C.y);return Hi(Hi({},C),{},{x:M(y),y:O(y)})}return C}),j;if(Ce(c)&&typeof c=="number"){var N=An(v,c);j=N(y)}else if(Pt(c)||sh(c)){var S=An(v,0);j=S(y)}else j=c.map(function(C,E){var P=Math.floor(E*b);if(v[P]){var A=v[P],M=An(A.x,C.x),O=An(A.y,C.y);return Hi(Hi({},C),{},{x:M(y),y:O(y)})}return C});return o.renderAreaStatically(_,j,n,a)}return z.createElement(Wt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(y))),z.createElement(Wt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,l=o.baseLine,c=o.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return c&&i&&i.length&&(!f&&h>0||!uu(f,i)||!uu(d,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,l,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,d=a.xAxis,h=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(o||!l||!l.length)return null;var w=this.state.isAnimationFinished,y=l.length===1,b=Dt("recharts-area",c),_=d&&d.allowDataOverflow,j=h&&h.allowDataOverflow,N=_||j,S=Pt(v)?this.id:v,C=(n=mt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=C.r,P=E===void 0?3:E,A=C.strokeWidth,M=A===void 0?2:A,O=vz(i)?i:{},R=O.clipDot,L=R===void 0?!0:R,D=P*2+M;return z.createElement(Wt,{className:b},_||j?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:_?f:f-m/2,y:j?u:u-g/2,width:_?m:m*2,height:j?g:g*2})),!L&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:f-D/2,y:u-D/2,width:m+D,height:g+D}))):null,y?null:this.renderArea(N,S),(i||y)&&this.renderDots(N,L,S),(!p||w)&&Wo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);kq=rc;Fo(rc,"displayName","Area");Fo(rc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fo(rc,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,l=i??o;if(Ce(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return l==="dataMin"?d:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Fo(rc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=kq.getBaseValue(t,r,n,a),v=m==="horizontal",w=!1,y=d.map(function(_,j){var N;g?N=u[f+j]:(N=on(_,c),Array.isArray(N)?w=!0:N=[p,N]);var S=N[1]==null||g&&on(_,c)==null;return v?{x:Tx({axis:n,ticks:o,bandSize:l,entry:_,index:j}),y:S?null:a.scale(N[1]),value:N,payload:_}:{x:S?null:n.scale(N[1]),y:Tx({axis:a,ticks:i,bandSize:l,entry:_,index:j}),value:N,payload:_}}),b;return g||w?b=y.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:j!=null&&_.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):b=v?a.scale(p):n.scale(p),Hi({points:y,baseLine:b,layout:m,isRange:w},h)});Fo(rc,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(jt(e))r=e(t);else{var n=Dt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=Tq(t,YMe);r=z.createElement(Mg,Tc({},o,{key:a,className:n}))}return r});function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function aRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function oRe(e,t,r){return t&&sRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iRe(e,t,r){return t=n0(t),lRe(e,$q()?Reflect.construct(t,r||[],n0(e).constructor):t.apply(e,r))}function lRe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cRe(e)}function cRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!e})()}function n0(e){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n0(e)}function uRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SS(e,t)}function Dq(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=dRe(e,"string");return kf(t)=="symbol"?t:t+""}function dRe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CS.apply(this,arguments)}function fRe(e){var t=e.xAxisId,r=g2(),n=v2(),a=vq(t);return a==null?null:x.createElement(fh,CS({},a,{className:Dt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return gi(i,!0)}}))}var pa=function(e){function t(){return aRe(this,t),iRe(this,t,arguments)}return uRe(t,e),oRe(t,[{key:"render",value:function(){return x.createElement(fRe,this.props)}}])}(x.Component);Dq(pa,"displayName","XAxis");Dq(pa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bq(n.key),n)}}function pRe(e,t,r){return t&&mRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gRe(e,t,r){return t=a0(t),vRe(e,Lq()?Reflect.construct(t,r||[],a0(e).constructor):t.apply(e,r))}function vRe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yRe(e)}function yRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!e})()}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a0(e)}function xRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}function ES(e,t){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ES(e,t)}function Fq(e,t,r){return t=Bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=bRe(e,"string");return Tf(t)=="symbol"?t:t+""}function bRe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}var wRe=function(t){var r=t.yAxisId,n=g2(),a=v2(),o=yq(r);return o==null?null:x.createElement(fh,OS({},o,{className:Dt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return gi(l,!0)}}))},ga=function(e){function t(){return hRe(this,t),gRe(this,t,arguments)}return xRe(t,e),pRe(t,[{key:"render",value:function(){return x.createElement(wRe,this.props)}}])}(x.Component);Fq(ga,"displayName","YAxis");Fq(ga,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z$(e){return SRe(e)||NRe(e)||_Re(e)||jRe()}function jRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Re(e,t){if(e){if(typeof e=="string")return AS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(e,t)}}function NRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SRe(e){if(Array.isArray(e))return AS(e)}function AS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PS=function(t,r,n,a,o){var i=ns(t,x2),l=ns(t,ow),c=[].concat(Z$(i),Z$(l)),u=ns(t,lw),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[f]===n&&Ho(v.props,"extendDomain")&&Ce(v.props[d])){var w=v.props[d];return[Math.min(p[0],w),Math.max(p[1],w)]}return p},h)),u.length){var m="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(p,v){if(v.props[f]===n&&Ho(v.props,"extendDomain")&&Ce(v.props[m])&&Ce(v.props[g])){var w=v.props[m],y=v.props[g];return[Math.min(p[0],w,y),Math.max(p[1],w,y)]}return p},h)}return o&&o.length&&(h=o.reduce(function(p,v){return Ce(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},zq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,g=new Array(m);h<m;h++)g[h]=d[h].fn;return g},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],w=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,m),!0;case 6:return v.fn.call(v.context,f,d,h,m,g),!0}for(b=1,y=new Array(w-1);b<w;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var _=v.length,j;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),w){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,f);break;case 3:v[b].fn.call(v[b].context,f,d);break;case 4:v[b].fn.call(v[b].context,f,d,h);break;default:if(!y)for(j=1,y=new Array(w-1);j<w;j++)y[j-1]=arguments[j];v[b].fn.apply(v[b].context,y)}}return!0},l.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return i(this,m),this;var g=this._events[m];if(g.fn)g.fn===f&&(!h||g.once)&&(!d||g.context===d)&&i(this,m);else{for(var p=0,v=[],w=g.length;p<w;p++)(g[p].fn!==f||h&&!g[p].once||d&&g[p].context!==d)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(zq);var CRe=zq.exports;const ERe=or(CRe);var Gj=new ERe,Kj="recharts.syncMouseEvents";function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function ORe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ARe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function PRe(e,t,r){return t&&ARe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yj(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=kRe(e,"string");return Ip(t)=="symbol"?t:t+""}function kRe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TRe=function(){function e(){ORe(this,e),Yj(this,"activeIndex",0),Yj(this,"coordinateList",[]),Yj(this,"layout","horizontal")}return PRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+c+u,h=i+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function MRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ce(n)&&Ce(a))return!0}return!1}function RRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Vq(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Sr(t,r,n,a),l=Sr(t,r,n,o);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function $Re(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Sr(l,c,u,d),m=Sr(l,c,f,d);n=h.x,a=h.y,o=m.x,i=m.y}else return Vq(t);return[{x:n,y:a},{x:o,y:i}]}function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function J$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(r),!0).forEach(function(n){DRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DRe(e,t,r){return t=IRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IRe(e){var t=LRe(e,"string");return Lp(t)=="symbol"?t:t+""}function LRe(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FRe(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Gc;if(h==="ScatterChart")g=i,p=G2e;else if(h==="BarChart")g=RRe(d,i,c,f),p=d2;else if(d==="radial"){var v=Vq(i),w=v.cx,y=v.cy,b=v.radius,_=v.startAngle,j=v.endAngle;g={cx:w,cy:y,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},p=DV}else g={points:$Re(d,i,c)},p=Gc;var N=Lv(Lv(Lv(Lv({stroke:"#ccc",pointerEvents:"none"},c),g),mt(m,!1)),{},{payload:l,payloadIndex:u,className:Dt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(p,N)}var BRe=["item"],zRe=["children","className","width","height","style","compact","title","desc"];function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function eD(e,t){return qRe(e)||VRe(e,t)||Wq(e,t)||URe()}function URe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function qRe(e){if(Array.isArray(e))return e}function tD(e,t){if(e==null)return{};var r=WRe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function KRe(e,t,r){return t&&GRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YRe(e,t,r){return t=s0(t),XRe(e,qq()?Reflect.construct(t,r||[],s0(e).constructor):t.apply(e,r))}function XRe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QRe(e)}function QRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function s0(e){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s0(e)}function ZRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kS(e,t)}function Rf(e){return t$e(e)||e$e(e)||Wq(e)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function e$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t$e(e){if(Array.isArray(e))return TS(e)}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=r$e(e,"string");return Mf(t)=="symbol"?t:t+""}function r$e(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n$e={xAxis:["bottom","top"],yAxis:["left","right"]},a$e={width:"100%",height:"100%"},Gq={x:0,y:0};function Fv(e){return e}var s$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},o$e=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,l=a.radius;return fe(fe(fe({},a),Sr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=o.coordinate,u=a.angle;return fe(fe(fe({},a),Sr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Gq},cw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Rf(l),Rf(u)):l},[]);return i.length>0?i:t&&t.length&&Ce(a)&&Ce(o)?t.slice(a,o+1):[]};function Kq(e){return e==="number"?[0,"auto"]:void 0}var MS=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,l=cw(r,t);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=d===void 0?l:d;h=ax(m,i.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Rf(c),[PV(u,h)]):c},[])},nD=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=s$e(o,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=gCe(i,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=MS(t,r,f,d),m=o$e(n,l,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},i$e=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,m=NV(f,o);return n.reduce(function(g,p){var v,w=p.type.defaultProps!==void 0?fe(fe({},p.type.defaultProps),p.props):p.props,y=w.type,b=w.dataKey,_=w.allowDataOverflow,j=w.allowDuplicatedCategory,N=w.scale,S=w.ticks,C=w.includeHidden,E=w[i];if(g[E])return g;var P=cw(t.data,{graphicalItems:a.filter(function(F){var X,ce=i in F.props?F.props[i]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[i];return ce===E}),dataStartIndex:c,dataEndIndex:u}),A=P.length,M,O,R;MRe(w.domain,_,y)&&(M=HN(w.domain,null,_),m&&(y==="number"||N!=="auto")&&(R=gm(P,b,"category")));var L=Kq(y);if(!M||M.length===0){var D,B=(D=w.domain)!==null&&D!==void 0?D:L;if(b){if(M=gm(P,b,y),y==="category"&&m){var k=ohe(M);j&&k?(O=M,M=Wx(0,A)):j||(M=_R(B,M,p).reduce(function(F,X){return F.indexOf(X)>=0?F:[].concat(Rf(F),[X])},[]))}else if(y==="category")j?M=M.filter(function(F){return F!==""&&!Pt(F)}):M=_R(B,M,p).reduce(function(F,X){return F.indexOf(X)>=0||X===""||Pt(X)?F:[].concat(Rf(F),[X])},[]);else if(y==="number"){var T=wCe(P,a.filter(function(F){var X,ce,pe=i in F.props?F.props[i]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[i],ge="hide"in F.props?F.props.hide:(ce=F.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return pe===E&&(C||!ge)}),b,o,f);T&&(M=T)}m&&(y==="number"||N!=="auto")&&(R=gm(P,b,"category"))}else m?M=Wx(0,A):l&&l[E]&&l[E].hasStack&&y==="number"?M=h==="expand"?[0,1]:AV(l[E].stackGroups,c,u):M=_V(P,a.filter(function(F){var X=i in F.props?F.props[i]:F.type.defaultProps[i],ce="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return X===E&&(C||!ce)}),y,f,!0);if(y==="number")M=PS(d,M,E,o,S),B&&(M=HN(B,M,_));else if(y==="category"&&B){var q=B,Q=M.every(function(F){return q.indexOf(F)>=0});Q&&(M=q)}}return fe(fe({},g),{},wt({},E,fe(fe({},w),{},{axisType:o,domain:M,categoricalDomain:R,duplicateDomain:O,originalDomain:(v=w.domain)!==null&&v!==void 0?v:L,isCategorical:m,layout:f})))},{})},l$e=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=cw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=NV(f,o),p=-1;return n.reduce(function(v,w){var y=w.type.defaultProps!==void 0?fe(fe({},w.type.defaultProps),w.props):w.props,b=y[i],_=Kq("number");if(!v[b]){p++;var j;return g?j=Wx(0,m):l&&l[b]&&l[b].hasStack?(j=AV(l[b].stackGroups,c,u),j=PS(d,j,b,o)):(j=HN(_,_V(h,n.filter(function(N){var S,C,E=i in N.props?N.props[i]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[i],P="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===b&&!P}),"number",f),a.defaultProps.allowDataOverflow),j=PS(d,j,b,o)),fe(fe({},v),{},wt({},b,fe(fe({axisType:o},a.defaultProps),{},{hide:!0,orientation:rs(n$e,"".concat(o,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:f})))}return v},{})},c$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=ns(f,o),m={};return h&&h.length?m=i$e(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=l$e(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},u$e=function(t){var r=tl(t),n=gi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:LO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Mx(r,n)}},aD=function(t){var r=t.children,n=t.defaultShowTooltip,a=qa(r,_f),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},d$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=yi(r&&r.type);return n&&n.indexOf("Bar")>=0})},sD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},f$e=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},m=qa(d,_f),g=qa(d,as),p=Object.keys(c).reduce(function(j,N){var S=c[N],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},j),{},wt({},C,j[C]+S.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(j,N){var S=i[N],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},j),{},wt({},C,rs(j,"".concat(C))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),w=fe(fe({},v),p),y=w.bottom;m&&(w.bottom+=m.props.height||_f.defaultProps.height),g&&r&&(w=xCe(w,a,n,r));var b=u-w.left-w.right,_=f-w.top-w.bottom;return fe(fe({brushBottom:y},w),{},{width:Math.max(b,0),height:Math.max(_,0)})},h$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},uw=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(w,y){var b=y.graphicalItems,_=y.stackGroups,j=y.offset,N=y.updateId,S=y.dataStartIndex,C=y.dataEndIndex,E=w.barSize,P=w.layout,A=w.barGap,M=w.barCategoryGap,O=w.maxBarSize,R=sD(P),L=R.numericAxisName,D=R.cateAxisName,B=d$e(b),k=[];return b.forEach(function(T,q){var Q=cw(w.data,{graphicalItems:[T],dataStartIndex:S,dataEndIndex:C}),F=T.type.defaultProps!==void 0?fe(fe({},T.type.defaultProps),T.props):T.props,X=F.dataKey,ce=F.maxBarSize,pe=F["".concat(L,"Id")],ge=F["".concat(D,"Id")],he={},qe=c.reduce(function($,V){var oe=y["".concat(V.axisType,"Map")],se=F["".concat(V.axisType,"Id")];oe&&oe[se]||V.axisType==="zAxis"||fu();var le=oe[se];return fe(fe({},$),{},wt(wt({},V.axisType,le),"".concat(V.axisType,"Ticks"),gi(le)))},he),ie=qe[D],ye=qe["".concat(D,"Ticks")],ve=_&&_[pe]&&_[pe].hasStack&&PCe(T,_[pe].stackGroups),ne=yi(T.type).indexOf("Bar")>=0,gt=Mx(ie,ye),at=[],je=B&&vCe({barSize:E,stackGroups:_,totalSize:h$e(qe,D)});if(ne){var yt,Ut,gr=Pt(ce)?O:ce,Ne=(yt=(Ut=Mx(ie,ye,!0))!==null&&Ut!==void 0?Ut:gr)!==null&&yt!==void 0?yt:0;at=yCe({barGap:A,barCategoryGap:M,bandSize:Ne!==gt?Ne:gt,sizeList:je[ge],maxBarSize:gr}),Ne!==gt&&(at=at.map(function($){return fe(fe({},$),{},{position:fe(fe({},$.position),{},{offset:$.position.offset-Ne/2})})}))}var U=T&&T.type&&T.type.getComposedData;U&&k.push({props:fe(fe({},U(fe(fe({},qe),{},{displayedData:Q,props:w,dataKey:X,item:T,bandSize:gt,barPosition:at,offset:j,stackedData:ve,layout:P,dataStartIndex:S,dataEndIndex:C}))),{},wt(wt(wt({key:T.key||"item-".concat(q)},L,qe[L]),D,qe[D]),"animationId",N)),childIndex:yhe(T,w.children),item:T})}),k},m=function(w,y){var b=w.props,_=w.dataStartIndex,j=w.dataEndIndex,N=w.updateId;if(!vT({props:b}))return null;var S=b.children,C=b.layout,E=b.stackOffset,P=b.data,A=b.reverseStackOrder,M=sD(C),O=M.numericAxisName,R=M.cateAxisName,L=ns(S,n),D=OCe(P,L,"".concat(O,"Id"),"".concat(R,"Id"),E,A),B=c.reduce(function(F,X){var ce="".concat(X.axisType,"Map");return fe(fe({},F),{},wt({},ce,c$e(b,fe(fe({},X),{},{graphicalItems:L,stackGroups:X.axisType===O&&D,dataStartIndex:_,dataEndIndex:j}))))},{}),k=f$e(fe(fe({},B),{},{props:b,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(B).forEach(function(F){B[F]=f(b,B[F],k,F.replace("Map",""),r)});var T=B["".concat(R,"Map")],q=u$e(T),Q=h(b,fe(fe({},B),{},{dataStartIndex:_,dataEndIndex:j,updateId:N,graphicalItems:L,stackGroups:D,offset:k}));return fe(fe({formattedGraphicalItems:Q,graphicalItems:L,offset:k,stackGroups:D},q),B)},g=function(v){function w(y){var b,_,j;return HRe(this,w),j=YRe(this,w,[y]),wt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(j,"accessibilityManager",new TRe),wt(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,C=S.dataStartIndex,E=S.dataEndIndex,P=S.updateId;j.setState(fe({legendBBox:N},m({props:j.props,dataStartIndex:C,dataEndIndex:E,updateId:P},fe(fe({},j.state),{},{legendBBox:N}))))}}),wt(j,"handleReceiveSyncEvent",function(N,S,C){if(j.props.syncId===N){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),wt(j,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return fe({dataStartIndex:S,dataEndIndex:C},m({props:j.props,dataStartIndex:S,dataEndIndex:C,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),wt(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseEnter;jt(E)&&E(C,N)}}),wt(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),C=S?fe(fe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseMove;jt(E)&&E(C,N)}),wt(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),wt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),wt(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),wt(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseLeave;jt(C)&&C(S,N)}),wt(j,"handleOuterEvent",function(N){var S=vhe(N),C=rs(j.props,"".concat(S));if(S&&jt(C)){var E,P;/.*touch.*/i.test(S)?P=j.getMouseInfo(N.changedTouches[0]):P=j.getMouseInfo(N),C((E=P)!==null&&E!==void 0?E:{},N)}}),wt(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var E=j.props.onClick;jt(E)&&E(C,N)}}),wt(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(jt(S)){var C=j.getMouseInfo(N);S(C,N)}}),wt(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(jt(S)){var C=j.getMouseInfo(N);S(C,N)}}),wt(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),wt(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),wt(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),wt(j,"handleDoubleClick",function(N){var S=j.props.onDoubleClick;if(jt(S)){var C=j.getMouseInfo(N);S(C,N)}}),wt(j,"handleContextMenu",function(N){var S=j.props.onContextMenu;if(jt(S)){var C=j.getMouseInfo(N);S(C,N)}}),wt(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Gj.emit(Kj,j.props.syncId,N,j.eventEmitterSymbol)}),wt(j,"applySyncEvent",function(N){var S=j.props,C=S.layout,E=S.syncMethod,P=j.state.updateId,A=N.dataStartIndex,M=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(fe({dataStartIndex:A,dataEndIndex:M},m({props:j.props,dataStartIndex:A,dataEndIndex:M,updateId:P},j.state)));else if(N.activeTooltipIndex!==void 0){var O=N.chartX,R=N.chartY,L=N.activeTooltipIndex,D=j.state,B=D.offset,k=D.tooltipTicks;if(!B)return;if(typeof E=="function")L=E(k,N);else if(E==="value"){L=-1;for(var T=0;T<k.length;T++)if(k[T].value===N.activeLabel){L=T;break}}var q=fe(fe({},B),{},{x:B.left,y:B.top}),Q=Math.min(O,q.x+q.width),F=Math.min(R,q.y+q.height),X=k[L]&&k[L].value,ce=MS(j.state,j.props.data,L),pe=k[L]?{x:C==="horizontal"?k[L].coordinate:Q,y:C==="horizontal"?F:k[L].coordinate}:Gq;j.setState(fe(fe({},N),{},{activeLabel:X,activeCoordinate:pe,activePayload:ce,activeTooltipIndex:L}))}else j.setState(N)}),wt(j,"renderCursor",function(N){var S,C=j.state,E=C.isTooltipActive,P=C.activeCoordinate,A=C.activePayload,M=C.offset,O=C.activeTooltipIndex,R=C.tooltipAxisBandSize,L=j.getTooltipEventType(),D=(S=N.props.active)!==null&&S!==void 0?S:E,B=j.props.layout,k=N.key||"_recharts-cursor";return z.createElement(FRe,{key:k,activeCoordinate:P,activePayload:A,activeTooltipIndex:O,chartName:r,element:N,isActive:D,layout:B,offset:M,tooltipAxisBandSize:R,tooltipEventType:L})}),wt(j,"renderPolarAxis",function(N,S,C){var E=rs(N,"type.axisType"),P=rs(j.state,"".concat(E,"Map")),A=N.type.defaultProps,M=A!==void 0?fe(fe({},A),N.props):N.props,O=P&&P[M["".concat(E,"Id")]];return x.cloneElement(N,fe(fe({},O),{},{className:Dt(E,O.className),key:N.key||"".concat(S,"-").concat(C),ticks:gi(O,!0)}))}),wt(j,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,E=S.polarAngles,P=S.polarRadius,A=j.state,M=A.radiusAxisMap,O=A.angleAxisMap,R=tl(M),L=tl(O),D=L.cx,B=L.cy,k=L.innerRadius,T=L.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(E)?E:gi(L,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(P)?P:gi(R,!0).map(function(q){return q.coordinate}),cx:D,cy:B,innerRadius:k,outerRadius:T,key:N.key||"polar-grid",radialLines:C})}),wt(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,C=S.children,E=S.width,P=S.height,A=j.props.margin||{},M=E-(A.left||0)-(A.right||0),O=wV({children:C,formattedGraphicalItems:N,legendWidth:M,legendContent:u});if(!O)return null;var R=O.item,L=tD(O,BRe);return x.cloneElement(R,fe(fe({},L),{},{chartWidth:E,chartHeight:P,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),wt(j,"renderTooltip",function(){var N,S=j.props,C=S.children,E=S.accessibilityLayer,P=qa(C,Lr);if(!P)return null;var A=j.state,M=A.isTooltipActive,O=A.activeCoordinate,R=A.activePayload,L=A.activeLabel,D=A.offset,B=(N=P.props.active)!==null&&N!==void 0?N:M;return x.cloneElement(P,{viewBox:fe(fe({},D),{},{x:D.left,y:D.top}),active:B,label:L,payload:B?R:[],coordinate:O,accessibilityLayer:E})}),wt(j,"renderBrush",function(N){var S=j.props,C=S.margin,E=S.data,P=j.state,A=P.offset,M=P.dataStartIndex,O=P.dataEndIndex,R=P.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Rv(j.handleBrushChange,N.props.onChange),data:E,x:Ce(N.props.x)?N.props.x:A.left,y:Ce(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:Ce(N.props.width)?N.props.width:A.width,startIndex:M,endIndex:O,updateId:"brush-".concat(R)})}),wt(j,"renderReferenceElement",function(N,S,C){if(!N)return null;var E=j,P=E.clipPathId,A=j.state,M=A.xAxisMap,O=A.yAxisMap,R=A.offset,L=N.type.defaultProps||{},D=N.props,B=D.xAxisId,k=B===void 0?L.xAxisId:B,T=D.yAxisId,q=T===void 0?L.yAxisId:T;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:M[k],yAxis:O[q],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:P})}),wt(j,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,E=N.basePoint,P=N.childIndex,A=N.isRange,M=[],O=S.props.key,R=S.item.type.defaultProps!==void 0?fe(fe({},S.item.type.defaultProps),S.item.props):S.item.props,L=R.activeDot,D=R.dataKey,B=fe(fe({index:P,dataKey:D,cx:C.x,cy:C.y,r:4,fill:u2(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},mt(L,!1)),sx(L));return M.push(w.renderActiveDot(L,B,"".concat(O,"-activePoint-").concat(P))),E?M.push(w.renderActiveDot(L,fe(fe({},B),{},{cx:E.x,cy:E.y}),"".concat(O,"-basePoint-").concat(P))):A&&M.push(null),M}),wt(j,"renderGraphicChild",function(N,S,C){var E=j.filterFormatItem(N,S,C);if(!E)return null;var P=j.getTooltipEventType(),A=j.state,M=A.isTooltipActive,O=A.tooltipAxis,R=A.activeTooltipIndex,L=A.activeLabel,D=j.props.children,B=qa(D,Lr),k=E.props,T=k.points,q=k.isRange,Q=k.baseLine,F=E.item.type.defaultProps!==void 0?fe(fe({},E.item.type.defaultProps),E.item.props):E.item.props,X=F.activeDot,ce=F.hide,pe=F.activeBar,ge=F.activeShape,he=!!(!ce&&M&&B&&(X||pe||ge)),qe={};P!=="axis"&&B&&B.props.trigger==="click"?qe={onClick:Rv(j.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(qe={onMouseLeave:Rv(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Rv(j.handleItemMouseEnter,N.props.onMouseEnter)});var ie=x.cloneElement(N,fe(fe({},E.props),qe));function ye(V){return typeof O.dataKey=="function"?O.dataKey(V.payload):null}if(he)if(R>=0){var ve,ne;if(O.dataKey&&!O.allowDuplicatedCategory){var gt=typeof O.dataKey=="function"?ye:"payload.".concat(O.dataKey.toString());ve=ax(T,gt,L),ne=q&&Q&&ax(Q,gt,L)}else ve=T==null?void 0:T[R],ne=q&&Q&&Q[R];if(ge||pe){var at=N.props.activeIndex!==void 0?N.props.activeIndex:R;return[x.cloneElement(N,fe(fe(fe({},E.props),qe),{},{activeIndex:at})),null,null]}if(!Pt(ve))return[ie].concat(Rf(j.renderActivePoints({item:E,activePoint:ve,basePoint:ne,childIndex:R,isRange:q})))}else{var je,yt=(je=j.getItemByXY(j.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:ie},Ut=yt.graphicalItem,gr=Ut.item,Ne=gr===void 0?N:gr,U=Ut.childIndex,$=fe(fe(fe({},E.props),qe),{},{activeIndex:U});return[x.cloneElement(Ne,$),null,null]}return q?[ie,null,null]:[ie,null]}),wt(j,"renderCustomized",function(N,S,C){return x.cloneElement(N,fe(fe({key:"recharts-customized-".concat(C)},j.props),j.state))}),wt(j,"renderMap",{CartesianGrid:{handler:Fv,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Fv},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Fv},YAxis:{handler:Fv},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Nu("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=bU(j.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return ZRe(w,v),KRe(w,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,N=b.height,S=b.layout,C=qa(_,Lr);if(C){var E=C.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,A=MS(this.state,j,E,P),M=this.state.tooltipTicks[E].coordinate,O=(this.state.offset.top+N)/2,R=S==="horizontal",L=R?{x:M,y:O}:{y:M,x:O},D=this.state.formattedGraphicalItems.find(function(k){var T=k.item;return T.type.name==="Scatter"});D&&(L=fe(fe({},L),D.props.points[E].tooltipPosition),A=D.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:L};this.setState(B),this.renderCursor(C),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){iN([qa(b.children,Lr)],[qa(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=qa(this.props.children,Lr);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),N=qje(j),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=j.width/_.offsetWidth||1,E=this.inRange(S.chartX,S.chartY,C);if(!E)return null;var P=this.state,A=P.xAxisMap,M=P.yAxisMap,O=this.getTooltipEventType(),R=nD(this.state,this.props.data,this.props.layout,E);if(O!=="axis"&&A&&M){var L=tl(A).scale,D=tl(M).scale,B=L&&L.invert?L.invert(S.chartX):null,k=D&&D.invert?D.invert(S.chartY):null;return fe(fe({},S),{},{xValue:B,yValue:k},R)}return R?fe(fe({},S),R):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/j,C=_/j;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,P=S>=E.left&&S<=E.left+E.width&&C>=E.top&&C<=E.top+E.height;return P?{x:S,y:C}:null}var A=this.state,M=A.angleAxisMap,O=A.radiusAxisMap;if(M&&O){var R=tl(M);return CR({x:S,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=qa(b,Lr),N={};j&&_==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=sx(this.props,this.handleOuterEvent);return fe(fe({},S),N)}},{key:"addListener",value:function(){Gj.on(Kj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gj.removeListener(Kj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var E=N[S];if(E.item===b||E.props.key===b.key||_===yi(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,N=_.top,S=_.height,C=_.width;return z.createElement("defs",null,z.createElement("clipPath",{id:b},z.createElement("rect",{x:j,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var N=eD(j,2),S=N[0],C=N[1];return fe(fe({},_),{},wt({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var N=eD(j,2),S=N[0],C=N[1];return fe(fe({},_),{},wt({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,N=_.activeItem;if(j&&j.length)for(var S=0,C=j.length;S<C;S++){var E=j[S],P=E.props,A=E.item,M=A.type.defaultProps!==void 0?fe(fe({},A.type.defaultProps),A.props):A.props,O=yi(A.type);if(O==="Bar"){var R=(P.data||[]).find(function(k){return E2e(b,k)});if(R)return{graphicalItem:E,payload:R}}else if(O==="RadialBar"){var L=(P.data||[]).find(function(k){return CR(b,k)});if(L)return{graphicalItem:E,payload:L}}else if(rw(E,N)||nw(E,N)||Tp(E,N)){var D=pPe({graphicalItem:E,activeTooltipItem:N,itemData:M.data}),B=M.activeIndex===void 0?D:M.activeIndex;return{graphicalItem:fe(fe({},E),{},{childIndex:B}),payload:Tp(E,N)?M.data[D]:E.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!vT(this))return null;var _=this.props,j=_.children,N=_.className,S=_.width,C=_.height,E=_.style,P=_.compact,A=_.title,M=_.desc,O=tD(_,zRe),R=mt(O,!1);if(P)return z.createElement(R$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(cN,md({},R,{width:S,height:C,title:A,desc:M}),this.renderClipPath(),xT(j,this.renderMap)));if(this.props.accessibilityLayer){var L,D;R.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,R.role=(D=this.props.role)!==null&&D!==void 0?D:"application",R.onKeyDown=function(k){b.accessibilityManager.keyboardEvent(k)},R.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return z.createElement(R$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",md({className:Dt("recharts-wrapper",N),style:fe({position:"relative",cursor:"default",width:S,height:C},E)},B,{ref:function(T){b.container=T}}),z.createElement(cN,md({},R,{width:S,height:C,title:A,desc:M,style:a$e}),this.renderClipPath(),xT(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);wt(g,"displayName",r),wt(g,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),wt(g,"getDerivedStateFromProps",function(v,w){var y=v.dataKey,b=v.data,_=v.children,j=v.width,N=v.height,S=v.layout,C=v.stackOffset,E=v.margin,P=w.dataStartIndex,A=w.dataEndIndex;if(w.updateId===void 0){var M=aD(v);return fe(fe(fe({},M),{},{updateId:0},m(fe(fe({props:v},M),{},{updateId:0}),w)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:E,prevChildren:_})}if(y!==w.prevDataKey||b!==w.prevData||j!==w.prevWidth||N!==w.prevHeight||S!==w.prevLayout||C!==w.prevStackOffset||!Pd(E,w.prevMargin)){var O=aD(v),R={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},L=fe(fe({},nD(w,b,S)),{},{updateId:w.updateId+1}),D=fe(fe(fe({},O),R),L);return fe(fe(fe({},D),m(fe({props:v},D),w)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:E,prevChildren:_})}if(!iN(_,w.prevChildren)){var B,k,T,q,Q=qa(_,_f),F=Q&&(B=(k=Q.props)===null||k===void 0?void 0:k.startIndex)!==null&&B!==void 0?B:P,X=Q&&(T=(q=Q.props)===null||q===void 0?void 0:q.endIndex)!==null&&T!==void 0?T:A,ce=F!==P||X!==A,pe=!Pt(b),ge=pe&&!ce?w.updateId:w.updateId+1;return fe(fe({updateId:ge},m(fe(fe({props:v},w),{},{updateId:ge,dataStartIndex:F,dataEndIndex:X}),w)),{},{prevChildren:_,dataStartIndex:F,dataEndIndex:X})}return null}),wt(g,"renderActiveDot",function(v,w,y){var b;return x.isValidElement(v)?b=x.cloneElement(v,w):jt(v)?b=v(w):b=z.createElement(Mg,w),z.createElement(Wt,{className:"recharts-active-dot",key:y},b)});var p=x.forwardRef(function(w,y){return z.createElement(g,md({},w,{ref:y}))});return p.displayName=g.displayName,p},dw=uw({chartName:"LineChart",GraphicalChild:ss,axisComponents:[{axisType:"xAxis",AxisComp:pa},{axisType:"yAxis",AxisComp:ga}],formatAxisMap:f2}),Fp=uw({chartName:"BarChart",GraphicalChild:Fs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pa},{axisType:"yAxis",AxisComp:ga}],formatAxisMap:f2}),Rg=uw({chartName:"PieChart",GraphicalChild:fs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tw},{axisType:"radiusAxis",AxisComp:Jb}],formatAxisMap:BCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),m$e=uw({chartName:"AreaChart",GraphicalChild:rc,axisComponents:[{axisType:"xAxis",AxisComp:pa},{axisType:"yAxis",AxisComp:ga}],formatAxisMap:f2});function p$e({projetos:e}){const{primaryColor:t,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const h=document.documentElement,g=getComputedStyle(h).getPropertyValue("--projects").trim()||getComputedStyle(h).getPropertyValue("--primary").trim(),p=g?`hsl(${g})`:"hsl(220 90% 50%)",v=g?`hsl(${g} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:p,primaryFade:v}},[]),n=x.useMemo(()=>{const m=t.replace(/hsl\(|\)/g,"").split(/\s+/),g=Number(m[0]),p=Number((m[1]||"0").replace("%","")),v=Number((m[2]||"0").replace("%",""));return{h:g,s:p,l:v}},[t]),a=(h,m,g,p)=>p!=null?`hsl(${h} ${m}% ${g}% / ${p})`:`hsl(${h} ${m}% ${g}%)`,o=h=>{const m=[],{h:g,s:p}=n,v=[30,40,50,60,70];for(let w=0;w<Math.max(h,1);w++){const y=v[w%v.length];m.push({solid:a(g,p,y),fade:a(g,p,y,.8)})}return m},i=e.reduce((h,m)=>(h[m.status]=(h[m.status]||0)+1,h),{}),l=[{name:"Planejamento",value:i.planejamento||0,color:"#3b82f6"},{name:"Em Andamento",value:i["em-andamento"]||0,color:"#8b5cf6"},{name:"Concludo",value:i.concluido||0,color:"#10b981"},{name:"Cancelado",value:i.cancelado||0,color:"#ef4444"}],u=Sg({start:Ga(new Date,5),end:new Date}).map(h=>{const m=Gr(h),g=ka(h),p=e.filter(w=>{const y=new Date(w.created_at);return y>=m&&y<=g}).length,v=e.filter(w=>{const y=new Date(w.updated_at);return w.status==="concluido"&&y>=m&&y<=g}).length;return{mes:Xt(h,"MMM",{locale:Nr}),criados:p,concluidos:v}}),f=e.reduce((h,m)=>{var p;const g=((p=m.clientes)==null?void 0:p.nome)||"Sem cliente";return h[g]=(h[g]||0)+1,h},{}),d=Object.entries(f).map(([h,m])=>({nome:h,projetos:Number(m)})).sort((h,m)=>Number(m.projetos)-Number(h.projetos)).slice(0,5);return s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Projetos por Status"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(Rg,{children:[s.jsx(fs,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percent:m})=>`${h}: ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(()=>{const h=o(l.length);return l.map((m,g)=>s.jsx(Yo,{fill:h[g].solid},`cell-${g}`))})()}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}})]})})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Top 5 Clientes"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(Fp,{data:d,layout:"vertical",children:[s.jsx(co,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(pa,{type:"number",className:"text-xs"}),s.jsx(ga,{dataKey:"nome",type:"category",className:"text-xs",width:100}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),s.jsx(Fs,{dataKey:"projetos",radius:[0,8,8,0],children:(()=>{const h=o(d.length);return d.map((m,g)=>s.jsx(Yo,{fill:h[g].solid},`cell-${g}`))})()})]})})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm md:col-span-2",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Timeline de Projetos"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsx(dw,{data:u,children:(()=>{const h=o(2);return s.jsxs(s.Fragment,{children:[s.jsx(co,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(pa,{dataKey:"mes",className:"text-xs"}),s.jsx(ga,{className:"text-xs"}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),s.jsx(as,{}),s.jsx(ss,{type:"monotone",dataKey:"criados",stroke:h[0].solid,strokeWidth:2,name:"Criados"}),s.jsx(ss,{type:"monotone",dataKey:"concluidos",stroke:h[1].solid,strokeWidth:2,name:"Concludos"})]})})()})})})]})]})}function g$e({transacoes:e}){const{primaryColor:t,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const g=document.documentElement,v=getComputedStyle(g).getPropertyValue("--finance").trim()||getComputedStyle(g).getPropertyValue("--primary").trim(),w=v?`hsl(${v})`:"hsl(220 90% 50%)",y=v?`hsl(${v} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:w,primaryFade:y}},[]),n=x.useMemo(()=>{const p=t.replace(/hsl\(|\)/g,"").split(/\s+/),v=Number(p[0]),w=Number((p[1]||"0").replace("%","")),y=Number((p[2]||"0").replace("%",""));return{h:v,s:w,l:y}},[t]),a=(g,p,v,w)=>w!=null?`hsl(${g} ${p}% ${v}% / ${w})`:`hsl(${g} ${p}% ${v}%)`,o=g=>{const p=[],{h:v,s:w}=n,y=[30,40,50,60,70];for(let b=0;b<Math.max(g,1);b++){const _=y[b%y.length],j=a(v,w,_),N=a(v,w,_,.8);p.push({solid:j,fade:N})}return p},i=Sg({start:Ga(new Date,5),end:new Date}),l=g=>String(g||"").toLowerCase(),c=i.map(g=>{const p=Gr(g),v=ka(g),w=e.filter(b=>l(b.tipo)==="receita"&&new Date(b.data_vencimento||b.created_at||b.data)>=p&&new Date(b.data_vencimento||b.created_at||b.data)<=v).reduce((b,_)=>b+Number(_.valor),0),y=e.filter(b=>l(b.tipo)==="despesa"&&new Date(b.data_vencimento||b.created_at||b.data)>=p&&new Date(b.data_vencimento||b.created_at||b.data)<=v).reduce((b,_)=>b+Number(_.valor),0);return{mes:Xt(g,"MMM",{locale:Nr}),receita:w,despesas:y,lucro:w-y}}),u=e.reduce((g,p)=>{const v=p.categoria||"Outros";return g[v]=(g[v]||0)+Number(p.valor),g},{}),f=Object.entries(u).map(([g,p])=>({name:g,value:p})),d=e.filter(g=>g.data_liquidacao).reduce((g,p)=>g+Number(p.valor),0),h=e.filter(g=>!g.data_liquidacao).reduce((g,p)=>g+Number(p.valor),0),m=[{name:"Pagas",value:d,color:"#10b981"},{name:"Pendentes",value:h,color:"#f59e0b"}];return s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm md:col-span-2",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Receitas vs Despesas"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsx(dw,{data:c,children:(()=>{const g=o(3);return s.jsxs(s.Fragment,{children:[s.jsx(co,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(pa,{dataKey:"mes",className:"text-xs"}),s.jsx(ga,{className:"text-xs"}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"},formatter:p=>`R$ ${p.toFixed(2)}`}),s.jsx(as,{}),s.jsx(ss,{type:"monotone",dataKey:"receita",stroke:g[0].solid,strokeWidth:2,name:"Receitas"}),s.jsx(ss,{type:"monotone",dataKey:"despesas",stroke:g[1].solid,strokeWidth:2,name:"Despesas"}),s.jsx(ss,{type:"monotone",dataKey:"lucro",stroke:g[2].solid,strokeWidth:2,name:"Lucro"})]})})()})})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Por Categoria"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(Rg,{children:[s.jsx(fs,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:p})=>`${g}: ${(p*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(()=>{const g=o(f.length);return f.map((p,v)=>s.jsx(Yo,{fill:g[v].solid},`cell-${v}`))})()}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"},formatter:g=>`R$ ${g.toFixed(2)}`})]})})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Status de Pagamento"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(Fp,{data:m,children:[s.jsx(co,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(pa,{dataKey:"name",className:"text-xs"}),s.jsx(ga,{className:"text-xs"}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"},formatter:g=>`R$ ${g.toFixed(2)}`}),s.jsx(Fs,{dataKey:"value",radius:[8,8,0,0],children:(()=>{const g=o(m.length);return m.map((p,v)=>s.jsx(Yo,{fill:g[v].solid},`cell-${v}`))})()})]})})})]})]})}function v$e({clientes:e}){const{primaryColor:t,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const c=document.documentElement,f=getComputedStyle(c).getPropertyValue("--clients").trim()||getComputedStyle(c).getPropertyValue("--primary").trim(),d=f?`hsl(${f})`:"hsl(220 90% 50%)",h=f?`hsl(${f} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:d,primaryFade:h}},[]),n=x.useMemo(()=>{const u=t.replace(/hsl\(|\)/g,"").split(/\s+/),f=Number(u[0]),d=Number((u[1]||"0").replace("%","")),h=Number((u[2]||"0").replace("%",""));return{h:f,s:d,l:h}},[t]),a=(c,u,f)=>`hsl(${c} ${u}% ${f}%)`,o=c=>{const{h:u,s:f}=n,d=[30,40,50,60,70],h=[];for(let m=0;m<Math.max(c,1);m++){const g=d[m%d.length];h.push(a(u,f,g))}return h},l=Sg({start:Ga(new Date,5),end:new Date}).map(c=>{const u=ka(c),f=e.filter(h=>new Date(h.created_at)<=u).length,d=e.filter(h=>{const m=new Date(h.created_at);return m>=Gr(c)&&m<=u}).length;return{mes:Xt(c,"MMM",{locale:Nr}),total:f,novos:d}});return s.jsxs("div",{className:"grid gap-4",children:[s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Crescimento de Clientes"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(dw,{data:l,children:[s.jsx(co,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(pa,{dataKey:"mes",className:"text-xs"}),s.jsx(ga,{className:"text-xs"}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),s.jsx(as,{}),(()=>{const c=o(2);return s.jsxs(s.Fragment,{children:[s.jsx(ss,{type:"monotone",dataKey:"total",stroke:c[0],strokeWidth:2,name:"Total de Clientes"}),s.jsx(ss,{type:"monotone",dataKey:"novos",stroke:c[1],strokeWidth:2,name:"Novos Clientes"})]})})()]})})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Clientes"})}),s.jsx(me,{children:s.jsx("div",{className:"text-3xl font-bold",children:e.length})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Novos (30 dias)"})}),s.jsx(me,{children:s.jsx("div",{className:"text-3xl font-bold",children:e.filter(c=>new Date(c.created_at)>=Ga(new Date,1)).length})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Com Email"})}),s.jsx(me,{children:s.jsx("div",{className:"text-3xl font-bold",children:e.filter(c=>c.email).length})})]})]})]})}function y$e({agendamentos:e}){const{primaryColor:t,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const f=document.documentElement,h=getComputedStyle(f).getPropertyValue("--schedules").trim()||getComputedStyle(f).getPropertyValue("--primary").trim(),m=h?`hsl(${h})`:"hsl(220 90% 50%)",g=h?`hsl(${h} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:m,primaryFade:g}},[]),n=x.useMemo(()=>{const d=t.replace(/hsl\(|\)/g,"").split(/\s+/),h=Number(d[0]),m=Number((d[1]||"0").replace("%","")),g=Number((d[2]||"0").replace("%",""));return{h,s:m,l:g}},[t]),a=(f,d,h,m)=>m!=null?`hsl(${f} ${d}% ${h}% / ${m})`:`hsl(${f} ${d}% ${h}%)`,o=f=>{const d=[],{h,s:m}=n,g=[30,40,50,60,70];for(let p=0;p<Math.max(f,1);p++){const v=g[p%g.length];d.push({solid:a(h,m,v),fade:a(h,m,v,.8)})}return d},i=e.reduce((f,d)=>(f[d.status]=(f[d.status]||0)+1,f),{}),l=[{name:"Agendado",value:i.agendado||0,color:"#3b82f6"},{name:"Concludo",value:i.concluido||0,color:"#10b981"},{name:"Cancelado",value:i.cancelado||0,color:"#ef4444"}],u=Sg({start:Ga(new Date,5),end:new Date}).map(f=>{const d=Gr(f),h=ka(f),m=e.filter(p=>{const v=new Date(p.data);return v>=d&&v<=h}).length,g=e.filter(p=>{const v=new Date(p.data);return p.status==="concluido"&&v>=d&&v<=h}).length;return{mes:Xt(f,"MMM",{locale:Nr}),agendados:m,concluidos:g}});return s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Status dos Agendamentos"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(Rg,{children:[s.jsx(fs,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:f,percent:d})=>`${f}: ${(d*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(()=>{const f=o(l.length);return l.map((d,h)=>s.jsx(Yo,{fill:f[h].solid},`cell-${h}`))})()}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}})]})})})]}),s.jsxs(te,{className:"rounded-3xl border-0 shadow-sm",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-lg font-semibold",children:"Agendamentos ao Longo do Tempo"})}),s.jsx(me,{children:s.jsx(da,{width:"100%",height:200,children:s.jsxs(Fp,{data:u,children:[s.jsx(co,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(pa,{dataKey:"mes",className:"text-xs"}),s.jsx(ga,{className:"text-xs"}),s.jsx(Lr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),s.jsx(as,{}),(()=>{const f=o(2);return s.jsxs(s.Fragment,{children:[s.jsx(Fs,{dataKey:"agendados",fill:f[0].solid,radius:[8,8,0,0],name:"Agendados"}),s.jsx(Fs,{dataKey:"concluidos",fill:f[1].solid,radius:[8,8,0,0],name:"Concludos"})]})})()]})})})]})]})}var j2="Progress",_2=100,[x$e]=KB(j2),[b$e,w$e]=x$e(j2),Yq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=j$e,...i}=e;(a||a===0)&&!oD(a)&&console.error(_$e(`${a}`,"Progress"));const l=oD(a)?a:_2;n!==null&&!iD(n,l)&&console.error(N$e(`${n}`,"Progress"));const c=iD(n,l)?n:null,u=o0(c)?o(c,l):void 0;return s.jsx(b$e,{scope:r,value:c,max:l,children:s.jsx(wu.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":o0(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Zq(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Yq.displayName=j2;var Xq="ProgressIndicator",Qq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=w$e(Xq,r);return s.jsx(wu.div,{"data-state":Zq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Qq.displayName=Xq;function j$e(e,t){return`${Math.round(e/t*100)}%`}function Zq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function o0(e){return typeof e=="number"}function oD(e){return o0(e)&&!isNaN(e)&&e>0}function iD(e,t){return o0(e)&&!isNaN(e)&&e<=t&&e>=0}function _$e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_2}\`.`}function N$e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Jq=Yq,S$e=Qq;const uy=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Jq,{ref:n,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(S$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));uy.displayName=Jq.displayName;var C$e="Label",e9=x.forwardRef((e,t)=>s.jsx(wu.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));e9.displayName=C$e;var t9=e9;const E$e=ug.cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=x.forwardRef(({className:e,...t},r)=>s.jsx(t9,{ref:r,className:Ae(E$e(),e),...t}));re.displayName=t9.displayName;const Jn=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Jn.displayName="Textarea";var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Nt.apply(this,arguments)};function O$e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function r9(e,t,r){for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function $g(e){return e.mode==="multiple"}function Dg(e){return e.mode==="range"}function fw(e){return e.mode==="single"}var A$e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function P$e(e,t){return Xt(e,"LLLL y",t)}function k$e(e,t){return Xt(e,"d",t)}function T$e(e,t){return Xt(e,"LLLL",t)}function M$e(e){return"".concat(e)}function R$e(e,t){return Xt(e,"cccccc",t)}function $$e(e,t){return Xt(e,"yyyy",t)}var D$e=Object.freeze({__proto__:null,formatCaption:P$e,formatDay:k$e,formatMonthCaption:T$e,formatWeekNumber:M$e,formatWeekdayName:R$e,formatYearCaption:$$e}),I$e=function(e,t,r){return Xt(e,"do MMMM (EEEE)",r)},L$e=function(){return"Month: "},F$e=function(){return"Go to next month"},B$e=function(){return"Go to previous month"},z$e=function(e,t){return Xt(e,"cccc",t)},U$e=function(e){return"Week n. ".concat(e)},V$e=function(){return"Year: "},q$e=Object.freeze({__proto__:null,labelDay:I$e,labelMonthDropdown:L$e,labelNext:F$e,labelPrevious:B$e,labelWeekNumber:U$e,labelWeekday:z$e,labelYearDropdown:V$e});function W$e(){var e="buttons",t=A$e,r=aO,n={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:D$e,labels:q$e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function H$e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Gr(n):t&&(o=new Date(t,0,1)),a?i=ka(a):r&&(i=new Date(r,11,31)),{fromDate:o?sf(o):void 0,toDate:i?sf(i):void 0}}var n9=x.createContext(void 0);function G$e(e){var t,r=e.initialProps,n=W$e(),a=H$e(r),o=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(fw(r)||$g(r)||Dg(r))&&(c=r.onSelect);var u=Nt(Nt(Nt({},n),r),{captionLayout:l,classNames:Nt(Nt({},n.classNames),r.classNames),components:Nt({},r.components),formatters:Nt(Nt({},n.formatters),r.formatters),fromDate:o,labels:Nt(Nt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Nt(Nt({},n.modifiers),r.modifiers),modifiersClassNames:Nt(Nt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Nt(Nt({},n.styles),r.styles),toDate:i});return s.jsx(n9.Provider,{value:u,children:e.children})}function Ar(){var e=x.useContext(n9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function a9(e){var t=Ar(),r=t.locale,n=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function K$e(e){return s.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function s9(e){var t,r,n=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,u=Ar(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:K$e;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:o}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,s.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Y$e(e){var t,r=Ar(),n=r.fromDate,a=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var d=[];if(Kie(n,a))for(var h=Gr(n),m=n.getMonth();m<=a.getMonth();m++)d.push(wj(h,m));else for(var h=Gr(new Date),m=0;m<=11;m++)d.push(wj(h,m));var g=function(v){var w=Number(v.target.value),y=wj(Gr(e.displayMonth),w);e.onChange(y)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:s9;return s.jsx(p,{name:"months","aria-label":f(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:d.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function X$e(e){var t,r=e.displayMonth,n=Ar(),a=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,d=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=o.getFullYear(),p=m;p<=g;p++)h.push(nT(V6(new Date),p));var v=function(y){var b=nT(Gr(r),Number(y.target.value));e.onChange(b)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:s9;return s.jsx(w,{name:"years","aria-label":d(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:f(r,{locale:i}),children:h.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:f(y,{locale:i})},y.getFullYear())})})}function Q$e(e,t){var r=x.useState(e),n=r[0],a=r[1],o=t===void 0?n:t;return[o,a]}function Z$e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&np(o,a)<0){var u=-1*(c-1);a=Is(o,u)}return i&&np(a,i)<0&&(a=i),Gr(a)}function J$e(){var e=Ar(),t=Z$e(e),r=Q$e(t,e.month),n=r[0],a=r[1],o=function(i){var l;if(!e.disableNavigation){var c=Gr(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,o]}function eDe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Gr(e),o=Gr(Is(a,n)),i=np(o,a),l=[],c=0;c<i;c++){var u=Is(a,c);l.push(u)}return r&&(l=l.reverse()),l}function tDe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=Gr(e);if(!r)return Is(l,i);var c=np(r,e);if(!(c<o))return Is(l,i)}}function rDe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=Gr(e);if(!r)return Is(l,-i);var c=np(l,r);if(!(c<=0))return Is(l,-i)}}var o9=x.createContext(void 0);function nDe(e){var t=Ar(),r=J$e(),n=r[0],a=r[1],o=eDe(n,t),i=tDe(n,t),l=rDe(n,t),c=function(d){return o.some(function(h){return uO(d,h)})},u=function(d,h){c(d)||(h&&Y6(d,h)?a(Is(d,1+t.numberOfMonths*-1)):a(d))},f={currentMonth:n,displayMonths:o,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return s.jsx(o9.Provider,{value:f,children:e.children})}function Ig(){var e=x.useContext(o9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function lD(e){var t,r=Ar(),n=r.classNames,a=r.styles,o=r.components,i=Ig().goToMonth,l=function(f){i(Is(f,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:a9,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Y$e,{onChange:l,displayMonth:e.displayMonth}),s.jsx(X$e,{onChange:l,displayMonth:e.displayMonth})]})}function aDe(e){return s.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sDe(e){return s.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var i0=x.forwardRef(function(e,t){var r=Ar(),n=r.classNames,a=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Nt({},e,{ref:t,type:"button",className:i,style:l}))});function oDe(e){var t,r,n=Ar(),a=n.dir,o=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,d=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),g=f(e.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),v=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:sDe,w=(r=d==null?void 0:d.IconLeft)!==null&&r!==void 0?r:aDe;return s.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(i0,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:i.nav_icon,style:l.nav_icon}):s.jsx(w,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(i0,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(w,{className:i.nav_icon,style:l.nav_icon}):s.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function cD(e){var t=Ar().numberOfMonths,r=Ig(),n=r.previousMonth,a=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return uO(e.displayMonth,g)}),c=l===0,u=l===i.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),h=function(){n&&o(n)},m=function(){a&&o(a)};return s.jsx(oDe,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function iDe(e){var t,r=Ar(),n=r.classNames,a=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:a9,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=s.jsx(lD,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(lD,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(cD,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(cD,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:o.caption,children:u})}function lDe(e){var t=Ar(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function cDe(e,t,r){for(var n=r?Ci(new Date):ls(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Un(n,o);a.push(i)}return a}function uDe(){var e=Ar(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=cDe(a,o,i);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,d){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:a}),children:l(f,{locale:a})},d)})]})}function dDe(){var e,t=Ar(),r=t.classNames,n=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:uDe;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(o,{})})}function fDe(e){var t=Ar(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var N2=x.createContext(void 0);function hDe(e){if(!$g(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(N2.Provider,{value:t,children:e.children})}return s.jsx(mDe,{initialProps:e.initialProps,children:e.children})}function mDe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,o=t.max,i=function(u,f,d){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,f,d);var g=!!(f.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!f.selected&&o&&(n==null?void 0:n.length)===o);if(!p){var v=n?r9([],n):[];if(f.selected){var w=v.findIndex(function(y){return Pa(u,y)});v.splice(w,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,f,d)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=o&&n.length>o-1,d=n.some(function(h){return Pa(h,u)});return!!(f&&!d)});var c={selected:n,onDayClick:i,modifiers:l};return s.jsx(N2.Provider,{value:c,children:r})}function S2(){var e=x.useContext(N2);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function pDe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Pa(a,e)&&Pa(n,e)?void 0:Pa(a,e)?{from:a,to:void 0}:Pa(n,e)?void 0:J1(n,e)?{from:e,to:a}:{from:n,to:e}:a?J1(e,a)?{from:a,to:e}:{from:e,to:a}:n?Y6(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var C2=x.createContext(void 0);function gDe(e){if(!Dg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(C2.Provider,{value:t,children:e.children})}return s.jsx(vDe,{initialProps:e.initialProps,children:e.children})}function vDe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},o=a.from,i=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,w;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var y=pDe(m,n);(w=t.onSelect)===null||w===void 0||w.call(t,y,m,g,p)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],i?(f.range_end=[i],Pa(o,i)||(f.range_middle=[{after:o,before:i}])):f.range_end=[o]):i&&(f.range_start=[i],f.range_end=[i]),l&&(o&&!i&&f.disabled.push({after:ml(o,l-1),before:Un(o,l-1)}),o&&i&&f.disabled.push({after:o,before:Un(o,l-1)}),!o&&i&&f.disabled.push({after:ml(i,l-1),before:Un(i,l-1)})),c){if(o&&!i&&(f.disabled.push({before:Un(o,-c+1)}),f.disabled.push({after:Un(o,c-1)})),o&&i){var d=Io(i,o)+1,h=c-d;f.disabled.push({before:ml(o,h)}),f.disabled.push({after:Un(i,h)})}!o&&i&&(f.disabled.push({before:Un(i,-c+1)}),f.disabled.push({after:Un(i,c-1)}))}return s.jsx(C2.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function E2(){var e=x.useContext(C2);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function dy(e){return Array.isArray(e)?r9([],e):e!==void 0?[e]:[]}function yDe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=dy(a)}),t}var bo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(bo||(bo={}));var xDe=bo.Selected,ni=bo.Disabled,bDe=bo.Hidden,wDe=bo.Today,Xj=bo.RangeEnd,Qj=bo.RangeMiddle,Zj=bo.RangeStart,jDe=bo.Outside;function _De(e,t,r){var n,a=(n={},n[xDe]=dy(e.selected),n[ni]=dy(e.disabled),n[bDe]=dy(e.hidden),n[wDe]=[e.today],n[Xj]=[],n[Qj]=[],n[Zj]=[],n[jDe]=[],n);return e.fromDate&&a[ni].push({before:e.fromDate}),e.toDate&&a[ni].push({after:e.toDate}),$g(e)?a[ni]=a[ni].concat(t.modifiers[ni]):Dg(e)&&(a[ni]=a[ni].concat(r.modifiers[ni]),a[Zj]=r.modifiers[Zj],a[Qj]=r.modifiers[Qj],a[Xj]=r.modifiers[Xj]),a}var i9=x.createContext(void 0);function NDe(e){var t=Ar(),r=S2(),n=E2(),a=_De(t,r,n),o=yDe(t.modifiers),i=Nt(Nt({},a),o);return s.jsx(i9.Provider,{value:i,children:e.children})}function l9(){var e=x.useContext(i9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function SDe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function CDe(e){return!!(e&&typeof e=="object"&&"from"in e)}function EDe(e){return!!(e&&typeof e=="object"&&"after"in e)}function ODe(e){return!!(e&&typeof e=="object"&&"before"in e)}function ADe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function PDe(e,t){var r,n=t.from,a=t.to;if(n&&a){var o=Io(a,n)<0;o&&(r=[a,n],n=r[0],a=r[1]);var i=Io(e,n)>=0&&Io(a,e)>=0;return i}return a?Pa(a,e):n?Pa(n,e):!1}function kDe(e){return rO(e)}function TDe(e){return Array.isArray(e)&&e.every(rO)}function MDe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(kDe(r))return Pa(e,r);if(TDe(r))return r.includes(e);if(CDe(r))return PDe(e,r);if(ADe(r))return r.dayOfWeek.includes(e.getDay());if(SDe(r)){var n=Io(r.before,e),a=Io(r.after,e),o=n>0,i=a<0,l=J1(r.before,r.after);return l?i&&o:o||i}return EDe(r)?Io(e,r.after)>0:ODe(r)?Io(r.before,e)>0:typeof r=="function"?r(e):!1})}function O2(e,t,r){var n=Object.keys(t).reduce(function(o,i){var l=t[i];return MDe(e,l)&&o.push(i),o},[]),a={};return n.forEach(function(o){return a[o]=!0}),r&&!uO(e,r)&&(a.outside=!0),a}function RDe(e,t){for(var r=Gr(e[0]),n=ka(e[e.length-1]),a,o,i=r;i<=n;){var l=O2(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Un(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Un(i,1)}return o||a}var $De=365;function c9(e,t){var r=t.moveBy,n=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,f=a.toDate,d=a.locale,h={day:Un,week:X1,month:Is,year:Jse,startOfWeek:function(v){return a.ISOWeek?Ci(v):ls(v,{locale:d,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?q6(v):nO(v,{locale:d,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=eoe([u,m]):n==="after"&&f&&(m=toe([f,m]));var g=!0;if(o){var p=O2(m,o);g=!p.disabled&&!p.hidden}return g?m:l.count>$De?l.lastFocused:c9(m,{moveBy:r,direction:n,context:a,modifiers:o,retry:Nt(Nt({},l),{count:l.count+1})})}var u9=x.createContext(void 0);function DDe(e){var t=Ig(),r=l9(),n=x.useState(),a=n[0],o=n[1],i=x.useState(),l=i[0],c=i[1],u=RDe(t.displayMonths,r),f=a??(l&&t.isDateDisplayed(l))?l:u,d=function(){c(a),o(void 0)},h=function(v){o(v)},m=Ar(),g=function(v,w){if(a){var y=c9(a,{moveBy:v,direction:w,context:m,modifiers:r});Pa(a,y)||(t.goToDate(y,a),h(y))}},p={focusedDay:a,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(u9.Provider,{value:p,children:e.children})}function A2(){var e=x.useContext(u9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function IDe(e,t){var r=l9(),n=O2(e,r,t);return n}var P2=x.createContext(void 0);function LDe(e){if(!fw(e.initialProps)){var t={selected:void 0};return s.jsx(P2.Provider,{value:t,children:e.children})}return s.jsx(FDe,{initialProps:e.initialProps,children:e.children})}function FDe(e){var t=e.initialProps,r=e.children,n=function(o,i,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:n};return s.jsx(P2.Provider,{value:a,children:r})}function d9(){var e=x.useContext(P2);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function BDe(e,t){var r=Ar(),n=d9(),a=S2(),o=E2(),i=A2(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,f=i.focusWeekBefore,d=i.blur,h=i.focus,m=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,v=i.focusYearAfter,w=i.focusStartOfWeek,y=i.focusEndOfWeek,b=function(B){var k,T,q,Q;fw(r)?(k=n.onDayClick)===null||k===void 0||k.call(n,e,t,B):$g(r)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,B):Dg(r)?(q=o.onDayClick)===null||q===void 0||q.call(o,e,t,B):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,B)},_=function(B){var k;h(e),(k=r.onDayFocus)===null||k===void 0||k.call(r,e,t,B)},j=function(B){var k;d(),(k=r.onDayBlur)===null||k===void 0||k.call(r,e,t,B)},N=function(B){var k;(k=r.onDayMouseEnter)===null||k===void 0||k.call(r,e,t,B)},S=function(B){var k;(k=r.onDayMouseLeave)===null||k===void 0||k.call(r,e,t,B)},C=function(B){var k;(k=r.onDayPointerEnter)===null||k===void 0||k.call(r,e,t,B)},E=function(B){var k;(k=r.onDayPointerLeave)===null||k===void 0||k.call(r,e,t,B)},P=function(B){var k;(k=r.onDayTouchCancel)===null||k===void 0||k.call(r,e,t,B)},A=function(B){var k;(k=r.onDayTouchEnd)===null||k===void 0||k.call(r,e,t,B)},M=function(B){var k;(k=r.onDayTouchMove)===null||k===void 0||k.call(r,e,t,B)},O=function(B){var k;(k=r.onDayTouchStart)===null||k===void 0||k.call(r,e,t,B)},R=function(B){var k;(k=r.onDayKeyUp)===null||k===void 0||k.call(r,e,t,B)},L=function(B){var k;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),f();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?p():m();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?v():g();break;case"Home":B.preventDefault(),B.stopPropagation(),w();break;case"End":B.preventDefault(),B.stopPropagation(),y();break}(k=r.onDayKeyDown)===null||k===void 0||k.call(r,e,t,B)},D={onClick:b,onFocus:_,onBlur:j,onKeyDown:L,onKeyUp:R,onMouseEnter:N,onMouseLeave:S,onPointerEnter:C,onPointerLeave:E,onTouchCancel:P,onTouchEnd:A,onTouchMove:M,onTouchStart:O};return D}function zDe(){var e=Ar(),t=d9(),r=S2(),n=E2(),a=fw(e)?t.selected:$g(e)?r.selected:Dg(e)?n.selected:void 0;return a}function UDe(e){return Object.values(bo).includes(e)}function VDe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(UDe(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function qDe(e,t){var r=Nt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Nt(Nt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function WDe(e,t,r){var n,a,o,i=Ar(),l=A2(),c=IDe(e,t),u=BDe(e,c),f=zDe(),d=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&d&&Pa(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,d,c.outside]);var h=VDe(i,c).join(" "),m=qDe(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:fDe,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),w={style:m,className:h,children:v,role:"gridcell"},y=l.focusTarget&&Pa(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Pa(l.focusedDay,e),_=Nt(Nt(Nt({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||y?0:-1,n)),u),j={isButton:d,isHidden:g,activeModifiers:c,selectedDays:f,buttonProps:_,divProps:w};return j}function HDe(e){var t=x.useRef(null),r=WDe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(i0,Nt({name:"day",ref:t},r.buttonProps)):s.jsx("div",Nt({},r.divProps))}function GDe(e){var t=e.number,r=e.dates,n=Ar(),a=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:f});var d=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(i0,{name:"week-number","aria-label":d,className:i.weeknumber,style:o.weeknumber,onClick:h,children:f})}function KDe(e){var t,r,n=Ar(),a=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:HDe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:GDe,f;return i&&(f=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[f,e.dates.map(function(d){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:d})},Qoe(d))})]})}function uD(e,t,r){for(var n=r!=null&&r.ISOWeek?q6(t):nO(t,r),a=r!=null&&r.ISOWeek?Ci(e):ls(e,r),o=Io(n,a),i=[],l=0;l<=o;l++)i.push(Un(a,l));var c=i.reduce(function(u,f){var d=r!=null&&r.ISOWeek?sO(f):iO(f,r),h=u.find(function(m){return m.weekNumber===d});return h?(h.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function YDe(e,t){var r=uD(Gr(e),ka(e),t);if(t!=null&&t.useFixedWeeks){var n=Joe(e,t);if(n<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],i=X1(o,6-n),l=uD(X1(o,1),i,t);r.push.apply(r,l)}}return r}function XDe(e){var t,r,n,a=Ar(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,f=a.components,d=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=YDe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:d,firstWeekContainsDate:h}),p=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:dDe,v=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:KDe,w=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:lDe;return s.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(y){return s.jsx(v,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(w,{displayMonth:e.displayMonth})]})}function QDe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ZDe=QDe()?x.useLayoutEffect:x.useEffect,Jj=!1,JDe=0;function dD(){return"react-day-picker-".concat(++JDe)}function eIe(e){var t,r=e??(Jj?dD():null),n=x.useState(r),a=n[0],o=n[1];return ZDe(function(){a===null&&o(dD())},[]),x.useEffect(function(){Jj===!1&&(Jj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function tIe(e){var t,r,n=Ar(),a=n.dir,o=n.classNames,i=n.styles,l=n.components,c=Ig().displayMonths,u=eIe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,d=[o.month],h=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(d.push(o.caption_start),h=Nt(Nt({},h),i.caption_start)),g&&(d.push(o.caption_end),h=Nt(Nt({},h),i.caption_end)),p&&(d.push(o.caption_between),h=Nt(Nt({},h),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:iDe;return s.jsxs("div",{className:d.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(XDe,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function rIe(e){var t=Ar(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function nIe(e){var t,r,n=e.initialProps,a=Ar(),o=A2(),i=Ig(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var d=Nt(Nt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Nt(Nt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:rIe;return s.jsx("div",Nt({className:f.join(" "),style:d,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:i.displayMonths.map(function(g,p){return s.jsx(tIe,{displayIndex:p,displayMonth:g},p)})})}))}function aIe(e){var t=e.children,r=O$e(e,["children"]);return s.jsx(G$e,{initialProps:r,children:s.jsx(nDe,{children:s.jsx(LDe,{initialProps:r,children:s.jsx(hDe,{initialProps:r,children:s.jsx(gDe,{initialProps:r,children:s.jsx(NDe,{children:s.jsx(DDe,{children:t})})})})})})})}function sIe(e){return s.jsx(aIe,Nt({},e,{children:s.jsx(nIe,{initialProps:e})}))}function Ll({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(sIe,{showOutsideDays:r,className:Ae("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ae(ep({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ae(ep({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(F0,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Hf,{className:"h-4 w-4"})},...n})}Ll.displayName="Calendar";var hw="Popover",[f9]=na(hw,[Hl]),Lg=Hl(),[oIe,nc]=f9(hw),h9=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Lg(t),c=x.useRef(null),[u,f]=x.useState(!1),[d,h]=$s({prop:n,defaultProp:a??!1,onChange:o,caller:hw});return s.jsx(G0,{...l,children:s.jsx(oIe,{scope:t,contentId:As(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>f(!0),[]),onCustomAnchorRemove:x.useCallback(()=>f(!1),[]),modal:i,children:r})})};h9.displayName=hw;var m9="PopoverAnchor",iIe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nc(m9,r),o=Lg(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(pg,{...o,...n,ref:t})});iIe.displayName=m9;var p9="PopoverTrigger",g9=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nc(p9,r),o=Lg(r),i=Mt(t,a.triggerRef),l=s.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":w9(a.open),...n,ref:i,onClick:Se(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(pg,{asChild:!0,...o,children:l})});g9.displayName=p9;var k2="PopoverPortal",[lIe,cIe]=f9(k2,{forceMount:void 0}),v9=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=nc(k2,t);return s.jsx(lIe,{scope:t,forceMount:r,children:s.jsx(La,{present:r||o.open,children:s.jsx(Wf,{asChild:!0,container:a,children:n})})})};v9.displayName=k2;var $f="PopoverContent",y9=x.forwardRef((e,t)=>{const r=cIe($f,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=nc($f,e.__scopePopover);return s.jsx(La,{present:n||o.open,children:o.modal?s.jsx(dIe,{...a,ref:t}):s.jsx(fIe,{...a,ref:t})})});y9.displayName=$f;var uIe=Jc("PopoverContent.RemoveScroll"),dIe=x.forwardRef((e,t)=>{const r=nc($f,e.__scopePopover),n=x.useRef(null),a=Mt(t,n),o=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return sb(i)},[]),s.jsx(wg,{as:uIe,allowPinchZoom:!0,children:s.jsx(x9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),fIe=x.forwardRef((e,t)=>{const r=nc($f,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(x9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),x9=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=nc($f,r),m=Lg(r);return nb(),s.jsx(xg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(yu,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(K0,{"data-state":w9(h.open),role:"dialog",id:h.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),b9="PopoverClose",hIe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nc(b9,r);return s.jsx(pt.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,()=>a.onOpenChange(!1))})});hIe.displayName=b9;var mIe="PopoverArrow",pIe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Lg(r);return s.jsx(Y0,{...a,...n,ref:t})});pIe.displayName=mIe;function w9(e){return e?"open":"closed"}var gIe=h9,vIe=g9,yIe=v9,j9=y9;const mo=gIe,po=vIe,ks=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(yIe,{children:s.jsx(j9,{ref:a,align:t,sideOffset:r,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ks.displayName=j9.displayName;const fD=[{id:1,name:"Joo Silva",email:"joao@empresa.com",phone:"(11) 99999-9999",company:"Tech Solutions Ltda",value:15e3,status:"Ativo",lastContact:"2024-01-15",opportunity:"Upgrade para plano Premium"},{id:2,name:"Maria Santos",email:"maria@startup.com",phone:"(11) 88888-8888",company:"Startup Inovadora",value:8500,status:"Potencial",lastContact:"2024-01-12",opportunity:"Servios de consultoria adicional"},{id:3,name:"Carlos Oliveira",email:"carlos@comercio.com",phone:"(11) 77777-7777",company:"Comrcio Digital",value:22e3,status:"Negociao",lastContact:"2024-01-10",opportunity:"Expanso para novos mdulos"}];function xIe({transacoes:e,clientes:t,projetos:r,agendamentos:n}){const[a,o]=x.useState(null),[i,l]=x.useState(!1),[c,u]=x.useState(!1),[f,d]=x.useState(Date.now()),[h,m]=x.useState(null),[g,p]=x.useState([{id:"1",type:"warning",title:"Clientes Inativos Detectados",description:"Parte dos clientes est inativa h mais de 60 dias. Risco de churn alto.",impact:"high",action:"Enviar campanha de reativao",icon:Wh,color:"text-red-600",bgColor:"bg-red-500/10"},{id:"2",type:"opportunity",title:"Oportunidade de Upsell",description:"Clientes com histrico de pequenos servios podem aceitar projetos maiores.",impact:"high",action:"Criar proposta personalizada",icon:Pn,color:"text-green-600",bgColor:"bg-green-500/10"}]),v=E=>{o(E),l(!0)},w=x.useMemo(()=>{try{const E=ge=>String(ge||"").toLowerCase(),P=(t==null?void 0:t.length)||0,A=(r==null?void 0:r.length)||0,M=(n==null?void 0:n.length)||0,O=(e==null?void 0:e.length)||0,R=(e||[]).filter(ge=>E(ge==null?void 0:ge.tipo)==="receita"),L=R.reduce((ge,he)=>ge+Number((he==null?void 0:he.valor)||0),0),D=R.length?L/R.length:0,B=(n||[]).filter(ge=>E(ge==null?void 0:ge.status)!=="cancelado"),k={};for(const ge of B){const he=String((ge==null?void 0:ge.cliente_id)||(ge==null?void 0:ge.clienteId)||(ge==null?void 0:ge.cliente)||"");he&&(k[he]=(k[he]||0)+1)}const T=Object.keys(k).length,q=Object.values(k).filter(ge=>ge>=2).length,Q=T?Math.round(q/T*100):0,F=(n||[]).filter(ge=>E(ge==null?void 0:ge.status)==="cancelado").length,X=M?Math.round(F/M*100):0,ce=(t||[]).map(ge=>ge==null?void 0:ge.nome).filter(ge=>typeof ge=="string"&&ge.trim().length).slice(0,5),pe=(r||[]).map(ge=>ge==null?void 0:ge.titulo).filter(ge=>typeof ge=="string"&&ge.trim().length).slice(0,5);return[`Clientes(30d): ${P}`,`Projetos(30d): ${A}`,`Agendamentos(30d): ${M}`,`Transaes(30d): ${O}`,`Ticket mdio: R$ ${Math.round(D).toLocaleString("pt-BR")}`,`Recorrncia: ${Q}% (${q}/${T})`,`Cancelamentos: ${F} (${X}%)`,ce.length?`Clientes foco: ${ce.join(", ")}`:"",pe.length?`Projetos destaque: ${pe.join(", ")}`:""].filter(Boolean).join(`
`)}catch{return""}},[t,r,n,e]);function y(E){switch(E){case"warning":return Wh;case"opportunity":return yP;case"trend":return Pn;case"recommendation":return Nh;default:return Nh}}async function b(){u(!0),m(null);try{const E={role:"system",content:'Voc  uma IA de estratgia de negcios. Gere insights prticos baseados nos dados do sistema. Retorne APENAS JSON vlido no formato: {"insights":[{"id":"string","type":"warning|opportunity|trend|recommendation","title":"string","description":"string","impact":"high|medium|low","action":"string"}]}.'},P=`Contexto (30d):
${w}

Regras:
- Foque em recomendaes acionveis e sucintas.
- Use ttulos objetivos.
- No inclua dados sensveis.
- Priorize 4-6 itens.`,A=await z6([E,{role:"user",content:P}]);let M=null;try{M=JSON.parse(A.content)}catch{const R=A.content.match(/\{[\s\S]*\}/);M=R?JSON.parse(R[0]):null}const O=((M==null?void 0:M.insights)||[]).map((R,L)=>{const D=y(R.type),B={warning:"text-red-600",opportunity:"text-green-600",trend:"text-blue-600",recommendation:"text-purple-600"},k={warning:"bg-red-500/10",opportunity:"bg-green-500/10",trend:"bg-blue-500/10",recommendation:"bg-purple-500/10"};return{id:R.id||String(L+1),type:R.type,title:R.title,description:R.description,impact:R.impact,action:R.action,icon:D,color:B[R.type]||"text-muted-foreground",bgColor:k[R.type]||"bg-muted/20"}});O.length?(p(O),d(Date.now())):m("A IA no retornou insights vlidos. Mantendo base padro.")}catch(E){m((E==null?void 0:E.message)||"Falha ao gerar insights com a IA")}finally{u(!1)}}const _=()=>{if(!a)return null;switch(a.type){case"Oportunidade":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Detalhes da Oportunidade"}),s.jsx("p",{className:"text-green-700 text-sm",children:a.description})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Clientes Relevantes (",fD.length,")"]}),s.jsx("div",{className:"space-y-3",children:fD.map(E=>s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h5",{className:"font-medium",children:E.name}),s.jsx(ft,{variant:E.status==="Ativo"?"default":E.status==="Potencial"?"secondary":"outline",children:E.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.company}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(rE,{className:"w-3 h-3"}),E.email]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(u3,{className:"w-3 h-3"}),E.phone]})]}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:E.opportunity})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-lg",children:["R$ ",E.value.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Potencial"})]})]})},E.id))})]})]});case"Alerta":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Detalhes do Alerta"}),s.jsx("p",{className:"text-red-700 text-sm",children:a.description})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Wh,{className:"w-4 h-4 text-red-500"}),"Aes Recomendadas"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(El,{className:"w-4 h-4 text-orange-500"}),s.jsx("span",{className:"text-sm",children:"Entrar em contato com clientes em at 24h"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(zy,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm",children:"Revisar estratgia de reteno"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(jd,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm",children:"Oferecer benefcios exclusivos"})]})]})]})]});case"Tendncia":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Anlise de Tendncia"}),s.jsx("p",{className:"text-blue-700 text-sm",children:a.description})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Pn,{className:"w-4 h-4 text-blue-500"}),"Mtricas de Crescimento"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"+23%"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Crescimento mensal"})]}),s.jsxs(te,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"R$ 45K"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Receita projetada"})]})]})]})]});default:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:a.description}),s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Mais detalhes sobre este insight estaro disponveis em breve."})})]})}};x.useEffect(()=>{b()},[]);const j=g.length,N=g.filter(E=>E.type==="opportunity").length;g.filter(E=>E.type==="recommendation").length;const S=E=>{const P=E==="high"?"Alto Impacto":E==="medium"?"Mdio Impacto":"Baixo Impacto";return s.jsx(ft,{variant:"outline",className:"rounded-full text-xs",children:P})},C=E=>{switch(E){case"warning":return Wh;case"opportunity":return yP;case"trend":return Pn;case"recommendation":return Nh;default:return Nh}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(te,{className:"rounded-2xl border border-border/40 bg-background shadow-sm",children:s.jsx(Le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:s.jsx(Nh,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-lg",children:"Insights Inteligentes"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Anlises baseadas em IA para otimizar seu negcio"})]})]}),s.jsxs(H,{variant:"outline",size:"sm",className:"gap-2",onClick:b,"data-clickable":"true",disabled:c,children:[s.jsx(d3,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Atualizando":"Gerar com IA"]})]})})}),s.jsxs("div",{className:"text-xs text-muted-foreground pl-1",children:["ltima atualizao: ",new Date(f).toLocaleTimeString()]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(te,{className:"p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(Pn,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Insights Ativos"})]}),s.jsx("p",{className:"text-xl font-semibold",children:j})]}),s.jsxs(te,{className:"p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(ra,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Potencial de Receita"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"R$ 15K"})]}),s.jsxs(te,{className:"p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(Ds,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes Impactados"})]}),s.jsx("p",{className:"text-xl font-semibold",children:"20"})]}),s.jsxs(te,{className:"p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(zy,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Oportunidades Ativas"})]}),s.jsx("p",{className:"text-xl font-semibold",children:N})]})]}),s.jsx("div",{className:"grid gap-3 md:grid-cols-1 lg:grid-cols-2",children:g.map(E=>{const P=E.icon,A=C(E.type);return s.jsx(te,{className:"rounded-2xl border border-border/40 bg-background shadow-sm hover:shadow-md transition-all duration-200 group cursor-pointer",onClick:()=>v(E),children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:s.jsx(P,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:E.type})]})]}),S(E.impact)]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("h3",{className:"font-semibold text-sm text-foreground",children:E.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:E.description})]}),s.jsx("div",{className:"flex items-center justify-end pt-2",children:s.jsx(LY,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors"})})]})})},E.id)})}),s.jsx(Ir,{open:i,onOpenChange:l,children:s.jsxs(Cr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Er,{children:s.jsx(Or,{className:"flex items-center gap-2",children:a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:(()=>{const E=a.icon;return s.jsx(E,{className:"w-5 h-5 text-primary"})})()}),s.jsxs("div",{children:[s.jsx("span",{className:"text-lg font-semibold",children:a.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[(()=>{const E=C(a.type);return s.jsx(E,{className:"w-4 h-4 text-muted-foreground"})})(),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:a.type}),S(a.impact)]})]})]})})}),s.jsx("div",{className:"mt-6",children:_()})]})})]})}const e_=!1,bIe=()=>{const[e,t]=x.useState("30d"),{projetos:r,prevProjetos:n,clientes:a,prevClientes:o,transacoes:i,prevTransacoes:l,agendamentos:c,prevAgendamentos:u,isLoading:f}=t8(e),[d,h]=x.useState(!1),[m,g]=x.useState("create"),[p,v]=x.useState(null),[w,y]=x.useState("overview"),b=[{title:"Bem-vindo ao Noxus",description:"Centralize Clientes, Projetos, Vendas, Financeiro e Agenda num s lugar."},{title:"Clientes",description:"Cadastre clientes, acesse detalhes e relacione com projetos e vendas."},{title:"Projetos",description:"Crie e acompanhe projetos por status, cliente e informaes financeiras."},{title:"Vendas",description:"Registre oportunidades e conecte ao cliente e ao projeto quando aplicvel."},{title:"Financeiro",description:"Lance receitas e despesas para controlar o saldo por projeto e geral."},{title:"Agendamentos",description:"Agende reunies, entregas e follow-ups e visualize no calendrio."},{title:"Perfil",description:"Ajuste nome, foto e tema claro/escuro para personalizar sua experincia."}],{isOpen:_,stepIndex:j,steps:N,start:S,next:C,prev:E,skip:P,complete:A}=vle(b),M=()=>{g("create"),v(null),h(!0)},O=()=>{y("metas")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Viso completa e detalhada do seu sistema de gesto"})]}),s.jsx("button",{className:"rounded-md border border-neutral-300 dark:border-neutral-700 px-3 py-1.5 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800",onClick:S,children:"Comear tour"}),s.jsxs(ot,{value:e,onValueChange:R=>t(R),children:[s.jsx(rt,{className:"w-[180px] rounded-2xl",children:s.jsx(it,{placeholder:"Perodo"})}),s.jsxs(nt,{className:"rounded-2xl",children:[s.jsx(J,{value:"7d",children:"ltimos 7 dias"}),s.jsx(J,{value:"30d",children:"ltimos 30 dias"}),s.jsx(J,{value:"3m",children:"ltimos 3 meses"}),s.jsx(J,{value:"6m",children:"ltimos 6 meses"}),s.jsx(J,{value:"1y",children:"ltimo ano"}),s.jsx(J,{value:"all",children:"Todo perodo"})]})]})]}),f?s.jsxs("div",{className:"space-y-4",children:[s.jsx(xc,{className:"h-32 w-full rounded-3xl"}),s.jsx(xc,{className:"h-96 w-full rounded-3xl"})]}):s.jsxs(Fa,{value:w,onValueChange:y,className:"space-y-4",children:[s.jsxs(wa,{className:"rounded-2xl p-1.5 bg-muted/50",children:[s.jsx(St,{value:"overview",className:"rounded-xl",children:"Viso Geral"}),s.jsx(St,{value:"insights",className:"rounded-xl",children:"Insights"}),e_,s.jsx(St,{value:"clients",className:"rounded-xl",children:"Clientes"}),s.jsx(St,{value:"projects",className:"rounded-xl",children:"Projetos"}),s.jsx(St,{value:"schedules",className:"rounded-xl",children:"Agendamentos"}),s.jsx(St,{value:"finance",className:"rounded-xl",children:"Financeiro"})]}),s.jsx(Ct,{value:"overview",className:"space-y-4",children:s.jsx(Ece,{projetos:r,clientes:a,transacoes:i,agendamentos:c,prevProjetos:n,prevClientes:o,prevTransacoes:l,prevAgendamentos:u,onOpenMetasTab:O,onCreateMeta:M})}),e_,s.jsx(Ct,{value:"projects",className:"space-y-4",children:s.jsx(p$e,{projetos:r})}),s.jsx(Ct,{value:"finance",className:"space-y-4",children:s.jsx(g$e,{transacoes:i})}),s.jsx(Ct,{value:"clients",className:"space-y-4",children:s.jsx(v$e,{clientes:a})}),s.jsx(Ct,{value:"schedules",className:"space-y-4",children:s.jsx(y$e,{agendamentos:c})}),s.jsx(Ct,{value:"insights",className:"space-y-4",children:s.jsx(xIe,{transacoes:i,clientes:a,projetos:r,agendamentos:c})})]}),e_,s.jsx(gle,{isOpen:_,stepIndex:j,steps:N,onNext:C,onPrev:E,onSkip:P,onComplete:A})]})};var Fg=e=>e.type==="checkbox",Mc=e=>e instanceof Date,Ea=e=>e==null;const _9=e=>typeof e=="object";var xn=e=>!Ea(e)&&!Array.isArray(e)&&_9(e)&&!Mc(e),N9=e=>xn(e)&&e.target?Fg(e.target)?e.target.checked:e.target.value:e,wIe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,S9=(e,t)=>e.has(wIe(t)),jIe=e=>{const t=e.constructor&&e.constructor.prototype;return xn(t)&&t.hasOwnProperty("isPrototypeOf")},T2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function En(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(T2&&(e instanceof Blob||n))&&(r||xn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!jIe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=En(e[a]));else return e;return t}var mw=e=>/^\w*$/.test(e),Zr=e=>e===void 0,M2=e=>Array.isArray(e)?e.filter(Boolean):[],R2=e=>M2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(e,t,r)=>{if(!t||!xn(e))return r;const n=(mw(t)?[t]:R2(t)).reduce((a,o)=>Ea(a)?a:a[o],e);return Zr(n)||n===e?Zr(e[t])?r:e[t]:n},Wa=e=>typeof e=="boolean",ir=(e,t,r)=>{let n=-1;const a=mw(t)?[t]:R2(t),o=a.length,i=o-1;for(;++n<o;){const l=a[n];let c=r;if(n!==i){const u=e[l];c=xn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const l0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$2=z.createContext(null);$2.displayName="HookFormContext";const pw=()=>z.useContext($2),_Ie=e=>{const{children:t,...r}=e;return z.createElement($2.Provider,{value:r},t)};var C9=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const i=o;return t._proxyFormState[i]!==oo.all&&(t._proxyFormState[i]=!n||oo.all),r&&(r[i]=!0),e[i]}});return a};const D2=typeof window<"u"?z.useLayoutEffect:z.useEffect;function NIe(e){const t=pw(),{control:r=t.control,disabled:n,name:a,exact:o}=e||{},[i,l]=z.useState(r._formState),c=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return D2(()=>r._subscribe({name:a,formState:c.current,exact:o,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,o]),z.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),z.useMemo(()=>C9(i,r,c.current,!1),[i,r])}var Qa=e=>typeof e=="string",RS=(e,t,r,n,a)=>Qa(e)?(n&&t.watch.add(e),Be(r,e,a)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),Be(r,o))):(n&&(t.watchAll=!0),r),$S=e=>Ea(e)||!_9(e);function io(e,t,r=new WeakSet){if($S(e)||$S(t))return e===t;if(Mc(e)&&Mc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const i=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const l=t[o];if(Mc(i)&&Mc(l)||xn(i)&&xn(l)||Array.isArray(i)&&Array.isArray(l)?!io(i,l,r):i!==l)return!1}}return!0}function SIe(e){const t=pw(),{control:r=t.control,name:n,defaultValue:a,disabled:o,exact:i,compute:l}=e||{},c=z.useRef(a),u=z.useRef(l),f=z.useRef(void 0),d=z.useRef(r),h=z.useRef(n);u.current=l;const[m,g]=z.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),p=z.useCallback(_=>{const j=RS(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(j):j},[r._formValues,r._names,n]),v=z.useCallback(_=>{if(!o){const j=RS(n,r._names,_||r._formValues,!1,c.current);if(u.current){const N=u.current(j);io(N,f.current)||(g(N),f.current=N)}else g(j)}},[r._formValues,r._names,o,n]);D2(()=>((d.current!==r||!io(h.current,n))&&(d.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:i,callback:_=>{v(_.values)}})),[r,i,n,v]),z.useEffect(()=>r._removeUnmounted());const w=d.current!==r,y=h.current,b=z.useMemo(()=>{if(o)return null;const _=!w&&!io(y,n);return w||_?p():null},[o,w,n,y,p]);return b!==null?b:m}function CIe(e){const t=pw(),{name:r,disabled:n,control:a=t.control,shouldUnregister:o,defaultValue:i}=e,l=S9(a._names.array,r),c=z.useMemo(()=>Be(a._formValues,r,Be(a._defaultValues,r,i)),[a,r,i]),u=SIe({control:a,name:r,defaultValue:c,exact:!0}),f=NIe({control:a,name:r,exact:!0}),d=z.useRef(e),h=z.useRef(void 0),m=z.useRef(a.register(r,{...e.rules,value:u,...Wa(e.disabled)?{disabled:e.disabled}:{}}));d.current=e;const g=z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Be(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Be(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Be(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Be(f.validatingFields,r)},error:{enumerable:!0,get:()=>Be(f.errors,r)}}),[f,r]),p=z.useCallback(b=>m.current.onChange({target:{value:N9(b),name:r},type:l0.CHANGE}),[r]),v=z.useCallback(()=>m.current.onBlur({target:{value:Be(a._formValues,r),name:r},type:l0.BLUR}),[r,a._formValues]),w=z.useCallback(b=>{const _=Be(a._fields,r);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=z.useMemo(()=>({name:r,value:u,...Wa(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:p,onBlur:v,ref:w}),[r,n,f.disabled,p,v,w,u]);return z.useEffect(()=>{const b=a._options.shouldUnregister||o,_=h.current;_&&_!==r&&!l&&a.unregister(_),a.register(r,{...d.current.rules,...Wa(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(N,S)=>{const C=Be(a._fields,N);C&&C._f&&(C._f.mount=S)};if(j(r,!0),b){const N=En(Be(a._options.defaultValues,r,d.current.defaultValue));ir(a._defaultValues,r,N),Zr(Be(a._formValues,r))&&ir(a._formValues,r,N)}return!l&&a.register(r),h.current=r,()=>{(l?b&&!a._state.action:b)?a.unregister(r):j(r,!1)}},[r,a,l,o]),z.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),z.useMemo(()=>({field:y,formState:f,fieldState:g}),[y,f,g])}const DS=e=>e.render(CIe(e));var E9=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},wm=e=>Array.isArray(e)?e:[e],hD=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}};function O9(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],o=t[n];if(a&&xn(a)&&o){const i=O9(a,o);xn(i)&&(r[n]=i)}else e[n]&&(r[n]=o)}return r}var ia=e=>xn(e)&&!Object.keys(e).length,I2=e=>e.type==="file",lo=e=>typeof e=="function",c0=e=>{if(!T2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},A9=e=>e.type==="select-multiple",L2=e=>e.type==="radio",EIe=e=>L2(e)||Fg(e),t_=e=>c0(e)&&e.isConnected;function OIe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Zr(e)?n++:e[t[n++]];return e}function AIe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zr(e[t]))return!1;return!0}function fn(e,t){const r=Array.isArray(t)?t:mw(t)?[t]:R2(t),n=r.length===1?e:OIe(e,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(xn(n)&&ia(n)||Array.isArray(n)&&AIe(n))&&fn(e,r.slice(0,-1)),e}var PIe=e=>{for(const t in e)if(lo(e[t]))return!0;return!1};function P9(e){return Array.isArray(e)||xn(e)&&!PIe(e)}function IS(e,t={}){for(const r in e)P9(e[r])?(t[r]=Array.isArray(e[r])?[]:{},IS(e[r],t[r])):Zr(e[r])||(t[r]=!0);return t}function Ku(e,t,r){r||(r=IS(t));for(const n in e)P9(e[n])?Zr(t)||$S(r[n])?r[n]=IS(e[n],Array.isArray(e[n])?[]:{}):Ku(e[n],Ea(t)?{}:t[n],r[n]):r[n]=!io(e[n],t[n]);return r}const mD={value:!1,isValid:!1},pD={value:!0,isValid:!0};var k9=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zr(e[0].attributes.value)?Zr(e[0].value)||e[0].value===""?pD:{value:e[0].value,isValid:!0}:pD:mD}return mD},T9=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Zr(e)?e:t?e===""?NaN:e&&+e:r&&Qa(e)?new Date(e):n?n(e):e;const gD={isValid:!1,value:null};var M9=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gD):gD;function vD(e){const t=e.ref;return I2(t)?t.files:L2(t)?M9(e.refs).value:A9(t)?[...t.selectedOptions].map(({value:r})=>r):Fg(t)?k9(e.refs).value:T9(Zr(t.value)?e.ref.value:t.value,e)}var kIe=(e,t,r,n)=>{const a={};for(const o of e){const i=Be(t,o);i&&ir(a,o,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},u0=e=>e instanceof RegExp,Lh=e=>Zr(e)?e:u0(e)?e.source:xn(e)?u0(e.value)?e.value.source:e.value:e,yD=e=>({isOnSubmit:!e||e===oo.onSubmit,isOnBlur:e===oo.onBlur,isOnChange:e===oo.onChange,isOnAll:e===oo.all,isOnTouch:e===oo.onTouched});const xD="AsyncFunction";var TIe=e=>!!e&&!!e.validate&&!!(lo(e.validate)&&e.validate.constructor.name===xD||xn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===xD)),MIe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),bD=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const jm=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const o=Be(e,a);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(jm(l,t))break}else if(xn(l)&&jm(l,t))break}}};function wD(e,t,r){const n=Be(e,r);if(n||mw(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),i=Be(t,o),l=Be(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};if(l&&l.root&&l.root.type)return{name:`${o}.root`,error:l.root};a.pop()}return{name:r}}var RIe=(e,t,r,n)=>{r(e);const{name:a,...o}=e;return ia(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||oo.all))},$Ie=(e,t,r)=>!e||!t||e===t||wm(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),DIe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,IIe=(e,t)=>!M2(Be(e,t)).length&&fn(e,t),LIe=(e,t,r)=>{const n=wm(Be(e,r));return ir(n,"root",t[r]),ir(e,r,n),e};function jD(e,t,r="validate"){if(Qa(e)||Array.isArray(e)&&e.every(Qa)||Wa(e)&&!e)return{type:r,message:Qa(e)?e:"",ref:t}}var Wu=e=>xn(e)&&!u0(e)?e:{value:e,message:""},_D=async(e,t,r,n,a,o)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:f,min:d,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:w}=e._f,y=Be(r,p);if(!w||t.has(p))return{};const b=l?l[0]:i,_=M=>{a&&b.reportValidity&&(b.setCustomValidity(Wa(M)?"":M||""),b.reportValidity())},j={},N=L2(i),S=Fg(i),C=N||S,E=(v||I2(i))&&Zr(i.value)&&Zr(y)||c0(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=E9.bind(null,p,n,j),A=(M,O,R,L=ai.maxLength,D=ai.minLength)=>{const B=M?O:R;j[p]={type:M?L:D,message:B,ref:i,...P(M?L:D,B)}};if(o?!Array.isArray(y)||!y.length:c&&(!C&&(E||Ea(y))||Wa(y)&&!y||S&&!k9(l).isValid||N&&!M9(l).isValid)){const{value:M,message:O}=Qa(c)?{value:!!c,message:c}:Wu(c);if(M&&(j[p]={type:ai.required,message:O,ref:b,...P(ai.required,O)},!n))return _(O),j}if(!E&&(!Ea(d)||!Ea(h))){let M,O;const R=Wu(h),L=Wu(d);if(!Ea(y)&&!isNaN(y)){const D=i.valueAsNumber||y&&+y;Ea(R.value)||(M=D>R.value),Ea(L.value)||(O=D<L.value)}else{const D=i.valueAsDate||new Date(y),B=q=>new Date(new Date().toDateString()+" "+q),k=i.type=="time",T=i.type=="week";Qa(R.value)&&y&&(M=k?B(y)>B(R.value):T?y>R.value:D>new Date(R.value)),Qa(L.value)&&y&&(O=k?B(y)<B(L.value):T?y<L.value:D<new Date(L.value))}if((M||O)&&(A(!!M,R.message,L.message,ai.max,ai.min),!n))return _(j[p].message),j}if((u||f)&&!E&&(Qa(y)||o&&Array.isArray(y))){const M=Wu(u),O=Wu(f),R=!Ea(M.value)&&y.length>+M.value,L=!Ea(O.value)&&y.length<+O.value;if((R||L)&&(A(R,M.message,O.message),!n))return _(j[p].message),j}if(m&&!E&&Qa(y)){const{value:M,message:O}=Wu(m);if(u0(M)&&!y.match(M)&&(j[p]={type:ai.pattern,message:O,ref:i,...P(ai.pattern,O)},!n))return _(O),j}if(g){if(lo(g)){const M=await g(y,r),O=jD(M,b);if(O&&(j[p]={...O,...P(ai.validate,O.message)},!n))return _(O.message),j}else if(xn(g)){let M={};for(const O in g){if(!ia(M)&&!n)break;const R=jD(await g[O](y,r),b,O);R&&(M={...R,...P(O,R.message)},_(R.message),n&&(j[p]=M))}if(!ia(M)&&(j[p]={ref:b,...M},!n))return j}}return _(!0),j};const FIe={mode:oo.onSubmit,reValidateMode:oo.onChange,shouldFocusError:!0};function BIe(e={}){let t={...FIe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:lo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=xn(t.defaultValues)||xn(t.values)?En(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:En(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const h={array:hD(),state:hD()},m=t.criteriaMode===oo.all,g=U=>$=>{clearTimeout(u),u=setTimeout(U,$)},p=async U=>{if(!t.disabled&&(f.isValid||d.isValid||U)){const $=t.resolver?ia((await S()).errors):await E(n,!0);$!==r.isValid&&h.state.next({isValid:$})}},v=(U,$)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((U||Array.from(l.mount)).forEach(V=>{V&&($?ir(r.validatingFields,V,$):fn(r.validatingFields,V))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ia(r.validatingFields)}))},w=(U,$=[],V,oe,se=!0,le=!0)=>{if(oe&&V&&!t.disabled){if(i.action=!0,le&&Array.isArray(Be(n,U))){const K=V(Be(n,U),oe.argA,oe.argB);se&&ir(n,U,K)}if(le&&Array.isArray(Be(r.errors,U))){const K=V(Be(r.errors,U),oe.argA,oe.argB);se&&ir(r.errors,U,K),IIe(r.errors,U)}if((f.touchedFields||d.touchedFields)&&le&&Array.isArray(Be(r.touchedFields,U))){const K=V(Be(r.touchedFields,U),oe.argA,oe.argB);se&&ir(r.touchedFields,U,K)}(f.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Ku(a,o)),h.state.next({name:U,isDirty:A(U,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ir(o,U,$)},y=(U,$)=>{ir(r.errors,U,$),h.state.next({errors:r.errors})},b=U=>{r.errors=U,h.state.next({errors:r.errors,isValid:!1})},_=(U,$,V,oe)=>{const se=Be(n,U);if(se){const le=Be(o,U,Zr(V)?Be(a,U):V);Zr(le)||oe&&oe.defaultChecked||$?ir(o,U,$?le:vD(se._f)):R(U,le),i.mount&&p()}},j=(U,$,V,oe,se)=>{let le=!1,K=!1;const ue={name:U};if(!t.disabled){if(!V||oe){(f.isDirty||d.isDirty)&&(K=r.isDirty,r.isDirty=ue.isDirty=A(),le=K!==ue.isDirty);const Ie=io(Be(a,U),$);K=!!Be(r.dirtyFields,U),Ie?fn(r.dirtyFields,U):ir(r.dirtyFields,U,!0),ue.dirtyFields=r.dirtyFields,le=le||(f.dirtyFields||d.dirtyFields)&&K!==!Ie}if(V){const Ie=Be(r.touchedFields,U);Ie||(ir(r.touchedFields,U,V),ue.touchedFields=r.touchedFields,le=le||(f.touchedFields||d.touchedFields)&&Ie!==V)}le&&se&&h.state.next(ue)}return le?ue:{}},N=(U,$,V,oe)=>{const se=Be(r.errors,U),le=(f.isValid||d.isValid)&&Wa($)&&r.isValid!==$;if(t.delayError&&V?(c=g(()=>y(U,V)),c(t.delayError)):(clearTimeout(u),c=null,V?ir(r.errors,U,V):fn(r.errors,U)),(V?!io(se,V):se)||!ia(oe)||le){const K={...oe,...le&&Wa($)?{isValid:$}:{},errors:r.errors,name:U};r={...r,...K},h.state.next(K)}},S=async U=>{v(U,!0);const $=await t.resolver(o,t.context,kIe(U||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(U),$},C=async U=>{const{errors:$}=await S(U);if(U)for(const V of U){const oe=Be($,V);oe?ir(r.errors,V,oe):fn(r.errors,V)}else r.errors=$;return $},E=async(U,$,V={valid:!0})=>{for(const oe in U){const se=U[oe];if(se){const{_f:le,...K}=se;if(le){const ue=l.array.has(le.name),Ie=se._f&&TIe(se._f);Ie&&f.validatingFields&&v([le.name],!0);const Qe=await _D(se,l.disabled,o,m,t.shouldUseNativeValidation&&!$,ue);if(Ie&&f.validatingFields&&v([le.name]),Qe[le.name]&&(V.valid=!1,$))break;!$&&(Be(Qe,le.name)?ue?LIe(r.errors,Qe,le.name):ir(r.errors,le.name,Qe[le.name]):fn(r.errors,le.name))}!ia(K)&&await E(K,$,V)}}return V.valid},P=()=>{for(const U of l.unMount){const $=Be(n,U);$&&($._f.refs?$._f.refs.every(V=>!t_(V)):!t_($._f.ref))&&he(U)}l.unMount=new Set},A=(U,$)=>!t.disabled&&(U&&$&&ir(o,U,$),!io(q(),a)),M=(U,$,V)=>RS(U,l,{...i.mount?o:Zr($)?a:Qa(U)?{[U]:$}:$},V,$),O=U=>M2(Be(i.mount?o:a,U,t.shouldUnregister?Be(a,U,[]):[])),R=(U,$,V={})=>{const oe=Be(n,U);let se=$;if(oe){const le=oe._f;le&&(!le.disabled&&ir(o,U,T9($,le)),se=c0(le.ref)&&Ea($)?"":$,A9(le.ref)?[...le.ref.options].forEach(K=>K.selected=se.includes(K.value)):le.refs?Fg(le.ref)?le.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(se)?K.checked=!!se.find(ue=>ue===K.value):K.checked=se===K.value||!!se)}):le.refs.forEach(K=>K.checked=K.value===se):I2(le.ref)?le.ref.value="":(le.ref.value=se,le.ref.type||h.state.next({name:U,values:En(o)})))}(V.shouldDirty||V.shouldTouch)&&j(U,se,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&T(U)},L=(U,$,V)=>{for(const oe in $){if(!$.hasOwnProperty(oe))return;const se=$[oe],le=U+"."+oe,K=Be(n,le);(l.array.has(U)||xn(se)||K&&!K._f)&&!Mc(se)?L(le,se,V):R(le,se,V)}},D=(U,$,V={})=>{const oe=Be(n,U),se=l.array.has(U),le=En($);ir(o,U,le),se?(h.array.next({name:U,values:En(o)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&V.shouldDirty&&h.state.next({name:U,dirtyFields:Ku(a,o),isDirty:A(U,le)})):oe&&!oe._f&&!Ea(le)?L(U,le,V):R(U,le,V),bD(U,l)&&h.state.next({...r,name:U}),h.state.next({name:i.mount?U:void 0,values:En(o)})},B=async U=>{i.mount=!0;const $=U.target;let V=$.name,oe=!0;const se=Be(n,V),le=Ie=>{oe=Number.isNaN(Ie)||Mc(Ie)&&isNaN(Ie.getTime())||io(Ie,Be(o,V,Ie))},K=yD(t.mode),ue=yD(t.reValidateMode);if(se){let Ie,Qe;const dr=$.type?vD(se._f):N9(U),W=U.type===l0.BLUR||U.type===l0.FOCUS_OUT,xe=!MIe(se._f)&&!t.resolver&&!Be(r.errors,V)&&!se._f.deps||DIe(W,Be(r.touchedFields,V),r.isSubmitted,ue,K),Me=bD(V,l,W);ir(o,V,dr),W?(!$||!$.readOnly)&&(se._f.onBlur&&se._f.onBlur(U),c&&c(0)):se._f.onChange&&se._f.onChange(U);const et=j(V,dr,W),Ue=!ia(et)||Me;if(!W&&h.state.next({name:V,type:U.type,values:En(o)}),xe)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?W&&p():W||p()),Ue&&h.state.next({name:V,...Me?{}:et});if(!W&&Me&&h.state.next({...r}),t.resolver){const{errors:lt}=await S([V]);if(le(dr),oe){const I=wD(r.errors,n,V),ae=wD(lt,n,I.name||V);Ie=ae.error,V=ae.name,Qe=ia(lt)}}else v([V],!0),Ie=(await _D(se,l.disabled,o,m,t.shouldUseNativeValidation))[V],v([V]),le(dr),oe&&(Ie?Qe=!1:(f.isValid||d.isValid)&&(Qe=await E(n,!0)));oe&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&T(se._f.deps),N(V,Qe,Ie,et))}},k=(U,$)=>{if(Be(r.errors,$)&&U.focus)return U.focus(),1},T=async(U,$={})=>{let V,oe;const se=wm(U);if(t.resolver){const le=await C(Zr(U)?U:se);V=ia(le),oe=U?!se.some(K=>Be(le,K)):V}else U?(oe=(await Promise.all(se.map(async le=>{const K=Be(n,le);return await E(K&&K._f?{[le]:K}:K)}))).every(Boolean),!(!oe&&!r.isValid)&&p()):oe=V=await E(n);return h.state.next({...!Qa(U)||(f.isValid||d.isValid)&&V!==r.isValid?{}:{name:U},...t.resolver||!U?{isValid:V}:{},errors:r.errors}),$.shouldFocus&&!oe&&jm(n,k,U?se:l.mount),oe},q=(U,$)=>{let V={...i.mount?o:a};return $&&(V=O9($.dirtyFields?r.dirtyFields:r.touchedFields,V)),Zr(U)?V:Qa(U)?Be(V,U):U.map(oe=>Be(V,oe))},Q=(U,$)=>({invalid:!!Be(($||r).errors,U),isDirty:!!Be(($||r).dirtyFields,U),error:Be(($||r).errors,U),isValidating:!!Be(r.validatingFields,U),isTouched:!!Be(($||r).touchedFields,U)}),F=U=>{U&&wm(U).forEach($=>fn(r.errors,$)),h.state.next({errors:U?r.errors:{}})},X=(U,$,V)=>{const oe=(Be(n,U,{_f:{}})._f||{}).ref,se=Be(r.errors,U)||{},{ref:le,message:K,type:ue,...Ie}=se;ir(r.errors,U,{...Ie,...$,ref:oe}),h.state.next({name:U,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&oe&&oe.focus&&oe.focus()},ce=(U,$)=>lo(U)?h.state.subscribe({next:V=>"values"in V&&U(M(void 0,$),V)}):M(U,$,!0),pe=U=>h.state.subscribe({next:$=>{$Ie(U.name,$.name,U.exact)&&RIe($,U.formState||f,Ut,U.reRenderRoot)&&U.callback({values:{...o},...r,...$,defaultValues:a})}}).unsubscribe,ge=U=>(i.mount=!0,d={...d,...U.formState},pe({...U,formState:d})),he=(U,$={})=>{for(const V of U?wm(U):l.mount)l.mount.delete(V),l.array.delete(V),$.keepValue||(fn(n,V),fn(o,V)),!$.keepError&&fn(r.errors,V),!$.keepDirty&&fn(r.dirtyFields,V),!$.keepTouched&&fn(r.touchedFields,V),!$.keepIsValidating&&fn(r.validatingFields,V),!t.shouldUnregister&&!$.keepDefaultValue&&fn(a,V);h.state.next({values:En(o)}),h.state.next({...r,...$.keepDirty?{isDirty:A()}:{}}),!$.keepIsValid&&p()},qe=({disabled:U,name:$})=>{(Wa(U)&&i.mount||U||l.disabled.has($))&&(U?l.disabled.add($):l.disabled.delete($))},ie=(U,$={})=>{let V=Be(n,U);const oe=Wa($.disabled)||Wa(t.disabled);return ir(n,U,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:U}},name:U,mount:!0,...$}}),l.mount.add(U),V?qe({disabled:Wa($.disabled)?$.disabled:t.disabled,name:U}):_(U,!0,$.value),{...oe?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:Lh($.min),max:Lh($.max),minLength:Lh($.minLength),maxLength:Lh($.maxLength),pattern:Lh($.pattern)}:{},name:U,onChange:B,onBlur:B,ref:se=>{if(se){ie(U,$),V=Be(n,U);const le=Zr(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,K=EIe(le),ue=V._f.refs||[];if(K?ue.find(Ie=>Ie===le):le===V._f.ref)return;ir(n,U,{_f:{...V._f,...K?{refs:[...ue.filter(t_),le,...Array.isArray(Be(a,U))?[{}]:[]],ref:{type:le.type,name:U}}:{ref:le}}}),_(U,!1,void 0,le)}else V=Be(n,U,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(S9(l.array,U)&&i.action)&&l.unMount.add(U)}}},ye=()=>t.shouldFocusError&&jm(n,k,l.mount),ve=U=>{Wa(U)&&(h.state.next({disabled:U}),jm(n,($,V)=>{const oe=Be(n,V);oe&&($.disabled=oe._f.disabled||U,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(se=>{se.disabled=oe._f.disabled||U}))},0,!1))},ne=(U,$)=>async V=>{let oe;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let se=En(o);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:K}=await S();r.errors=le,se=En(K)}else await E(n);if(l.disabled.size)for(const le of l.disabled)fn(se,le);if(fn(r.errors,"root"),ia(r.errors)){h.state.next({errors:{}});try{await U(se,V)}catch(le){oe=le}}else $&&await $({...r.errors},V),ye(),setTimeout(ye);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ia(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},gt=(U,$={})=>{Be(n,U)&&(Zr($.defaultValue)?D(U,En(Be(a,U))):(D(U,$.defaultValue),ir(a,U,En($.defaultValue))),$.keepTouched||fn(r.touchedFields,U),$.keepDirty||(fn(r.dirtyFields,U),r.isDirty=$.defaultValue?A(U,En(Be(a,U))):A()),$.keepError||(fn(r.errors,U),f.isValid&&p()),h.state.next({...r}))},at=(U,$={})=>{const V=U?En(U):a,oe=En(V),se=ia(U),le=se?a:oe;if($.keepDefaultValues||(a=V),!$.keepValues){if($.keepDirtyValues){const K=new Set([...l.mount,...Object.keys(Ku(a,o))]);for(const ue of Array.from(K))Be(r.dirtyFields,ue)?ir(le,ue,Be(o,ue)):D(ue,Be(le,ue))}else{if(T2&&Zr(U))for(const K of l.mount){const ue=Be(n,K);if(ue&&ue._f){const Ie=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(c0(Ie)){const Qe=Ie.closest("form");if(Qe){Qe.reset();break}}}}if($.keepFieldsRef)for(const K of l.mount)D(K,Be(le,K));else n={}}o=t.shouldUnregister?$.keepDefaultValues?En(a):{}:En(le),h.array.next({values:{...le}}),h.state.next({values:{...le}})}l={mount:$.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!t.shouldUnregister&&!ia(le),i.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:se?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!io(U,a)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:se?{}:$.keepDirtyValues?$.keepDefaultValues&&o?Ku(a,o):r.dirtyFields:$.keepDefaultValues&&U?Ku(a,U):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},je=(U,$)=>at(lo(U)?U(o):U,$),yt=(U,$={})=>{const V=Be(n,U),oe=V&&V._f;if(oe){const se=oe.refs?oe.refs[0]:oe.ref;se.focus&&(se.focus(),$.shouldSelect&&lo(se.select)&&se.select())}},Ut=U=>{r={...r,...U}},Ne={control:{register:ie,unregister:he,getFieldState:Q,handleSubmit:ne,setError:X,_subscribe:pe,_runSchema:S,_focusError:ye,_getWatch:M,_getDirty:A,_setValid:p,_setFieldArray:w,_setDisabledField:qe,_setErrors:b,_getFieldArray:O,_reset:at,_resetDefaultValues:()=>lo(t.defaultValues)&&t.defaultValues().then(U=>{je(U,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:ve,_subjects:h,_proxyFormState:f,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(U){i=U},get _defaultValues(){return a},get _names(){return l},set _names(U){l=U},get _formState(){return r},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:ge,trigger:T,register:ie,handleSubmit:ne,watch:ce,setValue:D,getValues:q,reset:je,resetField:gt,clearErrors:F,unregister:he,setError:X,setFocus:yt,getFieldState:Q};return{...Ne,formControl:Ne}}function Pi(e={}){const t=z.useRef(void 0),r=z.useRef(void 0),[n,a]=z.useState({isDirty:!1,isValidating:!1,isLoading:lo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:lo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!lo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=BIe(e);t.current={...l,formState:n}}const o=t.current.control;return o._options=e,D2(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),o._formState.isReady=!0,i},[o]),z.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),z.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),z.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),z.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),z.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),z.useEffect(()=>{e.values&&!io(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,a(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),z.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=C9(n,o),t.current}const ND=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Be(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},R9=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ND(n.ref,r,e):n.refs&&n.refs.forEach(a=>ND(a,r,e))}},zIe=(e,t)=>{t.shouldUseNativeValidation&&R9(e,t);const r={};for(const n in e){const a=Be(t.fields,n),o=Object.assign(e[n]||{},{ref:a&&a.ref});if(UIe(t.names||Object.keys(e),n)){const i=Object.assign({},Be(r,n));ir(i,"root",o),ir(r,n,i)}else ir(r,n,o)}return r},UIe=(e,t)=>e.some(r=>r.startsWith(t+"."));var VIe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=E9(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},ki=function(e,t,r){return r===void 0&&(r={}),function(n,a,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&R9({},o),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:zIe(VIe(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},tr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const o={};for(const i of a)o[i]=i;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of o)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.push(i);return o},e.find=(a,o)=>{for(const i of a)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(tr||(tr={}));var SD;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(SD||(SD={}));const st=tr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qi=e=>{switch(typeof e){case"undefined":return st.undefined;case"string":return st.string;case"number":return Number.isNaN(e)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(e)?st.array:e===null?st.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?st.promise:typeof Map<"u"&&e instanceof Map?st.map:typeof Set<"u"&&e instanceof Set?st.set:typeof Date<"u"&&e instanceof Date?st.date:st.object;default:return st.unknown}},ke=tr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Qo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];r[o]=r[o]||[],r[o].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qo.create=e=>new Qo(e);const LS=(e,t)=>{let r;switch(e.code){case ke.invalid_type:e.received===st.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tr.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${tr.joinValues(e.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tr.joinValues(e.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${tr.joinValues(e.options)}, received '${e.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,tr.assertNever(e)}return{message:r}};let qIe=LS;function WIe(){return qIe}const HIe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,o=[...r,...a.path||[]],i={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...a,path:o,message:l}};function We(e,t){const r=WIe(),n=HIe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===LS?void 0:LS].filter(a=>!!a)});e.common.issues.push(n)}class cs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Rt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const o=await a.key,i=await a.value;n.push({key:o,value:i})}return cs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:i}=a;if(o.status==="aborted"||i.status==="aborted")return Rt;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const Rt=Object.freeze({status:"aborted"}),Qh=e=>({status:"dirty",value:e}),Vs=e=>({status:"valid",value:e}),CD=e=>e.status==="aborted",ED=e=>e.status==="dirty",Df=e=>e.status==="valid",d0=e=>typeof Promise<"u"&&e instanceof Promise;var ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ut||(ut={}));class Fl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const OD=(e,t)=>{if(Df(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qo(e.common.issues);return this._error=r,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class er{get description(){return this._def.description}_getType(t){return Qi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new cs,ctx:{common:t.parent.common,data:t.data,parsedType:Qi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(d0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qi(t)},a=this._parseSync({data:t,path:n.path,parent:n});return OD(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qi(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return Df(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(a=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>Df(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qi(t)},a=this._parse({data:t,path:n.path,parent:n}),o=await(d0(a)?a:Promise.resolve(a));return OD(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const i=t(a),l=()=>o.addIssue({code:ke.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new pu({schema:this,typeName:$t.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ml.create(this,this._def)}nullable(){return Ff.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Go.create(this)}promise(){return p0.create(this,this._def)}or(t){return h0.create([this,t],this._def)}and(t){return m0.create(this,t,this._def)}transform(t){return new pu({...qt(this._def),schema:this,typeName:$t.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new zS({...qt(this._def),innerType:this,defaultValue:r,typeName:$t.ZodDefault})}brand(){return new p4e({typeName:$t.ZodBranded,type:this,...qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new US({...qt(this._def),innerType:this,catchValue:r,typeName:$t.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return F2.create(this,t)}readonly(){return VS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const GIe=/^c[^\s-]{8,}$/i,KIe=/^[0-9a-z]+$/,YIe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XIe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QIe=/^[a-z0-9_-]{21}$/i,ZIe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,JIe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e4e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t4e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r_;const r4e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,n4e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,a4e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,s4e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,o4e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,i4e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",l4e=new RegExp(`^${$9}$`);function D9(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function c4e(e){return new RegExp(`^${D9(e)}$`)}function u4e(e){let t=`${$9}T${D9(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function d4e(e,t){return!!((t==="v4"||!t)&&r4e.test(e)||(t==="v6"||!t)&&a4e.test(e))}function f4e(e,t){if(!ZIe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function h4e(e,t){return!!((t==="v4"||!t)&&n4e.test(e)||(t==="v6"||!t)&&s4e.test(e))}class vl extends er{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==st.string){const o=this._getOrReturnCtx(t);return We(o,{code:ke.invalid_type,expected:st.string,received:o.parsedType}),Rt}const n=new cs;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:ke.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:ke.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?We(a,{code:ke.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&We(a,{code:ke.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")e4e.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"email",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")r_||(r_=new RegExp(t4e,"u")),r_.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"emoji",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")XIe.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"uuid",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")QIe.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"nanoid",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")GIe.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"cuid",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")KIe.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"cuid2",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")YIe.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"ulid",code:ke.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),We(a,{validation:"url",code:ke.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"regex",code:ke.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(t,a),We(a,{code:ke.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),We(a,{code:ke.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),We(a,{code:ke.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?u4e(o).test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{code:ke.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?l4e.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{code:ke.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?c4e(o).test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{code:ke.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?JIe.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"duration",code:ke.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?d4e(t.data,o.version)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"ip",code:ke.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?f4e(t.data,o.alg)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"jwt",code:ke.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?h4e(t.data,o.version)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"cidr",code:ke.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?o4e.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"base64",code:ke.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?i4e.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"base64url",code:ke.invalid_string,message:o.message}),n.dirty()):tr.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ke.invalid_string,...ut.errToObj(n)})}_addCheck(t){return new vl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ut.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ut.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ut.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ut.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ut.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ut.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ut.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ut.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ut.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ut.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ut.errToObj(r)})}nonempty(t){return this.min(1,ut.errToObj(t))}trim(){return new vl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vl.create=e=>new vl({checks:[],typeName:$t.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...qt(e)});function m4e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=Number.parseInt(e.toFixed(a).replace(".","")),i=Number.parseInt(t.toFixed(a).replace(".",""));return o%i/10**a}class If extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==st.number){const o=this._getOrReturnCtx(t);return We(o,{code:ke.invalid_type,expected:st.number,received:o.parsedType}),Rt}let n;const a=new cs;for(const o of this._def.checks)o.kind==="int"?tr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),We(n,{code:ke.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),We(n,{code:ke.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),We(n,{code:ke.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?m4e(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),We(n,{code:ke.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),We(n,{code:ke.not_finite,message:o.message}),a.dirty()):tr.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,n,a){return new If({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ut.toString(a)}]})}_addCheck(t){return new If({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&tr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}If.create=e=>new If({checks:[],typeName:$t.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Bp extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==st.bigint)return this._getInvalidInput(t);let n;const a=new cs;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),We(n,{code:ke.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),We(n,{code:ke.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),We(n,{code:ke.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):tr.assertNever(o);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return We(r,{code:ke.invalid_type,expected:st.bigint,received:r.parsedType}),Rt}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,n,a){return new Bp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ut.toString(a)}]})}_addCheck(t){return new Bp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bp.create=e=>new Bp({checks:[],typeName:$t.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...qt(e)});class AD extends er{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==st.boolean){const n=this._getOrReturnCtx(t);return We(n,{code:ke.invalid_type,expected:st.boolean,received:n.parsedType}),Rt}return Vs(t.data)}}AD.create=e=>new AD({typeName:$t.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class f0 extends er{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==st.date){const o=this._getOrReturnCtx(t);return We(o,{code:ke.invalid_type,expected:st.date,received:o.parsedType}),Rt}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return We(o,{code:ke.invalid_date}),Rt}const n=new cs;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:ke.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:ke.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):tr.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new f0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ut.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ut.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}f0.create=e=>new f0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:$t.ZodDate,...qt(e)});class PD extends er{_parse(t){if(this._getType(t)!==st.symbol){const n=this._getOrReturnCtx(t);return We(n,{code:ke.invalid_type,expected:st.symbol,received:n.parsedType}),Rt}return Vs(t.data)}}PD.create=e=>new PD({typeName:$t.ZodSymbol,...qt(e)});class kD extends er{_parse(t){if(this._getType(t)!==st.undefined){const n=this._getOrReturnCtx(t);return We(n,{code:ke.invalid_type,expected:st.undefined,received:n.parsedType}),Rt}return Vs(t.data)}}kD.create=e=>new kD({typeName:$t.ZodUndefined,...qt(e)});class TD extends er{_parse(t){if(this._getType(t)!==st.null){const n=this._getOrReturnCtx(t);return We(n,{code:ke.invalid_type,expected:st.null,received:n.parsedType}),Rt}return Vs(t.data)}}TD.create=e=>new TD({typeName:$t.ZodNull,...qt(e)});class MD extends er{constructor(){super(...arguments),this._any=!0}_parse(t){return Vs(t.data)}}MD.create=e=>new MD({typeName:$t.ZodAny,...qt(e)});class RD extends er{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vs(t.data)}}RD.create=e=>new RD({typeName:$t.ZodUnknown,...qt(e)});class Bl extends er{_parse(t){const r=this._getOrReturnCtx(t);return We(r,{code:ke.invalid_type,expected:st.never,received:r.parsedType}),Rt}}Bl.create=e=>new Bl({typeName:$t.ZodNever,...qt(e)});class $D extends er{_parse(t){if(this._getType(t)!==st.undefined){const n=this._getOrReturnCtx(t);return We(n,{code:ke.invalid_type,expected:st.void,received:n.parsedType}),Rt}return Vs(t.data)}}$D.create=e=>new $D({typeName:$t.ZodVoid,...qt(e)});class Go extends er{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==st.array)return We(r,{code:ke.invalid_type,expected:st.array,received:r.parsedType}),Rt;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(We(r,{code:i?ke.too_big:ke.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(We(r,{code:ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(We(r,{code:ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new Fl(r,i,r.path,l)))).then(i=>cs.mergeArray(n,i));const o=[...r.data].map((i,l)=>a.type._parseSync(new Fl(r,i,r.path,l)));return cs.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Go({...this._def,minLength:{value:t,message:ut.toString(r)}})}max(t,r){return new Go({...this._def,maxLength:{value:t,message:ut.toString(r)}})}length(t,r){return new Go({...this._def,exactLength:{value:t,message:ut.toString(r)}})}nonempty(t){return this.min(1,t)}}Go.create=(e,t)=>new Go({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$t.ZodArray,...qt(t)});function Yu(e){if(e instanceof gn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ml.create(Yu(n))}return new gn({...e._def,shape:()=>t})}else return e instanceof Go?new Go({...e._def,type:Yu(e.element)}):e instanceof Ml?Ml.create(Yu(e.unwrap())):e instanceof Ff?Ff.create(Yu(e.unwrap())):e instanceof mu?mu.create(e.items.map(t=>Yu(t))):e}class gn extends er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=tr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==st.object){const u=this._getOrReturnCtx(t);return We(u,{code:ke.invalid_type,expected:st.object,received:u.parsedType}),Rt}const{status:n,ctx:a}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bl&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const f=o[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Fl(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Bl){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(u==="strict")l.length>0&&(We(a,{code:ke.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=a.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Fl(a,d,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>cs.mergeObjectSync(n,u)):cs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ut.errToObj,new gn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i;const a=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ut.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new gn({...this._def,unknownKeys:"strip"})}passthrough(){return new gn({...this._def,unknownKeys:"passthrough"})}extend(t){return new gn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:$t.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new gn({...this._def,catchall:t})}pick(t){const r={};for(const n of tr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new gn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of tr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new gn({...this._def,shape:()=>r})}deepPartial(){return Yu(this)}partial(t){const r={};for(const n of tr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new gn({...this._def,shape:()=>r})}required(t){const r={};for(const n of tr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Ml;)o=o._def.innerType;r[n]=o}return new gn({...this._def,shape:()=>r})}keyof(){return I9(tr.objectKeys(this.shape))}}gn.create=(e,t)=>new gn({shape:()=>e,unknownKeys:"strip",catchall:Bl.create(),typeName:$t.ZodObject,...qt(t)});gn.strictCreate=(e,t)=>new gn({shape:()=>e,unknownKeys:"strict",catchall:Bl.create(),typeName:$t.ZodObject,...qt(t)});gn.lazycreate=(e,t)=>new gn({shape:e,unknownKeys:"strip",catchall:Bl.create(),typeName:$t.ZodObject,...qt(t)});class h0 extends er{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new Qo(l.ctx.common.issues));return We(r,{code:ke.invalid_union,unionErrors:i}),Rt}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new Qo(c));return We(r,{code:ke.invalid_union,unionErrors:l}),Rt}}get options(){return this._def.options}}h0.create=(e,t)=>new h0({options:e,typeName:$t.ZodUnion,...qt(t)});function FS(e,t){const r=Qi(e),n=Qi(t);if(e===t)return{valid:!0,data:e};if(r===st.object&&n===st.object){const a=tr.objectKeys(t),o=tr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=FS(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===st.array&&n===st.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=FS(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===st.date&&n===st.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class m0 extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,i)=>{if(CD(o)||CD(i))return Rt;const l=FS(o.value,i.value);return l.valid?((ED(o)||ED(i))&&r.dirty(),{status:r.value,value:l.data}):(We(n,{code:ke.invalid_intersection_types}),Rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>a(o,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}m0.create=(e,t,r)=>new m0({left:e,right:t,typeName:$t.ZodIntersection,...qt(r)});class mu extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.array)return We(n,{code:ke.invalid_type,expected:st.array,received:n.parsedType}),Rt;if(n.data.length<this._def.items.length)return We(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Rt;!this._def.rest&&n.data.length>this._def.items.length&&(We(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Fl(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>cs.mergeArray(r,i)):cs.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new mu({...this._def,rest:t})}}mu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mu({items:e,typeName:$t.ZodTuple,rest:null,...qt(t)})};class DD extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.map)return We(n,{code:ke.invalid_type,expected:st.map,received:n.parsedType}),Rt;const a=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Fl(n,l,n.path,[u,"key"])),value:o._parse(new Fl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Rt;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Rt;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}DD.create=(e,t,r)=>new DD({valueType:t,keyType:e,typeName:$t.ZodMap,...qt(r)});class zp extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.set)return We(n,{code:ke.invalid_type,expected:st.set,received:n.parsedType}),Rt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(We(n,{code:ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(We(n,{code:ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const f of c){if(f.status==="aborted")return Rt;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>o._parse(new Fl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new zp({...this._def,minSize:{value:t,message:ut.toString(r)}})}max(t,r){return new zp({...this._def,maxSize:{value:t,message:ut.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}zp.create=(e,t)=>new zp({valueType:e,minSize:null,maxSize:null,typeName:$t.ZodSet,...qt(t)});class ID extends er{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ID.create=(e,t)=>new ID({getter:e,typeName:$t.ZodLazy,...qt(t)});class BS extends er{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return We(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),Rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}BS.create=(e,t)=>new BS({value:e,typeName:$t.ZodLiteral,...qt(t)});function I9(e,t){return new Lf({values:e,typeName:$t.ZodEnum,...qt(t)})}class Lf extends er{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return We(r,{expected:tr.joinValues(n),received:r.parsedType,code:ke.invalid_type}),Rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return We(r,{received:r.data,code:ke.invalid_enum_value,options:n}),Rt}return Vs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Lf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Lf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Lf.create=I9;class LD extends er{_parse(t){const r=tr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==st.string&&n.parsedType!==st.number){const a=tr.objectValues(r);return We(n,{expected:tr.joinValues(a),received:n.parsedType,code:ke.invalid_type}),Rt}if(this._cache||(this._cache=new Set(tr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=tr.objectValues(r);return We(n,{received:n.data,code:ke.invalid_enum_value,options:a}),Rt}return Vs(t.data)}get enum(){return this._def.values}}LD.create=(e,t)=>new LD({values:e,typeName:$t.ZodNativeEnum,...qt(t)});class p0 extends er{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.promise&&r.common.async===!1)return We(r,{code:ke.invalid_type,expected:st.promise,received:r.parsedType}),Rt;const n=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return Vs(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}p0.create=(e,t)=>new p0({type:e,typeName:$t.ZodPromise,...qt(t)});class pu extends er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:i=>{We(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const i=a.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Rt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Rt:c.status==="dirty"||r.value==="dirty"?Qh(c.value):c});{if(r.value==="aborted")return Rt;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Rt:l.status==="dirty"||r.value==="dirty"?Qh(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Rt:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Rt:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Df(i))return Rt;const l=a.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Df(i)?Promise.resolve(a.transform(i.value,o)).then(l=>({status:r.value,value:l})):Rt);tr.assertNever(a)}}pu.create=(e,t,r)=>new pu({schema:e,typeName:$t.ZodEffects,effect:t,...qt(r)});pu.createWithPreprocess=(e,t,r)=>new pu({schema:t,effect:{type:"preprocess",transform:e},typeName:$t.ZodEffects,...qt(r)});class Ml extends er{_parse(t){return this._getType(t)===st.undefined?Vs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ml.create=(e,t)=>new Ml({innerType:e,typeName:$t.ZodOptional,...qt(t)});class Ff extends er{_parse(t){return this._getType(t)===st.null?Vs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ff.create=(e,t)=>new Ff({innerType:e,typeName:$t.ZodNullable,...qt(t)});class zS extends er{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===st.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}zS.create=(e,t)=>new zS({innerType:e,typeName:$t.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class US extends er{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return d0(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Qo(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}US.create=(e,t)=>new US({innerType:e,typeName:$t.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class FD extends er{_parse(t){if(this._getType(t)!==st.nan){const n=this._getOrReturnCtx(t);return We(n,{code:ke.invalid_type,expected:st.nan,received:n.parsedType}),Rt}return{status:"valid",value:t.data}}}FD.create=e=>new FD({typeName:$t.ZodNaN,...qt(e)});class p4e extends er{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class F2 extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Rt:o.status==="dirty"?(r.dirty(),Qh(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Rt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new F2({in:t,out:r,typeName:$t.ZodPipeline})}}class VS extends er{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Df(a)&&(a.value=Object.freeze(a.value)),a);return d0(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}VS.create=(e,t)=>new VS({innerType:e,typeName:$t.ZodReadonly,...qt(t)});var $t;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($t||($t={}));const ze=vl.create,sn=If.create;Bl.create;const L9=Go.create,hs=gn.create;h0.create;m0.create;mu.create;const Up=BS.create,Ts=Lf.create;p0.create;Ml.create;Ff.create;const BD=pu.createWithPreprocess,g4e=hs({email:ze().trim().email({message:"Email invlido"}).max(255,{message:"Email muito longo"}),password:ze().min(8,{message:"A senha deve ter no mnimo 8 caracteres"}).max(100,{message:"Senha muito longa"})}),v4e=hs({nome_completo:ze().trim().min(3,{message:"Nome deve ter no mnimo 3 caracteres"}).max(100,{message:"Nome muito longo"}),email:ze().trim().email({message:"Email invlido"}).max(255,{message:"Email muito longo"}),password:ze().min(8,{message:"A senha deve ter no mnimo 8 caracteres"}).max(100,{message:"Senha muito longa"}),confirmPassword:ze()}).refine(e=>e.password===e.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]}),y4e=hs({nome_completo:ze().trim().min(3,{message:"Nome deve ter no mnimo 3 caracteres"}).max(100,{message:"Nome muito longo"}),telefone:ze().trim().max(20,{message:"Telefone muito longo"}).optional(),cargo:ze().trim().max(100,{message:"Cargo muito longo"}).optional()}),g0=_Ie,F9=x.createContext({}),pn=({...e})=>s.jsx(F9.Provider,{value:{name:e.name},children:s.jsx(DS,{...e})}),gw=()=>{const e=x.useContext(F9),t=x.useContext(B9),{getFieldState:r,formState:n}=pw(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},B9=x.createContext({}),tn=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return s.jsx(B9.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:Ae("space-y-2",e),...t})})});tn.displayName="FormItem";const Vr=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=gw();return s.jsx(re,{ref:r,className:Ae(n&&"text-destructive",e),htmlFor:a,...t})});Vr.displayName="FormLabel";const rn=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=gw();return s.jsx(QB,{ref:t,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...e})});rn.displayName="FormControl";const x4e=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=gw();return s.jsx("p",{ref:r,id:n,className:Ae("text-sm text-muted-foreground",e),...t})});x4e.displayName="FormDescription";const nn=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:o}=gw(),i=a?String(a==null?void 0:a.message):t;return i?s.jsx("p",{ref:n,id:o,className:Ae("text-sm font-medium text-destructive",e),...r,children:i}):null});nn.displayName="FormMessage";function b4e(){const[e,t]=x.useState(!1),{user:r,signIn:n,signUp:a,signInWithGoogle:o}=dn(),i=Bs(),{toast:l}=en(),{theme:c,setTheme:u}=ru(),f=x.useRef(c);x.useEffect(()=>(f.current=c,u("light"),()=>{u(f.current)}),[]),x.useEffect(()=>{r&&i("/")},[r,i]);const d=Pi({resolver:ki(g4e),defaultValues:{email:"",password:""}}),h=Pi({resolver:ki(v4e),defaultValues:{nome_completo:"",email:"",password:"",confirmPassword:""}}),[m,g]=x.useState(""),[p,v]=x.useState("");x.useEffect(()=>{const _=`${m} ${p}`.trim();h.setValue("nome_completo",_,{shouldValidate:!0,shouldDirty:!0})},[m,p]);const w=async _=>{t(!0);const{error:j}=await n(_.email,_.password);j&&l({variant:"destructive",title:"Erro ao fazer login",description:j.message}),t(!1)},y=async _=>{t(!0);const{error:j}=await a(_.email,_.password,_.nome_completo);j?(l({variant:"destructive",title:"Erro ao criar conta",description:j.message}),t(!1)):(h.reset(),t(!1))},b=async()=>{t(!0);const{error:_}=await o();_&&(l({variant:"destructive",title:"Erro ao entrar com Google",description:_.message}),t(!1))};return s.jsxs("div",{className:"min-h-screen bg-white relative flex items-center justify-center p-4",children:[s.jsx("div",{className:"login-spiral-wrapper",children:s.jsx("div",{className:"login-spiral"})}),s.jsxs(te,{className:"relative z-10 w-full max-w-md rounded-2xl border-border shadow-xl",children:[s.jsxs(Le,{className:"space-y-1 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Uo,{className:"w-8 h-8 text-primary"}),s.jsx(Fe,{className:"text-3xl font-bold",children:"Noxus"})]}),s.jsx(Ja,{children:"De tatuador para tatuador"})]}),s.jsx(me,{children:s.jsxs(Fa,{defaultValue:"login",className:"w-full",children:[s.jsxs(wa,{className:"grid w-full grid-cols-2 rounded-xl",children:[s.jsx(St,{value:"login",className:"rounded-lg",children:"Entrar"}),s.jsx(St,{value:"signup",className:"rounded-lg",children:"Cadastrar"})]}),s.jsxs(Ct,{value:"login",children:[s.jsx(g0,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(w),className:"space-y-4 mt-4",children:[s.jsx(pn,{control:d.control,name:"email",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Email"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"seu@email.com",type:"text",inputMode:"email",autoCorrect:"off",autoCapitalize:"none",autoComplete:"email",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsx(pn,{control:d.control,name:"password",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Senha"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"",type:"password",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsxs(H,{type:"submit",className:"w-full rounded-xl",disabled:e,children:[e&&s.jsx(Uo,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrar"]})]})}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),s.jsxs(H,{type:"button",variant:"outline",className:"w-full rounded-xl",onClick:b,disabled:e,children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),s.jsxs(Ct,{value:"signup",children:[s.jsx(g0,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(y),className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Vr,{children:"Nome"}),s.jsx(de,{placeholder:"Seu nome",className:"rounded-xl",value:m,onChange:_=>g(_.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Vr,{children:"Sobrenome"}),s.jsx(de,{placeholder:"Seu sobrenome",className:"rounded-xl",value:p,onChange:_=>v(_.target.value)})]})]}),s.jsx(pn,{control:h.control,name:"email",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Email"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"seu@email.com",type:"text",inputMode:"email",autoCorrect:"off",autoCapitalize:"none",autoComplete:"email",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsx(pn,{control:h.control,name:"password",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Senha"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"",type:"password",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsx(pn,{control:h.control,name:"confirmPassword",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Confirmar Senha"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"",type:"password",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsxs(H,{type:"submit",className:"w-full rounded-xl",disabled:e,children:[e&&s.jsx(Uo,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Conta"]})]})}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),s.jsxs(H,{type:"button",variant:"outline",className:"w-full rounded-xl",onClick:b,disabled:e,children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})]})})]})]})}var w4e="Separator",zD="horizontal",j4e=["horizontal","vertical"],z9=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=zD,...a}=e,o=_4e(n)?n:zD,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(wu.div,{"data-orientation":o,...l,...a,ref:t})});z9.displayName=w4e;function _4e(e){return j4e.includes(e)}var U9=z9;const V9=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(U9,{ref:a,decorative:r,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));V9.displayName=U9.displayName;function N4e(){const{profile:e,userRole:t,updateProfile:r,user:n}=dn(),{colorTheme:a,setColorTheme:o}=ru(),{navigationType:i,setNavigationType:l,isNavigationVisible:c,setIsNavigationVisible:u}=VE(),[f,d]=x.useState(!1),[h,m]=x.useState(!1),{toast:g}=en(),p=[{id:"default",name:"Roxo Padro",colors:"bg-gradient-to-r from-purple-500 to-purple-600"},{id:"ocean",name:"Oceano",colors:"bg-gradient-to-r from-cyan-500 to-blue-500"},{id:"sunset",name:"Pr do Sol",colors:"bg-gradient-to-r from-orange-500 to-pink-500"},{id:"forest",name:"Floresta",colors:"bg-gradient-to-r from-green-600 to-emerald-500"},{id:"purple",name:"Violeta",colors:"bg-gradient-to-r from-violet-500 to-purple-500"},{id:"rose",name:"Rosa",colors:"bg-gradient-to-r from-rose-500 to-pink-500"},{id:"black",name:"Preto",colors:"bg-gradient-to-r from-gray-900 to-black"}],v=Pi({resolver:ki(y4e),defaultValues:{nome_completo:(e==null?void 0:e.nome_completo)||"",telefone:(e==null?void 0:e.telefone)||"",cargo:(e==null?void 0:e.cargo)||""}}),w=async _=>{d(!0),await r(_),d(!1)},y=async _=>{if(!_.target.files||_.target.files.length===0||!n)return;const j=_.target.files[0];if(j.size>2*1024*1024){g({variant:"destructive",title:"Arquivo muito grande",description:"O tamanho mximo  2MB"});return}m(!0);const N=j.name.split(".").pop(),S=`${n.id}.${N}`,C=`${n.id}/${S}`;try{const{error:E}=await Z.storage.from("avatars").upload(C,j,{upsert:!0});if(E)throw E;const{data:{publicUrl:P}}=Z.storage.from("avatars").getPublicUrl(C);await r({avatar_url:P})}catch{g({variant:"destructive",title:"Erro ao fazer upload",description:"No foi possvel enviar a imagem"})}finally{m(!1)}},b={admin:"Administrador",manager:"Gerente",user:"Usurio"};return e?s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Meu Perfil"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais"})]}),s.jsxs(te,{className:"rounded-2xl border-border",children:[s.jsxs(Le,{children:[s.jsx(Fe,{children:"Foto de Perfil"}),s.jsx(Ja,{children:"Clique na foto para alterar"})]}),s.jsxs(me,{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(UE,{avatarUrl:e.avatar_url,name:e.nome_completo,className:"h-24 w-24"}),s.jsx("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:h?s.jsx(Uo,{className:"h-6 w-6 text-white animate-spin"}):s.jsx(Ly,{className:"h-6 w-6 text-white"})}),s.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:y,disabled:h})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-lg",children:e.nome_completo}),t&&s.jsx(ft,{variant:"secondary",className:"mt-2",children:b[t]})]})]})]}),s.jsxs(te,{className:"rounded-2xl border-border",children:[s.jsxs(Le,{children:[s.jsx(Fe,{children:"Informaes Pessoais"}),s.jsx(Ja,{children:"Atualize seus dados cadastrais"})]}),s.jsx(me,{children:s.jsx(g0,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(w),className:"space-y-4",children:[s.jsx(pn,{control:v.control,name:"nome_completo",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Nome Completo"}),s.jsx(rn,{children:s.jsx(de,{className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsx(pn,{control:v.control,name:"telefone",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Telefone"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"(00) 00000-0000",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsx(pn,{control:v.control,name:"cargo",render:({field:_})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Cargo"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"Seu cargo na empresa",className:"rounded-xl",..._})}),s.jsx(nn,{})]})}),s.jsxs(H,{type:"submit",className:"rounded-xl",disabled:f,children:[f&&s.jsx(Uo,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Alteraes"]})]})})})]}),s.jsxs(te,{className:"rounded-2xl border-border",children:[s.jsxs(Le,{children:[s.jsx(Fe,{children:"Tema de Cores"}),s.jsx(Ja,{children:"Escolha a paleta de cores do sistema"})]}),s.jsx(me,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:p.map(_=>s.jsxs("button",{onClick:()=>o(_.id),className:`relative group rounded-xl p-4 border-2 transition-all ${a===_.id?"border-primary scale-105":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:`w-full h-20 rounded-lg ${_.colors} mb-3`}),s.jsx("p",{className:"font-medium text-sm text-center",children:_.name}),a===_.id&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-primary rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-primary-foreground",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7"})})})]},_.id))})})]}),s.jsxs(te,{className:"rounded-2xl border-border",children:[s.jsxs(Le,{children:[s.jsx(Fe,{children:"Preferncias de Navegao"}),s.jsx(Ja,{children:"Configure como voc deseja visualizar o menu"})]}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(re,{className:"text-base",children:"Tipo de Menu"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Escolha entre menu dock (inferior) ou barra lateral"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:i==="dock"?"default":"outline",size:"sm",onClick:()=>l("dock"),className:"rounded-xl",children:"Dock"}),s.jsxs(H,{variant:i==="sidebar"?"default":"outline",size:"sm",onClick:()=>l("sidebar"),className:"rounded-xl",children:[s.jsx(JY,{className:"w-4 h-4 mr-2"}),"Sidebar"]})]})]}),s.jsx(V9,{})]})]})]})}):null}const ms=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full",children:s.jsx("table",{ref:r,className:Ae("w-full caption-bottom text-sm",e),...t})}));ms.displayName="Table";const ps=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ae("[&_tr]:border-b",e),...t}));ps.displayName="TableHeader";const gs=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ae("[&_tr:last-child]:border-0",e),...t}));gs.displayName="TableBody";const S4e=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));S4e.displayName="TableFooter";const mr=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));mr.displayName="TableRow";const _e=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_e.displayName="TableHead";const be=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));be.displayName="TableCell";const C4e=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ae("mt-4 text-sm text-muted-foreground",e),...t}));C4e.displayName="TableCaption";var q9=["PageUp","PageDown"],W9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},hh="Slider",[qS,E4e,O4e]=lg(hh),[G9]=na(hh,[O4e]),[A4e,vw]=G9(hh),K9=x.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,v=x.useRef(new Set),w=x.useRef(0),b=i==="horizontal"?P4e:k4e,[_=[],j]=$s({prop:f,defaultProp:u,onChange:A=>{var O;(O=[...v.current][w.current])==null||O.focus(),d(A)}}),N=x.useRef(_);function S(A){const M=D4e(_,A);P(A,M)}function C(A){P(A,w.current)}function E(){const A=N.current[w.current];_[w.current]!==A&&h(_)}function P(A,M,{commit:O}={commit:!1}){const R=B4e(o),L=z4e(Math.round((A-n)/o)*o+n,R),D=rx(L,[n,a]);j((B=[])=>{const k=R4e(B,D,M);if(F4e(k,c*o)){w.current=k.indexOf(D);const T=String(k)!==String(B);return T&&O&&h(k),T?k:B}else return B})}return s.jsx(A4e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:w,thumbs:v.current,values:_,orientation:i,form:g,children:s.jsx(qS.Provider,{scope:e.__scopeSlider,children:s.jsx(qS.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Se(p.onPointerDown,()=>{l||(N.current=_)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:S,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:M})=>{if(!l){const L=q9.includes(A.key)||A.shiftKey&&W9.includes(A.key)?10:1,D=w.current,B=_[D],k=o*L*M;P(B+k,D,{commit:!0})}}})})})})});K9.displayName=hh;var[Y9,X9]=G9(hh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),P4e=x.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[d,h]=x.useState(null),m=Mt(t,b=>h(b)),g=x.useRef(void 0),p=yg(a),v=p==="ltr",w=v&&!o||!v&&o;function y(b){const _=g.current||d.getBoundingClientRect(),j=[0,_.width],S=B2(j,w?[r,n]:[n,r]);return g.current=_,S(b-_.left)}return s.jsx(Y9,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(Q9,{dir:p,"data-orientation":"horizontal",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=y(b.clientX);i==null||i(_)},onSlideMove:b=>{const _=y(b.clientX);l==null||l(_)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=H9[w?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),k4e=x.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=x.useRef(null),d=Mt(t,f),h=x.useRef(void 0),m=!a;function g(p){const v=h.current||f.current.getBoundingClientRect(),w=[0,v.height],b=B2(w,m?[n,r]:[r,n]);return h.current=v,b(p-v.top)}return s.jsx(Y9,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(Q9,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=g(p.clientY);o==null||o(v)},onSlideMove:p=>{const v=g(p.clientY);i==null||i(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const w=H9[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:w?-1:1})}})})}),Q9=x.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=vw(hh,r);return s.jsx(pt.span,{...u,ref:t,onKeyDown:Se(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):q9.concat(W9).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:Se(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():n(d)}),onPointerMove:Se(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:Se(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),o(d))})})}),Z9="SliderTrack",J9=x.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=vw(Z9,r);return s.jsx(pt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});J9.displayName=Z9;var WS="SliderRange",eW=x.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=vw(WS,r),o=X9(WS,r),i=x.useRef(null),l=Mt(t,i),c=a.values.length,u=a.values.map(h=>nW(h,a.min,a.max)),f=c>1?Math.min(...u):0,d=100-Math.max(...u);return s.jsx(pt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[o.startEdge]:f+"%",[o.endEdge]:d+"%"}})});eW.displayName=WS;var HS="SliderThumb",tW=x.forwardRef((e,t)=>{const r=E4e(e.__scopeSlider),[n,a]=x.useState(null),o=Mt(t,l=>a(l)),i=x.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(T4e,{...e,ref:o,index:i})}),T4e=x.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...o}=e,i=vw(HS,r),l=X9(HS,r),[c,u]=x.useState(null),f=Mt(t,y=>u(y)),d=c?i.form||!!c.closest("form"):!0,h=H0(c),m=i.values[n],g=m===void 0?0:nW(m,i.min,i.max),p=$4e(n,i.values.length),v=h==null?void 0:h[l.size],w=v?I4e(v,g,l.direction):0;return x.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${w}px)`},children:[s.jsx(qS.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(pt.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:f,style:m===void 0?{display:"none"}:e.style,onFocus:Se(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),d&&s.jsx(rW,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},n)]})});tW.displayName=HS;var M4e="RadioBubbleInput",rW=x.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=x.useRef(null),o=Mt(a,n),i=tb(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&f){const d=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[i,t]),s.jsx(pt.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});rW.displayName=M4e;function R4e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,o)=>a-o)}function nW(e,t,r){const o=100/(r-t)*(e-t);return rx(o,[0,100])}function $4e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function D4e(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function I4e(e,t,r){const n=e/2,o=B2([0,50],[0,n]);return(n-o(t)*r)*r}function L4e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function F4e(e,t){if(t>0){const r=L4e(e);return Math.min(...r)>=t}return!0}function B2(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function B4e(e){return(String(e).split(".")[1]||"").length}function z4e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var aW=K9,U4e=J9,V4e=eW,q4e=tW;const GS=x.forwardRef(({className:e,...t},r)=>s.jsxs(aW,{ref:r,className:Ae("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(U4e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(V4e,{className:"absolute h-full bg-primary"})}),s.jsx(q4e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));GS.displayName=aW.displayName;function W4e({clientes:e}){var kt;const{colorTheme:r,theme:n}=ru(),a=x.useRef(null),[o,i]=x.useState([]),[l,c]=x.useState(null),[u,f]=x.useState(null),[d,h]=x.useState(1),[m,g]=x.useState({x:0,y:0}),[p,v]=x.useState(!1),[w,y]=x.useState({x:0,y:0}),[b,_]=x.useState(!0),[j,N]=x.useState(""),[S,C]=x.useState(new Set),[E,P]=x.useState("hierarchical"),[A,M]=x.useState(!1),[O,R]=x.useState("all"),[L,D]=x.useState([0,1e4]),[B,k]=x.useState("all"),[T,q]=x.useState(300),[Q,F]=x.useState(!1),[X,ce]=x.useState(0),[pe,ge]=x.useState([]),[he,qe]=x.useState("none"),[ie,ye]=x.useState(!1),[ve,ne]=x.useState(!1),[gt,at]=x.useState("metrics"),[je,yt]=x.useState(new Map),[Ut,gr]=x.useState([]),[Ne,U]=x.useState({totalLTV:0,avgIndicationsPerNode:0,networkGrowthRate:0,topPerformers:[]}),$=()=>{const ee={default:{r:139,g:92,b:246},ocean:{r:6,g:182,b:212},sunset:{r:251,g:146,b:60},forest:{r:34,g:197,b:94},purple:{r:168,g:85,b:247},rose:{r:244,g:63,b:94},black:{r:107,g:114,b:128}};return ee[r]||ee.default},V=ee=>{const G=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ee);return G?{r:parseInt(G[1],16),g:parseInt(G[2],16),b:parseInt(G[3],16)}:null},oe=ee=>{const G=ee.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);return G?{r:parseInt(G[1],10),g:parseInt(G[2],10),b:parseInt(G[3],10)}:null},se=(ee,G,$e)=>{const Je=G/100,Pe=$e/100,De=(1-Math.abs(2*Pe-1))*Je,ct=ee/60,It=De*(1-Math.abs(ct%2-1));let Tt=0,we=0,Ot=0;ct>=0&&ct<1?(Tt=De,we=It,Ot=0):ct>=1&&ct<2?(Tt=It,we=De,Ot=0):ct>=2&&ct<3?(Tt=0,we=De,Ot=It):ct>=3&&ct<4?(Tt=0,we=It,Ot=De):ct>=4&&ct<5?(Tt=It,we=0,Ot=De):ct>=5&&ct<6&&(Tt=De,we=0,Ot=It);const tt=Pe-De/2;return{r:Math.round((Tt+tt)*255),g:Math.round((we+tt)*255),b:Math.round((Ot+tt)*255)}},le=()=>{try{const ee=document.documentElement,G=getComputedStyle(ee).getPropertyValue("--background").trim();if(!G)return{r:8,g:12,b:24};const $e=G.split(/\s+/),Je=parseFloat($e[0]),Pe=parseFloat($e[1].replace("%","")),De=parseFloat($e[2].replace("%",""));return se(Je,Pe,De)}catch{return{r:8,g:12,b:24}}},K=()=>{try{const ee=document.documentElement,G=getComputedStyle(ee).getPropertyValue("--foreground").trim();if(!G)return{r:229,g:231,b:235};const $e=G.split(/\s+/),Je=parseFloat($e[0]),Pe=parseFloat($e[1].replace("%","")),De=parseFloat($e[2].replace("%",""));return se(Je,Pe,De)}catch{return{r:229,g:231,b:235}}},ue=ee=>{const G=[],$e=Math.max(ee,4),Je=$();for(let Pe=0;Pe<=$e;Pe++){const De=Pe/Math.max($e,1),ct=Math.round(Je.r+(255-Je.r)*De*.4),It=Math.round(Je.g+(255-Je.g)*De*.4),Tt=Math.round(Je.b+(255-Je.b)*De*.2);G.push(`rgb(${ct}, ${It}, ${Tt})`)}return G},Ie=x.useMemo(()=>ue(o.length>0?Math.max(...o.map(ee=>ee.level)):4),[o,r]),Qe=x.useMemo(()=>{if(o.length===0)return Ne;const ee=o.reduce((tt,Lt)=>tt+Lt.ltv,0),$e=o.reduce((tt,Lt)=>tt+Lt.indicacoes_count,0)/o.length,Je=new Date,Pe=24*60*60*1e3,De=new Date(Je.getTime()-30*Pe),ct=new Date(De.getTime()-30*Pe),It=e.filter(tt=>{const Lt=new Date(tt.created_at);return Lt>=De&&Lt<=Je}).length,Tt=e.filter(tt=>{const Lt=new Date(tt.created_at);return Lt>=ct&&Lt<De}).length;let we=0;Tt===0?we=It>0?100:0:we=(It-Tt)/Tt*100;const Ot=[...o].sort((tt,Lt)=>Lt.indicacoes_count-tt.indicacoes_count).slice(0,3).map(tt=>({id:tt.id,name:tt.name,indicacoes_count:tt.indicacoes_count}));return{totalLTV:ee,avgIndicationsPerNode:Math.round($e*100)/100,networkGrowthRate:Math.round(we*100)/100,topPerformers:Ot}},[o,e]),dr=x.useMemo(()=>{const ee=new Map;return o.forEach(G=>{const $e=G.ltv/1e3+G.indicacoes_count*10;ee.set(G.id,Math.min($e,100))}),ee},[o]);x.useMemo(()=>{const ee=[],G=new Date;for(let $e=11;$e>=0;$e--){const Je=new Date(G);Je.setMonth(Je.getMonth()-$e);const Pe=Math.max(1,o.length-$e*2),De=o.reduce((ct,It)=>ct+It.ltv,0)*(Pe/o.length);ee.push({date:Je.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),count:Math.round(Pe),ltv:Math.round(De)})}return ee},[o]);const W=ee=>{if(o.length===0){i(ee);return}ge([...o]),F(!0),ce(0);const G=Date.now(),$e=T,Je=()=>{const Pe=Date.now()-G,De=Math.min(Pe/$e,1),ct=1-Math.pow(1-De,3);ce(ct),De<1?requestAnimationFrame(Je):(F(!1),i(ee),ge([]))};requestAnimationFrame(Je)};x.useEffect(()=>{Me()},[e,E,r]),x.useEffect(()=>{Oe()},[o,d,m,l,u,b,S,Q,X,pe,r,n]),x.useEffect(()=>{const ee=requestAnimationFrame(()=>{Oe()});return()=>cancelAnimationFrame(ee)},[n]);const xe=()=>{let ee=o;if(j&&(ee=ee.filter($e=>$e.name.toLowerCase().includes(j.toLowerCase()))),O!=="all"){const $e=new Date;e.find(Je=>{var Pe;return Je.id===((Pe=ee[0])==null?void 0:Pe.id)}),ee=ee.filter(Je=>{const Pe=e.find(It=>It.id===Je.id);if(!Pe)return!1;const De=new Date(Pe.created_at),ct=Math.floor(($e.getTime()-De.getTime())/(1e3*60*60*24));switch(O){case"7days":return ct<=7;case"30days":return ct<=30;case"90days":return ct<=90;case"1year":return ct<=365;default:return!0}})}ee=ee.filter($e=>$e.ltv>=L[0]&&$e.ltv<=L[1]),B!=="all"&&(ee=ee.filter($e=>{switch(B){case"high":return $e.indicacoes_count>=3;case"medium":return $e.indicacoes_count>=1&&$e.indicacoes_count<3;case"low":return $e.indicacoes_count===0;default:return!0}}));const G=new Set(ee.map($e=>$e.id));C(G)};x.useEffect(()=>{xe()},[j,o,O,L,B]);const Me=()=>{const ee=new Map,G=new Map;e.forEach(Pe=>{const De=e.filter(ct=>ct.indicado_por===Pe.id).length;ee.set(Pe.id,{id:Pe.id,name:Pe.nome,x:0,y:0,connections:[],level:0,ltv:Pe.ltv||0,isRoot:!Pe.indicado_por,indicacoes_count:De}),G.has(Pe.id)||G.set(Pe.id,[])}),e.forEach(Pe=>{if(Pe.indicado_por&&ee.has(Pe.indicado_por)){const De=G.get(Pe.indicado_por)||[];De.push(Pe.id),G.set(Pe.indicado_por,De);const ct=G.get(Pe.id)||[];ct.push(Pe.indicado_por),G.set(Pe.id,ct)}});const $e=(Pe,De,ct)=>{if(ct.has(Pe))return;ct.add(Pe);const It=ee.get(Pe);It&&(It.level=Math.max(It.level,De),(G.get(Pe)||[]).forEach(we=>{const Ot=ee.get(we);Ot&&!Ot.isRoot&&$e(we,De+1,ct)}))};ee.forEach(Pe=>{Pe.isRoot&&$e(Pe.id,0,new Set)}),et(Array.from(ee.values()),G),ee.forEach(Pe=>{Pe.connections=G.get(Pe.id)||[]});const Je=Array.from(ee.values());et(Je,G),W(Je)},et=(ee,G)=>{const Pe=new Map;if(ee.forEach(De=>{Pe.has(De.level)||Pe.set(De.level,[]),Pe.get(De.level).push(De)}),E==="hierarchical"){lt(Pe,800);for(let De=0;De<3;De++)I(ee)}else{Ue(Pe,800,600);for(let De=0;De<20;De++)ae(ee,G)}},Ue=(ee,G,$e)=>{const Je=G/2,Pe=$e/2;ee.forEach((De,ct)=>{const It=ct===0?0:100+ct*80,Tt=De.length>1?2*Math.PI/De.length:0;De.forEach((we,Ot)=>{if(ct===0)we.x=Je+(Ot-(De.length-1)/2)*100,we.y=Pe;else{const tt=Ot*Tt;we.x=Je+Math.cos(tt)*It,we.y=Pe+Math.sin(tt)*It}})})},lt=(ee,G,$e)=>{const Pe=600/(Math.max(...ee.keys())+2),De=Pe,ct=0;ee.forEach((It,Tt)=>{const Ot=De+Tt*Pe-ct;if(Tt===0){const tt=It.length;if(tt===0)return;const Lt=100,fr=G-2*Lt;if(tt===1)It[0].x=G/2,It[0].y=Ot;else{const zt=fr/(tt-1);It.forEach((Pr,wn)=>{Pr.x=Lt+wn*zt,Pr.y=Ot})}}else{const tt=It.length;if(tt===0)return;const Lt=80,fr=G-2*Lt,zt=Math.max(120,fr/(tt+1));[...It].sort((wn,Yt)=>{const kr=Array.from(ee.get(Tt-1)||[]).find(aa=>aa.connections.includes(wn.id)),jn=Array.from(ee.get(Tt-1)||[]).find(aa=>aa.connections.includes(Yt.id));return kr&&jn?kr.x-jn.x:0}).forEach((wn,Yt)=>{const kr=Lt+zt+Yt*zt;wn.x=Math.max(Lt,Math.min(G-Lt,kr)),wn.y=Ot})}})},I=(ee,G)=>{const De=600/(Math.max(...ee.map(Tt=>Tt.level))+2),ct=De,It=0;ee.forEach(Tt=>{let we=0,Ot=0;ee.forEach(Lt=>{if(Tt.id!==Lt.id&&Tt.level===Lt.level){const fr=Tt.x-Lt.x,zt=Math.abs(fr);if(zt<120){const Pr=800/(zt+1);we+=fr>0?Pr:-Pr}}});const tt=ct+Tt.level*De-It;Ot+=(tt-Tt.y)*2,Tt.x+=we*.001,Tt.y+=Ot*.02,Tt.x=Math.max(50,Math.min(750,Tt.x)),Tt.y=Math.max(50,Math.min(600,Tt.y))})},ae=(ee,G)=>{ee.forEach(De=>{let ct=0,It=0;ee.forEach(we=>{if(De.id!==we.id){const Ot=De.x-we.x,tt=De.y-we.y,Lt=Math.sqrt(Ot*Ot+tt*tt)||1,fr=2e3/(Lt*Lt);ct+=Ot/Lt*fr,It+=tt/Lt*fr}}),(G.get(De.id)||[]).forEach(we=>{const Ot=ee.find(tt=>tt.id===we);if(Ot){const tt=Ot.x-De.x,Lt=Ot.y-De.y;ct+=tt*.1,It+=Lt*.1}}),De.x+=ct*.9*.01,De.y+=It*.9*.01})},Oe=()=>{const ee=a.current;if(!ee)return;const G=ee.getContext("2d");if(!G)return;const $e=window.devicePixelRatio||1,Je=ee.getBoundingClientRect();ee.width=Je.width*$e,ee.height=Je.height*$e,ee.style.width=Je.width+"px",ee.style.height=Je.height+"px",G.scale($e,$e),G.imageSmoothingEnabled=!0,G.imageSmoothingQuality=d>1?"high":d>.5?"medium":"low",G.lineCap="round",G.lineJoin="round";const Pe=d>.8,De=d>.4,ct=d>.3;G.save(),G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,ee.width,ee.height),G.restore();const It=le();G.fillStyle=`rgba(${It.r}, ${It.g}, ${It.b}, 1)`,G.fillRect(0,0,Je.width,Je.height);let Tt=o;if(Q&&pe.length>0&&(Tt=o.map(we=>{const Ot=pe.find(tt=>tt.id===we.id);return Ot?{...we,x:Ot.x+(we.x-Ot.x)*X,y:Ot.y+(we.y-Ot.y)*X}:we})),G.save(),G.translate(m.x,m.y),G.scale(d,d),ct&&Tt.length>0&&E==="hierarchical"){const we=Math.max(...Tt.map(fr=>fr.level)),Ot=600/(we+2),tt=Ot,Lt=$();for(let fr=0;fr<=we;fr++){const zt=tt+fr*Ot;G.beginPath(),G.moveTo(0,zt),G.lineTo(800,zt),G.strokeStyle=fr===0?`rgba(${Lt.r}, ${Lt.g}, ${Lt.b}, 0.2)`:"rgba(148, 163, 184, 0.1)",G.lineWidth=fr===0?2/d:1/d,G.setLineDash(fr===0?[]:[5/d,5/d]),G.stroke(),G.setLineDash([]),d>.5&&(G.fillStyle=fr===0?`rgb(${Lt.r}, ${Lt.g}, ${Lt.b})`:"#6B7280",G.font=`${10/d}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,G.textAlign="left",G.fillText(fr===0?"Nvel 0 - Clientes Raiz":`Nvel ${fr} - ${fr} Gerao`,10,zt-5/d))}}Tt.forEach(we=>{we.connections.forEach(Ot=>{const tt=Tt.find(Lt=>Lt.id===Ot);if(tt){if(!(we.level<tt.level))return;const fr=S.has(we.id)||S.has(tt.id),zt=$();if(fr){const Pr=G.createLinearGradient(we.x,we.y,tt.x,tt.y);Pr.addColorStop(0,`rgba(${zt.r}, ${zt.g}, ${zt.b}, 0.7)`),Pr.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),Pr.addColorStop(1,`rgba(${zt.r}, ${zt.g}, ${zt.b}, 0.7)`),G.beginPath(),G.moveTo(we.x,we.y),G.lineTo(tt.x,tt.y),G.strokeStyle=`rgba(${zt.r}, ${zt.g}, ${zt.b}, 0.12)`,G.lineWidth=4/d,G.stroke(),G.beginPath(),G.moveTo(we.x,we.y),G.lineTo(tt.x,tt.y),G.strokeStyle=Pr,G.lineWidth=1.5/d}else{const Pr=G.createLinearGradient(we.x,we.y,tt.x,tt.y);Pr.addColorStop(0,`rgba(${zt.r}, ${zt.g}, ${zt.b}, 0.12)`),Pr.addColorStop(.5,`rgba(${zt.r}, ${zt.g}, ${zt.b}, 0.2)`),Pr.addColorStop(1,`rgba(${zt.r}, ${zt.g}, ${zt.b}, 0.12)`),G.beginPath(),G.moveTo(we.x,we.y),G.lineTo(tt.x,tt.y),G.strokeStyle=Pr,G.lineWidth=.6/d}if(G.globalAlpha=fr?.8:.45,G.stroke(),G.globalAlpha=1,De&&d>=1){const Pr=6/d,wn=Math.atan2(tt.y-we.y,tt.x-we.x),Yt=we.x+(tt.x-we.x)*.7,kr=we.y+(tt.y-we.y)*.7;G.beginPath(),G.moveTo(Yt,kr),G.lineTo(Yt-Pr*Math.cos(wn-Math.PI/6),kr-Pr*Math.sin(wn-Math.PI/6)),G.moveTo(Yt,kr),G.lineTo(Yt-Pr*Math.cos(wn+Math.PI/6),kr-Pr*Math.sin(wn+Math.PI/6));const jn=$();G.strokeStyle=fr?`rgb(${jn.r}, ${jn.g}, ${jn.b})`:"rgba(148, 163, 184, 0.5)",G.lineWidth=1/d,G.stroke()}}})}),Tt.forEach(we=>{const Ot=l===we.id,tt=S.has(we.id),Lt=we.level===0?16:we.level===1?14:we.level===2?12:10,fr=we.indicacoes_count*1.5,zt=(Lt+fr)/d;Pe&&(G.save(),G.shadowColor="rgba(0, 0, 0, 0.12)",G.shadowBlur=1/d,G.shadowOffsetX=.5/d,G.shadowOffsetY=.5/d,G.beginPath(),G.arc(we.x,we.y,zt*.55,0,2*Math.PI),G.fillStyle="rgba(0, 0, 0, 0.06)",G.fill(),G.restore());const Pr=$();let wn;if(gt==="heatmap"&&ve){const jn=(dr.get(we.id)||0)/100,aa=Math.round(jn*255),Ou=Math.round((1-jn)*100),Au=Math.round((1-jn)*255);wn=`rgb(${aa}, ${Ou}, ${Au})`}else tt||Ot?wn=`rgb(${Pr.r}, ${Pr.g}, ${Pr.b})`:wn=Ie[Math.min(we.level,Ie.length-1)];let Yt=null;if(wn.startsWith("#")?Yt=V(wn):wn.startsWith("rgb")&&(Yt=oe(wn)),Yt){const kr=Ot||tt?1.5:1,jn=zt*.3,aa=zt*1.3,Ou=G.createRadialGradient(we.x,we.y,0,we.x,we.y,aa);Ou.addColorStop(0,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, ${.15*kr})`),Ou.addColorStop(.3,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, ${.05*kr})`),Ou.addColorStop(1,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, 0)`),G.beginPath(),G.arc(we.x,we.y,aa,0,2*Math.PI),G.fillStyle=Ou,G.fill();const Au=G.createRadialGradient(we.x,we.y,0,we.x,we.y,zt*.75);Au.addColorStop(0,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, ${.45*kr})`),Au.addColorStop(.45,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, ${.2*kr})`),Au.addColorStop(1,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, 0)`),G.beginPath(),G.arc(we.x,we.y,zt*.75,0,2*Math.PI),G.fillStyle=Au,G.fill();const Bg=G.createRadialGradient(we.x,we.y,0,we.x,we.y,jn);Bg.addColorStop(0,`rgba(255, 255, 255, ${.9*kr})`),Bg.addColorStop(.3,`rgba(${Math.min(255,Yt.r+50)}, ${Math.min(255,Yt.g+50)}, ${Math.min(255,Yt.b+50)}, ${.8*kr})`),Bg.addColorStop(1,`rgba(${Yt.r}, ${Yt.g}, ${Yt.b}, ${.35*kr})`),G.beginPath(),G.arc(we.x,we.y,jn,0,2*Math.PI),G.fillStyle=Bg,G.fill()}if(we.ltv>0){const kr=zt*.6,jn=G.createRadialGradient(we.x-kr*.3,we.y-kr*.3,0,we.x,we.y,kr);jn.addColorStop(0,"rgba(255, 255, 255, 1)"),jn.addColorStop(1,"rgba(255, 255, 255, 0.7)"),G.beginPath(),G.arc(we.x,we.y,kr,0,2*Math.PI),G.fillStyle=jn,G.fill()}if(d>.3&&(u===we.id||Ot)){const kr=Math.max(8,9/d),jn=Math.max(7,8/d),aa=K();G.textAlign="center",G.textBaseline="middle",d>.5&&(G.save(),G.shadowColor="rgba(0, 0, 0, 0.2)",G.shadowBlur=.8/d,G.shadowOffsetX=.5/d,G.shadowOffsetY=.5/d),G.fillStyle=`rgba(${aa.r}, ${aa.g}, ${aa.b}, ${Ot||tt?.9:.75})`,G.font=`${kr}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,G.fillText(we.name.split(" ")[0],we.x,we.y-zt-10/d),d>.5&&G.restore(),we.indicacoes_count>0&&d>.4&&(d>.5&&(G.save(),G.shadowColor="rgba(0, 0, 0, 0.2)",G.shadowBlur=1/d,G.shadowOffsetX=.5/d,G.shadowOffsetY=.5/d),G.fillStyle=`rgba(${aa.r}, ${aa.g}, ${aa.b}, 0.6)`,G.font=`${jn}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,G.fillText(`${we.indicacoes_count} indicaes`,we.x,we.y+zt+15/d),d>.5&&G.restore())}}),G.restore()},ht=ee=>{const G=a.current;if(!G)return;const $e=G.getBoundingClientRect(),Je=(ee.clientX-$e.left-m.x)/d,Pe=(ee.clientY-$e.top-m.y)/d,De=o.find(ct=>Math.sqrt((Je-ct.x)**2+(Pe-ct.y)**2)<=15);c(De?De.id:null)},Ke=ee=>{v(!0),y({x:ee.clientX-m.x,y:ee.clientY-m.y})},Et=ee=>{if(p)g({x:ee.clientX-w.x,y:ee.clientY-w.y}),a.current&&(a.current.style.cursor="grabbing");else{const G=a.current;if(!G)return;const $e=G.getBoundingClientRect(),Je=(ee.clientX-$e.left-m.x)/d,Pe=(ee.clientY-$e.top-m.y)/d;let De=null;for(const ct of o){const It=ct.level===0?16:ct.level===1?14:ct.level===2?12:10,Tt=ct.indicacoes_count*1.5,we=It+Tt;if(Math.hypot(Je-ct.x,Pe-ct.y)<=Math.max(10,we)){De=ct.id;break}}f(De),a.current&&(a.current.style.cursor=De?"pointer":"move")}},bt=()=>{v(!1),a.current&&(a.current.style.cursor="move"),f(null)},Vt=()=>{h(1),g({x:0,y:0}),c(null)},Re=l?o.find(ee=>ee.id===l):null,He=l?e.find(ee=>ee.id===l):null;return s.jsxs("div",{className:"space-y-6",children:[(()=>{const{colorTheme:ee}=ru(),$e=new Set(["ocean","sunset","forest","purple","rose"]).has(ee)?"bg-gradient-to-r from-primary/5 to-accent/5":"bg-gradient-to-r from-primary/5 to-primary/10";return s.jsx(te,{className:`rounded-3xl border border-border/40 ${$e} shadow-sm`,children:s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:s.jsx(c3,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:"Rede de Indicaes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Visualizao das conexes entre clientes"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-background/60 backdrop-blur-sm border border-border/40 rounded-full px-2 py-1 shadow-sm",children:[s.jsx(de,{placeholder:"Buscar cliente...",value:j,onChange:Je=>N(Je.target.value),className:"w-56 h-8 rounded-full bg-background/70"}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>M(!A),className:"rounded-full h-8 w-8 text-muted-foreground hover:text-foreground",title:"Filtros Avanados",children:s.jsx(eE,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>P(E==="hierarchical"?"circular":"hierarchical"),className:"rounded-full h-8 w-8 text-muted-foreground hover:text-foreground",title:`Alternar para layout ${E==="hierarchical"?"circular":"hierrquico"}`,children:E==="hierarchical"?"":""}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>_(!b),className:"rounded-full h-8 w-8 text-muted-foreground hover:text-foreground",title:b?"Ocultar rtulos":"Mostrar rtulos",children:b?s.jsx(s3,{className:"w-4 h-4"}):s.jsx(cd,{className:"w-4 h-4"})})]})]})})})})(),A&&s.jsx(te,{className:"rounded-3xl border border-border/40 shadow-sm bg-gradient-to-r from-primary/5 to-accent/5",children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"w-4 h-4 text-blue-600"}),s.jsx("label",{className:"text-sm font-medium",children:"Perodo"})]}),s.jsxs(ot,{value:O,onValueChange:R,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecionar perodo"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"all",children:"Todos os perodos"}),s.jsx(J,{value:"7days",children:"ltimos 7 dias"}),s.jsx(J,{value:"30days",children:"ltimos 30 dias"}),s.jsx(J,{value:"90days",children:"ltimos 90 dias"}),s.jsx(J,{value:"1year",children:"ltimo ano"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"w-4 h-4 text-green-600"}),s.jsx("label",{className:"text-sm font-medium",children:"Valor LTV"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(GS,{value:L,onValueChange:ee=>D(ee),max:1e4,min:0,step:100,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["R$ ",L[0].toLocaleString()]}),s.jsxs("span",{children:["R$ ",L[1].toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zy,{className:"w-4 h-4 text-purple-600"}),s.jsx("label",{className:"text-sm font-medium",children:"Performance"})]}),s.jsxs(ot,{value:B,onValueChange:k,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecionar performance"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"all",children:"Todas as performances"}),s.jsx(J,{value:"high",children:"Alta (3+ indicaes)"}),s.jsx(J,{value:"medium",children:"Mdia (1-2 indicaes)"}),s.jsx(J,{value:"low",children:"Baixa (0 indicaes)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xP,{className:"w-4 h-4 text-orange-600"}),s.jsx("label",{className:"text-sm font-medium",children:"Animao"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(GS,{value:[T],onValueChange:ee=>q(ee[0]),max:1e3,min:100,step:50,className:"w-full"}),s.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[T,"ms"]})]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border/50",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Mostrando ",S.size," de ",o.length," clientes"]}),s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{R("all"),D([0,1e4]),k("all"),N("")},className:"text-xs",children:"Limpar Filtros"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:[s.jsx(te,{className:"lg:col-span-5 rounded-3xl border-0 shadow-xl",children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold",children:"Mapa de Conexes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>h(Math.min(d*1.2,3)),className:"rounded-xl",children:s.jsx(cX,{className:"w-4 h-4"})}),s.jsx(H,{variant:"outline",size:"sm",onClick:()=>h(Math.max(d/1.2,.3)),className:"rounded-xl",children:s.jsx(uX,{className:"w-4 h-4"})}),s.jsx(H,{variant:"outline",size:"sm",onClick:Vt,className:"rounded-xl",children:s.jsx(xP,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex items-center gap-1 border-l pl-2 ml-2",children:s.jsx(H,{variant:"outline",size:"sm",onClick:()=>ye(!ie),className:"rounded-xl",title:"Exportar Visualizao",children:s.jsx(ld,{className:"w-4 h-4"})})})]})]}),s.jsxs("div",{className:"relative bg-muted/20 rounded-2xl overflow-hidden",children:[s.jsx("canvas",{ref:a,width:800,height:600,className:"w-full h-[600px] cursor-move",style:{cursor:p?"grabbing":u?"pointer":"move"},onClick:ht,onMouseDown:Ke,onMouseMove:Et,onMouseUp:bt,onMouseLeave:bt}),ie&&s.jsxs("div",{className:"absolute top-4 left-4 bg-background/95 backdrop-blur-sm border border-border rounded-xl p-3 shadow-lg min-w-48",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium",children:"Exportar Visualizao"}),s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>ye(!1),className:"h-4 w-4 p-0",children:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>{const ee=a.current;if(ee){const G=document.createElement("a");G.download="rede-indicacoes.png",G.href=ee.toDataURL(),G.click()}},children:[s.jsx(ld,{className:"w-3 h-3 mr-2"}),"Exportar PNG"]}),s.jsxs(H,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>{console.log("Exportar SVG - Em desenvolvimento")},children:[s.jsx(ld,{className:"w-3 h-3 mr-2"}),"Exportar SVG"]}),s.jsxs(H,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>{console.log("Exportar PDF - Em desenvolvimento")},children:[s.jsx(ld,{className:"w-3 h-3 mr-2"}),"Exportar PDF"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[Ie.slice(0,Math.min(4,Ie.length)).map((ee,G)=>{const $e=G===0?"w-3.5 h-3.5":G===1?"w-3 h-3":G===2?"w-2.5 h-2.5":"w-2 h-2";return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`${$e} rounded-full border border-white/20`,style:{background:`radial-gradient(circle at 30% 30%, ${ee}f0, ${ee})`}}),s.jsx("span",{className:"text-foreground/80",children:G===0?"Clientes Raiz":`${G} Gerao`})]},G)}),Ie.length>4&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex -space-x-0.5",children:Ie.slice(4,7).map((ee,G)=>s.jsx("div",{className:"w-1.5 h-1.5 rounded-full border border-white/20",style:{background:`radial-gradient(circle at 30% 30%, ${ee}f0, ${ee})`}},G))}),s.jsx("span",{className:"text-foreground/80",children:"Geraes 4+"})]})]})]})}),s.jsx(te,{className:"lg:col-span-2 rounded-3xl border-0 shadow-xl",children:s.jsxs(me,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Informaes"}),Re&&He?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-lg",children:Re.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:He.email})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"LTV:"}),s.jsxs(ft,{variant:"secondary",children:["R$ ",Re.ltv.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Indicaes:"}),s.jsx(ft,{variant:"outline",children:Re.indicacoes_count})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Nvel:"}),s.jsx(ft,{style:{backgroundColor:Ie[Math.min(Re.level,Ie.length-1)]+"20",color:Ie[Math.min(Re.level,Ie.length-1)]},children:Re.level})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 pt-2 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cidade"}),s.jsx("p",{className:"text-sm",children:He.cidade||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instagram"}),He.instagram?s.jsx("a",{href:He.instagram,target:"_blank",rel:"noreferrer",className:"text-sm text-primary underline break-all",children:He.instagram}):s.jsx("p",{className:"text-sm",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Criado em"}),s.jsx("p",{className:"text-sm",children:new Date(He.created_at).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gerao"}),s.jsx("p",{className:"text-sm",children:Re.level})]})]}),s.jsxs("div",{className:"pt-2 border-t space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Caminho at a raiz"}),s.jsx("p",{className:"text-sm",children:(()=>{const ee=[];let G=He;const $e=50;let Je=0;for(;G&&Je<$e&&(ee.push(G.nome),!!G.indicado_por);)G=e.find(Pe=>Pe.id===G.indicado_por),Je++;return ee.join("  ")})()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Filhos diretos"}),s.jsx("p",{className:"text-sm",children:e.filter(ee=>ee.indicado_por===He.id).map(ee=>ee.nome).join(", ")||""})]})]}),He.indicado_por&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicado por:"}),s.jsx("p",{className:"font-medium",children:((kt=e.find(ee=>ee.id===He.indicado_por))==null?void 0:kt.nome)||"Cliente no encontrado"})]})]}):s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Ds,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Clique em um n para ver detalhes"})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t",children:[s.jsx("h4",{className:"font-medium",children:"Mtricas em Tempo Real"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[s.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"LTV Total"}),s.jsx("p",{className:"text-lg font-semibold text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Qe.totalLTV)})]}),s.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mdia Indicaes"}),s.jsx("p",{className:"text-lg font-semibold text-primary",children:Qe.avgIndicationsPerNode})]}),s.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Taxa Crescimento"}),s.jsx("p",{className:`text-lg font-semibold ${Qe.networkGrowthRate>=0?"text-primary":"text-destructive"}`,children:`${Math.round(Qe.networkGrowthRate)}%`})]}),s.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Top Performers"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Qe.topPerformers.length>0?Qe.topPerformers.map(ee=>s.jsxs("span",{className:"text-sm font-medium text-primary",children:[ee.name," (",ee.indicacoes_count,")"]},ee.id)):s.jsx("span",{className:"text-sm",children:""})})]})]})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t space-y-1",children:[s.jsx("h4",{className:"font-medium",children:"Estatsticas da Rede"}),s.jsxs("div",{className:"space-y-0.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total de Clientes:"}),s.jsx("span",{className:"font-medium",children:o.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Clientes Raiz:"}),s.jsx("span",{className:"font-medium",children:o.filter(ee=>ee.isRoot).length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total de Indicaes:"}),s.jsx("span",{className:"font-medium",children:o.reduce((ee,G)=>ee+G.indicacoes_count,0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Nveis Mximos:"}),s.jsx("span",{className:"font-medium",children:Math.max(...o.map(ee=>ee.level))+1})]})]})]})]})})]})]})}const n_="temporary_referrals";function H4e(){const[e,t]=x.useState([]);return x.useEffect(()=>{const c=localStorage.getItem(n_);if(c)try{t(JSON.parse(c))}catch(u){console.error("Erro ao carregar indicaes temporrias:",u),t([])}},[]),x.useEffect(()=>{localStorage.setItem(n_,JSON.stringify(e))},[e]),{setReferral:(c,u)=>{t(f=>f.find(h=>h.clienteId===c)?f.map(h=>h.clienteId===c?{...h,indicadoPor:u}:h):[...f,{clienteId:c,indicadoPor:u}])},getReferral:c=>{const u=e.find(f=>f.clienteId===c);return(u==null?void 0:u.indicadoPor)||null},removeReferral:c=>{t(u=>u.filter(f=>f.clienteId!==c))},clearAllReferrals:()=>{t([]),localStorage.removeItem(n_)},exportReferrals:()=>e,importReferrals:c=>{t(c)},referrals:e}}const a_=(e,t)=>{const r=t>0?e/t*100:0;return r>=75?"text-success bg-success/10 border-success/20":r>=50?"text-primary bg-primary/10 border-primary/20":r>=25?"text-blue-500 bg-blue-500/10 border-blue-500/20":"text-muted-foreground bg-muted/10 border-muted/20"},s_=e=>e>=5e4?"VIP":e>=2e4?"Premium":e>=5e3?"Regular":e>0?"Novo":"Sem faturamento",G4e=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[a,o]=x.useState(!1),[i,l]=x.useState(""),[c,u]=x.useState(!0),[f,d]=x.useState("table"),[h,m]=x.useState(new Set),[g,p]=x.useState({}),[v,w]=x.useState("ltv"),[y,b]=x.useState({nome:"",email:"",telefone:"",instagram:"",cidade:"",indicado_por:""}),_=x.useRef(null),j=x.useRef(null),[N,S]=x.useState(!1),[C,E]=x.useState(!1),[P,A]=x.useState(!1),M=()=>{const I=_.current;if(!I){S(!1),E(!1);return}const ae=I.scrollWidth-I.clientWidth;if(ae<=0){S(!1),E(!1);return}S(I.scrollLeft>0),E(I.scrollLeft<ae-1)};x.useEffect(()=>{const I=_.current,ae=()=>M(),Oe=()=>M(),ht=()=>M(),Ke=setTimeout(ae,120);return I&&I.addEventListener("scroll",Oe),window.addEventListener("resize",ht),()=>{clearTimeout(Ke),I&&I.removeEventListener("scroll",Oe),window.removeEventListener("resize",ht)}},[e.length,f]),x.useEffect(()=>{const I=j.current;if(!I){A(!1);return}const ae=new IntersectionObserver(Oe=>{const ht=Oe[0],Ke=ht.isIntersecting&&ht.intersectionRatio>=.5;A(Ke)},{threshold:[.5]});return ae.observe(I),()=>ae.disconnect()},[f]);const[O,R]=x.useState([]),[L,D]=x.useState([]),[B,k]=x.useState(""),[T,q]=x.useState(""),[Q,F]=x.useState("mais_usadas"),[X,ce]=x.useState({}),[pe,ge]=x.useState({nome:!0,email:!0,telefone:!0,instagram:!0,cidade:!0,ltv:!0,categoria:!0,indicado_por:!0,indicados:!0,projetos:!0,acoes:!0}),he={nome:"Nome",email:"Email",telefone:"Telefone",instagram:"Instagram",cidade:"Cidade",ltv:"LTV",categoria:"Categoria",indicado_por:"Indicado por",indicados:"Indicados",projetos:"Projetos",acoes:"Aes"},qe=I=>ge(ae=>({...ae,[I]:!ae[I]})),ie=(I,ae)=>{const Oe=I.map(Vt=>(Vt||"").toLowerCase()),ht=O.filter(Vt=>{const Re=!Oe.includes((Vt.nome||"").toLowerCase()),He=ae?Vt.nome.toLowerCase().includes(ae.toLowerCase()):!0;return Re&&He}),Ke=Vt=>X[Vt]||0,Et=Vt=>Vt.created_at?new Date(Vt.created_at).getTime():0;return[...ht].sort((Vt,Re)=>{if(Q==="mais_usadas"){const He=Ke(Vt.nome),kt=Ke(Re.nome);if(kt!==He)return kt-He;const ee=Et(Re)-Et(Vt);return ee!==0?ee:Vt.nome.localeCompare(Re.nome)}else{const He=Et(Re)-Et(Vt);if(He!==0)return He;const kt=Ke(Vt.nome),ee=Ke(Re.nome);return ee!==kt?ee-kt:Vt.nome.localeCompare(Re.nome)}}).slice(0,8)},{user:ye}=dn(),{toast:ve}=en(),ne=Bs(),{setReferral:gt,getReferral:at}=H4e(),[je,yt]=x.useState({cidades:[],hasInstagram:!1,ltvMin:0,ltvMax:0,dataInicio:"",dataFim:"",tipoIndicacao:"todos",indicadoPorId:"todos",projetosMin:0,transacoesMin:0});x.useEffect(()=>{ye&&(gr(),Ut())},[ye]);const Ut=async()=>{try{const{data:I,error:ae}=await Z.from("cidades").select("id, nome, created_at").order("nome",{ascending:!0});if(ae)throw ae;R((I||[]).map(Oe=>({id:Oe.id,nome:Oe.nome,created_at:Oe.created_at})))}catch{console.warn("Tabela 'cidades' indisponvel. Multiselect funcionar localmente.")}},gr=async()=>{try{const{data:I,error:ae}=await Z.from("clientes").select("*").order("created_at",{ascending:!1});if(ae)throw ae;const{data:Oe,error:ht}=await Z.from("transacoes").select(`
          id,
          valor,
          tipo,
          data_liquidacao,
          agendamento_id,
          agendamentos (
            projeto_id,
            projetos (
              cliente_id
            )
          )
        `);if(ht)throw ht;const{data:Ke,error:Et}=await Z.from("projetos").select("id, cliente_id");if(Et)throw Et;let bt={};try{const{data:He,error:kt}=await Z.from("clientes_cidades").select("cliente_id, cidades (nome)");if(kt)throw kt;(He||[]).forEach(ee=>{var $e;const G=($e=ee.cidades)==null?void 0:$e.nome;G&&(bt[ee.cliente_id]||(bt[ee.cliente_id]=[]),bt[ee.cliente_id].push(G))})}catch{}const Vt=(I||[]).map(He=>{const kt=(Ke||[]).filter($e=>$e.cliente_id===He.id).length;let ee=0,G=0;return(Oe||[]).forEach($e=>{var Pe;const Je=$e.agendamentos;((Pe=Je==null?void 0:Je.projetos)==null?void 0:Pe.cliente_id)===He.id&&(G++,$e.tipo==="RECEITA"&&$e.data_liquidacao&&(ee+=Number($e.valor)))}),{...He,ltv:ee,projetos_count:kt,transacoes_count:G,indicado_por:He.indicado_por??at(He.id),cidades:bt[He.id]||void 0}});Vt.sort((He,kt)=>kt.ltv-He.ltv),t(Vt);const Re={};(Vt||[]).forEach(He=>{(He.cidades&&He.cidades.length>0?He.cidades:He.cidade?[He.cidade]:[]).forEach(ee=>{const G=(ee||"").trim();G&&(Re[G]=(Re[G]||0)+1)})}),ce(Re)}catch(I){console.error("Erro ao buscar clientes:",I),ve({title:"Erro ao carregar clientes",description:"No foi possvel carregar os clientes.",variant:"destructive"})}finally{u(!1)}},Ne=async I=>{if(I.preventDefault(),!!ye)try{const ae={user_id:ye.id,nome:y.nome};y.email&&(ae.email=y.email),y.telefone&&(ae.telefone=y.telefone),y.instagram&&(ae.instagram=y.instagram),y.cidade&&(ae.cidade=y.cidade),y.indicado_por&&y.indicado_por!=="none"&&(ae.indicado_por=y.indicado_por);const Oe=L.length>0?L.map(Et=>(Et.nome||"").trim()).filter(Boolean):(B||"").trim()?[(B||"").trim()]:[],{data:ht,error:Ke}=await Z.from("clientes").insert([ae]).select();if(Ke)throw Ke;if(ht&&ht[0]&&Oe.length>0)try{const Et=[];for(const bt of Oe){const Vt=O.find(Re=>(Re.nome||"").toLowerCase()===bt.toLowerCase());if(Vt!=null&&Vt.id)Et.push(Vt.id);else{const{data:Re,error:He}=await Z.from("cidades").insert([{user_id:ye.id,nome:bt}]).select();if(He)throw He;const kt=Re&&Re[0]?Re[0].id:void 0;kt&&(Et.push(kt),R(ee=>{var G;return ee.some($e=>($e.nome||"").toLowerCase()===bt.toLowerCase())?ee:[...ee,{id:kt,nome:bt,created_at:(G=Re==null?void 0:Re[0])==null?void 0:G.created_at}]}))}}if(Et.length>0){const bt=Et.map(Re=>({user_id:ye.id,cliente_id:ht[0].id,cidade_id:Re})),{error:Vt}=await Z.from("clientes_cidades").insert(bt);if(Vt)throw Vt}}catch(Et){console.warn("No foi possvel vincular cidades ao cliente:",Et)}if(ht&&ht[0]){const Et={...ht[0],ltv:0,projetos_count:0,transacoes_count:0,indicado_por:y.indicado_por&&y.indicado_por!=="none"?y.indicado_por:null,cidades:Oe.length>0?Oe:void 0};t(bt=>[Et,...bt])}ve({title:"Cliente criado!",description:"O cliente foi adicionado com sucesso."}),b({nome:"",email:"",telefone:"",instagram:"",cidade:"",indicado_por:""}),D([]),k(""),n(!1),o(!1)}catch(ae){console.error("Erro ao criar cliente:",ae);try{const{data:Oe}=await Z.from("clientes").insert([{user_id:ye.id,nome:y.nome}]).select();if(Oe&&Oe[0]){const ht={...Oe[0],instagram:y.instagram||void 0,cidade:y.cidade||void 0,ltv:0,projetos_count:0,transacoes_count:0,indicado_por:y.indicado_por&&y.indicado_por!=="none"?y.indicado_por:null,cidades:L.length>0?L.map(Ke=>Ke.nome):void 0};t(Ke=>[ht,...Ke])}ve({title:"Cliente criado!",description:"Alguns campos novos sero persistidos aps migrao do banco."}),b({nome:"",email:"",telefone:"",instagram:"",cidade:"",indicado_por:""}),D([]),k(""),n(!1),o(!1);return}catch(Oe){console.error("Fallback falhou ao criar cliente:",Oe)}ve({title:"Erro ao criar cliente",description:"No foi possvel criar o cliente.",variant:"destructive"})}},U=async I=>{try{const{error:ae}=await Z.from("clientes").delete().eq("id",I);if(ae)throw ae;t(Oe=>Oe.filter(ht=>ht.id!==I)),ve({title:"Cliente removido!",description:"O cliente foi removido com sucesso."})}catch(ae){console.error("Erro ao deletar cliente:",ae),ve({title:"Erro ao remover cliente",description:"No foi possvel remover o cliente.",variant:"destructive"})}},$=(I,ae)=>{m(Oe=>new Set(Oe).add(I)),p(Oe=>({...Oe,[I]:{nome:ae.nome,email:ae.email,telefone:ae.telefone,instagram:ae.instagram||"",cidade:ae.cidade||"",indicado_por:ae.indicado_por||"none"}}))},V=I=>{m(ae=>{const Oe=new Set(ae);return Oe.delete(I),Oe}),p(ae=>{const Oe={...ae};return delete Oe[I],Oe})},oe=async I=>{const ae=g[I];if(ae)try{const{indicado_por:Oe,...ht}=ae,{error:Ke}=await Z.from("clientes").update(ht).eq("id",I);if(Ke)throw Ke;if(Oe!==void 0){const Et=Oe==="none"?null:Oe;try{const{error:bt}=await Z.from("clientes").update({indicado_por:Et}).eq("id",I);if(bt)throw bt;t(Vt=>Vt.map(Re=>Re.id===I?{...Re,...ht,indicado_por:Et||null}:Re))}catch{gt(I,Et),t(Vt=>Vt.map(Re=>Re.id===I?{...Re,...ht,indicado_por:Et||null}:Re))}}else t(Et=>Et.map(bt=>bt.id===I?{...bt,...ht}:bt));ve({title:"Cliente atualizado!",description:"As alteraes foram salvas com sucesso."}),V(I)}catch(Oe){console.error("Erro ao atualizar cliente:",Oe);try{const{error:ht}=await Z.from("clientes").update({nome:ae.nome,email:ae.email,telefone:ae.telefone}).eq("id",I);if(!ht){t(Ke=>Ke.map(Et=>Et.id===I?{...Et,nome:ae.nome??Et.nome,email:ae.email??Et.email,telefone:ae.telefone??Et.telefone,instagram:ae.instagram??Et.instagram,cidade:ae.cidade??Et.cidade}:Et)),ve({title:"Cliente atualizado parcialmente",description:"Campos novos sero persistidos aps migrao do banco."}),V(I);return}}catch(ht){console.error("Fallback falhou ao atualizar cliente:",ht)}ve({title:"Erro ao atualizar cliente",description:"No foi possvel salvar as alteraes.",variant:"destructive"})}},se=(I,ae,Oe)=>{p(ht=>({...ht,[I]:{...ht[I],[ae]:Oe}}))},le=async()=>{const I=Array.from(h).map(ae=>oe(ae));await Promise.all(I)},K=I=>ae=>{ae.key==="Enter"&&(ae.preventDefault(),oe(I))},ue=I=>ae=>{ae.key==="Enter"&&(ae.preventDefault(),setTimeout(()=>oe(I),0))},Ie=e.filter(I=>{const ae=i.trim().toLowerCase();if(!(ae===""||I.nome.toLowerCase().includes(ae)||I.email.toLowerCase().includes(ae)||I.telefone.toLowerCase().includes(ae))||je.cidades.length>0&&!(I.cidades&&I.cidades.length>0?I.cidades:I.cidade?[I.cidade]:[]).some(bt=>je.cidades.some(Vt=>(bt||"").toLowerCase()===Vt.toLowerCase()))||je.hasInstagram&&!I.instagram||I.ltv<je.ltvMin||je.ltvMax>0&&I.ltv>je.ltvMax)return!1;const ht=new Date(I.created_at).getTime();if(je.dataInicio){const Ke=new Date(je.dataInicio).getTime();if(ht<Ke)return!1}if(je.dataFim){const Ke=new Date(je.dataFim).getTime();if(ht>Ke)return!1}return!(je.tipoIndicacao==="direto"&&I.indicado_por||je.tipoIndicacao==="indicado"&&!I.indicado_por||je.tipoIndicacao==="indica_outros"&&!e.some(Et=>Et.indicado_por===I.id)||je.indicadoPorId!=="todos"&&je.indicadoPorId!==""&&I.indicado_por!==je.indicadoPorId||I.projetos_count<je.projetosMin||I.transacoes_count<je.transacoesMin)}),Qe=Ie.reduce((I,ae)=>I+ae.ltv,0),dr=Math.max(...Ie.map(I=>I.ltv),0),W=Ie.length>0?Qe/Ie.length:0,xe=(()=>{let I=0;return je.cidades.length>0&&I++,je.hasInstagram&&I++,je.ltvMin>0&&I++,je.ltvMax>0&&I++,je.dataInicio&&I++,je.dataFim&&I++,je.tipoIndicacao!=="todos"&&I++,je.indicadoPorId!=="todos"&&je.indicadoPorId!==""&&I++,je.projetosMin>0&&I++,je.transacoesMin>0&&I++,I})(),Me=[...Ie].sort((I,ae)=>v==="ltv"?ae.ltv-I.ltv:v==="created_at"?new Date(ae.created_at).getTime()-new Date(I.created_at).getTime():I.nome.localeCompare(ae.nome)),{colorTheme:et}=ru();if(c)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})});const lt=new Set(["ocean","sunset","forest","purple","rose"]).has(et)?"bg-gradient-to-br from-primary/10 to-accent/5":"bg-gradient-to-br from-primary/10 to-primary/5";return s.jsxs("div",{className:"space-y-6 pb-20",children:[s.jsx(te,{className:"rounded-3xl border-0 bg-gradient-to-r from-blue-500/10 to-blue-600/5 shadow-lg"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Clientes"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua base de clientes e acompanhe o LTV"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(te,{className:`p-4 rounded-xl ${lt}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(ra,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LTV Total"})]}),s.jsxs("p",{className:"text-xl font-semibold",children:["R$ ",Qe.toFixed(2)]})]}),s.jsxs(te,{className:`p-4 rounded-xl ${lt}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(Pn,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LTV Mdio"})]}),s.jsxs("p",{className:"text-xl font-semibold",children:["R$ ",W.toFixed(2)]})]}),s.jsxs(te,{className:`p-4 rounded-xl ${lt}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(Pn,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maior LTV"})]}),s.jsxs("p",{className:"text-xl font-semibold",children:["R$ ",dr.toFixed(2)]})]}),s.jsxs(te,{className:`p-4 rounded-xl ${lt}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:s.jsx(Ds,{className:"w-4 h-4 text-primary"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clientes"})]}),s.jsx("p",{className:"text-xl font-semibold",children:e.length})]})]}),s.jsxs(Fa,{value:f,onValueChange:I=>d(I),className:"w-full",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs(wa,{className:"inline-flex w-auto rounded-2xl bg-gradient-to-r from-muted/30 to-muted/10 p-1.5 backdrop-blur-sm border border-border/20 shadow-lg",children:[s.jsxs(St,{value:"table",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[s.jsx(nE,{className:"w-5 h-5 transition-colors"}),s.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Tabela"})]}),s.jsxs(St,{value:"network",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[s.jsx(c3,{className:"w-5 h-5 transition-colors"}),s.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Rede"})]}),s.jsxs(St,{value:"cards",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[s.jsx(KY,{className:"w-5 h-5 transition-colors"}),s.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Lista"})]}),s.jsxs(St,{value:"grid",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[s.jsx(tE,{className:"w-5 h-5 transition-colors"}),s.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Grid"})]})]})}),f!=="network"&&s.jsxs("div",{className:"flex items-center justify-between gap-4 py-3 px-1 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Buscar clientes...",className:"pl-10 rounded-lg border-muted/50 bg-background/50 backdrop-blur-sm h-9",value:i,onChange:I=>l(I.target.value)})]}),s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"rounded-lg h-9",children:["Filtros",xe>0&&s.jsx(ft,{variant:"secondary",className:"ml-2 rounded-full px-2 py-0.5 text-xs",children:xe})]})}),s.jsxs(ks,{className:"w-[520px] rounded-xl p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Cidades"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:je.cidades.map(I=>s.jsxs(ft,{variant:"secondary",className:"rounded-full px-2 py-1 text-xs",children:[s.jsx("span",{children:I}),s.jsx("button",{type:"button",onClick:()=>yt({...je,cidades:je.cidades.filter(ae=>ae.toLowerCase()!==I.toLowerCase())}),className:"ml-2 text-muted-foreground hover:text-foreground","aria-label":`Remover ${I}`,children:""})]},I))}),s.jsx(de,{placeholder:"Digite e pressione Enter para adicionar",value:T,onChange:I=>q(I.target.value),onKeyDown:I=>{if(I.key==="Enter"){const ae=T.trim();if(!ae)return;je.cidades.some(Oe=>Oe.toLowerCase()===ae.toLowerCase())||yt({...je,cidades:[...je.cidades,ae]}),q("")}}}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:"Ranking:"}),s.jsx(H,{type:"button",variant:Q==="mais_usadas"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>F("mais_usadas"),children:"Mais usadas"}),s.jsx(H,{type:"button",variant:Q==="mais_recentes"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>F("mais_recentes"),children:"Mais recentes"})]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ie(je.cidades,T).map(I=>s.jsx(H,{type:"button",variant:"outline",size:"sm",className:"rounded-full h-7",onClick:()=>{je.cidades.some(ae=>ae.toLowerCase()===I.nome.toLowerCase())||yt({...je,cidades:[...je.cidades,I.nome]}),q("")},children:I.nome},I.id||I.nome))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Instagram"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lf,{checked:je.hasInstagram,onCheckedChange:I=>yt({...je,hasInstagram:!!I})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Somente quem tem link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"LTV mnimo"}),s.jsx(de,{type:"number",min:0,value:je.ltvMin,onChange:I=>yt({...je,ltvMin:Number(I.target.value||0)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"LTV mximo"}),s.jsx(de,{type:"number",min:0,placeholder:"Sem limite",value:je.ltvMax||"",onChange:I=>yt({...je,ltvMax:Number(I.target.value||0)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Data incio"}),s.jsx(de,{type:"date",value:je.dataInicio,onChange:I=>yt({...je,dataInicio:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Data fim"}),s.jsx(de,{type:"date",value:je.dataFim,onChange:I=>yt({...je,dataFim:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Tipo de indicao"}),s.jsxs(ot,{value:je.tipoIndicacao,onValueChange:I=>yt({...je,tipoIndicacao:I}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione"})}),s.jsxs(nt,{className:"rounded-xl",children:[s.jsx(J,{value:"todos",children:"Todos"}),s.jsx(J,{value:"direto",children:"Cliente direto"}),s.jsx(J,{value:"indicado",children:"Indicado por algum"}),s.jsx(J,{value:"indica_outros",children:"J indicou outros"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Indicado por"}),s.jsxs(ot,{value:je.indicadoPorId,onValueChange:I=>yt({...je,indicadoPorId:I}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Todos"})}),s.jsxs(nt,{className:"rounded-xl max-h-[220px]",children:[s.jsx(J,{value:"todos",children:"Todos"}),e.map(I=>s.jsx(J,{value:I.id,children:I.nome},I.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Projetos mnimos"}),s.jsx(de,{type:"number",min:0,value:je.projetosMin,onChange:I=>yt({...je,projetosMin:Number(I.target.value||0)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Transaes mnimas"}),s.jsx(de,{type:"number",min:0,value:je.transacoesMin,onChange:I=>yt({...je,transacoesMin:Number(I.target.value||0)})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(H,{variant:"ghost",className:"rounded-xl",onClick:()=>yt({cidades:[],hasInstagram:!1,ltvMin:0,ltvMax:0,dataInicio:"",dataFim:"",tipoIndicacao:"todos",indicadoPorId:"todos",projetosMin:0,transacoesMin:0}),children:"Limpar"}),T&&s.jsx(H,{variant:"ghost",className:"rounded-xl",onClick:()=>q(""),children:"Limpar texto"}),s.jsx(H,{className:"rounded-xl",onClick:()=>{},children:"Aplicar"})]})]})]}),s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsx(H,{variant:"outline",size:"icon",className:"rounded-lg h-9",title:"Mostrar/ocultar colunas",children:s.jsx(s3,{className:"w-4 h-4"})})}),s.jsx(ks,{className:"rounded-xl w-56",children:s.jsx("div",{className:"space-y-1",children:Object.keys(he).map(I=>s.jsxs("div",{className:"flex items-center gap-2 py-1",children:[s.jsx(lf,{id:`col-${I}`,checked:pe[I],onCheckedChange:()=>qe(I)}),s.jsx("label",{htmlFor:`col-${I}`,className:"text-sm",children:he[I]})]},I))})})]}),s.jsxs(Ir,{open:r,onOpenChange:n,children:[s.jsx(_o,{asChild:!0,children:s.jsxs(H,{className:"rounded-lg gap-2 h-9 px-3",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Novo Cliente"})]})}),s.jsxs(Cr,{className:"rounded-xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Novo Cliente"})}),s.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"nome",children:"Nome"}),s.jsx(de,{id:"nome",className:"rounded-xl",value:y.nome,onChange:I=>b({...y,nome:I.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"email",children:"Email"}),s.jsx(de,{id:"email",type:"email",className:"rounded-xl",value:y.email,onChange:I=>b({...y,email:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"telefone",children:"Telefone"}),s.jsx(de,{id:"telefone",className:"rounded-xl",value:y.telefone,onChange:I=>b({...y,telefone:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"instagram",children:"Instagram (link)"}),s.jsx(de,{id:"instagram",placeholder:"https://instagram.com/usuario",className:"rounded-xl",value:y.instagram,onChange:I=>b({...y,instagram:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Cidades"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:L.map(I=>s.jsxs(ft,{variant:"secondary",className:"rounded-full px-2 py-1 text-xs",children:[s.jsx("span",{children:I.nome}),s.jsx("button",{type:"button",onClick:()=>D(ae=>ae.filter(Oe=>Oe.nome!==I.nome)),className:"ml-2 text-muted-foreground hover:text-foreground","aria-label":`Remover ${I.nome}`,children:""})]},I.nome))}),s.jsx(de,{placeholder:"Digite e pressione Enter para adicionar",className:"rounded-xl",value:B,onChange:I=>k(I.target.value),onKeyDown:I=>{if(I.key==="Enter"){const ae=B.trim();if(!ae)return;const Oe=O.find(ht=>ht.nome.toLowerCase()===ae.toLowerCase());D(ht=>ht.some(Ke=>Ke.nome.toLowerCase()===ae.toLowerCase())?ht:[...ht,Oe?{id:Oe.id,nome:Oe.nome}:{nome:ae}]),k("")}}}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:"Ranking:"}),s.jsx(H,{type:"button",variant:Q==="mais_usadas"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>F("mais_usadas"),children:"Mais usadas"}),s.jsx(H,{type:"button",variant:Q==="mais_recentes"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>F("mais_recentes"),children:"Mais recentes"})]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ie(L.map(I=>I.nome),B).map(I=>s.jsx(H,{type:"button",variant:"outline",size:"sm",className:"rounded-full h-7",onClick:()=>{D(ae=>ae.some(Oe=>Oe.nome.toLowerCase()===I.nome.toLowerCase())?ae:[...ae,{id:I.id,nome:I.nome}]),k("")},children:I.nome},I.id||I.nome))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"indicado_por",children:"Indicado por (opcional)"}),s.jsxs(ot,{value:y.indicado_por,onValueChange:I=>b({...y,indicado_por:I}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione o cliente que indicou"})}),s.jsxs(nt,{className:"rounded-xl",children:[s.jsx(J,{value:"none",children:"Nenhum (cliente direto)"}),e.map(I=>s.jsx(J,{value:I.id,children:I.nome},I.id))]})]})]}),s.jsx(H,{type:"submit",className:"w-full rounded-xl",children:"Salvar Cliente"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-muted/30 rounded-lg p-1",children:[s.jsx(H,{variant:v==="ltv"?"default":"ghost",size:"sm",className:"rounded-md h-7 px-2 text-xs",onClick:()=>w("ltv"),children:"LTV"}),s.jsx(H,{variant:v==="nome"?"default":"ghost",size:"sm",className:"rounded-md h-7 px-2 text-xs",onClick:()=>w("nome"),children:"Nome"}),s.jsx(H,{variant:v==="created_at"?"default":"ghost",size:"sm",className:"rounded-md h-7 px-2 text-xs",onClick:()=>w("created_at"),children:"Data"})]}),s.jsx(ft,{variant:"outline",className:"rounded-md text-xs px-2 py-1 bg-background/50",children:Ie.length})]})]}),s.jsx(Ct,{value:"cards",className:"mt-6 animate-in fade-in-50 duration-300",children:Me.length===0?s.jsx(te,{className:"p-12 rounded-xl",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{children:"Nenhum cliente encontrado."}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Novo Cliente" para comear.'})]})}):s.jsx("div",{className:"space-y-4",children:Me.map(I=>{const ae=h.has(I.id),Oe=g[I.id]||I,Et=["ocean","sunset","forest","purple","rose"].includes(et)?"hover:bg-muted/20":"hover:bg-muted/30";return s.jsx(te,{className:`p-6 rounded-xl hover:shadow-lg transition-shadow cursor-pointer ${Et} transition-colors`,onDoubleClick:()=>$(I.id,I),children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-[220px]",children:ae?s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{value:Oe.nome||"",onChange:bt=>se(I.id,"nome",bt.target.value),onKeyDown:K(I.id),className:"rounded-xl h-9"}),s.jsx(de,{type:"email",value:Oe.email||"",onChange:bt=>se(I.id,"email",bt.target.value),onKeyDown:K(I.id),className:"rounded-xl h-9"}),s.jsx(de,{value:Oe.telefone||"",onChange:bt=>se(I.id,"telefone",bt.target.value),onKeyDown:K(I.id),className:"rounded-xl h-9"}),s.jsx(de,{value:Oe.instagram||"",onChange:bt=>se(I.id,"instagram",bt.target.value),onKeyDown:K(I.id),className:"rounded-xl h-9",placeholder:"Instagram (link)"}),s.jsx(de,{value:Oe.cidade||"",onChange:bt=>se(I.id,"cidade",bt.target.value),onKeyDown:K(I.id),className:"rounded-xl h-9",placeholder:"Cidade"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"font-semibold text-lg",children:I.nome}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.email}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.telefone})]})}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx(ft,{variant:"outline",className:`rounded-full text-xs ${a_(I.ltv,dr)}`,children:s_(I.ltv)}),s.jsxs("span",{className:"text-sm font-semibold text-success",children:["R$ ",I.ltv.toFixed(2)]})]})]}),!ae&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:[I.projetos_count," projeto(s)"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[I.transacoes_count," transao(es)"]})]})})]}),s.jsx("div",{className:"flex gap-2",children:ae?s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8 text-success",onClick:()=>oe(I.id),title:"Salvar",children:s.jsx(yr,{className:"w-3 h-3"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8",onClick:()=>V(I.id),title:"Cancelar",children:s.jsx(ef,{className:"w-3 h-3"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8",onClick:()=>ne(`/projetos?cliente=${I.id}`),children:s.jsx(Sc,{className:"w-3 h-3"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8 text-destructive",onClick:()=>U(I.id),children:s.jsx(Da,{className:"w-3 h-3"})})]})})]})},I.id)})})}),s.jsx(Ct,{value:"grid",className:"mt-6 animate-in fade-in-50 duration-300",children:Me.length===0?s.jsx(te,{className:"p-12 rounded-xl",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{children:"Nenhum cliente encontrado."}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Novo Cliente" para comear.'})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Me.map(I=>s.jsx(te,{className:"rounded-xl hover:shadow-lg transition-shadow",children:s.jsxs(me,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:I.nome}),s.jsx(ft,{variant:"outline",className:`rounded-full text-xs ${a_(I.ltv,dr)}`,children:s_(I.ltv)})]}),s.jsx(H,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8 text-destructive",onClick:()=>U(I.id),children:s.jsx(Da,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-medium min-w-[60px]",children:"Email:"}),s.jsx("span",{className:"text-muted-foreground truncate",children:I.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-medium min-w-[60px]",children:"Telefone:"}),s.jsx("span",{className:"text-muted-foreground",children:I.telefone})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"LTV"}),s.jsxs("span",{className:"font-semibold text-primary",children:["R$ ",I.ltv.toFixed(2)]})]}),s.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[s.jsxs("span",{children:[I.projetos_count," projeto(s)"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[I.transacoes_count," transao(es)"]})]})]}),s.jsxs(H,{variant:"outline",className:"w-full rounded-xl gap-2",onClick:()=>ne(`/projetos?cliente=${I.id}`),children:[s.jsx(Sc,{className:"w-4 h-4"}),"Ver Projetos"]})]})},I.id))})}),s.jsx(Ct,{value:"table",className:"mt-6 animate-in fade-in-50 duration-300",children:s.jsxs("div",{className:"space-y-4",children:[a&&s.jsxs(te,{className:"p-6 rounded-xl animate-fade-in",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Novo Cliente"}),s.jsxs("form",{onSubmit:Ne,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"table-nome",children:"Nome"}),s.jsx(de,{id:"table-nome",className:"rounded-xl",value:y.nome,onChange:I=>b({...y,nome:I.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"table-email",children:"Email"}),s.jsx(de,{id:"table-email",type:"email",className:"rounded-xl",value:y.email,onChange:I=>b({...y,email:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"table-telefone",children:"Telefone"}),s.jsx(de,{id:"table-telefone",className:"rounded-xl",value:y.telefone,onChange:I=>b({...y,telefone:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"table-instagram",children:"Instagram"}),s.jsx(de,{id:"table-instagram",placeholder:"https://instagram.com/usuario",className:"rounded-xl",value:y.instagram,onChange:I=>b({...y,instagram:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"table-cidade",children:"Cidade"}),s.jsx(de,{id:"table-cidade",className:"rounded-xl",value:y.cidade,onChange:I=>b({...y,cidade:I.target.value})})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(H,{type:"submit",className:"w-full rounded-xl gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Salvar"]})})]})]}),h.size>0&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-xl",children:[s.jsxs("p",{className:"text-sm flex-1",children:[h.size," linha(s) em edio"]}),s.jsxs(H,{size:"sm",className:"rounded-xl gap-2",onClick:le,children:[s.jsx(f3,{className:"w-4 h-4"}),"Salvar Todas"]})]}),Me.length===0?s.jsx(te,{className:"p-12 rounded-xl",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{children:"Nenhum cliente encontrado."}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Adicionar Cliente" para comear.'})]})}):s.jsx(te,{className:"rounded-xl overflow-hidden relative",ref:j,children:s.jsx("div",{className:"overflow-x-auto scroll-smooth",ref:_,children:s.jsx("div",{className:"min-w-[1600px]",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[pe.nome&&s.jsx(_e,{className:"min-w-[200px]",children:"Nome"}),pe.email&&s.jsx(_e,{className:"min-w-[250px]",children:"Email"}),pe.telefone&&s.jsx(_e,{className:"min-w-[150px]",children:"Telefone"}),pe.instagram&&s.jsx(_e,{className:"min-w-[200px]",children:"Instagram"}),pe.cidade&&s.jsx(_e,{className:"min-w-[150px]",children:"Cidade"}),pe.ltv&&s.jsx(_e,{className:"min-w-[150px]",children:"LTV"}),pe.categoria&&s.jsx(_e,{className:"min-w-[120px]",children:"Categoria"}),pe.indicado_por&&s.jsx(_e,{className:"min-w-[180px]",children:"Indicado por"}),pe.indicados&&s.jsx(_e,{className:"min-w-[200px]",children:"Indicados"}),pe.projetos&&s.jsx(_e,{className:"min-w-[120px]",children:"Projetos"}),pe.acoes&&s.jsx(_e,{className:"text-right min-w-[190px] sticky right-0 bg-background z-10",children:"Aes"})]})}),s.jsx(gs,{children:Me.map(I=>{var ht;const ae=h.has(I.id),Oe=g[I.id]||I;return s.jsxs(mr,{className:(ae?"bg-muted/50 ":"")+`cursor-pointer ${["ocean","sunset","forest","purple","rose"].includes(et)?"hover:bg-muted/20":"hover:bg-muted/30"} transition-colors`,onDoubleClick:()=>$(I.id,I),children:[pe.nome&&s.jsx(be,{children:ae?s.jsx(de,{value:Oe.nome,onChange:Ke=>se(I.id,"nome",Ke.target.value),onKeyDown:K(I.id),className:"rounded-xl h-8"}):s.jsx("span",{className:"font-medium",children:I.nome})}),pe.email&&s.jsx(be,{children:ae?s.jsx(de,{type:"email",value:Oe.email,onChange:Ke=>se(I.id,"email",Ke.target.value),onKeyDown:K(I.id),className:"rounded-xl h-8"}):s.jsx("span",{className:"text-muted-foreground",children:I.email})}),pe.telefone&&s.jsx(be,{children:ae?s.jsx(de,{value:Oe.telefone,onChange:Ke=>se(I.id,"telefone",Ke.target.value),onKeyDown:K(I.id),className:"rounded-xl h-8"}):s.jsx("span",{className:"text-muted-foreground",children:I.telefone})}),pe.instagram&&s.jsx(be,{children:ae?s.jsx(de,{value:Oe.instagram||"",onChange:Ke=>se(I.id,"instagram",Ke.target.value),onKeyDown:K(I.id),className:"rounded-xl h-8"}):I.instagram?s.jsx("a",{href:I.instagram,target:"_blank",rel:"noreferrer",className:"text-primary underline text-sm",children:I.instagram}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})}),pe.cidade&&s.jsx(be,{children:ae?s.jsx(de,{value:Oe.cidade||"",onChange:Ke=>se(I.id,"cidade",Ke.target.value),onKeyDown:K(I.id),className:"rounded-xl h-8"}):I.cidades&&I.cidades.length>0?s.jsx("span",{className:"text-muted-foreground",children:I.cidades.join(", ")}):I.cidade?s.jsx("span",{className:"text-muted-foreground",children:I.cidade}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})}),pe.ltv&&s.jsx(be,{children:s.jsx("div",{className:"space-y-1",children:s.jsxs("span",{className:"font-semibold text-success",children:["R$ ",I.ltv.toFixed(2)]})})}),pe.categoria&&s.jsx(be,{children:s.jsx(ft,{variant:"outline",className:`rounded-full text-xs ${a_(I.ltv,dr)}`,children:s_(I.ltv)})}),pe.indicado_por&&s.jsx(be,{children:ae?s.jsxs(ot,{value:Oe.indicado_por||"none",onValueChange:Ke=>se(I.id,"indicado_por",Ke==="none"?"":Ke),children:[s.jsx(rt,{className:"rounded-xl h-8 text-xs",onKeyDown:ue(I.id),children:s.jsx(it,{placeholder:"Selecionar indicador"})}),s.jsxs(nt,{className:"rounded-xl",onKeyDown:ue(I.id),children:[s.jsx(J,{value:"none",children:"Nenhum (cliente direto)"}),e.filter(Ke=>Ke.id!==I.id).map(Ke=>s.jsx(J,{value:Ke.id,children:Ke.nome},Ke.id))]})]}):I.indicado_por?s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ft,{variant:"secondary",className:"rounded-full text-xs",children:((ht=e.find(Ke=>Ke.id===I.indicado_por))==null?void 0:ht.nome)||"Cliente no encontrado"})}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Cliente direto"})}),pe.indicados&&s.jsx(be,{children:(()=>{const Ke=e.filter(bt=>bt.indicado_por===I.id);if(Ke.length===0)return s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Nenhum"});const Et=Ke.map(bt=>bt.nome).join(", ");return s.jsxs("span",{className:"text-sm",title:Et,children:[Ke.length," cliente(s)"]})})()}),pe.projetos&&s.jsx(be,{children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("div",{children:[I.projetos_count," projeto(s)"]}),s.jsxs("div",{className:"text-xs",children:[I.transacoes_count," transao(es)"]})]})}),pe.acoes&&s.jsx(be,{className:"text-right sticky right-0 bg-background z-10 min-w-[190px]",children:s.jsx("div",{className:"flex gap-1 justify-end relative z-20",children:ae?s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl text-success hover:bg-success/10",onClick:()=>oe(I.id),title:"Salvar",children:s.jsx(yr,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40",onClick:()=>V(I.id),title:"Cancelar",children:s.jsx(ef,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40 hover:text-foreground",onClick:()=>ne(`/projetos?cliente=${I.id}`),title:"Ver projetos",children:s.jsx(Sc,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40 hover:text-foreground",onClick:()=>ne(`/clientes/${I.id}`),title:"Ver perfil",children:s.jsx(Gf,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40 hover:text-foreground",onClick:()=>$(I.id,I),title:"Editar",children:s.jsx(By,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl text-destructive hover:bg-destructive/10",onClick:()=>U(I.id),title:"Deletar",children:s.jsx(Da,{className:"w-4 h-4"})})]})})})]},I.id)})})]})})})})]})}),f==="table"&&P&&s.jsxs(s.Fragment,{children:[N&&s.jsx(H,{variant:"ghost",size:"icon",className:"fixed left-4 top-1/2 -translate-y-1/2 z-50 h-10 w-10 rounded-full bg-background/40 hover:bg-background/60 text-muted-foreground border border-border/40 shadow-lg backdrop-blur-md",onClick:()=>{var I;return(I=_.current)==null?void 0:I.scrollBy({left:-480,behavior:"smooth"})},title:"Rolar para a esquerda","aria-label":"Rolar para a esquerda",children:s.jsx(F0,{className:"w-5 h-5"})}),C&&s.jsx(H,{variant:"ghost",size:"icon",className:"fixed right-4 top-1/2 -translate-y-1/2 z-50 h-10 w-10 rounded-full bg-background/40 hover:bg-background/60 text-muted-foreground border border-border/40 shadow-lg backdrop-blur-md",onClick:()=>{var I;return(I=_.current)==null?void 0:I.scrollBy({left:480,behavior:"smooth"})},title:"Rolar para a direita","aria-label":"Rolar para a direita",children:s.jsx(Hf,{className:"w-5 h-5"})})]}),s.jsx(Ct,{value:"network",className:"mt-6 animate-in fade-in-50 duration-300",children:s.jsx(W4e,{clientes:e})})]})]})};function K4e(){const{id:e}=jL(),t=Bs(),{toast:r}=en(),[n,a]=x.useState(null),[o,i]=x.useState([]),[l,c]=x.useState(!0),[u,f]=x.useState({totalProjetos:0,valorTotal:0,valorPago:0,projetosAtivos:0}),[d,h]=x.useState(!1),[m,g]=x.useState(0),[p,v]=x.useState([]),w=async()=>{if(n){h(!0);try{const{data:j}=await Z.auth.getUser(),N=j.user;if(!N)throw new Error("Usurio no autenticado");const{data:S}=await Z.storage.from("avatars").list(N.id),C=(S||[]).filter(A=>A.name.startsWith(`${n.id}.`)).map(A=>`${N.id}/${A.name}`);if(C.length>0){const{error:A}=await Z.storage.from("avatars").remove(C);if(A)throw A}const{data:E,error:P}=await Z.from("clientes").select("foto_url").limit(1);if(P)a({...n,foto_url:null}),r({title:"Coluna foto_url ausente",description:"Aplique a migration para refletir a remoo no banco",variant:"destructive"});else{const{error:A}=await Z.from("clientes").update({foto_url:null}).eq("id",n.id);if(A)throw A;a({...n,foto_url:null})}r({title:"Foto removida",description:"A foto do cliente foi removida"})}catch(j){r({title:"Erro ao remover foto",description:(j==null?void 0:j.message)||"Falha ao remover a imagem",variant:"destructive"})}finally{h(!1)}}},y=async j=>{const N=Q=>new Promise((F,X)=>{const ce=new Image;ce.onload=()=>F(ce),ce.onerror=X,ce.src=Q}),C=await(Q=>new Promise((F,X)=>{const ce=new FileReader;ce.onload=()=>F(ce.result),ce.onerror=X,ce.readAsDataURL(Q)}))(j),E=await N(C),P=1024,A=1024;let M=E.width,O=E.height;const R=Math.min(1,P/M,A/O);M=Math.max(1,Math.round(M*R)),O=Math.max(1,Math.round(O*R));const L=document.createElement("canvas");L.width=M,L.height=O;const D=L.getContext("2d");if(!D)return j;D.drawImage(E,0,0,M,O);const B=Q=>new Promise(F=>L.toBlob(F,"image/jpeg",Q));let k=.9,T=await B(k);const q=2*1024*1024;for(;T&&T.size>q&&k>.4;)k-=.1,T=await B(k);return!T||T.size>=j.size&&j.size<=q?j:new File([T],`${j.name.replace(/\.[^.]+$/,"")}.jpg`,{type:"image/jpeg"})};x.useEffect(()=>{(async()=>{if(!e){r({title:"Erro",description:"ID do cliente no encontrado",variant:"destructive"}),t("/clientes");return}try{c(!0);const{data:N,error:S}=await Z.from("clientes").select("*").eq("id",e).single();if(S||!N){r({title:"Cliente no encontrado",description:"O cliente solicitado no existe",variant:"destructive"}),t("/clientes");return}const{data:C,error:E}=await Z.from("projetos").select("*").eq("cliente_id",e);if(E)throw E;const P=C||[],A=P.length,M=P.reduce((k,T)=>k+(T.valor_total||0),0),O=P.filter(k=>k.status==="andamento").length;let R=0;for(const k of P){const{data:T}=await Z.from("projeto_sessoes").select("valor_sessao").eq("projeto_id",k.id).eq("status_pagamento","pago");R+=(T||[]).reduce((q,Q)=>q+(Q.valor_sessao||0),0)}const L=P.map(k=>({id:k.id,titulo:k.titulo,status:k.status,valor_total:k.valor_total,valor_pago:0,categoria:k.categoria,created_at:k.created_at}));let D;if(N.indicado_por){const{data:k}=await Z.from("clientes").select("nome").eq("id",N.indicado_por).single();D=k==null?void 0:k.nome}a({...N,indicado_por_nome:D});const{data:B}=await Z.from("clientes").select("id, nome").eq("indicado_por",e);v(B||[]);try{const{data:k}=await Z.auth.getUser(),T=k.user;if(T&&!N.foto_url){const{data:q}=await Z.storage.from("avatars").list(T.id),Q=(q||[]).find(F=>F.name.startsWith(`${N.id}.`));if(Q){const F=`${T.id}/${Q.name}`,{data:X}=await Z.storage.from("avatars").createSignedUrl(F,60*60*24*30),ce=(X==null?void 0:X.signedUrl)||null;if(ce){const{data:pe,error:ge}=await Z.from("clientes").select("foto_url").limit(1);ge||await Z.from("clientes").update({foto_url:ce}).eq("id",N.id),a(he=>he&&{...he,foto_url:ce})}}}}catch{}i(L),f({totalProjetos:A,valorTotal:M,valorPago:R,projetosAtivos:O})}catch(N){console.error("Erro ao carregar cliente:",N),r({title:"Erro ao carregar cliente",description:"No foi possvel carregar os dados do cliente",variant:"destructive"}),t("/clientes")}finally{c(!1)}})()},[e,t,r]);const b=j=>{switch(j){case"planejamento":return"bg-primary/10 text-primary border-primary/20";case"andamento":return"bg-primary/10 text-primary border-primary/20";case"concluido":return"bg-success/10 text-success border-success/20";case"cancelado":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}},_=j=>{switch(j){case"planejamento":return"Planejamento";case"andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return j}};return l?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando dados do cliente..."})]})}):n?s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(H,{variant:"outline",size:"icon",onClick:()=>t("/clientes"),className:"rounded-xl",children:s.jsx(e3,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:n.nome}),s.jsx("p",{className:"text-muted-foreground",children:"Detalhes do cliente"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Sc,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Projetos"}),s.jsx("p",{className:"text-2xl font-bold",children:u.totalProjetos})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(ra,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",u.valorTotal.toLocaleString("pt-BR")]})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(ra,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"}),s.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",u.valorPago.toLocaleString("pt-BR")]})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Sc,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Projetos Ativos"}),s.jsx("p",{className:"text-2xl font-bold",children:u.projetosAtivos})]})]})})})]}),s.jsxs(Fa,{defaultValue:"info",className:"space-y-4",children:[s.jsxs(wa,{className:"rounded-2xl",children:[s.jsx(St,{value:"info",className:"rounded-xl",children:"Informaes"}),s.jsx(St,{value:"projetos",className:"rounded-xl",children:"Projetos"})]}),s.jsx(Ct,{value:"info",className:"space-y-4",children:s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Gf,{className:"h-5 w-5"}),"Informaes Pessoais"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(UE,{avatarUrl:n.foto_url||null,name:n.nome,className:"h-20 w-20"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Foto do Cliente"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use uma imagem quadrada para melhor resultado"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(H,{variant:"outline",className:"rounded-xl gap-2",disabled:d,onClick:()=>{var j;return(j=document.getElementById("cliente-foto-upload"))==null?void 0:j.click()},children:[d?s.jsx(Uo,{className:"h-4 w-4 animate-spin"}):s.jsx(Ly,{className:"h-4 w-4"}),"Adicionar foto"]}),s.jsx(H,{variant:"outline",size:"icon",className:"rounded-xl text-destructive",disabled:d||!n.foto_url,onClick:w,title:"Remover foto",children:d?s.jsx(Uo,{className:"h-4 w-4 animate-spin"}):s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(de,{id:"cliente-foto-upload",type:"file",accept:"image/*",className:"hidden",onChange:async j=>{if(!j.target.files||j.target.files.length===0||!n)return;const N=j.target.files[0];h(!0);try{const{data:S}=await Z.auth.getUser(),C=S.user;if(!C)throw new Error("Usurio no autenticado");const E=await y(N),P=E.name.split(".").pop(),A=`${n.id}.${P}`,M=`${C.id}/${A}`,{error:O}=await Z.storage.from("avatars").upload(M,E,{upsert:!0});if(O)throw O;const{data:R}=await Z.storage.from("avatars").createSignedUrl(M,60*60*24*30),L=(R==null?void 0:R.signedUrl)||null,{data:D,error:B}=await Z.from("clientes").select("foto_url").limit(1);if(B)a({...n,foto_url:L}),r({title:"Coluna foto_url ausente",description:"Aplique a migration para criar foto_url em clientes",variant:"destructive"});else{const{error:k}=await Z.from("clientes").update({foto_url:L}).eq("id",n.id);if(k)throw k;a({...n,foto_url:L})}r({title:"Foto atualizada",description:"A foto do cliente foi atualizada com sucesso"})}catch(S){console.error("Erro ao enviar foto do cliente",{err:S}),r({title:"Erro ao enviar imagem",description:(S==null?void 0:S.message)||"Verifique o bucket 'avatars' no Supabase",variant:"destructive"})}finally{h(!1),g(S=>S+1)}}},m)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nome Completo"}),s.jsx("p",{className:"text-lg",children:n.nome})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rE,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{children:n.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u3,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{children:n.telefone})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Instagram"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GY,{className:"h-4 w-4 text-muted-foreground"}),n.instagram?s.jsx("a",{href:n.instagram,target:"_blank",rel:"noreferrer",className:"text-primary underline text-sm",children:n.instagram}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})]})]}),n.documento&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),s.jsx("p",{children:n.documento})]}),n.endereco&&s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QY,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{children:n.endereco})]})]}),n.indicado_por&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Indicado por"}),s.jsx("p",{children:n.indicado_por_nome||n.indicado_por})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Indicou"}),p.length===0?s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Nenhum"}):s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(j=>s.jsx(ft,{variant:"secondary",className:"rounded-full text-xs cursor-pointer hover:bg-muted/50",onClick:()=>t(`/clientes/${j.id}`),title:`Abrir perfil de ${j.nome}`,children:j.nome},j.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cliente desde"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{children:new Date(n.created_at).toLocaleDateString("pt-BR")})]})]})]})]})]})}),s.jsx(Ct,{value:"projetos",className:"space-y-4",children:s.jsxs(te,{className:"rounded-2xl",children:[s.jsxs(Le,{children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Sc,{className:"h-5 w-5"}),"Projetos do Cliente"]}),s.jsx(Ja,{children:"Histrico completo de projetos realizados"})]}),s.jsx(me,{children:o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Sc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhum projeto encontrado"})]}):s.jsx("div",{className:"space-y-4",children:o.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold",children:j.titulo}),s.jsx(ft,{className:`${b(j.status)} border`,children:_(j.status)})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[j.categoria&&s.jsx("span",{children:j.categoria}),j.valor_total&&s.jsxs("span",{children:["R$ ",j.valor_total.toLocaleString("pt-BR")]}),s.jsx("span",{children:new Date(j.created_at).toLocaleDateString("pt-BR")})]})]}),s.jsx(H,{variant:"outline",size:"icon",onClick:()=>t(`/projetos/${j.id}`),className:"rounded-lg",children:s.jsx(cd,{className:"h-4 w-4"})})]},j.id))})})]})})]})]}):null}function Fh(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,(r||1)-1,n||1)}function Y4e({open:e,onOpenChange:t,projetoId:r,clientes:n,onSuccess:a}){const{toast:o}=en(),[i,l]=x.useState(!1),[c,u]=x.useState(!1),[f,d]=x.useState(""),[h,m]=x.useState(""),[g,p]=x.useState(""),[v,w]=x.useState("planejamento"),[y,b]=x.useState(""),[_,j]=x.useState(""),[N,S]=x.useState(""),[C,E]=x.useState(""),[P,A]=x.useState(""),[M,O]=x.useState(""),[R,L]=x.useState(""),[D,B]=x.useState(!1),[k,T]=x.useState(!1),[q,Q]=x.useState([]),[F,X]=x.useState([]),[ce,pe]=x.useState(""),[ge,he]=x.useState(""),[qe,ie]=x.useState(""),ye=Ne=>{if(Ne==="")return"";const U=Number(Ne);return isFinite(U)?U.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},ve=Ne=>U=>{const $=U.target.value.replace(/\D/g,"");if(!$){Ne("");return}const oe=(parseInt($,10)/100).toFixed(2);Ne(oe)};x.useEffect(()=>{e&&r?gt():e||ne()},[e,r]);const ne=()=>{d(""),m(""),p(""),w("planejamento"),b(""),j(""),S(""),E(""),A(""),O(""),L(""),Q([]),X([]),pe(""),he(""),ie("")},gt=async()=>{var Ne,U,$;if(r){l(!0);try{const{data:V,error:oe}=await Z.from("projetos").select("*").eq("id",r).single();if(oe)throw oe;d(V.titulo),m(V.descricao||""),p(V.notas||""),w(V.status),b(V.cliente_id),j(((Ne=V.valor_total)==null?void 0:Ne.toString())||""),S(((U=V.valor_por_sessao)==null?void 0:U.toString())||""),E((($=V.quantidade_sessoes)==null?void 0:$.toString())||""),A(V.data_inicio||""),O(V.data_fim||""),L(V.categoria||"");const{data:se,error:le}=await Z.from("projeto_referencias").select("*").eq("projeto_id",r).order("created_at",{ascending:!1});if(le)throw le;Q(se||[]);const{data:K,error:ue}=await Z.from("projeto_anexos").select("*").eq("projeto_id",r).order("created_at",{ascending:!1});if(ue)throw ue;X(K||[])}catch(V){o({variant:"destructive",title:"Erro ao carregar projeto",description:V.message})}finally{l(!1)}}},at=async()=>{if(!f||!y){o({variant:"destructive",title:"Campos obrigatrios",description:"Preencha ttulo e cliente"});return}l(!0);try{const Ne=(await Z.auth.getUser()).data.user;if(!Ne)throw new Error("Usurio no autenticado");const U={titulo:f,descricao:h,notas:g,status:v,cliente_id:y,user_id:Ne.id,valor_total:_?parseFloat(_):null,valor_por_sessao:N?parseFloat(N):null,quantidade_sessoes:C?parseInt(C):null,data_inicio:P||null,data_fim:M||null,categoria:R||null};if(r){const{error:$}=await Z.from("projetos").update(U).eq("id",r);if($)throw $}else{const{error:$}=await Z.from("projetos").insert([U]);if($)throw $}o({title:"Sucesso",description:`Projeto ${r?"atualizado":"criado"} com sucesso`}),a(),t(!1)}catch(Ne){o({variant:"destructive",title:"Erro",description:Ne.message})}finally{l(!1)}},je=async()=>{if(!r||!ce||!ge){o({variant:"destructive",title:"Preencha ttulo e URL da referncia"});return}try{const Ne=(await Z.auth.getUser()).data.user;if(!Ne)throw new Error("Usurio no autenticado");const{data:U,error:$}=await Z.from("projeto_referencias").insert([{projeto_id:r,user_id:Ne.id,titulo:ce,url:ge,descricao:qe}]).select().single();if($)throw $;Q([U,...q]),pe(""),he(""),ie(""),o({title:"Referncia adicionada"})}catch(Ne){o({variant:"destructive",title:"Erro ao adicionar referncia",description:Ne.message})}},yt=async Ne=>{try{const{error:U}=await Z.from("projeto_referencias").delete().eq("id",Ne);if(U)throw U;Q(q.filter($=>$.id!==Ne)),o({title:"Referncia removida"})}catch(U){o({variant:"destructive",title:"Erro ao remover referncia",description:U.message})}},Ut=async Ne=>{var $;if(!r){o({variant:"destructive",title:"Salve o projeto primeiro antes de adicionar arquivos"});return}const U=($=Ne.target.files)==null?void 0:$[0];if(U){u(!0);try{const V=(await Z.auth.getUser()).data.user;if(!V)throw new Error("Usurio no autenticado");const oe=U.name.split(".").pop(),se=`${V.id}/${r}/${Date.now()}.${oe}`,{error:le}=await Z.storage.from("project-references").upload(se,U);if(le)throw le;const{data:{publicUrl:K}}=Z.storage.from("project-references").getPublicUrl(se),{data:ue,error:Ie}=await Z.from("projeto_anexos").insert([{projeto_id:r,user_id:V.id,nome:U.name,url:K,tipo:U.type,tamanho:U.size}]).select().single();if(Ie)throw Ie;X([ue,...F]),o({title:"Arquivo enviado com sucesso"})}catch(V){o({variant:"destructive",title:"Erro ao enviar arquivo",description:V.message})}finally{u(!1),Ne.target.value=""}}},gr=async(Ne,U)=>{try{const $=U.split("/project-references/")[1],{error:V}=await Z.storage.from("project-references").remove([$]);if(V)throw V;const{error:oe}=await Z.from("projeto_anexos").delete().eq("id",Ne);if(oe)throw oe;X(F.filter(se=>se.id!==Ne)),o({title:"Anexo removido"})}catch($){o({variant:"destructive",title:"Erro ao remover anexo",description:$.message})}};return s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsx(Cr,{className:"max-w-2xl max-h-[85vh] overflow-y-auto bg-background",children:s.jsxs("form",{onSubmit:Ne=>{Ne.preventDefault(),at()},children:[s.jsx(Er,{children:s.jsx(Or,{children:r?"Editar Projeto":"Criar Novo Projeto"})}),s.jsxs(Fa,{defaultValue:"info",className:"w-full",children:[s.jsxs(wa,{className:"grid w-full grid-cols-4",children:[s.jsx(St,{value:"info",children:"Informaes"}),s.jsx(St,{value:"notas",children:"Notas"}),s.jsx(St,{value:"referencias",children:"Referncias"}),s.jsx(St,{value:"anexos",children:"Anexos"})]}),s.jsxs(Ct,{value:"info",className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"titulo",className:"text-sm",children:"Ttulo do Projeto *"}),s.jsx(de,{id:"titulo",value:f,onChange:Ne=>d(Ne.target.value),placeholder:"Nome do projeto",className:"h-9"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"cliente",className:"text-sm",children:"Cliente *"}),s.jsxs(ot,{value:y,onValueChange:b,children:[s.jsx(rt,{className:"h-9",children:s.jsx(it,{placeholder:"Selecione um cliente"})}),s.jsx(nt,{children:n.map(Ne=>s.jsx(J,{value:Ne.id,children:Ne.nome},Ne.id))})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"status",className:"text-sm",children:"Status"}),s.jsxs(ot,{value:v,onValueChange:w,children:[s.jsx(rt,{className:"h-9",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"planejamento",children:"Planejamento"}),s.jsx(J,{value:"andamento",children:"Em Andamento"}),s.jsx(J,{value:"concluido",children:"Concludo"}),s.jsx(J,{value:"cancelado",children:"Cancelado"})]})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"categoria",className:"text-sm",children:"Categoria"}),s.jsxs(ot,{value:R,onValueChange:L,children:[s.jsx(rt,{className:"h-9",children:s.jsx(it,{placeholder:"Selecione uma categoria"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"tatuagem",children:"Tatuagem"}),s.jsx(J,{value:"piercing",children:"Piercing"}),s.jsx(J,{value:"design",children:"Design"}),s.jsx(J,{value:"consultoria",children:"Consultoria"}),s.jsx(J,{value:"outros",children:"Outros"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"dataInicio",className:"text-sm",children:"Data de Incio"}),s.jsxs(mo,{open:D,onOpenChange:B,children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),P?Xt(Fh(P),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:P?Fh(P):void 0,onSelect:Ne=>{Ne&&(A(Xt(Ne,"yyyy-MM-dd")),B(!1))},locale:Nr,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"dataFim",className:"text-sm",children:"Data de Fim (Prevista)"}),s.jsxs(mo,{open:k,onOpenChange:T,children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),M?Xt(Fh(M),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:M?Fh(M):void 0,onSelect:Ne=>{Ne&&(O(Xt(Ne,"yyyy-MM-dd")),T(!1))},locale:Nr,disabled:Ne=>P?Ne<Fh(P):!1,initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"valorPorSessao",className:"text-sm",children:"Valor/Sesso (R$)"}),s.jsx(de,{id:"valorPorSessao",type:"text",inputMode:"numeric",value:ye(N),onChange:ve(S),placeholder:"R$ 0,00",className:"h-9"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"valorTotal",className:"text-sm",children:"Valor Total (R$)"}),s.jsx(de,{id:"valorTotal",type:"text",inputMode:"numeric",value:ye(_),onChange:ve(j),placeholder:"R$ 0,00",className:"h-9"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"quantidadeSessoes",className:"text-sm",children:"Qtd. Sesses"}),s.jsx(de,{id:"quantidadeSessoes",type:"number",min:"1",value:C,onChange:Ne=>E(Ne.target.value),placeholder:"Ex: 5",className:"h-9"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{htmlFor:"descricao",className:"text-sm",children:"Descrio Breve"}),s.jsx(Jn,{id:"descricao",value:h,onChange:Ne=>m(Ne.target.value),placeholder:"Breve descrio do projeto",rows:2,className:"text-sm"})]})]}),s.jsx(Ct,{value:"notas",className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"notas",children:"Notas Detalhadas do Projeto"}),s.jsx(Jn,{id:"notas",value:g,onChange:Ne=>p(Ne.target.value),placeholder:"Descreva as ideias, objetivos, requisitos, cronograma e qualquer informao relevante sobre o projeto...",rows:15,className:"font-mono text-sm"})]})}),s.jsxs(Ct,{value:"referencias",className:"space-y-4",children:[r&&s.jsx(te,{children:s.jsxs(me,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Ttulo da Referncia"}),s.jsx(de,{value:ce,onChange:Ne=>pe(Ne.target.value),placeholder:"Ex: Design inspirao"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"URL"}),s.jsx(de,{value:ge,onChange:Ne=>he(Ne.target.value),placeholder:"https://...",type:"url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Descrio (opcional)"}),s.jsx(Jn,{value:qe,onChange:Ne=>ie(Ne.target.value),placeholder:"O que h de interessante nesta referncia?",rows:2})]}),s.jsxs(H,{onClick:je,className:"w-full",children:[s.jsx(YY,{className:"mr-2 h-4 w-4"}),"Adicionar Referncia"]})]})}),s.jsx("div",{className:"space-y-2",children:q.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:r?"Nenhuma referncia adicionada ainda":"Salve o projeto para adicionar referncias"}):q.map(Ne=>s.jsx(te,{children:s.jsx(me,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold truncate",children:Ne.titulo}),s.jsxs("a",{href:Ne.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1 mt-1",children:[Ne.url,s.jsx(WY,{className:"h-3 w-3"})]}),Ne.descricao&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:Ne.descricao})]}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>yt(Ne.id),children:s.jsx(Da,{className:"h-4 w-4"})})]})})},Ne.id))})]}),s.jsxs(Ct,{value:"anexos",className:"space-y-4",children:[r&&s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer hover:bg-accent/50",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(lX,{className:"h-8 w-8 mb-2 text-muted-foreground"}),s.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:s.jsx("span",{className:"font-semibold",children:"Clique para fazer upload"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Imagens, PDFs, documentos, etc."})]}),s.jsx("input",{type:"file",className:"hidden",onChange:Ut,disabled:c})]})}),s.jsx("div",{className:"space-y-2",children:F.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:r?"Nenhum anexo enviado ainda":"Salve o projeto para adicionar anexos"}):F.map(Ne=>s.jsx(te,{children:s.jsx(me,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Ol,{className:"h-8 w-8 text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h4",{className:"font-semibold truncate",children:Ne.nome}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(Ne.tamanho/1024).toFixed(2)," KB"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>window.open(Ne.url,"_blank"),children:s.jsx(ld,{className:"h-4 w-4"})}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>gr(Ne.id,Ne.url),children:s.jsx(Da,{className:"h-4 w-4"})})]})]})})},Ne.id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx(H,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(H,{type:"submit",disabled:i,children:i?"Salvando...":r?"Salvar":"Criar Projeto"})]})]})})})}const Bh={planejamento:"Planejamento",andamento:"Em Andamento",concluido:"Concludo",cancelado:"Cancelado"},o_={planejamento:"bg-muted text-foreground",andamento:"bg-muted text-foreground",concluido:"bg-muted text-foreground",cancelado:"bg-muted text-foreground"},i_={planejamento:Ol,andamento:Fy,concluido:$o,cancelado:n3};function X4e(){const[e]=LK(),t=e.get("cliente"),[r,n]=x.useState([]),[a,o]=x.useState([]),[i,l]=x.useState(!1),[c,u]=x.useState(void 0),[f,d]=x.useState(!0),[h,m]=x.useState("cards"),[g,p]=x.useState("all"),[v,w]=x.useState("all"),[y,b]=x.useState(""),{user:_}=dn(),{toast:j}=en(),N=Bs(),S=async(T,q)=>{try{n(F=>F.map(X=>X.id===T?{...X,status:q}:X));const{error:Q}=await Z.from("projetos").update({status:q}).eq("id",T);if(Q)throw Q;j({title:"Status atualizado",description:`Projeto movido para ${Bh[q]}`})}catch(Q){console.error("Erro ao atualizar status:",Q),j({title:"Erro ao atualizar status",description:"No foi possvel alterar o status do projeto.",variant:"destructive"}),E()}};x.useEffect(()=>{_&&(C(),E())},[_,t]);const C=async()=>{try{const{data:T,error:q}=await Z.from("clientes").select("id, nome").order("nome");if(q)throw q;o(T||[])}catch(T){console.error("Erro ao buscar clientes:",T)}},E=async()=>{try{let T=Z.from("projetos").select(`
          *,
          clientes (
            nome
          )
        `).order("created_at",{ascending:!1});t&&(T=T.eq("cliente_id",t));const{data:q,error:Q}=await T;if(Q)throw Q;const F=await Promise.all((q||[]).map(async X=>{const ce=X.id;let pe=0;try{const{data:ve}=await Z.from("projeto_sessoes").select("valor_sessao").eq("projeto_id",ce).eq("status_pagamento","pago");pe=(ve||[]).reduce((ne,gt)=>ne+(gt.valor_sessao||0),0)}catch{}let ge=0;try{const{count:ve}=await Z.from("projeto_sessoes").select("id",{count:"exact"}).eq("projeto_id",ce);typeof ve=="number"&&(ge=ve)}catch{}const he=X.quantidade_sessoes||0;let qe=0;he>0&&(qe=Math.round(ge/he*100),qe>100&&(qe=100));let ie=0;try{const{count:ve}=await Z.from("projeto_fotos").select("id",{count:"exact"}).eq("projeto_id",ce);typeof ve=="number"&&(ie=ve)}catch{}let ye=0;try{const{count:ve}=await Z.from("projeto_sessoes").select("id",{count:"exact"}).eq("projeto_id",ce).not("feedback_cliente","is",null);typeof ve=="number"&&(ye=ve)}catch{}return{...X,status:X.status,valor_total:X.valor_total||0,valor_pago:pe||0,sessoes_total:he,sessoes_realizadas:ge,fotos_count:ie,feedback_count:ye,progresso:qe}}));n(F)}catch(T){console.error("Erro ao buscar projetos:",T),j({title:"Erro ao carregar projetos",description:"No foi possvel carregar os projetos.",variant:"destructive"})}finally{d(!1)}},P=T=>{u(T),l(!0)},A=()=>{E(),l(!1),u(void 0)},M=async T=>{try{const{error:q}=await Z.from("projetos").delete().eq("id",T);if(q)throw q;j({title:"Projeto removido!",description:"O projeto foi removido com sucesso."}),E()}catch(q){console.error("Erro ao deletar projeto:",q),j({title:"Erro ao remover projeto",description:"No foi possvel remover o projeto.",variant:"destructive"})}},O=r.filter(T=>{var X;const q=g==="all"||T.status===g,Q=v==="all"||T.cliente_id===v,F=y===""||T.titulo.toLowerCase().includes(y.toLowerCase())||((X=T.clientes)==null?void 0:X.nome.toLowerCase().includes(y.toLowerCase()));return q&&Q&&F}),R={total:O.length,planejamento:O.filter(T=>T.status==="planejamento").length,andamento:O.filter(T=>T.status==="andamento").length,concluido:O.filter(T=>T.status==="concluido").length,cancelado:O.filter(T=>T.status==="cancelado").length,valorTotal:O.reduce((T,q)=>T+(q.valor_total||0),0),valorPago:O.reduce((T,q)=>T+(q.valor_pago||0),0)};if(f)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})});const L=["planejamento","andamento","concluido","cancelado"],D=T=>{var F;const q=i_[T.status],Q=(T.valor_total||0)-(T.valor_pago||0);return s.jsxs(te,{className:"rounded-xl hover:shadow transition-all",draggable:!0,onDragStart:X=>{X.dataTransfer.setData("text/plain",T.id),X.dataTransfer.effectAllowed="move"},children:[s.jsx(Le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(q,{className:"w-4 h-4 text-muted-foreground shrink-0"}),s.jsx(Fe,{className:"text-sm font-semibold truncate",children:T.titulo})]}),s.jsx(ft,{variant:"outline",className:o_[T.status],children:Bh[T.status]})]})}),s.jsxs(me,{className:"space-y-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:(F=T.clientes)==null?void 0:F.nome}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),s.jsxs("span",{className:"font-medium",children:[T.progresso,"%"]})]}),s.jsx(uy,{value:T.progresso,className:"h-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",(T.valor_pago||0).toLocaleString()]}),s.jsxs("div",{className:"text-muted-foreground",children:["de R$ ",(T.valor_total||0).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",Q.toLocaleString()]}),s.jsx("div",{className:"text-muted-foreground",children:"pendente"})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(H,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>N(`/projetos/${T.id}`),title:"Abrir",children:s.jsx(cd,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>P(T.id),title:"Editar",children:s.jsx(cm,{className:"w-4 h-4"})})]})]})]},T.id)},B=T=>{const q=O.filter(Q=>Q.status===T);return s.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 flex flex-col gap-3 min-h-[300px]",onDragOver:Q=>Q.preventDefault(),onDrop:Q=>{Q.preventDefault();const F=Q.dataTransfer.getData("text/plain");F&&S(F,T)},children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[T==="planejamento"&&s.jsx(Ol,{className:"w-4 h-4 text-muted-foreground"}),T==="andamento"&&s.jsx(Fy,{className:"w-4 h-4 text-muted-foreground"}),T==="concluido"&&s.jsx($o,{className:"w-4 h-4 text-muted-foreground"}),T==="cancelado"&&s.jsx(n3,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:Bh[T]})]}),s.jsx(ft,{variant:"outline",className:"text-xs",children:q.length})]}),q.length===0?s.jsx("div",{className:"text-xs text-muted-foreground py-8 text-center border border-dashed rounded-lg",children:"Arraste projetos para c"}):s.jsx("div",{className:"flex flex-col gap-3",children:q.map(D)})]},T)},k=T=>{var F;const q=i_[T.status],Q=(T.valor_total||0)-(T.valor_pago||0);return s.jsxs(te,{className:"rounded-xl hover:shadow-lg transition-all duration-300 group",children:[s.jsx(Le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(Fe,{className:"text-lg line-clamp-1",children:T.titulo})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{variant:"outline",className:o_[T.status],children:Bh[T.status]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:(F=T.clientes)==null?void 0:F.nome})]})]}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",onClick:()=>N(`/projetos/${T.id}`),children:s.jsx(cd,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",onClick:()=>P(T.id),children:s.jsx(cm,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg text-destructive",onClick:()=>M(T.id),children:s.jsx(Da,{className:"w-4 h-4"})})]})]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),s.jsxs("span",{className:"font-medium",children:[T.progresso,"%"]})]}),s.jsx(uy,{value:T.progresso,className:"h-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ra,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Financeiro"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",(T.valor_pago||0).toLocaleString()]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["de R$ ",(T.valor_total||0).toLocaleString()]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_r,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Sesses"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium",children:[T.sessoes_realizadas,"/",T.sessoes_total]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"realizadas"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ly,{className:"w-3 h-3"}),s.jsxs("span",{children:[T.fotos_count," fotos"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(lm,{className:"w-3 h-3"}),s.jsxs("span",{children:[T.feedback_count," feedbacks"]})]})]}),Q>0&&s.jsxs("div",{className:"text-foreground font-medium",children:["R$ ",Q.toLocaleString()," pendente"]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 rounded-lg",onClick:()=>N(`/agendamentos?projeto=${T.id}`),children:[s.jsx(_r,{className:"w-3 h-3 mr-1"}),"Agendar"]}),s.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 rounded-lg",onClick:()=>N(`/projetos/${T.id}`),children:[s.jsx(cd,{className:"w-3 h-3 mr-1"}),"Detalhes"]})]})]})]},T.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projetos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie os projetos dos seus clientes"})]}),s.jsxs(Ir,{open:i,onOpenChange:l,children:[s.jsx(_o,{asChild:!0,children:s.jsxs(H,{onClick:()=>P(),className:"gap-2 rounded-xl",children:[s.jsx(is,{className:"w-4 h-4"}),"Novo Projeto"]})}),s.jsxs(Cr,{className:"max-w-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:c?"Editar Projeto":"Novo Projeto"})}),s.jsx(Y4e,{open:i,onOpenChange:l,projetoId:c,clientes:a,onSuccess:A})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(te,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(Ol,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Projetos"}),s.jsx("p",{className:"text-2xl font-bold",children:R.total})]})]})})}),s.jsx(te,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(Fy,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Em Andamento"}),s.jsx("p",{className:"text-2xl font-bold",children:R.andamento})]})]})})}),s.jsx(te,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx($o,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Concludos"}),s.jsx("p",{className:"text-2xl font-bold",children:R.concluido})]})]})})}),s.jsx(te,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(ra,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",R.valorTotal.toLocaleString()]})]})]})})}),s.jsx(te,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(Pn,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"}),s.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",R.valorPago.toLocaleString()]})]})]})})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Buscar projetos...",className:"pl-10 rounded-lg",value:y,onChange:T=>b(T.target.value)})]}),s.jsxs(ot,{value:g,onValueChange:T=>p(T),children:[s.jsx(rt,{className:"w-full sm:w-48 rounded-lg",children:s.jsx(it,{placeholder:"Status"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"all",children:"Todos os Status"}),s.jsx(J,{value:"planejamento",children:"Planejamento"}),s.jsx(J,{value:"andamento",children:"Em Andamento"}),s.jsx(J,{value:"concluido",children:"Concludo"}),s.jsx(J,{value:"cancelado",children:"Cancelado"})]})]}),s.jsxs(ot,{value:v,onValueChange:w,children:[s.jsx(rt,{className:"w-full sm:w-48 rounded-lg",children:s.jsx(it,{placeholder:"Cliente"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"all",children:"Todos os Clientes"}),a.map(T=>s.jsx(J,{value:T.id,children:T.nome},T.id))]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:h==="cards"?"default":"outline",size:"icon",className:"rounded-lg",onClick:()=>m("cards"),children:s.jsx(tE,{className:"w-4 h-4"})}),s.jsx(H,{variant:h==="table"?"default":"outline",size:"icon",className:"rounded-lg",onClick:()=>m("table"),children:s.jsx(nE,{className:"w-4 h-4"})}),s.jsx(H,{variant:h==="kanban"?"default":"outline",size:"icon",className:"rounded-lg",onClick:()=>m("kanban"),children:s.jsx(i3,{className:"w-4 h-4 rotate-90"})})]})]}),O.length===0?s.jsx(te,{className:"rounded-xl",children:s.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ol,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:"Nenhum projeto encontrado"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:y||g!=="all"||v!=="all"?"Tente ajustar os filtros ou criar um novo projeto":"Comece criando seu primeiro projeto"}),s.jsxs(H,{onClick:()=>P(),className:"gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Novo Projeto"]})]})}):h==="cards"?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:O.map(k)}):h==="kanban"?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:L.filter(T=>g==="all"?!0:T===g).map(B)}):s.jsx(te,{className:"rounded-xl",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Projeto"}),s.jsx(_e,{children:"Cliente"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Progresso"}),s.jsx(_e,{children:"Valor"}),s.jsx(_e,{children:"Sesses"}),s.jsx(_e,{children:"Documentao"}),s.jsx(_e,{className:"text-right",children:"Aes"})]})}),s.jsx(gs,{children:O.map(T=>{var Q;const q=i_[T.status];return s.jsxs(mr,{children:[s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:T.titulo}),s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:T.descricao})]})]})}),s.jsx(be,{children:(Q=T.clientes)==null?void 0:Q.nome}),s.jsx(be,{children:s.jsx(ft,{variant:"outline",className:o_[T.status],children:Bh[T.status]})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uy,{value:T.progresso,className:"h-2 w-16"}),s.jsxs("span",{className:"text-sm",children:[T.progresso,"%"]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",(T.valor_pago||0).toLocaleString()]}),s.jsxs("div",{className:"text-muted-foreground",children:["de R$ ",(T.valor_total||0).toLocaleString()]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[T.sessoes_realizadas,"/",T.sessoes_total]}),s.jsx("div",{className:"text-muted-foreground",children:"realizadas"})]})}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ly,{className:"w-3 h-3"}),T.fotos_count]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(lm,{className:"w-3 h-3"}),T.feedback_count]})]})}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(`/projetos/${T.id}`),children:s.jsx(cd,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>P(T.id),children:s.jsx(cm,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>M(T.id),children:s.jsx(Da,{className:"w-4 h-4"})})]})})]},T.id)})})]})})})]})}var sW="AlertDialog",[Q4e]=na(sW,[p6]),Ii=p6(),oW=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ii(t);return s.jsx(k6,{...n,...r,modal:!0})};oW.displayName=sW;var Z4e="AlertDialogTrigger",iW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ii(r);return s.jsx(T6,{...a,...n,ref:t})});iW.displayName=Z4e;var J4e="AlertDialogPortal",lW=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ii(t);return s.jsx(M6,{...n,...r})};lW.displayName=J4e;var eLe="AlertDialogOverlay",cW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ii(r);return s.jsx(GE,{...a,...n,ref:t})});cW.displayName=eLe;var Md="AlertDialogContent",[tLe,rLe]=Q4e(Md),nLe=OL("AlertDialogContent"),uW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=Ii(r),i=x.useRef(null),l=Mt(t,i),c=x.useRef(null);return s.jsx(fse,{contentName:Md,titleName:dW,docsSlug:"alert-dialog",children:s.jsx(tLe,{scope:r,cancelRef:c,children:s.jsxs(KE,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:Se(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(nLe,{children:n}),s.jsx(sLe,{contentRef:i})]})})})});uW.displayName=Md;var dW="AlertDialogTitle",fW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ii(r);return s.jsx(YE,{...a,...n,ref:t})});fW.displayName=dW;var hW="AlertDialogDescription",mW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ii(r);return s.jsx(XE,{...a,...n,ref:t})});mW.displayName=hW;var aLe="AlertDialogAction",pW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ii(r);return s.jsx(QE,{...a,...n,ref:t})});pW.displayName=aLe;var gW="AlertDialogCancel",vW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=rLe(gW,r),o=Ii(r),i=Mt(t,a);return s.jsx(QE,{...o,...n,ref:i})});vW.displayName=gW;var sLe=({contentRef:e})=>{const t=`\`${Md}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Md}\` by passing a \`${hW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Md}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oLe=oW,iLe=iW,lLe=lW,yW=cW,xW=uW,bW=pW,wW=vW,jW=fW,_W=mW;const v0=oLe,KS=iLe,cLe=lLe,NW=x.forwardRef(({className:e,...t},r)=>s.jsx(yW,{className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));NW.displayName=yW.displayName;const Vp=x.forwardRef(({className:e,...t},r)=>s.jsxs(cLe,{children:[s.jsx(NW,{}),s.jsx(xW,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Vp.displayName=xW.displayName;const qp=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});qp.displayName="AlertDialogHeader";const Wp=({className:e,...t})=>s.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wp.displayName="AlertDialogFooter";const Hp=x.forwardRef(({className:e,...t},r)=>s.jsx(jW,{ref:r,className:Ae("text-lg font-semibold",e),...t}));Hp.displayName=jW.displayName;const Gp=x.forwardRef(({className:e,...t},r)=>s.jsx(_W,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));Gp.displayName=_W.displayName;const Kp=x.forwardRef(({className:e,...t},r)=>s.jsx(bW,{ref:r,className:Ae(ep(),e),...t}));Kp.displayName=bW.displayName;const Yp=x.forwardRef(({className:e,...t},r)=>s.jsx(wW,{ref:r,className:Ae(ep({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Yp.displayName=wW.displayName;function uLe({projetoId:e,onFeedbackUpdate:t}){const{toast:r}=en(),[n,a]=x.useState([]),[o,i]=x.useState(!1),[l,c]=x.useState(!1),[u,f]=x.useState(null),[d,h]=x.useState({sessao_id:"",feedback_cliente:"",observacoes_tecnicas:"",avaliacao:5});x.useEffect(()=>{m()},[e]);const m=async()=>{try{i(!0);const{data:j,error:N}=await Z.from("projeto_sessoes").select("*").eq("projeto_id",e).order("numero_sessao",{ascending:!0});if(N)throw N;a(j||[])}catch(j){console.error("Erro ao carregar sesses:",j),r({title:"Erro",description:"No foi possvel carregar as sesses",variant:"destructive"})}finally{i(!1)}},g=()=>{f(null),h({sessao_id:"",feedback_cliente:"",observacoes_tecnicas:"",avaliacao:5}),c(!0)},p=j=>{f(j),h({sessao_id:j.id,feedback_cliente:j.feedback_cliente||"",observacoes_tecnicas:j.observacoes_tecnicas||"",avaliacao:j.avaliacao||5}),c(!0)},v=async()=>{if(!d.sessao_id){r({title:"Erro",description:"Selecione uma sesso",variant:"destructive"});return}try{i(!0);const{error:j}=await Z.from("projeto_sessoes").update({feedback_cliente:d.feedback_cliente.trim()||null,observacoes_tecnicas:d.observacoes_tecnicas.trim()||null,avaliacao:d.avaliacao}).eq("id",d.sessao_id);if(j)throw j;r({title:"Sucesso",description:u?"Feedback atualizado com sucesso!":"Feedback criado com sucesso!"}),c(!1),await m(),t==null||t()}catch(j){console.error("Erro ao salvar feedback:",j),r({title:"Erro",description:"No foi possvel salvar o feedback",variant:"destructive"})}finally{i(!1)}},w=async j=>{if(confirm("Tem certeza que deseja remover este feedback?"))try{i(!0);const{error:N}=await Z.from("projeto_sessoes").update({feedback_cliente:null,observacoes_tecnicas:null,avaliacao:null}).eq("id",j);if(N)throw N;r({title:"Sucesso",description:"Feedback removido com sucesso!"}),await m(),t==null||t()}catch(N){console.error("Erro ao remover feedback:",N),r({title:"Erro",description:"No foi possvel remover o feedback",variant:"destructive"})}finally{i(!1)}},y=()=>n,b=j=>{switch(j){case"pago":return"bg-green-500/10 text-green-500 border-green-500/20";case"pendente":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"cancelado":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},_=j=>s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(N=>s.jsx(jd,{className:`w-4 h-4 ${N<=j?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},N))});return o&&n.length===0?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando sesses..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gerenciar Feedbacks"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione, edite ou remova feedbacks das sesses"})]}),s.jsxs(Ir,{open:l,onOpenChange:c,children:[s.jsx(_o,{asChild:!0,children:s.jsxs(H,{onClick:g,className:"rounded-xl",children:[s.jsx(is,{className:"w-4 h-4 mr-2"}),"Novo Feedback"]})}),s.jsxs(Cr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(Or,{children:u?"Editar Feedback":"Novo Feedback"}),s.jsx(mb,{children:u?"Edite o feedback e avaliao da sesso":"Adicione feedback e avaliao para uma sesso"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"sessao",children:"Sesso"}),s.jsxs(ot,{value:d.sessao_id,onValueChange:j=>h(N=>({...N,sessao_id:j})),disabled:!!u,children:[s.jsx(rt,{children:s.jsx(it,{placeholder:"Selecione uma sesso"})}),s.jsx(nt,{children:y().map(j=>s.jsx(J,{value:j.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{children:["Sesso ",j.numero_sessao]}),s.jsxs("span",{className:"text-muted-foreground",children:["- ",new Date(j.data_sessao).toLocaleDateString("pt-BR")]}),s.jsx(ft,{className:`${b(j.status_pagamento)} border text-xs`,children:j.status_pagamento})]})},j.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"avaliacao",children:"Avaliao"}),s.jsxs(ot,{value:d.avaliacao.toString(),onValueChange:j=>h(N=>({...N,avaliacao:parseInt(j)})),children:[s.jsx(rt,{children:s.jsx(it,{})}),s.jsx(nt,{children:[5,4,3,2,1].map(j=>s.jsx(J,{value:j.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[_(j),s.jsxs("span",{children:[j," estrela",j!==1?"s":""]})]})},j))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"feedback_cliente",children:"Feedback do Cliente"}),s.jsx(Jn,{id:"feedback_cliente",placeholder:"Digite o feedback do cliente...",value:d.feedback_cliente,onChange:j=>h(N=>({...N,feedback_cliente:j.target.value})),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"observacoes_tecnicas",children:"Observaes Tcnicas"}),s.jsx(Jn,{id:"observacoes_tecnicas",placeholder:"Digite as observaes tcnicas...",value:d.observacoes_tecnicas,onChange:j=>h(N=>({...N,observacoes_tecnicas:j.target.value})),rows:3})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(H,{onClick:v,disabled:o,className:"flex-1",children:[s.jsx(f3,{className:"w-4 h-4 mr-2"}),u?"Atualizar":"Salvar"]}),s.jsxs(H,{variant:"outline",onClick:()=>c(!1),disabled:o,children:[s.jsx(ef,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(lm,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma sesso encontrada"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Crie sesses para o projeto para poder adicionar feedbacks"})]})})}):n.map(j=>s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h4",{className:"font-semibold",children:["Sesso ",j.numero_sessao]}),s.jsx(ft,{className:`${b(j.status_pagamento)} border`,children:j.status_pagamento}),j.avaliacao&&s.jsxs("div",{className:"flex items-center gap-1",children:[_(j.avaliacao),s.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",j.avaliacao,"/5)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_r,{className:"w-4 h-4"}),new Date(j.data_sessao).toLocaleDateString("pt-BR")]}),j.valor_sessao&&s.jsxs("span",{children:["R$ ",j.valor_sessao.toLocaleString("pt-BR")]})]}),j.feedback_cliente&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(lm,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900 text-sm",children:"Feedback do Cliente"})]}),s.jsx("p",{className:"text-blue-800 text-sm",children:j.feedback_cliente})]}),j.observacoes_tecnicas&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ol,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Observaes Tcnicas"})]}),s.jsx("p",{className:"text-gray-800 text-sm",children:j.observacoes_tecnicas})]}),!j.feedback_cliente&&!j.observacoes_tecnicas&&!j.avaliacao&&s.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsx(lm,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum feedback registrado"})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(H,{variant:"outline",size:"icon",onClick:()=>p(j),className:"rounded-lg",children:s.jsx(cm,{className:"w-4 h-4"})}),(j.feedback_cliente||j.observacoes_tecnicas||j.avaliacao)&&s.jsx(H,{variant:"outline",size:"icon",onClick:()=>w(j.id),className:"rounded-lg text-red-600 hover:text-red-700",children:s.jsx(Da,{className:"w-4 h-4"})})]})]})})},j.id))})]})}var z2="ContextMenu",[dLe]=na(z2,[ib]),ja=ib(),[fLe,SW]=dLe(z2),CW=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:a,modal:o=!0}=e,[i,l]=x.useState(!1),c=ja(t),u=ta(n),f=x.useCallback(d=>{l(d),u(d)},[u]);return s.jsx(fLe,{scope:t,open:i,onOpenChange:f,modal:o,children:s.jsx(lB,{...c,dir:a,open:i,onOpenChange:f,modal:o,children:r})})};CW.displayName=z2;var EW="ContextMenuTrigger",OW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...a}=e,o=SW(EW,r),i=ja(r),l=x.useRef({x:0,y:0}),c=x.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=x.useRef(0),f=x.useCallback(()=>window.clearTimeout(u.current),[]),d=h=>{l.current={x:h.clientX,y:h.clientY},o.onOpenChange(!0)};return x.useEffect(()=>f,[f]),x.useEffect(()=>void(n&&f()),[n,f]),s.jsxs(s.Fragment,{children:[s.jsx(cB,{...i,virtualRef:c}),s.jsx(pt.span,{"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,...a,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:Se(e.onContextMenu,h=>{f(),d(h),h.preventDefault()}),onPointerDown:n?e.onPointerDown:Se(e.onPointerDown,Bv(h=>{f(),u.current=window.setTimeout(()=>d(h),700)})),onPointerMove:n?e.onPointerMove:Se(e.onPointerMove,Bv(f)),onPointerCancel:n?e.onPointerCancel:Se(e.onPointerCancel,Bv(f)),onPointerUp:n?e.onPointerUp:Se(e.onPointerUp,Bv(f))})]})});OW.displayName=EW;var hLe="ContextMenuPortal",AW=e=>{const{__scopeContextMenu:t,...r}=e,n=ja(t);return s.jsx(uB,{...n,...r})};AW.displayName=hLe;var PW="ContextMenuContent",kW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=SW(PW,r),o=ja(r),i=x.useRef(!1);return s.jsx(dB,{...o,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&i.current&&l.preventDefault(),i.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!a.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kW.displayName=PW;var mLe="ContextMenuGroup",pLe=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(fB,{...a,...n,ref:t})});pLe.displayName=mLe;var gLe="ContextMenuLabel",TW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(hB,{...a,...n,ref:t})});TW.displayName=gLe;var vLe="ContextMenuItem",MW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(mB,{...a,...n,ref:t})});MW.displayName=vLe;var yLe="ContextMenuCheckboxItem",RW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(pB,{...a,...n,ref:t})});RW.displayName=yLe;var xLe="ContextMenuRadioGroup",bLe=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(gB,{...a,...n,ref:t})});bLe.displayName=xLe;var wLe="ContextMenuRadioItem",$W=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(vB,{...a,...n,ref:t})});$W.displayName=wLe;var jLe="ContextMenuItemIndicator",DW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(yB,{...a,...n,ref:t})});DW.displayName=jLe;var _Le="ContextMenuSeparator",IW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(xB,{...a,...n,ref:t})});IW.displayName=_Le;var NLe="ContextMenuArrow",SLe=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(bB,{...a,...n,ref:t})});SLe.displayName=NLe;var CLe="ContextMenuSubTrigger",LW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(wB,{...a,...n,ref:t})});LW.displayName=CLe;var ELe="ContextMenuSubContent",FW=x.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,a=ja(r);return s.jsx(jB,{...a,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FW.displayName=ELe;function Bv(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var OLe=CW,ALe=OW,PLe=AW,BW=kW,zW=TW,UW=MW,VW=RW,qW=$W,WW=DW,HW=IW,GW=LW,KW=FW;const YW=OLe,XW=ALe,kLe=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(GW,{ref:a,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n,children:[r,s.jsx(Hf,{className:"ml-auto h-4 w-4"})]}));kLe.displayName=GW.displayName;const TLe=x.forwardRef(({className:e,...t},r)=>s.jsx(KW,{ref:r,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));TLe.displayName=KW.displayName;const U2=x.forwardRef(({className:e,...t},r)=>s.jsx(PLe,{children:s.jsx(BW,{ref:r,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));U2.displayName=BW.displayName;const Xp=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(UW,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Xp.displayName=UW.displayName;const MLe=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(VW,{ref:a,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WW,{children:s.jsx(yr,{className:"h-4 w-4"})})}),t]}));MLe.displayName=VW.displayName;const RLe=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qW,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WW,{children:s.jsx(a3,{className:"h-2 w-2 fill-current"})})}),t]}));RLe.displayName=qW.displayName;const $Le=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(zW,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));$Le.displayName=zW.displayName;const V2=x.forwardRef(({className:e,...t},r)=>s.jsx(HW,{ref:r,className:Ae("-mx-1 my-1 h-px bg-border",e),...t}));V2.displayName=HW.displayName;function DLe(){const{id:e}=jL(),t=Bs(),{toast:r}=en(),[n,a]=x.useState(null),[o,i]=x.useState([]),[l,c]=x.useState([]),[u,f]=x.useState(!0),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[p,v]=x.useState(null),[w,y]=x.useState(null),[b,_]=x.useState(!1),[j,N]=x.useState({titulo:"",descricao:"",data:"",hora:"",status:"agendado"}),[S,C]=x.useState(null),[E,P]=x.useState(!1),[A,M]=x.useState({data:"",valor:0,descricao:"",status:"agendada"}),[O,R]=x.useState(!1),[L,D]=x.useState({data:"",valor:0,descricao:"",status:"concluida"}),[B,k]=x.useState(!1),[T,q]=x.useState(!1),Q=K=>{const[ue,Ie,Qe]=(K||"").split("-").map(Number);return new Date(ue||1970,(Ie||1)-1,Qe||1)},F=K=>{C(K),M({data:K.data||"",valor:K.valor||0,descricao:K.descricao||"",status:K.status||"agendada"}),P(!0)},X=K=>{switch(K){case"concluida":return"pago";case"cancelada":return"cancelado";default:return"pendente"}},ce=K=>K?K.replace(/^Local:\s*/i,"Estdio: "):"",pe=K=>{const ue=l.find(Qe=>Qe.id===(K.agendamento_id||"")),Ie=(ue==null?void 0:ue.descricao)||K.descricao||"";return ce(Ie)},ge=async()=>{if(S)try{const{error:K}=await Z.from("projeto_sessoes").update({data_sessao:A.data,valor_sessao:A.valor,observacoes_tecnicas:A.descricao,status_pagamento:X(A.status)}).eq("id",S.id);if(K)throw K;i(ue=>ue.map(Ie=>Ie.id===S.id?{...Ie,data:A.data,valor:A.valor,descricao:A.descricao,status:A.status}:Ie)),P(!1),C(null),r({title:"Sesso atualizada",description:"As alteraes foram salvas."})}catch(K){console.error("Erro ao salvar edio da sesso:",K),r({title:"Erro ao salvar sesso",description:String(K),variant:"destructive"})}},he=async()=>{try{const{data:K,error:ue}=await Z.from("projeto_sessoes").select("id").eq("projeto_id",e);if(ue)throw ue;const Ie=((K==null?void 0:K.length)||0)+1,{error:Qe}=await Z.from("projeto_sessoes").insert({projeto_id:e,agendamento_id:null,numero_sessao:Ie,data_sessao:L.data,valor_sessao:L.valor,status_pagamento:X(L.status),metodo_pagamento:null,observacoes_tecnicas:L.descricao||null});if(Qe)throw Qe;i(dr=>[...dr,{id:crypto.randomUUID(),data:L.data,duracao:120,descricao:L.descricao,valor:L.valor,status:L.status,numero_sessao:Ie}]),R(!1),D({data:"",valor:0,descricao:"",status:"concluida"}),r({title:"Sesso registrada",description:"Sesso adicionada ao histrico."})}catch(K){r({title:"Erro ao registrar sesso",description:String(K),variant:"destructive"})}},[qe,ie]=x.useState(!1),[ye,ve]=x.useState(null),ne=K=>{ve(K),ie(!0)},gt=async()=>{if(ye)try{const{error:K}=await Z.from("projeto_sessoes").delete().eq("id",ye.id);if(K)throw K;i(ue=>ue.filter(Ie=>Ie.id!==ye.id)),ie(!1),ve(null),r({title:"Sesso excluda",description:"O histrico foi removido."})}catch(K){console.error("Erro ao excluir sesso:",K),r({title:"Erro ao excluir",description:String(K),variant:"destructive"})}},at=K=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(K),je=async()=>{if(e)try{const{data:K,error:ue}=await Z.from("projeto_sessoes").select("*").eq("projeto_id",e).order("numero_sessao",{ascending:!0});if(ue)throw ue;const Ie=(K||[]).map(Qe=>({id:Qe.id,data:Qe.data_sessao,duracao:120,descricao:Qe.observacoes_tecnicas||`Sesso ${Qe.numero_sessao}`,valor:Qe.valor_sessao||0,status:Qe.status_pagamento==="pago"?"concluida":"agendada",feedback_cliente:Qe.feedback_cliente,observacoes_tecnicas:Qe.observacoes_tecnicas,avaliacao:Qe.avaliacao,agendamento_id:Qe.agendamento_id||null,numero_sessao:Qe.numero_sessao}));i(Ie)}catch(K){console.error("Erro ao carregar sesses:",K)}},yt=async()=>{if(e)try{const{data:K,error:ue}=await Z.from("agendamentos").select("*").eq("projeto_id",e).order("data",{ascending:!0}).order("hora",{ascending:!0});if(ue)throw ue;const Ie=(K||[]).map(Qe=>({id:Qe.id,titulo:Qe.titulo||"Agendamento",data:Qe.data,hora:typeof Qe.hora=="string"?Qe.hora.slice(0,5):"",status:Qe.status||"agendado",descricao:Qe.descricao||""}));c(Ie)}catch(K){console.error("Erro ao carregar agendamentos:",K)}},Ut=async()=>{if(w)try{if(at(w.id)){const{error:K}=await Z.from("agendamentos").update({titulo:j.titulo,descricao:j.descricao,data:j.data,hora:j.hora,status:j.status}).eq("id",w.id);if(K)throw K}c(K=>K.map(ue=>ue.id===w.id?{...ue,titulo:j.titulo,descricao:j.descricao,data:j.data,hora:j.hora,status:j.status}:ue)),_(!1),y(null)}catch(K){console.error("Erro ao salvar edio do agendamento:",K)}};x.useEffect(()=>{(async()=>{if(!e){r({title:"Erro",description:"ID do projeto no encontrado",variant:"destructive"}),t("/projetos");return}try{f(!0);const{data:ue,error:Ie}=await Z.from("projetos").select("*").eq("id",e).single();if(Ie||!ue){r({title:"Projeto no encontrado",description:"O projeto solicitado no existe",variant:"destructive"}),t("/projetos");return}const{data:Qe}=await Z.from("clientes").select("*").eq("id",ue.cliente_id).single(),{data:dr}=await Z.from("projeto_sessoes").select("valor_sessao").eq("projeto_id",e).eq("status_pagamento","pago"),W=(dr||[]).reduce((Me,et)=>Me+(et.valor_sessao||0),0),xe={id:ue.id,titulo:ue.titulo,descricao:ue.descricao||"",cliente_nome:(Qe==null?void 0:Qe.nome)||"Cliente no encontrado",cliente_id:ue.cliente_id,status:ue.status,data_inicio:ue.data_inicio||"",data_fim:ue.data_fim||void 0,valor_total:ue.valor_total||0,valor_pago:W,categoria:ue.categoria||"",prioridade:"media",observacoes:ue.notas||"",quantidade_sessoes:ue.quantidade_sessoes||0};a(xe),await je(),await yt()}catch(ue){console.error("Erro ao carregar projeto:",ue),r({title:"Erro ao carregar projeto",description:"No foi possvel carregar os dados do projeto",variant:"destructive"}),t("/projetos")}finally{f(!1)}})()},[e]);const gr=K=>{switch(K){case"planejamento":return"bg-primary/10 text-primary border-primary/20";case"em_andamento":return"bg-primary/10 text-primary border-primary/20";case"pausado":return"bg-muted/10 text-muted-foreground border-muted/20";case"concluido":return"bg-success/10 text-success border-success/20";case"cancelado":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}},Ne=K=>{switch(K){case"planejamento":return"Planejamento";case"em_andamento":return"Em Andamento";case"pausado":return"Pausado";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},U=K=>{switch(K){case"baixa":return"bg-muted/10 text-muted-foreground border-muted/20";case"media":return"bg-info/10 text-info border-info/20";case"alta":return"bg-warning/10 text-warning border-warning/20";default:return"bg-primary/10 text-primary border-primary/20"}},$=K=>{switch(K){case"agendada":return"bg-primary/10 text-primary border-primary/20";case"concluida":return"bg-success/10 text-success border-success/20";case"cancelada":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}};if(u)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Carregando projeto..."})]})});if(!n)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-semibold",children:"Projeto no encontrado"}),s.jsx(H,{onClick:()=>t("/projetos"),className:"mt-4 rounded-xl",children:"Voltar aos Projetos"})]})});const V=n.valor_pago/(n.valor_total||1)*100,oe=o.filter(K=>K.status==="concluida").length,se=n.quantidade_sessoes||o.length||0,le=se>0?oe/se*100:0;return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{t("/projetos")},className:"rounded-xl",children:s.jsx(e3,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.titulo}),s.jsxs("p",{className:"text-muted-foreground",children:["Cliente: ",n.cliente_nome]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ft,{variant:"outline",className:`rounded-xl ${gr(n.status)}`,children:Ne(n.status)}),s.jsxs(ft,{variant:"outline",className:`rounded-xl ${U(n.prioridade)}`,children:["Prioridade ",n.prioridade]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_total.toFixed(2)]})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_pago.toFixed(2)]})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sesses"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[oe,"/",se]})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(El,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(le),"%"]})]})]})})})]}),s.jsxs(Fa,{defaultValue:"detalhes",className:"space-y-6",children:[s.jsxs(wa,{className:"grid w-full grid-cols-5 rounded-2xl",children:[s.jsx(St,{value:"detalhes",className:"rounded-xl",children:"Detalhes"}),s.jsx(St,{value:"sessoes",className:"rounded-xl",children:"Sesses"}),s.jsx(St,{value:"feedbacks",className:"rounded-xl",children:"Feedbacks"}),s.jsx(St,{value:"financeiro",className:"rounded-xl",children:"Financeiro"}),s.jsx(St,{value:"galeria",className:"rounded-xl",children:"Galeria"})]}),s.jsx(Ct,{value:"detalhes",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"w-5 h-5"}),"Informaes do Projeto"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Nn,{className:"text-sm font-medium text-muted-foreground",children:"Descrio"}),s.jsx("p",{className:"mt-1",children:n.descricao})]}),s.jsxs("div",{children:[s.jsx(Nn,{className:"text-sm font-medium text-muted-foreground",children:"Categoria"}),s.jsx("p",{className:"mt-1",children:n.categoria})]}),s.jsxs("div",{children:[s.jsx(Nn,{className:"text-sm font-medium text-muted-foreground",children:"Data de Incio"}),s.jsx("p",{className:"mt-1",children:new Date(n.data_inicio).toLocaleDateString()})]}),n.data_fim&&s.jsxs("div",{children:[s.jsx(Nn,{className:"text-sm font-medium text-muted-foreground",children:"Data de Concluso"}),s.jsx("p",{className:"mt-1",children:new Date(n.data_fim).toLocaleDateString()})]})]})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Gf,{className:"w-5 h-5"}),"Informaes do Cliente"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Nn,{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),s.jsx("p",{className:"mt-1",children:n.cliente_nome})]}),s.jsxs("div",{children:[s.jsx(Nn,{className:"text-sm font-medium text-muted-foreground",children:"Observaes"}),s.jsx("p",{className:"mt-1",children:n.observacoes})]}),s.jsx(H,{variant:"outline",onClick:()=>{t(`/clientes/${n.cliente_id}`)},className:"w-full rounded-xl",children:"Ver Perfil do Cliente"})]})]})]})}),s.jsx(Ct,{value:"sessoes",className:"space-y-6",children:s.jsxs(te,{className:"rounded-2xl",children:[s.jsxs(Le,{children:[s.jsx(Fe,{children:"Histrico de Sesses"}),s.jsxs(Ja,{children:[oe," de ",se," sesses concludas"]})]}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:o.map((K,ue)=>s.jsxs(YW,{children:[s.jsx(XW,{asChild:!0,children:s.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border rounded-xl",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium",children:K.numero_sessao??ue+1})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(_r,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(K.data).toLocaleDateString()}),s.jsx(ft,{variant:"outline",className:`rounded-xl ${$(K.status)}`,children:K.status})]}),s.jsx("p",{className:"font-medium",children:pe(K)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[K.duracao," min  R$ ",K.valor.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{size:"sm",variant:"outline",className:"rounded-xl",onClick:()=>F(K),children:"Editar"}),s.jsx(H,{size:"sm",variant:"destructive",className:"rounded-xl",onClick:()=>ne(K),children:"Excluir"})]})]})}),s.jsxs(U2,{children:[s.jsx(Xp,{onClick:()=>F(K),children:"Editar"}),s.jsx(V2,{}),s.jsx(Xp,{className:"text-destructive",onClick:()=>ne(K),children:"Excluir"})]})]},K.id))})})]})}),s.jsx(Ir,{open:b,onOpenChange:_,children:s.jsxs(Cr,{className:"max-w-lg rounded-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Editar Agendamento"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Nn,{children:"Ttulo"}),s.jsx(de,{value:j.titulo,onChange:K=>N(ue=>({...ue,titulo:K.target.value})),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Descrio"}),s.jsx(Jn,{value:j.descricao,onChange:K=>N(ue=>({...ue,descricao:K.target.value})),className:"rounded-xl",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Nn,{children:"Data"}),s.jsx(de,{type:"date",value:j.data,onChange:K=>N(ue=>({...ue,data:K.target.value})),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Hora"}),s.jsx(de,{type:"time",value:j.hora,onChange:K=>N(ue=>({...ue,hora:K.target.value})),className:"rounded-xl"})]})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Status"}),s.jsxs(ot,{value:j.status,onValueChange:K=>N(ue=>({...ue,status:K})),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione um status"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"agendado",children:"Agendado"}),s.jsx(J,{value:"confirmado",children:"Confirmado"}),s.jsx(J,{value:"em_andamento",children:"Em andamento"}),s.jsx(J,{value:"concluido",children:"Concludo"}),s.jsx(J,{value:"cancelado",children:"Cancelado"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{variant:"outline",className:"rounded-xl",onClick:()=>{_(!1),y(null)},children:"Cancelar"}),s.jsx(H,{className:"rounded-xl",onClick:Ut,children:"Salvar"})]})]})]})}),s.jsx(Ir,{open:E,onOpenChange:P,children:s.jsxs(Cr,{className:"max-w-lg rounded-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Editar Sesso"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Nn,{children:"Data"}),s.jsxs(mo,{open:B,onOpenChange:k,children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),A.data?Xt(Q(A.data),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:A.data?Q(A.data):void 0,onSelect:K=>{K&&(M(ue=>({...ue,data:Xt(K,"yyyy-MM-dd")})),k(!1))},locale:Nr,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Valor"}),s.jsx(de,{type:"number",step:"0.01",value:A.valor,onChange:K=>M(ue=>({...ue,valor:Number(K.target.value)})),className:"rounded-xl"})]})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Descrio"}),s.jsx(Jn,{value:A.descricao,onChange:K=>M(ue=>({...ue,descricao:K.target.value})),className:"rounded-xl",rows:3})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Status"}),s.jsxs(ot,{value:A.status,onValueChange:K=>M(ue=>({...ue,status:K})),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione um status"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"agendada",children:"Agendada"}),s.jsx(J,{value:"concluida",children:"Concluda"}),s.jsx(J,{value:"cancelada",children:"Cancelada"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{variant:"outline",className:"rounded-xl",onClick:()=>{P(!1),C(null)},children:"Cancelar"}),s.jsx(H,{className:"rounded-xl",onClick:ge,children:"Salvar"})]})]})]})}),s.jsx(v0,{open:qe,onOpenChange:ie,children:s.jsxs(Vp,{className:"rounded-2xl",children:[s.jsxs(qp,{children:[s.jsx(Hp,{children:"Excluir sesso?"}),s.jsx(Gp,{children:"Esta ao remover definitivamente o registro da sesso do histrico."})]}),s.jsxs(Wp,{children:[s.jsx(Yp,{className:"rounded-xl",children:"Cancelar"}),s.jsx(Kp,{className:"rounded-xl",onClick:gt,children:"Excluir"})]})]})}),s.jsx(Ct,{value:"feedbacks",className:"space-y-6",children:s.jsx(uLe,{projetoId:n.id,onFeedbackUpdate:()=>{i([]),je()}})}),s.jsx(Ct,{value:"financeiro",className:"space-y-6",children:s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Resumo Financeiro"})}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_total.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_pago.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",(n.valor_total-n.valor_pago).toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Restante"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Progresso do Pagamento"}),s.jsxs("span",{children:[Math.round(V),"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${V}%`}})})]})]})]})}),s.jsx(Ct,{value:"galeria",className:"space-y-6",children:s.jsxs(te,{className:"rounded-2xl",children:[s.jsxs(Le,{children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(vP,{className:"w-5 h-5"}),"Galeria do Projeto"]}),s.jsx(Ja,{children:"Fotos do progresso e resultado final"})]}),s.jsx(me,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vP,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhuma imagem adicionada ainda"}),s.jsx(H,{variant:"outline",className:"mt-4 rounded-xl",children:"Adicionar Fotos"})]})})]})})]}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(H,{onClick:()=>{t(`/agendamentos?projeto=${n.id}`)},className:"rounded-xl",children:"Agendar Sesso"}),s.jsx(H,{variant:"outline",onClick:()=>R(!0),className:"rounded-xl",children:"Registrar Sesso"}),s.jsx(H,{variant:"outline",onClick:()=>{t(`/clientes/${n.cliente_id}`)},className:"rounded-xl",children:"Ver Cliente"}),s.jsx(H,{variant:"outline",onClick:()=>{t("/projetos")},className:"rounded-xl",children:"Voltar aos Projetos"})]})})}),s.jsx(Ir,{open:O,onOpenChange:R,children:s.jsxs(Cr,{className:"max-w-lg rounded-2xl",children:[s.jsxs(Er,{children:[s.jsx(Or,{children:"Registrar Sesso"}),s.jsx(mb,{children:"Adicionar sesso passada sem agendamento"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Nn,{children:"Data"}),s.jsxs(mo,{open:T,onOpenChange:q,children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),L.data?Xt(Q(L.data),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:L.data?Q(L.data):void 0,onSelect:K=>{K&&(D(ue=>({...ue,data:Xt(K,"yyyy-MM-dd")})),q(!1))},locale:Nr,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Valor"}),s.jsx(de,{type:"number",step:"0.01",value:L.valor,onChange:K=>D(ue=>({...ue,valor:Number(K.target.value)})),className:"rounded-xl"})]})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Descrio"}),s.jsx(Jn,{value:L.descricao,onChange:K=>D(ue=>({...ue,descricao:K.target.value})),className:"rounded-xl",rows:3})]}),s.jsxs("div",{children:[s.jsx(Nn,{children:"Status"}),s.jsxs(ot,{value:L.status,onValueChange:K=>D(ue=>({...ue,status:K})),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione um status"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"agendada",children:"Agendada"}),s.jsx(J,{value:"concluida",children:"Concluda"}),s.jsx(J,{value:"cancelada",children:"Cancelada"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{variant:"outline",className:"rounded-xl",onClick:()=>R(!1),children:"Cancelar"}),s.jsx(H,{className:"rounded-xl",onClick:he,children:"Salvar"})]})]})]})})]})})}function Nn({children:e,className:t}){return s.jsx("label",{className:`text-sm font-medium text-muted-foreground ${t||""}`,children:e})}const zv={clientes_milestone:{type:"clientes_milestone",title:"Mestre dos Relacionamentos",description:"Cadastrou {threshold} clientes!",icon:"",threshold:10},projetos_milestone:{type:"projetos_milestone",title:"Gerente de Projetos",description:"Criou {threshold} projetos!",icon:"",threshold:5},financeiro_milestone:{type:"financeiro_milestone",title:"Controlador Financeiro",description:"Registrou {threshold} transaes!",icon:"",threshold:20},agendamentos_milestone:{type:"agendamentos_milestone",title:"Organizador Expert",description:"Agendou {threshold} sesses!",icon:"",threshold:15},sessoes_milestone:{type:"sessoes_milestone",title:"Tatuador Produtivo",description:"Completou {threshold} sesses de tatuagem!",icon:"",threshold:30},receita_milestone:{type:"receita_milestone",title:"Empreendedor de Sucesso",description:"Atingiu R$ {threshold} em receitas!",icon:"",threshold:5e3}},ILe=()=>{const{toast:e}=en(),t=x.useCallback((d,h)=>{const m=zv[d],g=`achievement_${d}`,p=`achievement_current_${d}`,v=parseInt(localStorage.getItem(g)||"0");localStorage.setItem(p,h.toString());const w=Math.floor(h/m.threshold)*m.threshold;w>v&&w>=m.threshold&&(localStorage.setItem(g,w.toString()),r({...m,id:`${d}_${w}`,threshold:w,currentValue:h,isCompleted:!0,completedAt:new Date().toISOString()})),console.log(` Verificando conquista ${d}:`,{currentValue:h,threshold:m.threshold,newMilestone:w,lastNotifiedValue:v,shouldNotify:w>v&&w>=m.threshold})},[]),r=x.useCallback(d=>{e({title:` ${d.icon} ${d.title}`,description:d.description.replace("{threshold}",d.threshold.toString()),duration:6e3}),console.log(" Conquista desbloqueada:",d)},[e]),n=x.useCallback(d=>{t("clientes_milestone",d)},[t]),a=x.useCallback(d=>{t("projetos_milestone",d)},[t]),o=x.useCallback(d=>{t("financeiro_milestone",d)},[t]),i=x.useCallback(d=>{t("agendamentos_milestone",d)},[t]),l=x.useCallback(d=>{t("sessoes_milestone",d)},[t]),c=x.useCallback(d=>{t("receita_milestone",d)},[t]),u=x.useCallback(()=>Object.entries(zv).map(([d,h])=>{const m=`achievement_${d}`,g=`achievement_current_${d}`,p=parseInt(localStorage.getItem(m)||"0"),v=parseInt(localStorage.getItem(g)||"0");return{...h,id:`${d}_current`,currentValue:v,isCompleted:p>=h.threshold,completedAt:p>=h.threshold?new Date().toISOString():void 0}}),[]),f=x.useCallback(()=>{Object.keys(zv).forEach(d=>{localStorage.removeItem(`achievement_${d}`),localStorage.removeItem(`achievement_current_${d}`)}),e({title:" Conquistas Resetadas",description:"Todas as conquistas foram resetadas!"})},[e]);return{checkClientesMilestone:n,checkProjetosMilestone:a,checkFinanceiroMilestone:o,checkAgendamentosMilestone:i,checkSessoesMilestone:l,checkReceitaMilestone:c,getUserAchievements:u,resetAchievements:f,showAchievementNotification:r,achievementConfigs:zv}};function LLe({appointment:e,onClick:t,compact:r=!1,draggable:n=!1,isDragging:a=!1}){const i=(u=>{switch(u){case"agendado":return{bg:"bg-blue-500",text:"text-blue-700 dark:text-blue-300",bgLight:"bg-blue-50 dark:bg-blue-950/50",border:"border-blue-200 dark:border-blue-800"};case"confirmado":return{bg:"bg-green-500",text:"text-green-700 dark:text-green-300",bgLight:"bg-green-50 dark:bg-green-950/50",border:"border-green-200 dark:border-green-800"};case"em_andamento":return{bg:"bg-yellow-500",text:"text-yellow-700 dark:text-yellow-300",bgLight:"bg-yellow-50 dark:bg-yellow-950/50",border:"border-yellow-200 dark:border-yellow-800"};case"concluido":return{bg:"bg-purple-500",text:"text-purple-700 dark:text-purple-300",bgLight:"bg-purple-50 dark:bg-purple-950/50",border:"border-purple-200 dark:border-purple-800"};case"cancelado":return{bg:"bg-red-500",text:"text-red-700 dark:text-red-300",bgLight:"bg-red-50 dark:bg-red-950/50",border:"border-red-200 dark:border-red-800"};default:return{bg:"bg-gray-500",text:"text-gray-700 dark:text-gray-300",bgLight:"bg-gray-50 dark:bg-gray-950/50",border:"border-gray-200 dark:border-gray-800"}}})(e.status),l=u=>u.slice(0,5),c=u=>{switch(u){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}};return r?s.jsxs("div",{className:`
          relative p-2 rounded-lg border-l-4 cursor-pointer
          transition-all duration-200 hover:shadow-sm
          ${i.bgLight} ${i.border}
          ${a?"opacity-50 scale-95":""}
          ${n?"cursor-grab active:cursor-grabbing":""}
        `,style:{borderLeftColor:i.bg.replace("bg-","")},onClick:t,children:[s.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${i.bg} rounded-l-lg`}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs font-medium ${i.text}`,children:l(e.hora_inicio)}),s.jsx("div",{className:`w-2 h-2 rounded-full ${i.bg}`})]}),s.jsx("div",{className:"text-xs font-medium text-foreground truncate",children:e.cliente_nome}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e.servico})]})]}):s.jsx(te,{className:`
        cursor-pointer transition-all duration-200 hover:shadow-lg
        ${i.border} ${i.bgLight}
        ${a?"opacity-50 scale-95 rotate-2":""}
        ${n?"cursor-grab active:cursor-grabbing":""}
      `,onClick:t,children:s.jsxs(me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(ft,{variant:"outline",className:`${i.text} ${i.border} ${i.bgLight}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${i.bg} mr-2`}),c(e.status)]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(El,{className:"w-4 h-4"}),s.jsxs("span",{children:[l(e.hora_inicio)," - ",l(e.hora_fim)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gf,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium text-foreground",children:e.cliente_nome})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sX,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-foreground",children:e.servico})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Tatuador: ",e.tatuador]}),s.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",e.valor_estimado.toLocaleString("pt-BR")]})]})}),e.observacoes&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground bg-muted p-2 rounded",children:e.observacoes})]})})}function FLe({appointments:e,onAppointmentMove:t,onAppointmentClick:r,onDateClick:n,onAppointmentDelete:a}){const[o,i]=x.useState(new Date),[l,c]=x.useState(null),[u,f]=x.useState(null),d=()=>{i(A=>new Date(A.getFullYear(),A.getMonth()-1,1))},h=()=>{i(A=>new Date(A.getFullYear(),A.getMonth()+1,1))},m=()=>{i(new Date)},g=x.useMemo(()=>{const A=o.getFullYear(),M=o.getMonth(),O=new Date(A,M,1),R=new Date(A,M+1,0),L=new Date(O);L.setDate(L.getDate()-O.getDay());const D=new Date(R);D.setDate(D.getDate()+(6-R.getDay()));const B=[],k=new Date(L);for(;k<=D;)B.push(new Date(k)),k.setDate(k.getDate()+1);return B},[o]),p=x.useMemo(()=>{const A={};return e.forEach(M=>{const O=M.data_agendamento;A[O]||(A[O]=[]),A[O].push(M)}),Object.keys(A).forEach(M=>{A[M].sort((O,R)=>O.hora_inicio.localeCompare(R.hora_inicio))}),A},[e]),v=A=>A.toISOString().split("T")[0],w=A=>A.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),y=A=>{const M=new Date;return A.toDateString()===M.toDateString()},b=A=>A.getMonth()===o.getMonth(),_=A=>{const M=v(A);n==null||n(M)},j=(A,M)=>{c(M),A.dataTransfer.setData("text/plain",M),A.dataTransfer.effectAllowed="move",setTimeout(()=>{const O=document.querySelector(`[data-appointment-id="${M}"]`);O&&O.classList.add("dragging")},0)},N=()=>{c(null),f(null),document.querySelectorAll(".dragging").forEach(A=>{A.classList.remove("dragging")})},S=(A,M)=>{A.preventDefault(),A.stopPropagation(),A.dataTransfer.dropEffect="move",f(M)},C=A=>{A.preventDefault(),A.stopPropagation();const M=A.currentTarget.getBoundingClientRect(),O=A.clientX,R=A.clientY;(O<M.left||O>M.right||R<M.top||R>M.bottom)&&f(null)},E=(A,M)=>{A.preventDefault();const O=A.dataTransfer.getData("text/plain");O&&O!==l||(l&&t&&t(l,M),c(null),f(null))},P=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold capitalize",children:w(o)}),s.jsx(H,{variant:"outline",size:"sm",onClick:m,className:"rounded-xl",children:"Hoje"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:"outline",size:"icon",onClick:d,className:"rounded-xl",children:s.jsx(F0,{className:"h-4 w-4"})}),s.jsx(H,{variant:"outline",size:"icon",onClick:h,className:"rounded-xl",children:s.jsx(Hf,{className:"h-4 w-4"})})]})]}),s.jsx(te,{className:"rounded-2xl overflow-hidden",children:s.jsxs(me,{className:"p-0",children:[s.jsx("div",{className:"grid grid-cols-7 border-b",children:P.map(A=>s.jsx("div",{className:"p-4 text-center font-medium text-muted-foreground bg-muted/30",children:A},A))}),s.jsx("div",{className:"grid grid-cols-7",children:g.map((A,M)=>{const O=v(A),R=p[O]||[],L=b(A),D=y(A),B=u===O;return s.jsxs("div",{className:`
                    min-h-[120px] border-r border-b p-2 cursor-pointer group
                    transition-all duration-200 ease-in-out
                    ${L?"hover:bg-muted/50":"bg-muted/20 text-muted-foreground"}
                    ${D?"bg-blue-50 dark:bg-blue-950/50 border-blue-200 dark:border-blue-800":""}
                    
                  `,onClick:()=>_(A),onDragOver:k=>S(k,O),onDragLeave:k=>C(k),onDrop:k=>E(k,O),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`
                        text-sm font-medium transition-all duration-200
                        ${D?"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":""}
                        ${L?"":"text-muted-foreground"}
                      `,children:A.getDate()}),L&&s.jsx(H,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-opacity duration-200",onClick:k=>{k.stopPropagation(),_(A)},children:s.jsx(is,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-1",children:[R.slice(0,3).map(k=>s.jsxs(YW,{children:[s.jsx(XW,{asChild:!0,children:s.jsx("div",{"data-appointment-id":k.id,draggable:!0,onDragStart:T=>j(T,k.id),onDragEnd:N,onClick:T=>T.stopPropagation(),className:"transition-transform duration-200 hover:scale-105",children:s.jsx(LLe,{appointment:k,onClick:()=>r==null?void 0:r(k),compact:!0,draggable:!0,isDragging:l===k.id})})}),s.jsxs(U2,{children:[s.jsx(Xp,{onClick:T=>{T.stopPropagation(),r==null||r(k)},children:"Editar"}),s.jsx(V2,{}),s.jsx(Xp,{className:"text-destructive",onClick:T=>{T.stopPropagation(),a==null||a(k.id)},children:"Excluir"})]})]},k.id)),R.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-1 transition-colors duration-200",children:["+",R.length-3," mais"]})]})]},M)})})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{children:"Agendado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsx("span",{children:"Confirmado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("span",{children:"Em Andamento"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),s.jsx("span",{children:"Concludo"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("span",{children:"Cancelado"})]})]})]})}const BLe=void 0,Ht=!!BLe;function zLe(){const e="Supabase local no configurado: defina VITE_SUPABASE_LOCAL_URL e VITE_SUPABASE_LOCAL_ANON_KEY.";return new Proxy({},{get(){throw new Error(e)}})}const Gt=zLe();function ULe(){const e=Bs(),{toast:t}=en(),{checkAgendamentosMilestone:r}=ILe(),{user:n}=dn(),a=Ht?Gt:Z,[o,i]=x.useState([]),[l,c]=x.useState([]),[u,f]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(null),[p,v]=x.useState("todos"),[w,y]=x.useState(""),[b,_]=x.useState(!1),[j,N]=x.useState(!1),[S,C]=x.useState(null),[E,P]=x.useState(""),[A,M]=x.useState(5),[O,R]=x.useState(""),L={cliente_nome:"",cliente_id:"",data_agendamento:"",hora_inicio:"",hora_fim:"",servico:"",status:"agendado",observacoes:"",valor_estimado:0,tatuador:"",local:"Estdio Principal"},[D,B]=x.useState(L);x.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");const W=sessionStorage.getItem("agendamentos-scroll-y");W&&requestAnimationFrame(()=>{window.scrollTo(0,parseInt(W,10))})},[]),x.useEffect(()=>{(async()=>{try{const{data:xe,error:Me}=await Z.from("clientes").select("id, nome").order("nome");if(Me)throw Me;c(xe||[])}catch(xe){console.error("Erro ao buscar clientes:",xe)}})()},[]),x.useEffect(()=>{(async()=>{try{const{data:xe,error:Me}=await Z.from("projetos").select("id, titulo, valor_por_sessao, cliente_id").order("titulo");if(Me)throw Me;f(xe||[])}catch(xe){console.error("Erro ao buscar projetos:",xe)}})()},[]),x.useEffect(()=>{if(n)return;const W=[{id:"1",cliente_nome:"Ana Silva",cliente_id:"1",data_agendamento:"2024-01-15",hora_inicio:"14:00",hora_fim:"17:00",servico:"Tatuagem Brao",status:"confirmado",observacoes:"Primeira sesso - desenho floral",valor_estimado:450,tatuador:"Joo Silva",local:"Estdio Principal"},{id:"2",cliente_nome:"Carlos Santos",cliente_id:"2",data_agendamento:"2024-01-16",hora_inicio:"10:00",hora_fim:"12:00",servico:"Retoque",status:"agendado",observacoes:"Retoque na tatuagem das costas",valor_estimado:150,tatuador:"Maria Santos",local:"Estdio Secundrio"}];i(W),r(W.length)},[n,r]);const k=W=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(W),T=W=>{switch(W){case"agendado":return"bg-primary/10 text-primary border-primary/20";case"confirmado":return"bg-primary/10 text-primary border-primary/20";case"em_andamento":return"bg-primary/10 text-primary border-primary/20";case"concluido":return"bg-success/10 text-success border-success/20";case"cancelado":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}},q=W=>{switch(W){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},Q=W=>{switch(W){case"agendado":return s.jsx(_r,{className:"w-4 h-4"});case"confirmado":return s.jsx($o,{className:"w-4 h-4"});case"em_andamento":return s.jsx(El,{className:"w-4 h-4"});case"concluido":return s.jsx($o,{className:"w-4 h-4"});case"cancelado":return s.jsx(qY,{className:"w-4 h-4"});default:return s.jsx(_r,{className:"w-4 h-4"})}},F=async W=>{try{if(!n||!k(W))return null;const{data:xe,error:Me}=await Z.from("agendamentos").select("id, user_id, status").eq("id",W).maybeSingle();return Me?null:xe}catch{return null}},X=o.filter(W=>{const xe=p==="todos"||W.status===p,Me=W.cliente_nome.toLowerCase().includes(w.toLowerCase())||W.servico.toLowerCase().includes(w.toLowerCase())||W.tatuador.toLowerCase().includes(w.toLowerCase());return xe&&Me}),ce=o.length,pe=o.filter(W=>{const xe=new Date().toISOString().split("T")[0];return W.data_agendamento===xe}).length,ge=o.filter(W=>W.status==="confirmado").length,he=o.filter(W=>W.status==="concluido").length,qe=o.filter(W=>W.data_agendamento===new Date().toISOString().split("T")[0]).sort((W,xe)=>W.hora_inicio.localeCompare(xe.hora_inicio)),ie=120,ye=W=>W?W.slice(0,5):"",ve=W=>{const[xe,Me]=ye(W).split(":").map(Number);return Number.isNaN(xe)||Number.isNaN(Me)?NaN:xe*60+Me},ne=W=>{const xe=Math.max(0,Math.min(1439,W)),Me=Math.floor(xe/60),et=xe%60;return`${String(Me).padStart(2,"0")}:${String(et).padStart(2,"0")}`},gt=(W,xe)=>{const Me=ve(W);return Number.isNaN(Me)?ye(W):ne(Me+xe)},at=(W,xe)=>{const Me=ye(xe);B(et=>({...et,[W]:Me}))},je=W=>{const[xe="",Me=""]=ye(W).split(":");let et=parseInt(xe||"0",10),Ue=parseInt(Me||"0",10);return Number.isNaN(et)&&(et=0),Number.isNaN(Ue)&&(Ue=0),et=Math.max(0,Math.min(23,et)),Ue=Math.max(0,Math.min(59,Ue)),`${String(et).padStart(2,"0")}:${String(Ue).padStart(2,"0")}`},yt=W=>{B(xe=>{const Me=je(xe[W]);return{...xe,[W]:Me}})},Ut=async(W,xe,Me,et)=>{try{if(i(lt=>lt.map(I=>I.id===W.id?{...I,status:"concluido"}:I)),!n){t({title:"Sesso confirmada localmente",description:"Faa login para registrar nas tabelas."});return}const Ue=u.find(lt=>lt.titulo===W.tatuador);if(Ue!=null&&Ue.id){const lt=k(W.id)?W.id:null;let I=null;if(lt){const{data:ae,error:Oe}=await Z.from("projeto_sessoes").select("id").eq("projeto_id",Ue.id).eq("agendamento_id",lt).limit(1).maybeSingle();if(Oe&&Oe.code!=="PGRST116")throw Oe;I=(ae==null?void 0:ae.id)||null}if(I){const{error:ae}=await Z.from("projeto_sessoes").update({feedback_cliente:xe||null,observacoes_tecnicas:Me??null,valor_sessao:W.valor_estimado||null,data_sessao:W.data_agendamento,avaliacao:et??null}).eq("id",I);if(ae)throw ae}else{const{data:ae,error:Oe}=await Z.from("projeto_sessoes").select("id").eq("projeto_id",Ue.id);if(Oe)throw Oe;const ht=((ae==null?void 0:ae.length)||0)+1,{error:Ke}=await Z.from("projeto_sessoes").insert({projeto_id:Ue.id,agendamento_id:lt,numero_sessao:ht,data_sessao:W.data_agendamento,valor_sessao:W.valor_estimado||null,status_pagamento:"pendente",metodo_pagamento:null,observacoes_tecnicas:Me??null,feedback_cliente:xe||null,avaliacao:et??null});if(Ke)throw Ke}}if(W.valor_estimado&&W.valor_estimado>0){const lt=k(W.id)?W.id:null;if(lt){const{data:I,error:ae}=await Z.from("transacoes").select("id").eq("agendamento_id",lt).limit(1).maybeSingle();if(ae&&ae.code!=="PGRST116")throw ae;if(I!=null&&I.id){const{error:Oe}=await Z.from("transacoes").update({descricao:`Sesso realizada: ${W.servico}`}).eq("id",I.id);if(Oe)throw Oe}else{const{error:Oe}=await Z.from("transacoes").insert({user_id:n.id,tipo:"RECEITA",categoria:"Servios",valor:W.valor_estimado,data_vencimento:W.data_agendamento,descricao:`Sesso realizada: ${W.servico}`,agendamento_id:lt});if(Oe)throw Oe}}}if(k(W.id)){const lt=await F(W.id);if(!lt||String(lt.user_id)!==String(n.id))t({title:"Sem permisso para atualizar",description:"Este agendamento no pertence ao seu usurio.",variant:"destructive"});else{const{data:I,error:ae}=await Z.from("agendamentos").update({status:"concluido"}).eq("id",W.id).select("id, status").maybeSingle();if(ae)throw ae;I||t({title:"Atualizao no aplicada",description:"Nenhuma linha foi atualizada.",variant:"destructive"})}}t({title:"Sesso confirmada!",description:"Registro salvo nas tabelas relacionadas."})}catch(Ue){console.error("Erro ao confirmar sesso:",Ue),t({title:"Erro ao confirmar sesso",description:"Tente novamente mais tarde."})}},gr=W=>{C(W),_(!0)},Ne=async()=>{S&&(_(!1),await Ut(S),C(null),P(""))},U=()=>{_(!1),N(!0)},$=async()=>{if(!S)return;if(!n){t({title:"Faa login para salvar o feedback",description:"Sem login, os textos no sero persistidos no banco."});return}const W=E.trim();await Ut(S,W||void 0,O.trim()||void 0,A||void 0),N(!1),C(null),P(""),R(""),M(5)},V=async()=>{const W=document.querySelector("main.flex-1"),xe=W?W.scrollTop:window.scrollY;if(sessionStorage.setItem("agendamentos-scroll-y",String(xe)),m){const Me={...m,...D};i(et=>et.map(Ue=>Ue.id===m.id?Me:Ue));try{if(n&&k(m.id)){const et=u.find(I=>I.titulo===D.tatuador)||u.find(I=>I.id===D.tatuador),Ue={titulo:D.servico||D.cliente_nome,descricao:D.observacoes,data:D.data_agendamento,hora:D.hora_inicio,status:D.status};et!=null&&et.id&&(Ue.projeto_id=et.id);let lt=!1;try{const{data:I,error:ae}=await a.from("agendamentos").update({...Ue,valor_estimado:D.valor_estimado}).eq("id",m.id).eq("user_id",n.id).select("id").maybeSingle();if(ae)throw ae;I&&(lt=!0)}catch(I){const ae=String((I==null?void 0:I.message)||"").toLowerCase();if(ae.includes("column")&&ae.includes("valor_estimado")){const{data:Oe,error:ht}=await a.from("agendamentos").update(Ue).eq("id",m.id).eq("user_id",n.id).select("id").maybeSingle();if(ht)throw ht;Oe&&(lt=!0)}else throw I}t(lt?{title:"Agendamento atualizado com sucesso!"}:{title:"Atualizao no aplicada",description:"Nenhuma linha foi atualizada.",variant:"destructive"})}else t({title:"Agendamento atualizado localmente"})}catch(et){console.error("Erro ao atualizar agendamento no banco:",et),t({title:"Erro ao atualizar no banco",description:"Tente novamente mais tarde.",variant:"destructive"})}}else if(n)try{const Me=u.find(I=>I.titulo===D.tatuador);if(!(Me!=null&&Me.id)){t({title:"Selecione um projeto",description:" necessrio escolher um projeto para salvar."});return}const{data:et,error:Ue}=await Z.from("agendamentos").insert({user_id:n.id,projeto_id:Me.id,titulo:D.servico||`${D.cliente_nome}`,descricao:D.observacoes,data:D.data_agendamento,hora:D.hora_inicio,status:D.status,valor_estimado:D.valor_estimado||0}).select().single();if(Ue)throw Ue;D.valor_estimado&&D.valor_estimado>0&&await Z.from("transacoes").insert({user_id:n.id,tipo:"RECEITA",categoria:"Servios",valor:D.valor_estimado,data_vencimento:D.data_agendamento,descricao:`Sesso: ${D.servico}`,agendamento_id:et.id});const lt={id:et.id,cliente_nome:D.cliente_nome,cliente_id:D.cliente_id,data_agendamento:D.data_agendamento,hora_inicio:D.hora_inicio,hora_fim:D.hora_fim||(D.hora_inicio?gt(D.hora_inicio,ie):""),servico:D.servico,status:D.status,observacoes:D.observacoes,valor_estimado:D.valor_estimado,tatuador:D.tatuador,local:""};i(I=>{const ae=[...I,lt];return r(ae.length),ae}),t({title:"Agendamento criado e salvo com sucesso!"})}catch(Me){console.error("Erro ao salvar agendamento:",Me),t({title:"Erro ao salvar agendamento",description:"Verifique o login e tente novamente."});const et={id:Date.now().toString(),...D};i(Ue=>{const lt=[...Ue,et];return r(lt.length),lt})}else{const Me={id:Date.now().toString(),...D};i(et=>{const Ue=[...et,Me];return r(Ue.length),Ue}),t({title:"Agendamento criado localmente"})}h(!1),g(null),B(L),requestAnimationFrame(()=>{W?W.scrollTop=xe:window.scrollTo(0,xe)})},oe=W=>{g(W),B({cliente_nome:W.cliente_nome,cliente_id:W.cliente_id,data_agendamento:W.data_agendamento,hora_inicio:W.hora_inicio,hora_fim:W.hora_fim,servico:W.servico,status:W.status,observacoes:W.observacoes,valor_estimado:W.valor_estimado,tatuador:W.tatuador,local:W.local}),h(!0)},se=async W=>{console.log("Agendamentos: handleDelete",{id:W}),i(xe=>xe.filter(Me=>Me.id!==W));try{if(n&&k(W)){const{error:xe}=await a.from("agendamentos").delete().eq("id",W);if(xe)throw xe;await a.from("projeto_sessoes").delete().eq("agendamento_id",W),await a.from("transacoes").delete().eq("agendamento_id",W)}t({title:"Agendamento removido com sucesso!"})}catch(xe){console.error("Erro ao excluir agendamento no banco:",xe),t({title:"Erro ao excluir no banco",description:"Tente novamente mais tarde."})}},le=async(W,xe)=>{var et;console.log("Agendamentos: handleStatusChange",{id:W,novoStatus:xe});const Me=(et=o.find(Ue=>Ue.id===W))==null?void 0:et.status;i(Ue=>Ue.map(lt=>lt.id===W?{...lt,status:xe}:lt));try{if(n&&k(W)){const Ue=await F(W);if(!Ue||String(Ue.user_id)!==String(n.id))throw new Error("owner_mismatch");const{data:lt,error:I}=await a.from("agendamentos").update({status:xe}).eq("id",W).select("id, status").maybeSingle();if(I)throw I;if(!lt)throw new Error("no_rows_updated")}t({title:`Status alterado para ${q(xe)}`})}catch(Ue){console.error("Erro ao atualizar status no banco:",Ue),Me&&i(I=>I.map(ae=>ae.id===W?{...ae,status:Me}:ae));const lt=(Ue==null?void 0:Ue.message)==="owner_mismatch"?"Este agendamento no pertence ao seu usurio.":"Tente novamente mais tarde.";t({title:"Falha ao atualizar status",description:lt,variant:"destructive"})}},K=async(W,xe)=>{var et;console.log("Agendamentos: handleAppointmentMove",{appointmentId:W,newDate:xe});const Me=(et=o.find(Ue=>Ue.id===W))==null?void 0:et.data_agendamento;i(Ue=>Ue.map(lt=>lt.id===W?{...lt,data_agendamento:xe}:lt));try{if(n&&k(W)){const{error:Ue}=await a.from("agendamentos").update({data:xe}).eq("id",W).eq("user_id",n.id);if(Ue)throw Ue}t({title:"Agendamento movido com sucesso!"}),console.log("Agendamentos: move success")}catch(Ue){console.error("Erro ao mover agendamento no banco:",Ue),Me&&i(lt=>lt.map(I=>I.id===W?{...I,data_agendamento:Me}:I)),t({title:"Falha ao mover agendamento",description:"Tente novamente mais tarde.",variant:"destructive"})}},ue=W=>{oe(W)},Ie=W=>{B(xe=>{const Me=xe.hora_inicio&&xe.hora_inicio.trim()!==""?xe.hora_inicio:"09:00",et=xe.hora_fim&&xe.hora_fim.trim()!==""?xe.hora_fim:gt(Me,ie);return{...xe,data_agendamento:W,hora_inicio:Me,hora_fim:et}}),h(!0)},Qe=W=>isFinite(W)?W.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"",dr=W=>{const xe=W.target.value.replace(/\D/g,""),et=parseInt(xe||"0",10)/100;B(Ue=>({...Ue,valor_estimado:et}))};return x.useEffect(()=>{(async()=>{try{if(!n||u.length===0||l.length===0)return;const{data:xe,error:Me}=await Z.from("agendamentos").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});if(Me)throw Me;const et=(xe||[]).map(Ue=>{var ht;const lt=u.find(Ke=>Ke.id===Ue.projeto_id),I=(lt==null?void 0:lt.cliente_id)||"",ae=((ht=l.find(Ke=>Ke.id===I))==null?void 0:ht.nome)||"",Oe=typeof Ue.hora=="string"?Ue.hora.slice(0,5):"";return{id:Ue.id,cliente_nome:ae,cliente_id:I,data_agendamento:Ue.data,hora_inicio:Oe,hora_fim:Oe?gt(Oe,ie):"",servico:Ue.titulo,status:Ue.status||"agendado",observacoes:Ue.descricao||"",valor_estimado:Number(Ue.valor_estimado||0),tatuador:(lt==null?void 0:lt.titulo)||"",local:""}});i(et)}catch(xe){console.error("Erro ao carregar agendamentos do banco:",xe)}})()},[n,u,l]),s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(_r,{className:"w-8 h-8"}),"Agendamentos"]}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie sesses de tatuagem e compromissos"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:ce})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(El,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hoje"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:pe})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmados"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:ge})]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Concludos"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:he})]})]})})})]}),s.jsx(Ir,{open:b,onOpenChange:_,children:s.jsxs(Cr,{className:"rounded-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Confirmar sesso"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Deseja registrar o feedback da sesso?"}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(H,{variant:"outline",className:"rounded-xl",onClick:Ne,children:"No, apenas confirmar"}),s.jsx(H,{className:"rounded-xl",onClick:U,children:"Sim, registrar feedback"})]})]})}),s.jsx(Ir,{open:j,onOpenChange:N,children:s.jsxs(Cr,{className:"rounded-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Registrar feedback da sesso"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Avaliao"}),s.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(W=>s.jsx("button",{type:"button",onClick:()=>M(W),className:"p-1","aria-label":`Avaliar ${W} estrela${W>1?"s":""}`,children:s.jsx(jd,{className:`w-5 h-5 ${W<=A?"text-yellow-400":"text-muted-foreground"}`})},W)),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[A," estrelas"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Feedback do cliente"}),s.jsx(Jn,{value:E,onChange:W=>P(W.target.value),rows:4,className:"rounded-xl",placeholder:"Como foi a experincia do cliente? Observaes, satisfao, etc.",autoFocus:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Observaes Tcnicas"}),s.jsx(Jn,{value:O,onChange:W=>R(W.target.value),rows:3,className:"rounded-xl",placeholder:"Procedimentos, materiais, etapas realizadas, notas internas..."})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(H,{variant:"outline",className:"rounded-xl",onClick:()=>{N(!1),P(""),R(""),M(5)},children:"Cancelar"}),s.jsx(H,{className:"rounded-xl",onClick:$,children:"Salvar e confirmar"})]})]})}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsxs(Le,{children:[s.jsx(Fe,{children:"Agendamentos de Hoje"}),s.jsx(Ja,{children:"Mostra apenas os compromissos do dia atual"})]}),s.jsx(me,{className:"space-y-3",children:qe.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento para hoje."}):qe.map(W=>s.jsxs("div",{className:"flex items-center justify-between rounded-xl border bg-card p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(El,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[W.cliente_nome,"  ",W.servico]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.hora_inicio," - ",W.hora_fim,"  ",Xt(hl(W.data_agendamento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Nr})]})]})]}),s.jsx(ft,{variant:"outline",className:T(W.status),children:q(W.status)}),W.status!=="concluido"&&W.status!=="cancelado"&&s.jsx(H,{size:"sm",className:"ml-3 rounded-xl",onClick:()=>gr(W),children:"Confirmar Sesso"})]},W.id))})]}),s.jsxs(Fa,{defaultValue:"calendar",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs(wa,{className:"inline-flex w-auto rounded-2xl bg-gradient-to-r from-muted/30 to-muted/10 p-1.5 backdrop-blur-sm border border-border/20 shadow-lg",children:[s.jsxs(St,{value:"calendar",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:[s.jsx(zY,{className:"w-5 h-5 transition-colors"}),s.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Visualizao em Calendrio"})]}),s.jsxs(St,{value:"list",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:[s.jsx(i3,{className:"w-5 h-5 transition-colors"}),s.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Visualizao em Lista"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Buscar por cliente, servio ou projeto...",value:w,onChange:W=>y(W.target.value),className:"pl-10 rounded-lg border-muted/50 bg-background/50 backdrop-blur-sm h-9"})]}),s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsx(H,{variant:"outline",className:"rounded-lg h-9",children:"Filtros"})}),s.jsx(ks,{className:"w-[360px] rounded-xl p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:p,onValueChange:v,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Todos"})}),s.jsxs(nt,{className:"rounded-xl",children:[s.jsx(J,{value:"todos",children:"Todos Status"}),s.jsx(J,{value:"agendado",children:"Agendado"}),s.jsx(J,{value:"confirmado",children:"Confirmado"}),s.jsx(J,{value:"em_andamento",children:"Em Andamento"}),s.jsx(J,{value:"concluido",children:"Concludo"}),s.jsx(J,{value:"cancelado",children:"Cancelado"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(H,{variant:"ghost",className:"rounded-xl",onClick:()=>v("todos"),children:"Limpar"}),s.jsx(H,{className:"rounded-xl",children:"Aplicar"})]})]})})]})]}),s.jsxs(Ir,{open:d,onOpenChange:W=>{h(W),W||(g(null),B(L))},children:[s.jsx(_o,{asChild:!0,children:s.jsxs(H,{className:"rounded-lg gap-2 h-9 px-3",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Novo Agendamento"})]})}),s.jsxs(Cr,{className:"max-w-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:m?"Editar Agendamento":"Novo Agendamento"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(re,{children:"Cliente"}),s.jsxs(ot,{value:D.cliente_id,onValueChange:W=>{const xe=l.find(Me=>Me.id===W);B(Me=>({...Me,cliente_id:W,cliente_nome:(xe==null?void 0:xe.nome)||"",tatuador:"",valor_estimado:0}))},children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione um cliente"})}),s.jsx(nt,{children:l.map(W=>s.jsx(J,{value:W.id,children:W.nome},W.id))})]})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Servio"}),s.jsxs(ot,{value:D.servico,onValueChange:W=>B(xe=>({...xe,servico:W})),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione o servio"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"Incio de projeto",children:"Incio de projeto"}),s.jsx(J,{value:"Continuao",children:"Continuao"}),s.jsx(J,{value:"Retoque",children:"Retoque"}),s.jsx(J,{value:"Oramento",children:"Oramento"})]})]})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Data"}),s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),D.data_agendamento?Xt(hl(D.data_agendamento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:D.data_agendamento?hl(D.data_agendamento,"yyyy-MM-dd",new Date):void 0,onSelect:W=>{W&&B(xe=>({...xe,data_agendamento:Xt(W,"yyyy-MM-dd")}))},locale:Nr,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Projeto"}),s.jsxs(ot,{value:D.tatuador,onValueChange:W=>{const xe=u.find(Me=>Me.titulo===W)||u.find(Me=>Me.id===W);B(Me=>({...Me,tatuador:(xe==null?void 0:xe.titulo)||W,valor_estimado:typeof(xe==null?void 0:xe.valor_por_sessao)=="number"?xe.valor_por_sessao:Me.valor_estimado}))},children:[s.jsx(rt,{className:"rounded-xl",disabled:!D.cliente_id,children:s.jsx(it,{placeholder:D.cliente_id?"Selecione o projeto":"Selecione primeiro um cliente"})}),s.jsx(nt,{children:u.filter(W=>W.cliente_id===D.cliente_id).map(W=>s.jsx(J,{value:W.titulo,children:W.titulo},W.id))})]}),D.cliente_id&&u.filter(W=>W.cliente_id===D.cliente_id).length===0&&s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{children:"Nenhum projeto para este cliente."}),s.jsx(H,{variant:"ghost",size:"sm",className:"rounded-xl px-2",onClick:()=>e(`/projetos?cliente=${D.cliente_id}`),children:"Criar projeto"})]})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Hora Incio"}),s.jsx(de,{type:"time",step:"60",value:D.hora_inicio,onChange:W=>at("hora_inicio",W.target.value),onBlur:()=>yt("hora_inicio"),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Hora Fim"}),s.jsx(de,{type:"time",step:"60",value:D.hora_fim,onChange:W=>at("hora_fim",W.target.value),onBlur:()=>yt("hora_fim"),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Valor Estimado"}),s.jsx(de,{type:"text",inputMode:"numeric",value:Qe(D.valor_estimado),onChange:dr,placeholder:"R$ 0,00",className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:D.status,onValueChange:W=>B(xe=>({...xe,status:W})),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"agendado",children:"Agendado"}),s.jsx(J,{value:"confirmado",children:"Confirmado"}),s.jsx(J,{value:"em_andamento",children:"Em Andamento"}),s.jsx(J,{value:"concluido",children:"Concludo"}),s.jsx(J,{value:"cancelado",children:"Cancelado"})]})]})]}),s.jsxs("div",{className:"col-span-2 relative z-50",children:[s.jsx(re,{children:"Observaes"}),s.jsx(Jn,{value:D.observacoes,onChange:W=>B(xe=>({...xe,observacoes:W.target.value})),className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",rows:3})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(H,{variant:"outline",onClick:()=>{h(!1),g(null),B(L)},className:"rounded-xl",children:"Cancelar"}),s.jsx(H,{onClick:V,className:"rounded-xl",children:m?"Atualizar":"Criar"})]})]})]})]}),s.jsx(Ct,{value:"calendar",className:"space-y-6",children:s.jsx(FLe,{appointments:X,onAppointmentMove:K,onAppointmentClick:ue,onDateClick:Ie,onAppointmentDelete:se})}),s.jsx(Ct,{value:"list",className:"space-y-6",children:s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-0",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Cliente"}),s.jsx(_e,{children:"Data/Hora"}),s.jsx(_e,{children:"Servio"}),s.jsx(_e,{children:"Projeto"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Valor"}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:X.map(W=>s.jsxs(mr,{children:[s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gf,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:W.cliente_nome})]})}),s.jsx(be,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Xt(hl(W.data_agendamento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Nr})}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[W.hora_inicio," - ",W.hora_fim]})]})}),s.jsx(be,{children:W.servico}),s.jsx(be,{children:W.tatuador}),s.jsx(be,{children:s.jsxs(ot,{value:W.status,onValueChange:xe=>le(W.id,xe),children:[s.jsx(rt,{className:"w-32 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-2",children:[Q(W.status),s.jsx(it,{})]})}),s.jsxs(nt,{children:[s.jsx(J,{value:"agendado",children:"Agendado"}),s.jsx(J,{value:"confirmado",children:"Confirmado"}),s.jsx(J,{value:"em_andamento",children:"Em Andamento"}),s.jsx(J,{value:"concluido",children:"Concludo"}),s.jsx(J,{value:"cancelado",children:"Cancelado"})]})]})}),s.jsx(be,{children:Qe(W.valor_estimado)}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>oe(W),className:"rounded-xl",children:s.jsx(cm,{className:"w-4 h-4"})}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>se(W.id),className:"rounded-xl text-destructive",children:s.jsx(Da,{className:"w-4 h-4"})}),W.status!=="concluido"&&W.status!=="cancelado"&&s.jsx(H,{variant:"default",onClick:()=>Ut(W),className:"rounded-xl",children:"Confirmar Sesso"})]})})]},W.id))})]})})})})]})]})})}const VLe=hs({nome:ze().min(2,"Nome muito curto"),banco:ze().optional(),banco_id:ze().uuid().optional(),agencia:ze().optional(),numero:ze().optional(),tipo:ze().optional(),moeda:ze().default("BRL"),saldo_inicial:sn({invalid_type_error:"Saldo inicial deve ser numrico"}).nonnegative("Saldo inicial no pode ser negativo").default(0)});function mh(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=async h=>{try{if(!e)return;o(!0);let g=(Ht?Gt:Z).from("contas_bancarias").select(`
          *,
          banco_detalhes:bancos(*)
        `).eq("user_id",e.id).order("nome",{ascending:!0});h!=null&&h.incluirArquivadas||(g=g.eq("is_arquivada",!1));const{data:p,error:v}=await g;if(v)throw v;const w=(p||[]).map(y=>({...y,banco_detalhes:y.banco_detalhes||null}));n(w),l(null)}catch(m){console.error("Erro ao carregar contas_bancarias:",m),l((m==null?void 0:m.message)||"Erro desconhecido"),t({title:"Erro ao carregar contas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},u=async h=>{try{if(!e)throw new Error("Usurio no autenticado");const m=VLe.parse(h),g={...m,user_id:e.id,banco:m.banco??null,banco_id:m.banco_id??null,agencia:m.agencia??null,numero:m.numero??null,tipo:m.tipo??null},p=Ht?Gt:Z,{data:v,error:w}=await p.from("contas_bancarias").insert(g).select("*, banco_detalhes:bancos(*)");if(w)throw w;if(v&&v.length){const y={...v[0],banco_detalhes:v[0].banco_detalhes||null};n(b=>[y,...b])}else await c();t({title:"Conta criada",description:"Conta bancria salva com sucesso."})}catch(m){throw console.error("Erro ao inserir em contas_bancarias:",m),t({title:"Erro ao criar conta",description:m.message||"Verifique os dados.",variant:"destructive"}),m}},f=async(h,m)=>{try{if(!e)throw new Error("Usurio no autenticado");const g={...m};g.saldo_inicial!==void 0&&(g.saldo_inicial=Number(g.saldo_inicial));const p=Ht?Gt:Z,{data:v,error:w}=await p.from("contas_bancarias").update(g).select("*").eq("id",h).eq("user_id",e.id);if(w)throw w;if(v&&v.length){const y=v[0];n(b=>b.map(_=>_.id===y.id?y:_))}else await c();t({title:"Conta atualizada",description:"Alteraes salvas com sucesso."})}catch(g){throw console.error("Erro ao atualizar contas_bancarias:",g),t({title:"Erro ao atualizar",description:g.message||"Tente novamente.",variant:"destructive"}),g}},d=async h=>{try{if(!e)throw new Error("Usurio no autenticado");const m=Ht?Gt:Z,{data:g,error:p}=await m.from("contas_bancarias").update({is_arquivada:!0,arquivado_em:new Date().toISOString()}).select("*").eq("id",h).eq("user_id",e.id);if(p)throw p;if(g&&g.length){const v=g[0];n(w=>w.filter(y=>y.id!==v.id))}else n(v=>v.filter(w=>w.id!==h));t({title:"Conta arquivada",description:"A conta foi arquivada."})}catch(m){throw console.error("Erro ao arquivar conta:",m),t({title:"Erro ao arquivar",description:m.message||"Tente novamente.",variant:"destructive"}),m}};return x.useEffect(()=>{if(c(),!e)return;const h=Ht?Gt:Z,m=h.channel("realtime-contas-bancarias").on("postgres_changes",{event:"INSERT",schema:"public",table:"contas_bancarias",filter:`user_id=eq.${e.id}`},g=>{const p=g.new;p!=null&&p.is_arquivada||n(v=>[p,...v])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"contas_bancarias",filter:`user_id=eq.${e.id}`},g=>{const p=g.new;n(v=>p!=null&&p.is_arquivada?v.filter(w=>w.id!==p.id):v.map(w=>w.id===p.id?p:w))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"contas_bancarias",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.filter(v=>{var w;return v.id!==((w=g.old)==null?void 0:w.id)}))}).subscribe();return()=>{h.removeChannel(m)}},[e==null?void 0:e.id]),{items:r,loading:a,error:i,fetchAll:c,insert:u,update:f,archive:d}}const qLe=["Corrente","Poupana","Salrio","Investimento","Outros"],WLe=["BRL","USD","EUR"];function HLe({transacoes:e,onTransacaoClick:t,onDateClick:r}){const[n,a]=x.useState(new Date),o=()=>{a(p=>new Date(p.getFullYear(),p.getMonth()-1,1))},i=()=>{a(p=>new Date(p.getFullYear(),p.getMonth()+1,1))},l=()=>{a(new Date)},c=x.useMemo(()=>{const p=n.getFullYear(),v=n.getMonth(),w=new Date(p,v,1),y=new Date(p,v+1,0),b=new Date(w);b.setDate(b.getDate()-w.getDay());const _=new Date(y);_.setDate(_.getDate()+(6-y.getDay()));const j=[],N=new Date(b);for(;N<=_;)j.push(new Date(N)),N.setDate(N.getDate()+1);return j},[n]),u=p=>p.toISOString().split("T")[0],f=p=>p.toDateString()===new Date().toDateString(),d=p=>p.getMonth()===n.getMonth(),h=x.useMemo(()=>n.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),[n]),m=x.useMemo(()=>{const p={};return e.forEach(v=>{const w=v.data_vencimento;p[w]||(p[w]=[]),p[w].push(v)}),Object.keys(p).forEach(v=>{p[v].sort((w,y)=>Number(y.valor)-Number(w.valor))}),p},[e]),g=(p,v)=>p==="RECEITA"?"bg-success/10 text-success border-success/20":"bg-destructive/10 text-destructive border-destructive/20";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold capitalize",children:h}),s.jsx(H,{variant:"outline",size:"sm",onClick:l,className:"rounded-xl",children:"Hoje"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:"outline",size:"icon",onClick:o,className:"rounded-xl",children:s.jsx(F0,{className:"h-4 w-4"})}),s.jsx(H,{variant:"outline",size:"icon",onClick:i,className:"rounded-xl",children:s.jsx(Hf,{className:"h-4 w-4"})})]})]}),s.jsx(te,{className:"rounded-2xl overflow-hidden",children:s.jsxs(me,{className:"p-0",children:[s.jsx("div",{className:"grid grid-cols-7 border-b",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(p=>s.jsx("div",{className:"p-4 text-center font-medium text-muted-foreground bg-muted/30",children:p},p))}),s.jsx("div",{className:"grid grid-cols-7",children:c.map((p,v)=>{const w=u(p),y=m[w]||[],b=f(p),_=d(p);return s.jsxs("div",{className:`min-h-[120px] border-r border-b p-2 transition-all duration-200 ${_?"hover:bg-muted/50":"bg-muted/20 text-muted-foreground"} ${b?"bg-blue-50 dark:bg-blue-950/50 border-blue-200 dark:border-blue-800":""}`,onClick:()=>r==null?void 0:r(w),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`text-sm font-medium ${b?"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":""} ${_?"":"text-muted-foreground"}`,children:p.getDate()}),_&&s.jsx(H,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:j=>{j.stopPropagation(),r==null||r(w)},children:s.jsx(is,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-1",children:[y.slice(0,3).map(j=>s.jsx("div",{className:"transition-transform duration-200 hover:scale-105",children:s.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1 text-xs ${g(j.tipo,!!j.data_liquidacao)}`,onClick:N=>{N.stopPropagation(),t==null||t(j)},children:[s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[s.jsx(ft,{variant:"outline",className:"rounded-full px-1 text-[10px]",children:j.tipo}),s.jsx("span",{className:"truncate",children:j.categoria})]}),s.jsxs("span",{className:"font-medium",children:["R$ ",Number(j.valor).toFixed(2)]})]})},j.id)),y.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-1",children:["+",y.length-3," mais"]})]})]},v)})})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsx("span",{children:"Receitas"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("span",{children:"Despesas"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{variant:"outline",className:"rounded-full px-2",children:"Liquidada"}),s.jsx("span",{className:"text-muted-foreground",children:"quando aplicvel"})]})]})]})}const YS=e=>String(e||"").toLowerCase();function yw(e,t,r){const n=String(e||""),a=t.find(f=>String(f.id)===n),o=Number((a==null?void 0:a.saldo_inicial)||0),i=(r||[]).filter(f=>{const d=String(f.conta_id||"")===n,m=Object.prototype.hasOwnProperty.call(f,"data_liquidacao")?!!f.data_liquidacao:!0;return d&&m}),l=i.filter(f=>{const d=YS(f.tipo);return d==="receita"||d==="entrada"}).reduce((f,d)=>f+Number(d.valor||0),0),c=i.filter(f=>{const d=YS(f.tipo);return d==="despesa"||d==="saida"}).reduce((f,d)=>f+Number(d.valor||0),0),u=o+l-c;return{saldoInicial:o,entradas:l,saidas:c,saldoAtual:u}}function QW(e,t,r,n){const a=YS(t),o=a==="receita"||a==="entrada",i=Number(r||0);return o?e+i:e-i}function UD({value:e,onChange:t,placeholder:r,options:n,disabled:a,error:o}){const[i,l]=x.useState(!1),c=x.useRef(null);console.log("CustomSelect renderizado:",{optionsCount:n.length,options:n.slice(0,3),isOpen:i,value:e,disabled:a}),x.useEffect(()=>{function f(d){c.current&&!c.current.contains(d.target)&&l(!1)}if(i)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[i]);const u=n.find(f=>f.value===e);return console.log("Selected option:",u),s.jsxs("div",{className:"relative",ref:c,children:[s.jsxs("button",{type:"button",disabled:a,onClick:()=>{console.log("Boto clicado, isOpen atual:",i,"novo valor:",!i),l(!i)},className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o&&"border-red-500",i&&"ring-2 ring-ring ring-offset-2"),children:[s.jsx("span",{className:Ae("truncate",!u&&"text-muted-foreground"),children:u?s.jsxs("div",{className:"flex items-center gap-2",children:[u.color&&s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:u.color}}),u.label]}):r}),s.jsx(JC,{className:"h-4 w-4 opacity-50"})]}),i&&s.jsxs("div",{className:"absolute z-[200] w-full mt-1 rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",children:[console.log("Renderizando dropdown, isOpen:",i,"options:",n.length),s.jsx("div",{className:"max-h-60 overflow-auto p-1",children:n.length===0?s.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"Nenhuma opo disponvel"}):n.map(f=>s.jsxs("button",{type:"button",onClick:()=>{t(f.value),l(!1)},className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===f.value&&"bg-accent text-accent-foreground"),children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e===f.value&&s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{className:"flex items-center gap-2",children:[f.color&&s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:f.color}}),f.label]})]},f.value))})]})]})}function GLe({value:e,onChange:t,options:r,placeholder:n}){return console.log("SimpleSelect recebido:",{value:e,optionsCount:r.length,firstOptions:r.slice(0,3),allOptions:r}),s.jsxs("div",{className:"space-y-2",children:[console.log("Renderizando select HTML com",r.length,"opes"),s.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[s.jsx("option",{value:"",children:n||"Selecione..."}),r&&r.length>0?r.map(a=>(console.log("Renderizando option:",a.value,a.label),s.jsx("option",{value:a.value,children:a.label},a.value))):s.jsx("option",{value:"",disabled:!0,children:"Nenhuma opo disponvel"})]})]})}const KLe=hs({nome:ze().min(2,"Nome da conta muito curto"),banco_id:ze().uuid("Selecione um banco vlido"),agencia:ze().optional(),numero:ze().optional(),tipo:ze().optional(),moeda:ze().default("BRL"),saldo_inicial:sn().nonnegative("Saldo inicial no pode ser negativo").default(0)});function ZW(){console.log("TabelaGestaoBancos renderizando");const{user:e,loading:t}=dn();console.log("User:",e==null?void 0:e.id,"AuthLoading:",t);const{items:r,fetchAll:n,insert:a,update:o,archive:i}=mh(),[l,c]=x.useState([]),[u,f]=x.useState(!1),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[p,v]=x.useState(!1),[w,y]=x.useState(null),[b,_]=x.useState({nome:"",banco_id:"",agencia:"",numero:"",tipo:"",moeda:"BRL",saldo_inicial:0});console.log("Estado formData:",b),console.log("Estado bancos:",l.length,"bancos");const[j,N]=x.useState({}),[S,C]=x.useState({nome_curto:"",nome_completo:"",codigo:"",cor_primaria:"#1e40af"}),[E,P]=x.useState({});x.useEffect(()=>{console.log("useEffect user disparado, user:",e==null?void 0:e.id),e?(console.log("User detectado, carregando dados..."),A(),n()):console.log("User no detectado")},[e]),x.useEffect(()=>{console.log("Componente montado, verificando user..."),e&&(console.log("User j disponvel, carregando bancos..."),A())},[]),x.useEffect(()=>{console.log("AuthLoading mudou:",t),!t&&e&&(console.log("Auth completo, user disponvel, carregando bancos..."),A())},[t,e]),x.useEffect(()=>{const F=setInterval(()=>{e&&l.length===0&&!u&&(console.log("Bancos vazio, recarregando..."),A())},2e3);return()=>clearInterval(F)},[e,l.length,u]),x.useEffect(()=>{console.log("useEffect dialog fechado disparado:",{isAddBankDialogOpen:m,user:!!e,timestamp:new Date().toISOString()}),!m&&e&&(console.log("Dialog de adicionar banco fechado, recarregando bancos..."),A().then(()=>{console.log("fetchBancos concludo aps fechar dialog")}).catch(F=>{console.error("Erro ao recarregar bancos aps fechar dialog:",F)}))},[m,e]),x.useEffect(()=>{if(console.log("Estado bancos mudou:",l.length,"bancos"),console.log("Bancos atuais:",l.map(F=>({id:F.id,nome_curto:F.nome_curto}))),l.length>0){const F=l.slice(-3);console.log("ltimos bancos adicionados:",F)}},[l]),x.useEffect(()=>{console.log("Dialog aberto:",d),d&&(console.log("Dialog aberto, garantindo que bancos esto carregados"),l.length===0&&A())},[d]);const A=async()=>{if(e){console.log("fetchBancos chamado");try{console.log("Iniciando fetchBancos..."),f(!0),console.log("Fazendo query no Supabase...");let F=Z.from("bancos").select("*").order("nome_curto",{ascending:!0});console.log("Query construda, executando...");const{data:X,error:ce}=await F;if(console.log("Dados recebidos:",(X==null?void 0:X.length)||0,"bancos"),console.log("Primeiros bancos:",X==null?void 0:X.slice(0,3)),console.log("Erro:",ce),ce)throw console.error("Erro na query:",ce),console.error("Cdigo do erro:",ce.code),console.error("Mensagem:",ce.message),ce;console.log("Atualizando estado com bancos...");const pe=Array.isArray(X)?X:X?[X]:[];c(pe),console.log("Bancos atualizados no estado:",pe.length)}catch(F){console.error("Erro ao carregar bancos:",F),console.error("Tipo do erro:",typeof F),console.error("Detalhes completos do erro:",JSON.stringify(F,null,2));let X="Erro ao carregar lista de bancos";F instanceof Error?X=`Erro: ${F.message}`:typeof F=="string"?X=F:F&&typeof F=="object"&&"message"in F&&(X=`Erro: ${F.message}`),At.toast.error(X)}finally{f(!1)}}},M=async F=>{F.preventDefault();try{if(!e){At.toast.error("Voc precisa estar logado");return}const X=KLe.parse(b);N({}),p&&w?(await o(w,X),At.toast.success("Conta bancria atualizada com sucesso!")):(await a(X),At.toast.success("Conta bancria criada com sucesso!")),h(!1),O()}catch(X){if(X instanceof Qo){const ce={};X.errors.forEach(pe=>{pe.path[0]&&(ce[pe.path[0].toString()]=pe.message)}),N(ce)}else At.toast.error(X.message||"Erro ao salvar conta")}},O=()=>{_({nome:"",banco_id:"",agencia:"",numero:"",tipo:"",moeda:"BRL",saldo_inicial:0}),N({}),v(!1),y(null)},R=async F=>{F.preventDefault(),console.log("handleAddNewBank chamado"),console.log("Dados do novo banco:",S),console.log("Usurio atual:",e==null?void 0:e.id);try{const X={};if(S.nome_curto.trim()||(X.nome_curto="Nome curto  obrigatrio"),S.nome_completo.trim()||(X.nome_completo="Nome completo  obrigatrio"),S.codigo.trim()||(X.codigo="Cdigo do banco  obrigatrio"),Object.keys(X).length>0){console.log("Erros de validao:",X),P(X);return}if(!e){At.toast.error("Voc precisa estar logado para adicionar um banco");return}console.log("Iniciando insero no Supabase..."),console.log("Preparando dados para insero:",{nome_curto:S.nome_curto.trim(),nome:S.nome_completo.trim(),codigo:S.codigo.trim(),cor_primaria:S.cor_primaria,ativo:!0});const{data:ce,error:pe}=await Z.from("bancos").insert([{nome_curto:S.nome_curto.trim(),nome:S.nome_completo.trim(),codigo:S.codigo.trim(),cor_primaria:S.cor_primaria,ativo:!0,user_id:e.id}]).select().single();if(console.log("Resultado da insero:",{data:ce,error:pe}),pe){console.error("Erro do Supabase:",pe),console.error("Cdigo do erro:",pe.code),console.error("Mensagem:",pe.message),console.error("Detalhes:",pe.details),console.error("Dica:",pe.hint),pe.code==="42501"?At.toast.error("Permisso negada. Verifique as configuraes de segurana."):pe.code==="23505"?At.toast.error("Cdigo de banco j existe. Use um cdigo diferente."):pe.code==="23502"?At.toast.error(`Campo obrigatrio faltando: ${pe.column_name}`):pe.code==="23503"?At.toast.error("Violao de chave estrangeira."):At.toast.error(pe.message||"Erro ao adicionar banco");return}console.log("Banco inserido com sucesso:",ce);try{console.log("Atualizando lista de bancos..."),await A(),console.log("Lista de bancos atualizada")}catch(ge){console.error("Erro ao atualizar lista:",ge),console.error("Tipo do erro na atualizao:",typeof ge),console.error("Stack do erro:",ge instanceof Error?ge.stack:"N/A")}console.log("Selecionando novo banco no formulrio:",ce.id),_(ge=>({...ge,banco_id:ce.id})),console.log("Limpando formulrio e fechando dialog..."),C({nome_curto:"",nome_completo:"",codigo:"",cor_primaria:"#1e40af"}),P({}),g(!1),At.toast.success("Banco adicionado com sucesso!"),console.log("Processo de adio de banco concludo com sucesso")}catch(X){console.error("Erro geral ao adicionar banco:",X),At.toast.error("Erro inesperado ao adicionar banco")}},L=()=>{console.log("Abrindo dialog novo"),O(),h(!0),A()},D=F=>{v(!0),y(F.id),_({nome:F.nome,banco_id:F.banco_id||"",agencia:F.agencia||"",numero:F.numero||"",tipo:F.tipo||"",moeda:F.moeda||"BRL",saldo_inicial:F.saldo_inicial||0}),h(!0)},B=async F=>{try{await i(F),At.toast.success("Conta bancria removida com sucesso!")}catch(X){At.toast.error(X.message||"Erro ao remover conta")}},k=F=>F?l.find(X=>X.id===F):null,T=F=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F),q=r.length,Q=r.reduce((F,X)=>F+(X.saldo_inicial||0),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:s.jsx(wd,{className:"w-5 h-5 text-primary"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Contas"})]}),s.jsx("p",{className:"text-2xl font-semibold text-foreground",children:q})]}),s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:s.jsx(Pn,{className:"w-5 h-5 text-primary"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Total"})]}),s.jsx("p",{className:"text-2xl font-semibold text-foreground",children:T(Q)})]}),s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:s.jsx(ra,{className:"w-5 h-5 text-primary"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Bancos Vinculados"})]}),s.jsx("p",{className:"text-2xl font-semibold text-foreground",children:l.length})]})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Contas Bancrias"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gerencie suas contas bancrias"})]}),s.jsxs(Ir,{open:d,onOpenChange:h,children:[s.jsx(_o,{asChild:!0,children:s.jsxs(H,{onClick:L,className:"rounded-lg gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Nova Conta"]})}),s.jsxs(Cr,{className:"rounded-xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Er,{children:s.jsx(Or,{children:p?"Editar Conta":"Nova Conta Bancria"})}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"nome",children:"Nome da Conta *"}),s.jsx(de,{id:"nome",value:b.nome,onChange:F=>_({...b,nome:F.target.value}),placeholder:"Ex: Conta Principal",className:j.nome?"border-red-500":""}),j.nome&&s.jsx("p",{className:"text-sm text-red-500",children:j.nome})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(re,{htmlFor:"banco",children:"Banco *"}),s.jsxs(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(!0),className:"h-8 px-2 text-xs",children:[s.jsx(is,{className:"h-3 w-3 mr-1"}),"Adicionar Banco"]}),b.banco_id&&s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:async()=>{if(!(!e||!b.banco_id))try{const{error:F}=await Z.from("bancos").delete().eq("id",b.banco_id).eq("user_id",e.id);if(F)throw F;_(X=>({...X,banco_id:""})),await A(),At.toast.success("Banco removido")}catch(F){At.toast.error(F.message||"Erro ao remover banco")}},className:"h-8 px-2 text-xs",children:"Excluir Banco"})]}),console.log("Renderizando SimpleSelect, bancos:",(l==null?void 0:l.length)||0,"loadingBancos:",u),s.jsx(GLe,{value:b.banco_id,onChange:F=>_({...b,banco_id:F}),placeholder:u?"Carregando bancos...":"Selecione um banco",options:Array.isArray(l)?l.filter(F=>F.user_id===(e==null?void 0:e.id)).map(F=>({value:F.id,label:F.nome_curto})):[]}),j.banco_id&&s.jsx("p",{className:"text-sm text-red-500",children:j.banco_id}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Total de bancos: ",Array.isArray(l)?l.filter(F=>F.user_id===(e==null?void 0:e.id)).length:0," ",u&&"(carregando...)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"agencia",children:"Agncia"}),s.jsx(de,{id:"agencia",value:b.agencia,onChange:F=>_({...b,agencia:F.target.value}),placeholder:"Ex: 1234"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"numero",children:"Nmero da Conta"}),s.jsx(de,{id:"numero",value:b.numero,onChange:F=>_({...b,numero:F.target.value}),placeholder:"Ex: 56789-0"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"tipo",children:"Tipo de Conta"}),s.jsx(UD,{value:b.tipo||"",onChange:F=>_({...b,tipo:F}),placeholder:"Selecione o tipo",options:qLe.map(F=>({value:F,label:F}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"moeda",children:"Moeda"}),s.jsx(UD,{value:b.moeda,onChange:F=>_({...b,moeda:F}),placeholder:"Selecione a moeda",options:WLe.map(F=>({value:F,label:F}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"saldo_inicial",children:"Saldo Inicial"}),s.jsx(de,{id:"saldo_inicial",type:"number",step:"0.01",min:"0",value:b.saldo_inicial,onChange:F=>_({...b,saldo_inicial:parseFloat(F.target.value)||0}),placeholder:"0,00"})]}),s.jsx(H,{type:"submit",className:"w-full",children:p?"Salvar Alteraes":"Criar Conta"})]})]})]})]})}),s.jsx("div",{className:"p-0",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Conta"}),s.jsx(_e,{children:"Banco"}),s.jsx(_e,{children:"Agncia"}),s.jsx(_e,{children:"Nmero"}),s.jsx(_e,{children:"Tipo"}),s.jsx(_e,{children:"Moeda"}),s.jsx(_e,{children:"Saldo Inicial"}),s.jsx(_e,{className:"text-right",children:"Aes"})]})}),s.jsxs(gs,{children:[r.map(F=>{const X=k(F.banco_id);return s.jsxs(mr,{children:[s.jsx(be,{className:"font-medium",children:F.nome}),s.jsx(be,{children:X&&s.jsxs("div",{className:"flex items-center gap-2",children:[X.logo_url?s.jsx("img",{src:X.logo_url,alt:X.nome_curto,className:"w-5 h-5 rounded-sm object-contain",referrerPolicy:"no-referrer",onError:ce=>{ce.currentTarget.src="/placeholder.svg"}}):s.jsx("div",{className:"w-5 h-5 rounded-sm flex items-center justify-center",style:{backgroundColor:X.cor_primaria},children:s.jsx(wd,{className:"w-3 h-3 text-white/90"})}),s.jsx("span",{children:X.nome_curto})]})}),s.jsx(be,{children:F.agencia||""}),s.jsx(be,{children:F.numero||""}),s.jsx(be,{children:s.jsx(ft,{variant:"outline",children:F.tipo||"No definido"})}),s.jsx(be,{children:F.moeda||"BRL"}),s.jsx(be,{className:"font-medium",children:T(F.saldo_inicial||0)}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(H,{onClick:()=>D(F),variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(By,{className:"w-4 h-4"}),"Editar"]}),s.jsxs(v0,{children:[s.jsx(KS,{asChild:!0,children:s.jsx(H,{variant:"destructive",size:"sm",className:"gap-2",children:s.jsx(Da,{className:"w-4 h-4"})})}),s.jsxs(Vp,{className:"rounded-xl",children:[s.jsxs(qp,{children:[s.jsx(Hp,{children:"Confirmar excluso"}),s.jsxs(Gp,{children:['Tem certeza que deseja remover a conta "',F.nome,'"? Esta ao no pode ser desfeita.']})]}),s.jsxs(Wp,{children:[s.jsx(Yp,{className:"rounded-xl",children:"Cancelar"}),s.jsx(Kp,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>B(F.id),children:"Remover"})]})]})]})]})})]},F.id)}),r.length===0&&s.jsx(mr,{children:s.jsxs(be,{colSpan:8,className:"text-center text-gray-500 py-8",children:["Nenhuma conta bancria encontrada.",s.jsx("br",{}),s.jsx("span",{className:"text-sm",children:'Clique em "Nova Conta" para comear.'})]})})]})]})})]}),s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsx(H,{onClick:async()=>{console.log(" DEBUG: Testando banco simples...");try{const F={nome_curto:"Banco Teste Simples",nome:"Banco Teste Simples S.A.",codigo:"555",cor_primaria:"#FF5733",ativo:!0};console.log("Inserindo:",F);const{data:X,error:ce}=await Z.from("bancos").insert([F]).select().single();console.log("Resultado:",{data:X,error:ce}),ce?At.toast.error(`Erro: ${ce.message}`):(At.toast.success("Banco teste inserido!"),A())}catch(F){console.error("Erro:",F),At.toast.error("Erro no teste")}},className:"bg-red-500 text-white text-xs px-2 py-1 h-8",children:" Test"})}),s.jsx(Ir,{open:m,onOpenChange:g,children:s.jsxs(Cr,{children:[s.jsx(Er,{children:s.jsx(Or,{children:"Adicionar Novo Banco"})}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"nome_curto",children:"Nome Curto *"}),s.jsx(de,{id:"nome_curto",value:S.nome_curto,onChange:F=>C({...S,nome_curto:F.target.value}),placeholder:"Ex: Banco do Brasil",className:E.nome_curto?"border-red-500":""}),E.nome_curto&&s.jsx("p",{className:"text-sm text-red-500",children:E.nome_curto})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"nome_completo",children:"Nome Completo *"}),s.jsx(de,{id:"nome_completo",value:S.nome_completo,onChange:F=>C({...S,nome_completo:F.target.value}),placeholder:"Ex: Banco do Brasil S.A.",className:E.nome_completo?"border-red-500":""}),E.nome_completo&&s.jsx("p",{className:"text-sm text-red-500",children:E.nome_completo})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"codigo",children:"Cdigo do Banco *"}),s.jsx(de,{id:"codigo",value:S.codigo,onChange:F=>C({...S,codigo:F.target.value}),placeholder:"Ex: 001",className:E.codigo?"border-red-500":""}),E.codigo&&s.jsx("p",{className:"text-sm text-red-500",children:E.codigo})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"cor_primaria",children:"Cor Primria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{id:"cor_primaria",type:"color",value:S.cor_primaria,onChange:F=>C({...S,cor_primaria:F.target.value}),className:"w-20 h-10"}),s.jsx(de,{value:S.cor_primaria,onChange:F=>C({...S,cor_primaria:F.target.value}),placeholder:"#1e40af",className:"flex-1"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancelar"}),s.jsx(H,{type:"submit",className:"flex-1",children:"Adicionar Banco"})]})]})]})})]})}const JW=hs({tipo:Ts(["RECEITA","DESPESA","APORTE"]),categoria:ze().min(1),valor:sn().nonnegative(),data_vencimento:ze().min(1),descricao:ze().min(2),agendamento_id:ze().optional().nullable().or(Up("")),data_liquidacao:ze().optional().nullable(),conta_id:ze().optional().nullable().or(Up(""))});function xw(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=x.useMemo(()=>{const m=r.filter(w=>w.tipo==="RECEITA"&&w.data_liquidacao),g=r.filter(w=>w.tipo==="DESPESA"&&w.data_liquidacao),p=m.reduce((w,y)=>w+(Number(y.valor)||0),0),v=g.reduce((w,y)=>w+(Number(y.valor)||0),0);return{totalReceitas:p,totalDespesas:v,saldo:p-v}},[r]),u=async()=>{try{if(!e)return;o(!0);const m=Ht?Gt:Z,{data:g,error:p}=await m.from("financeiro_tattoo").select("*").eq("user_id",e.id).order("data_vencimento",{ascending:!1});if(p)throw p;n(g||[]),l(null)}catch(m){console.error("Erro ao carregar financeiro_tattoo:",m),l((m==null?void 0:m.message)||"Erro desconhecido"),t({title:"Erro ao carregar dados",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},f=async m=>{try{if(!e)throw new Error("Usurio no autenticado");const g=JW.parse(m),p={user_id:e.id,tipo:g.tipo,categoria:g.categoria,valor:g.valor,data_vencimento:g.data_vencimento,descricao:g.descricao,agendamento_id:g.agendamento_id||null,data_liquidacao:g.data_liquidacao??null,conta_id:g.conta_id||null},v=Ht?Gt:Z,{data:w,error:y}=await v.from("financeiro_tattoo").insert(p).select("*");if(y)throw y;n(b=>w?[w[0],...b]:b),t({title:"Registro criado",description:"Fluxo de caixa geral salvo com sucesso."})}catch(g){throw console.error("Erro ao inserir em financeiro_tattoo:",g),t({title:"Erro ao criar registro",description:g.message||"Verifique os dados.",variant:"destructive"}),g}},d=async(m,g)=>{try{if(!e)throw new Error("Usurio no autenticado");const p={...g};p.valor!==void 0&&(p.valor=Number(p.valor));const v=Ht?Gt:Z,{data:w,error:y}=await v.from("financeiro_tattoo").update(p).select("*").eq("id",m).eq("user_id",e.id);if(y)throw y;if(w&&w.length){const b=w[0];n(_=>_.map(j=>j.id===b.id?b:j))}else await u();t({title:"Registro atualizado",description:"Alteraes salvas com sucesso."})}catch(p){throw console.error("Erro ao atualizar financeiro_tattoo:",p),t({title:"Erro ao atualizar",description:p.message||"Tente novamente.",variant:"destructive"}),p}},h=async m=>{try{if(!e)throw new Error("Usurio no autenticado");const g=Ht?Gt:Z,{error:p}=await g.from("financeiro_tattoo").delete().eq("id",m).eq("user_id",e.id);if(p)throw p;n(v=>v.filter(w=>w.id!==m)),t({title:"Registro removido",description:"Fluxo de caixa geral excludo."})}catch(g){throw console.error("Erro ao remover financeiro_tattoo:",g),t({title:"Erro ao remover",description:g.message||"Tente novamente.",variant:"destructive"}),g}};return x.useEffect(()=>{if(u(),!e)return;const m=Ht?Gt:Z,g=m.channel("realtime-financeiro_tattoo").on("postgres_changes",{event:"INSERT",schema:"public",table:"financeiro_tattoo",filter:`user_id=eq.${e.id}`},p=>{n(v=>[p.new,...v])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"financeiro_tattoo",filter:`user_id=eq.${e.id}`},p=>{n(v=>v.map(w=>w.id===p.new.id?p.new:w))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"financeiro_tattoo",filter:`user_id=eq.${e.id}`},p=>{n(v=>v.filter(w=>w.id!==p.old.id))}).subscribe();return()=>{m.removeChannel(g)}},[e==null?void 0:e.id]),{items:r,stats:c,loading:a,error:i,fetchAll:u,insert:f,update:d,remove:h}}const l_=["Pagamento de Cliente","Adiantamento","Projeto Concludo","Consultoria","Manuteno","Outros"],c_=["Fornecedor","Salrio","Infraestrutura","Marketing","Equipamento","Outros"],YLe=()=>{x.useEffect(()=>{document.title="Financeiro Tattoo - Noxus"},[]);const{user:e}=dn(),{items:t}=mh(),{items:r}=xw(),[n,a]=x.useState([]),[o,i]=x.useState([]),[l,c]=x.useState(!1),[u,f]=x.useState(!1),[d,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState(null),[w,y]=x.useState(""),[b,_]=x.useState(new Date().toISOString().split("T")[0]),[j,N]=x.useState("TODOS"),[S,C]=x.useState("TODOS"),[E,P]=x.useState("TODOS"),[A,M]=x.useState("TODAS"),[O,R]=x.useState({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:"",descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),L=O.conta_id||"",D=yw(L,t,r),B=QW(Number(D.saldoAtual||0),O.tipo,Number(parseFloat(O.valor||"0")||0)),k=$=>{if($==="")return"";const V=Number($);return isFinite(V)?V.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},T=$=>{const V=String($.target.value).replace(/\D/g,"");if(!V){R({...O,valor:""});return}const se=(parseInt(V,10)/100).toFixed(2);R({...O,valor:se})};x.useEffect(()=>{e&&(q(),Q())},[e]);const q=async()=>{const{data:$,error:V}=await Z.from("transacoes").select(`
        *,
        agendamentos (
          titulo
        )
      `).order("data_vencimento",{ascending:!1});if(V)At.toast.error("Erro ao carregar transaes"),console.error(V);else{a(($==null?void 0:$.map(oe=>({...oe,tipo:oe.tipo})))||[]);try{const oe=Ht?Gt:Z,se=($||[]).filter(le=>!!le.data_liquidacao&&!!le.conta_id);for(const le of se){const K={user_id:le.user_id,descricao:le.descricao,valor:le.valor,categoria:le.categoria,data_vencimento:le.data_vencimento,conta_id:le.conta_id,data_liquidacao:le.data_liquidacao},{data:ue}=await oe.from("financeiro_tattoo").select("id").match(K).limit(1);(!ue||!ue.length)&&await oe.from("financeiro_tattoo").insert({user_id:le.user_id,tipo:le.tipo,categoria:le.categoria,valor:Number(le.valor||0),data_vencimento:le.data_vencimento,descricao:le.descricao,agendamento_id:le.agendamento_id||null,data_liquidacao:le.data_liquidacao,conta_id:le.conta_id})}}catch{}}},Q=async()=>{const{data:$,error:V}=await Z.from("agendamentos").select("id, titulo, data").order("data",{ascending:!1});V?console.error(V):i($||[])},F=async $=>{try{const{data:V,error:oe}=await Z.from("transacoes").select("*").eq("id",$).single();if(oe||!V||!V.data_liquidacao||!V.conta_id)return;const se=Ht?Gt:Z,le={user_id:V.user_id,descricao:V.descricao,valor:V.valor,categoria:V.categoria,data_vencimento:V.data_vencimento,conta_id:V.conta_id,data_liquidacao:V.data_liquidacao},{data:K,error:ue}=await se.from("financeiro_tattoo").select("id").match(le).limit(1);if(ue||K&&K.length)return;const Ie={user_id:V.user_id,tipo:V.tipo,categoria:V.categoria,valor:Number(V.valor||0),data_vencimento:V.data_vencimento,descricao:V.descricao,agendamento_id:V.agendamento_id||null,data_liquidacao:V.data_liquidacao,conta_id:V.conta_id};await se.from("financeiro_tattoo").insert(Ie)}catch{}},X=async $=>{if($.preventDefault(),!e){At.toast.error("Voc precisa estar logado");return}if(u&&d){const V={tipo:O.tipo,categoria:O.categoria,valor:parseFloat(O.valor),data_vencimento:O.data_vencimento,descricao:O.descricao,agendamento_id:O.agendamento_id||null,conta_id:O.conta_id||null},{error:oe}=await Z.from("transacoes").update(V).eq("id",d);if(oe){const se=String(oe.message||"");if(se.includes("conta_id")||se.includes("schema cache")){const K={...V};delete K.conta_id;const{error:ue}=await Z.from("transacoes").update(K).eq("id",d);ue?(At.toast.error("Erro ao atualizar transao"),console.error(ue)):(At.toast.warning("Transao atualizada sem vincular conta. Aplique a migration de conta_id."),c(!1),f(!1),h(null),q(),await F(d))}else At.toast.error("Erro ao atualizar transao"),console.error(oe)}else At.toast.success("Transao atualizada com sucesso!"),c(!1),f(!1),h(null),q(),await F(d)}else{const V=new Date().toISOString().split("T")[0];if(O.tipo==="APORTE"){if(!O.conta_id||!O.conta_destino_id){At.toast.error("Selecione a conta de origem e a conta destino");return}if(O.conta_id===O.conta_destino_id){At.toast.error("Conta origem e destino devem ser diferentes");return}const oe=parseFloat(O.valor),se={user_id:e.id,tipo:"DESPESA",categoria:"Aporte",valor:oe,data_vencimento:O.data_vencimento,descricao:O.descricao||"Aporte para outra conta",agendamento_id:O.agendamento_id||null,data_liquidacao:O.liquidarFuturo?null:V,conta_id:O.conta_id||null},le={user_id:e.id,tipo:"RECEITA",categoria:"Aporte",valor:oe,data_vencimento:O.data_vencimento,descricao:O.descricao||"Aporte recebido de outra conta",agendamento_id:O.agendamento_id||null,data_liquidacao:O.liquidarFuturo?null:V,conta_id:O.conta_destino_id||null};let K=null;const{data:ue,error:Ie}=await Z.from("transacoes").insert(se).select("id").single();if(!Ie)K=ue;else{const dr=String(Ie.message||"");if(!(dr.includes("conta_id")||dr.includes("schema cache"))){At.toast.error("Erro ao criar parte de origem do aporte"),console.error(Ie);return}const xe={...se};delete xe.conta_id;const{data:Me,error:et}=await Z.from("transacoes").insert(xe).select("id").single();if(et){At.toast.error("Erro ao criar parte de origem do aporte"),console.error(et);return}K=Me,At.toast.warning("Aporte origem criado sem conta_id. Aplique a migration.")}const{error:Qe}=await Z.from("transacoes").insert(le);if(Qe){const dr=String(Qe.message||"");if(!(dr.includes("conta_id")||dr.includes("schema cache"))){await Z.from("transacoes").delete().eq("id",K.id),At.toast.error("Erro ao criar parte de destino do aporte"),console.error(Qe);return}const xe={...le};delete xe.conta_id;const{error:Me}=await Z.from("transacoes").insert(xe);if(Me){await Z.from("transacoes").delete().eq("id",K.id),At.toast.error("Erro ao criar parte de destino do aporte"),console.error(Me);return}At.toast.warning("Aporte destino criado sem conta_id. Aplique a migration.")}At.toast.success("Aporte criado com sucesso!")}else{const oe={user_id:e.id,tipo:O.tipo,categoria:O.categoria,valor:parseFloat(O.valor),data_vencimento:O.data_vencimento,descricao:O.descricao,agendamento_id:O.agendamento_id||null,data_liquidacao:O.liquidarFuturo?null:V,conta_id:O.conta_id||null},{error:se}=await Z.from("transacoes").insert(oe);if(se){const le=String(se.message||"");if(le.includes("conta_id")||le.includes("schema cache")){const ue={...oe};delete ue.conta_id;const{error:Ie}=await Z.from("transacoes").insert(ue);if(Ie){At.toast.error("Erro ao criar transao"),console.error(Ie);return}At.toast.warning("Transao criada sem conta_id. Aplique a migration.")}else{At.toast.error("Erro ao criar transao"),console.error(se);return}}At.toast.success("Transao criada com sucesso!")}R({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:"",descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),c(!1),q()}},ce=$=>{v($.id),y(String($.conta_id||"")),_(new Date().toISOString().split("T")[0]),g(!0)},pe=async()=>{if(!p)return;if(!w){At.toast.error("Selecione um banco/conta para a baixa");return}const $=n.find(le=>le.id===p),V=$?{user_id:e==null?void 0:e.id,tipo:$.tipo==="DESPESA"?"DESPESA":"RECEITA",categoria:$.categoria,valor:Number($.valor||0),data_vencimento:$.data_vencimento,descricao:$.descricao,agendamento_id:$.agendamento_id||null,data_liquidacao:b,conta_id:w}:null,oe={data_liquidacao:b,conta_id:w},{error:se}=await Z.from("transacoes").update(oe).eq("id",p);if(se){const le=String(se.message||"");if(le.includes("conta_id")||le.includes("schema cache")){const{error:ue}=await Z.from("transacoes").update({data_liquidacao:b}).eq("id",p);if(ue){At.toast.error("Erro ao liquidar transao"),console.error(ue);return}if(At.toast.warning("Baixa feita sem vincular conta na tabela transacoes. Aplique a migration de conta_id."),V){const Ie=Ht?Gt:Z,{error:Qe}=await Ie.from("financeiro_tattoo").insert(V);Qe&&console.error(Qe)}g(!1),v(null),q();return}else At.toast.error("Erro ao liquidar transao"),console.error(se)}else{if(At.toast.success("Transao liquidada!"),V){const le=Ht?Gt:Z,{error:K}=await le.from("financeiro_tattoo").insert(V);K&&console.error(K)}g(!1),v(null),q()}},ge=async $=>{const{error:V}=await Z.from("transacoes").delete().eq("id",$);V?(At.toast.error("Erro ao deletar transao"),console.error(V)):(At.toast.success("Transao deletada!"),q())},he=()=>{f(!1),h(null),R({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:"",descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),c(!0)},qe=$=>{f(!0),h($.id),R({tipo:$.tipo,categoria:$.categoria,valor:String(Number($.valor).toFixed(2)),data_vencimento:$.data_vencimento,descricao:$.descricao,agendamento_id:$.agendamento_id||"",liquidarFuturo:!0,conta_id:$.conta_id||"",conta_destino_id:""}),c(!0)},ie=n.filter($=>!(j!=="TODOS"&&$.tipo!==j||S!=="TODOS"&&$.categoria!==S||E==="LIQUIDADAS"&&!$.data_liquidacao||E==="PENDENTES"&&$.data_liquidacao||A!=="TODAS"&&($.conta_id??"")!==A)),ye=ie.filter($=>$.tipo==="RECEITA"&&$.data_liquidacao).reduce(($,V)=>$+Number(V.valor),0),ve=ie.filter($=>$.tipo==="DESPESA"&&$.data_liquidacao).reduce(($,V)=>$+Number(V.valor),0),ne=ie.filter($=>$.tipo==="RECEITA"&&!$.data_liquidacao).reduce(($,V)=>$+Number(V.valor),0),gt=ie.filter($=>$.tipo==="DESPESA"&&!$.data_liquidacao).reduce(($,V)=>$+Number(V.valor),0),at=ye-ve,je=ie.reduce(($,V)=>{const oe=V.data_vencimento;return $[oe]||($[oe]=[]),$[oe].push(V),$},{});Object.keys(je).sort(($,V)=>new Date($).getTime()-new Date(V).getTime());const yt=$=>{f(!1),h(null),R({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:$,descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),c(!0)},Ut=j!=="TODOS"||S!=="TODOS"||E!=="TODOS"||A!=="TODAS",gr=O.tipo==="RECEITA"?l_:c_;Array.from(new Set([...l_,...c_]));const U=[...l_.map($=>({key:`receita-${$}`,value:$,label:$})),...c_.map($=>({key:`despesa-${$}`,value:$,label:$}))].filter(($,V,oe)=>oe.findIndex(se=>se.value===$.value)===V);return s.jsxs("div",{className:"space-y-6 pb-20",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Financeiro Tattoo"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gesto completa de receitas e despesas"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-success/10 to-success/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-success/20",children:s.jsx(Pn,{className:"w-5 h-5 text-success"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receitas"})]}),s.jsxs("p",{className:"text-2xl font-semibold",children:["R$ ",ye.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Pendente: R$ ",ne.toFixed(2)]})]}),s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-destructive/10 to-destructive/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-destructive/20",children:s.jsx(Vm,{className:"w-5 h-5 text-destructive"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Despesas"})]}),s.jsxs("p",{className:"text-2xl font-semibold",children:["R$ ",ve.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Pendente: R$ ",gt.toFixed(2)]})]}),s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/20",children:s.jsx(ra,{className:"w-5 h-5 text-primary"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo"})]}),s.jsxs("p",{className:`text-2xl font-semibold ${at>=0?"text-success":"text-destructive"}`,children:["R$ ",at.toFixed(2)]})]}),s.jsxs(te,{className:"p-6 rounded-xl bg-gradient-to-br from-accent/10 to-accent/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-xl bg-accent/20",children:s.jsx(_r,{className:"w-5 h-5 text-accent"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"A Vencer"})]}),s.jsx("p",{className:"text-2xl font-semibold",children:ie.filter($=>!$.data_liquidacao).length})]})]}),s.jsxs(Fa,{defaultValue:"tabela",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs(wa,{className:"inline-flex w-auto rounded-2xl bg-gradient-to-r from-muted/30 to-muted/10 p-1.5 backdrop-blur-sm border border-border/20 shadow-lg",children:[s.jsx(St,{value:"tabela",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Tabela"}),s.jsx(St,{value:"agenda",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Calendrio"}),s.jsx(St,{value:"lista",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Lista"}),s.jsx(St,{value:"bancos",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Bancos"})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsx(H,{variant:"outline",className:"rounded-lg h-9",children:"Filtros"})}),s.jsxs(ks,{className:"w-[520px] rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eE,{className:"w-4 h-4"}),s.jsx("h3",{className:"font-semibold",children:"Filtros"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{variant:"secondary",className:"rounded-full",children:[ie.length," resultados"]}),s.jsx(H,{variant:"ghost",className:"rounded-xl",disabled:!Ut,onClick:()=>{N("TODOS"),C("TODOS"),P("TODOS"),M("TODAS")},children:"Limpar"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Tipo"}),s.jsxs(ot,{value:j,onValueChange:$=>N($),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODOS",children:"Todos"}),s.jsx(J,{value:"RECEITA",children:"Receitas"}),s.jsx(J,{value:"DESPESA",children:"Despesas"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Categoria"}),s.jsxs(ot,{value:S,onValueChange:C,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODOS",children:"Todas"}),U.map($=>s.jsx(J,{value:$.value,children:$.label},$.key))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:E,onValueChange:$=>P($),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODOS",children:"Todos"}),s.jsx(J,{value:"LIQUIDADAS",children:"Liquidadas"}),s.jsx(J,{value:"PENDENTES",children:"Pendentes"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Conta"}),s.jsxs(ot,{value:A,onValueChange:M,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODAS",children:"Todas"}),t.map($=>{var se;const V=((se=$.banco_detalhes)==null?void 0:se.nome_curto)||$.banco||"",oe=V?`${V}  ${$.nome}`:`${$.nome}`;return s.jsx(J,{value:String($.id),children:oe},$.id)})]})]})]})]}),Ut&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Filtros ativos:"}),j!=="TODOS"&&s.jsx(ft,{variant:"secondary",className:"rounded-full text-xs",children:j}),S!=="TODOS"&&s.jsx(ft,{variant:"secondary",className:"rounded-full text-xs",children:S}),E!=="TODOS"&&s.jsx(ft,{variant:"secondary",className:"rounded-full text-xs",children:E}),A!=="TODAS"&&s.jsx(ft,{variant:"secondary",className:"rounded-full text-xs",children:(()=>{var oe;const $=t.find(se=>String(se.id)===A);if(!$)return"Conta";const V=((oe=$.banco_detalhes)==null?void 0:oe.nome_curto)||$.banco||"";return V?`${V}  ${$.nome}`:`${$.nome}`})()})]})]})]}),s.jsxs(Ir,{open:l,onOpenChange:c,children:[s.jsx(_o,{asChild:!0,children:s.jsxs(H,{className:"rounded-lg gap-2 h-9 px-3",onClick:he,children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Nova Transao"})]})}),s.jsxs(Cr,{className:"rounded-xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Er,{children:s.jsx(Or,{children:u?"Editar Transao":"Nova Transao"})}),s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"tipo",children:"Tipo"}),s.jsxs(ot,{value:O.tipo,onValueChange:$=>R({...O,tipo:$,categoria:$==="APORTE"?"Aporte":""}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"RECEITA",children:"Receita"}),s.jsx(J,{value:"DESPESA",children:"Despesa"}),s.jsx(J,{value:"APORTE",children:"Aporte"})]})]})]}),O.tipo!=="APORTE"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"categoria",children:"Categoria"}),s.jsxs(ot,{value:O.categoria,onValueChange:$=>R({...O,categoria:$}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione uma categoria"})}),s.jsx(nt,{children:gr.map($=>s.jsx(J,{value:$,children:$},$))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"conta",children:"Conta"}),s.jsxs(ot,{value:O.conta_id,onValueChange:$=>R({...O,conta_id:$==="none"?"":$}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione uma conta"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhuma conta"}),t.map($=>{var se;const V=((se=$.banco_detalhes)==null?void 0:se.nome_curto)||$.banco||"",oe=V?`${V}  ${$.nome}`:`${$.nome}`;return s.jsx(J,{value:String($.id),children:oe},$.id)})]})]})]}),O.tipo==="APORTE"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"conta_destino",children:"Conta destino"}),s.jsxs(ot,{value:O.conta_destino_id,onValueChange:$=>R({...O,conta_destino_id:$==="none"?"":$}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione a conta destino"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhuma conta"}),t.map($=>{var se;const V=((se=$.banco_detalhes)==null?void 0:se.nome_curto)||$.banco||"",oe=V?`${V}  ${$.nome}`:`${$.nome}`;return s.jsx(J,{value:String($.id),children:oe},$.id)})]})]})]}),O.conta_id&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Saldo inicial"}),s.jsxs("p",{className:"text-sm font-semibold",children:["R$ ",D.saldoInicial.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Saldo atual"}),s.jsxs("p",{className:`text-sm font-semibold ${D.saldoAtual>=0?"text-success":"text-destructive"}`,children:["R$ ",D.saldoAtual.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Saldo ps-transao"}),s.jsxs("p",{className:`text-sm font-semibold ${B>=0?"text-success":"text-destructive"}`,children:["R$ ",B.toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"agendamento",children:"Vincular a Agendamento (Opcional)"}),s.jsxs(ot,{value:O.agendamento_id,onValueChange:$=>R({...O,agendamento_id:$==="none"?"":$}),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Nenhum agendamento"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhum agendamento"}),o.map($=>s.jsxs(J,{value:$.id,children:[$.titulo," - ",new Date($.data).toLocaleDateString()]},$.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"valor",children:"Valor (R$)"}),s.jsx(de,{id:"valor",type:"text",inputMode:"numeric",className:"rounded-xl",value:k(O.valor),onChange:T,placeholder:"R$ 0,00",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_vencimento",children:"Data de Vencimento"}),s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),O.data_vencimento?Xt(hl(O.data_vencimento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:O.data_vencimento?hl(O.data_vencimento,"yyyy-MM-dd",new Date):void 0,onSelect:$=>{$&&R({...O,data_vencimento:Xt($,"yyyy-MM-dd")})},locale:Nr,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"descricao",children:"Descrio"}),s.jsx(Jn,{id:"descricao",className:"rounded-xl",value:O.descricao,onChange:$=>R({...O,descricao:$.target.value}),required:!0})]}),!u&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"liquidar_futuro",children:"Liquidar no futuro?"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lf,{id:"liquidar_futuro",checked:O.liquidarFuturo,onCheckedChange:$=>R({...O,liquidarFuturo:!!$})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Desative para liquidar imediatamente."})]})]}),s.jsx(H,{type:"submit",className:"w-full rounded-xl",children:u?"Salvar Alteraes":"Salvar Transao"})]})]})]})]}),s.jsx(Ct,{value:"lista",children:s.jsxs("div",{className:"grid gap-4",children:[ie.map($=>s.jsx(te,{className:"p-6 rounded-xl hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(ft,{className:`rounded-full ${$.tipo==="RECEITA"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:$.tipo}),s.jsx(ft,{variant:"outline",className:"rounded-full",children:$.categoria}),$.data_liquidacao&&s.jsx(ft,{className:"rounded-full bg-primary/10 text-primary",children:"Liquidada"}),$.agendamentos&&s.jsxs(ft,{variant:"secondary",className:"rounded-full",children:[" ",$.agendamentos.titulo]})]}),s.jsx("h3",{className:"font-semibold text-lg",children:$.descricao}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground flex-wrap",children:[s.jsxs("p",{children:["Valor: R$ ",Number($.valor).toFixed(2)]}),s.jsxs("p",{children:["Vencimento: ",new Date($.data_vencimento).toLocaleDateString()]}),$.data_liquidacao&&s.jsxs("p",{children:["Liquidao: ",new Date($.data_liquidacao).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[!$.data_liquidacao&&s.jsxs(H,{onClick:()=>ce($),className:"rounded-xl gap-2",size:"sm",children:[s.jsx(gP,{className:"w-4 h-4"}),"Liquidar"]}),s.jsxs(H,{onClick:()=>qe($),variant:"outline",className:"rounded-xl gap-2",size:"sm",children:[s.jsx(By,{className:"w-4 h-4"}),"Editar"]}),s.jsxs(v0,{children:[s.jsx(KS,{asChild:!0,children:s.jsx(H,{variant:"destructive",className:"rounded-xl gap-2",size:"sm",children:s.jsx(Da,{className:"w-4 h-4"})})}),s.jsxs(Vp,{className:"rounded-xl",children:[s.jsxs(qp,{children:[s.jsx(Hp,{children:"Confirmar excluso"}),s.jsx(Gp,{children:"Esta ao  irreversvel. Deseja excluir esta transao?"})]}),s.jsxs(Wp,{children:[s.jsx(Yp,{className:"rounded-xl",children:"Cancelar"}),s.jsx(Kp,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>ge($.id),children:"Excluir"})]})]})]})]})]})},$.id)),ie.length===0&&s.jsx(te,{className:"p-12 rounded-xl",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{children:"Nenhuma transao encontrada."}),s.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Transao" para comear.'})]})})]})}),s.jsx(Ct,{value:"tabela",children:s.jsx(te,{className:"rounded-2xl",children:s.jsx("div",{className:"p-0",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Descrio"}),s.jsx(_e,{children:"Tipo"}),s.jsx(_e,{children:"Categoria"}),s.jsx(_e,{children:"Valor"}),s.jsx(_e,{children:"Vencimento"}),s.jsx(_e,{children:"Liquidao"}),s.jsx(_e,{children:"Agendamento"}),s.jsx(_e,{className:"text-right",children:"Aes"})]})}),s.jsxs(gs,{children:[ie.map($=>{var V;return s.jsxs(mr,{children:[s.jsx(be,{className:"font-medium",children:$.descricao}),s.jsx(be,{children:s.jsx(ft,{className:`rounded-full ${$.tipo==="RECEITA"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:$.tipo})}),s.jsx(be,{children:$.categoria}),s.jsxs(be,{children:["R$ ",Number($.valor).toFixed(2)]}),s.jsx(be,{children:new Date($.data_vencimento).toLocaleDateString()}),s.jsx(be,{children:$.data_liquidacao?new Date($.data_liquidacao).toLocaleDateString():""}),s.jsx(be,{children:((V=$.agendamentos)==null?void 0:V.titulo)||""}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[!$.data_liquidacao&&s.jsxs(H,{onClick:()=>ce($),className:"rounded-xl gap-2",size:"sm",children:[s.jsx(gP,{className:"w-4 h-4"}),"Liquidar"]}),s.jsxs(H,{onClick:()=>qe($),variant:"outline",className:"rounded-xl gap-2",size:"sm",children:[s.jsx(By,{className:"w-4 h-4"}),"Editar"]}),s.jsxs(v0,{children:[s.jsx(KS,{asChild:!0,children:s.jsx(H,{variant:"destructive",className:"rounded-xl gap-2",size:"sm",children:s.jsx(Da,{className:"w-4 h-4"})})}),s.jsxs(Vp,{className:"rounded-xl",children:[s.jsxs(qp,{children:[s.jsx(Hp,{children:"Confirmar excluso"}),s.jsx(Gp,{children:"Esta ao  irreversvel. Deseja excluir esta transao?"})]}),s.jsxs(Wp,{children:[s.jsx(Yp,{className:"rounded-xl",children:"Cancelar"}),s.jsx(Kp,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>ge($.id),children:"Excluir"})]})]})]})]})})]},$.id)}),ie.length===0&&s.jsx(mr,{children:s.jsx(be,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Nenhuma transao encontrada."})})]})]})})})}),s.jsx(Ct,{value:"agenda",className:"space-y-6",children:s.jsx(HLe,{transacoes:ie,onTransacaoClick:qe,onDateClick:yt})}),s.jsx(Ct,{value:"bancos",className:"space-y-6",children:s.jsx(ZW,{})}),m&&s.jsx(Ir,{open:m,onOpenChange:g,children:s.jsxs(Cr,{className:"rounded-xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Baixar Transao"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Banco/Conta"}),s.jsxs(ot,{value:w,onValueChange:y,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Selecione uma conta"})}),s.jsx(nt,{children:t.map($=>s.jsx(J,{value:String($.id),children:$.nome},$.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Data de Liquidao"}),s.jsxs(mo,{children:[s.jsx(po,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[s.jsx(_r,{className:"mr-2 h-4 w-4"}),b?Xt(hl(b,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Nr}):"dd/mm/aaaa"]})}),s.jsx(ks,{className:"w-auto p-0",align:"start",children:s.jsx(Ll,{mode:"single",selected:b?hl(b,"yyyy-MM-dd",new Date):void 0,onSelect:$=>{$&&_(Xt($,"yyyy-MM-dd"))},locale:Nr,initialFocus:!0})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{className:"rounded-xl",onClick:pe,children:"Confirmar Baixa"}),s.jsx(H,{variant:"outline",className:"rounded-xl",onClick:()=>g(!1),children:"Cancelar"})]})]})]})})]})]})};function XLe(){const e=Bs();return s.jsx("div",{className:"space-y-6",children:s.jsxs(te,{className:"rounded-3xl border border-border/40 bg-gradient-to-br from-primary/5 to-accent/5",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:s.jsx(B0,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:"Nexus"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"rea inicial personalizada para o estdio"})]})]})}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-muted-foreground",children:"Centralize aqui seus atalhos, mtricas favoritas e informaes rpidas."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs(H,{variant:"outline",className:"justify-start gap-2",onClick:()=>e("/noxus"),children:[s.jsx(aX,{className:"w-4 h-4"}),"Tattoo"]}),s.jsxs(H,{variant:"outline",className:"justify-start gap-2",onClick:()=>e("/carteira"),children:[s.jsx(aE,{className:"w-4 h-4"}),"Carteira"]}),s.jsxs(H,{variant:"outline",className:"justify-start gap-2",onClick:()=>e("/conhecimento"),children:[s.jsx(Iy,{className:"w-4 h-4"}),"Conhecimento"]}),s.jsxs(H,{variant:"outline",className:"justify-start gap-2",onClick:()=>e("/curso-mvp"),children:[s.jsx(HY,{className:"w-4 h-4"}),"curso MVP"]})]})]})})]})})}const Uv=["Recebimento de Cliente","Depsito","Transferncia (Entrada)","Rendimento","Ajuste de Saldo","Outros"],VD=["Taxas Bancrias","Pagamento de Boleto","Transferncia (Sada)","Saque","Ajuste de Saldo","Outros"];function QLe(){const{items:e,insert:t,update:r,remove:n}=xw(),{toast:a}=en(),[o,i]=x.useState(!1),[l,c]=x.useState(null),{items:u}=mh(),[f,d]=x.useState("TODOS"),[h,m]=x.useState("TODAS"),[g,p]=x.useState("TODAS"),[v,w]=x.useState(""),[y,b]=x.useState(""),_=()=>{try{const O=j.watch("conta_id")||"",R=j.watch("tipo")==="RECEITA"?"receita":"despesa",L=Number(j.watch("valor")||0)||0,D=yw(O,Array.isArray(u)?u:[],Array.isArray(e)?e:[]),B=QW(Number(D.saldoAtual||0),R,L,!0);return{saldoInicial:Number(D.saldoInicial||0),saldoAtual:Number(D.saldoAtual||0),saldoPos:Number(B||0)}}catch(O){return console.error("Erro ao calcular preview de saldo na Carteira:",O),{saldoInicial:0,saldoAtual:0,saldoPos:0}}};x.useEffect(()=>{const O=()=>S();return window.addEventListener("openAddTransaction",O),()=>window.removeEventListener("openAddTransaction",O)},[]);const j=Pi({resolver:ki(JW),defaultValues:{tipo:"RECEITA",categoria:Uv[0],valor:0,data_vencimento:new Date().toISOString().slice(0,10),descricao:"",data_liquidacao:null,conta_id:"",conta_destino_id:""}});x.useEffect(()=>(j.register("conta_id"),j.register("conta_destino_id"),()=>{}),[]),x.useEffect(()=>{if(j.watch("tipo")==="APORTE"){const O=j.watch("conta_id")||"",R=j.watch("conta_destino_id")||"";if(O&&(!R||R===O)){const L=(Array.isArray(u)?u:[]).find(D=>String(D.id)!==String(O));L&&j.setValue("conta_destino_id",String(L.id))}}},[j.watch("tipo"),j.watch("conta_id"),j.watch("conta_destino_id"),u]);const N=j.watch("tipo");x.useEffect(()=>{N==="APORTE"&&j.setValue("categoria","Aporte")},[N]);const S=()=>{c(null),j.reset({tipo:"RECEITA",categoria:Uv[0],valor:0,data_vencimento:new Date().toISOString().slice(0,10),descricao:"",data_liquidacao:null,conta_id:"",conta_destino_id:""}),i(!0)},C=O=>{c(O),j.reset({tipo:O.tipo,categoria:O.categoria,valor:Number(O.valor)||0,data_vencimento:O.data_vencimento,descricao:O.descricao||"",data_liquidacao:O.data_liquidacao||null,conta_id:O.conta_id||""}),i(!0)},E=async O=>{try{if(O.tipo==="APORTE"){const{conta_id:R,conta_destino_id:L}=j.getValues(),D=String(R||"").trim(),B=String(L||"").trim();if(!D||!B||D==="none"||B==="none"){a({title:"Selecione origem e destino",description:"Informe a conta de origem e a conta destino.",variant:"destructive"});return}if(D===B){a({title:"Contas iguais",description:"Origem e destino devem ser diferentes.",variant:"destructive"});return}const k=Number(O.valor)||0,T={tipo:"DESPESA",categoria:"Aporte",valor:k,data_vencimento:O.data_vencimento,descricao:O.descricao||"Aporte para outra conta",data_liquidacao:O.data_liquidacao??null,conta_id:D},q={tipo:"RECEITA",categoria:"Aporte",valor:k,data_vencimento:O.data_vencimento,descricao:O.descricao||"Aporte recebido de outra conta",data_liquidacao:O.data_liquidacao??null,conta_id:B};await t(T),await t(q),a({title:"Aporte criado",description:"Transferncia registrada nas duas contas."})}else{const R={tipo:O.tipo,categoria:O.categoria,valor:Number(O.valor),data_vencimento:O.data_vencimento,descricao:O.descricao,data_liquidacao:O.data_liquidacao??null,conta_id:O.conta_id||void 0};l!=null&&l.id?(await r(l.id,R),a({title:"Atualizado",description:"Registro alterado com sucesso."})):(await t(R),a({title:"Criado",description:"Registro adicionado com sucesso."}))}i(!1)}catch{}},P=O=>{const R=(O||"").slice(0,10);return!(v&&R<v||y&&R>y)},A=e.filter(O=>!(f!=="TODOS"&&O.tipo!==f||h!=="TODAS"&&O.categoria!==h||g!=="TODAS"&&String(O.conta_id||"")!==g||!P(O.data_vencimento))),M=(Array.isArray(u)?u:[]).filter(O=>Number((O==null?void 0:O.saldo_inicial)||0)>0).filter(O=>g==="TODAS"||String(O.id)===g).filter(()=>f==="TODOS"||f==="RECEITA").filter(()=>h==="TODAS"||h==="Saldo inicial").filter(O=>P(O.created_at));return s.jsx("div",{className:"space-y-6",children:s.jsxs(te,{className:"rounded-3xl border border-border/40",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-lg",children:"Fluxo de caixa geral"}),s.jsxs(Ir,{open:o,onOpenChange:i,children:[s.jsx(_o,{asChild:!0,children:s.jsx(H,{variant:"default",onClick:S,"aria-label":"Adicionar transao",children:"Adicionar"})}),s.jsxs(Cr,{className:"max-w-xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:l?"Editar transao":"Nova transao"})}),s.jsxs("form",{onSubmit:j.handleSubmit(E),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Tipo"}),s.jsxs(ot,{value:j.watch("tipo"),onValueChange:O=>j.setValue("tipo",O),children:[s.jsx(rt,{"aria-label":"Selecionar tipo",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"RECEITA",children:"Receita"}),s.jsx(J,{value:"DESPESA",children:"Despesa"}),s.jsx(J,{value:"APORTE",children:"Aporte"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"valor",children:"Valor"}),s.jsx(de,{id:"valor",type:"number",step:"0.01",...j.register("valor",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_vencimento",children:"Vencimento"}),s.jsx(de,{id:"data_vencimento",type:"date",...j.register("data_vencimento")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Banco origem"}),s.jsx(DS,{name:"conta_id",control:j.control,defaultValue:j.getValues("conta_id")||"",render:({field:O})=>s.jsxs(ot,{value:O.value||"none",onValueChange:R=>O.onChange(R==="none"?"":R),children:[s.jsx(rt,{"aria-label":"Selecionar conta",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhuma conta"}),(Array.isArray(u)?u:[]).filter(R=>!!R&&!!R.id&&String(R.id).trim().length>0).map(R=>{var B;const L=((B=R.banco_detalhes)==null?void 0:B.nome_curto)||R.banco||"",D=L?`${L}  ${R.nome}`:`${R.nome}`;return s.jsx(J,{value:String(R.id),children:D},String(R.id))})]})]})})]}),j.watch("conta_id")&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(()=>{const{saldoInicial:O,saldoAtual:R,saldoPos:L}=_();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Saldo inicial"}),s.jsxs("p",{className:"text-sm font-semibold",children:["R$ ",O.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Saldo atual"}),s.jsxs("p",{className:`text-sm font-semibold ${R>=0?"text-green-600":"text-red-600"}`,children:["R$ ",R.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Saldo ps-transao"}),s.jsxs("p",{className:`text-sm font-semibold ${L>=0?"text-green-600":"text-red-600"}`,children:["R$ ",L.toFixed(2)]})]})]})})()}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.watch("tipo")!=="APORTE"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Categoria"}),s.jsxs(ot,{value:j.watch("categoria"),onValueChange:O=>j.setValue("categoria",O),children:[s.jsx(rt,{"aria-label":"Selecionar categoria",children:s.jsx(it,{})}),s.jsx(nt,{children:(j.watch("tipo")==="RECEITA"?Uv:VD).map(O=>s.jsx(J,{value:O,children:O},O))})]})]}):null,s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"descricao",children:"Descrio"}),s.jsx(de,{id:"descricao",...j.register("descricao")})]})]}),j.watch("tipo")==="APORTE"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Banco destino"}),s.jsx(DS,{name:"conta_destino_id",control:j.control,defaultValue:j.getValues("conta_destino_id")||"",render:({field:O})=>s.jsxs(ot,{value:O.value||"none",onValueChange:R=>O.onChange(R==="none"?"":R),children:[s.jsx(rt,{"aria-label":"Selecionar conta destino",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhuma conta"}),(Array.isArray(u)?u:[]).filter(R=>!!R&&!!R.id&&String(R.id).trim().length>0).map(R=>{var B;const L=((B=R.banco_detalhes)==null?void 0:B.nome_curto)||R.banco||"",D=L?`${L}  ${R.nome}`:`${R.nome}`;return s.jsx(J,{value:String(R.id),children:D},String(R.id))})]})]})})]}),j.watch("conta_id")&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(re,{children:"Liquidar agora"}),s.jsx("input",{type:"checkbox",checked:!!j.watch("data_liquidacao"),onChange:O=>{const R=O.target.checked;j.setValue("data_liquidacao",R?new Date().toISOString().slice(0,10):null)}})]}),(()=>{const O=j.watch("tipo")==="APORTE",R=j.watch("conta_id")||"",L=j.watch("conta_destino_id")||"",D=O&&(!R||!L||String(R)===String(L));return s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),s.jsx(H,{type:"submit",disabled:D,children:"Salvar"})]})})()]})]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Tipo"}),s.jsxs(ot,{value:f,onValueChange:O=>d(O),children:[s.jsx(rt,{"aria-label":"Filtrar por tipo",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODOS",children:"Todos"}),s.jsx(J,{value:"RECEITA",children:"Receita"}),s.jsx(J,{value:"DESPESA",children:"Despesa"}),s.jsx(J,{value:"APORTE",children:"Aporte"})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Categoria"}),s.jsxs(ot,{value:h,onValueChange:m,children:[s.jsx(rt,{"aria-label":"Filtrar por categoria",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODAS",children:"Todas"}),[...Uv,...VD,"Saldo inicial"].filter((O,R,L)=>L.indexOf(O)===R).map(O=>s.jsx(J,{value:O,children:O},O))]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Banco"}),s.jsxs(ot,{value:g,onValueChange:p,children:[s.jsx(rt,{"aria-label":"Filtrar por banco",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODAS",children:"Todos"}),(Array.isArray(u)?u:[]).filter(O=>!!O&&!!O.id).map(O=>{var D;const R=((D=O.banco_detalhes)==null?void 0:D.nome_curto)||O.banco||"",L=R?`${R}  ${O.nome}`:`${O.nome}`;return s.jsx(J,{value:String(O.id),children:L},String(O.id))})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Incio"}),s.jsx(de,{type:"date",value:v,onChange:O=>w(O.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{children:"Fim"}),s.jsx(de,{type:"date",value:y,onChange:O=>b(O.target.value)})]})]})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-auto rounded-xl border",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Vencimento"}),s.jsx(_e,{children:"Descrio"}),s.jsx(_e,{className:"text-right",children:"Valor"}),s.jsx(_e,{children:"Tipo"}),s.jsx(_e,{children:"Categoria"}),s.jsx(_e,{children:"Banco"}),s.jsx(_e,{children:"Aes"})]})}),s.jsxs(gs,{children:[M.map(O=>s.jsxs(mr,{children:[s.jsx(be,{children:O.created_at?new Date(O.created_at).toLocaleDateString("pt-BR"):""}),s.jsx(be,{className:"max-w-[320px] truncate",title:`Saldo inicial  ${O.nome}`,children:"Saldo inicial"}),s.jsx(be,{className:"text-right",children:s.jsxs("span",{className:"text-green-600 font-semibold",children:["R$ ",Number(O.saldo_inicial||0).toFixed(2)]})}),s.jsx(be,{children:"Receita"}),s.jsx(be,{children:"Saldo inicial"}),s.jsx(be,{children:O.nome}),s.jsx(be,{children:s.jsx("div",{className:"flex gap-2"})})]},`saldo-${String(O.id)}`)),A.map(O=>s.jsxs(mr,{children:[s.jsx(be,{children:O.data_vencimento}),s.jsx(be,{className:"max-w-[320px] truncate",title:O.descricao,children:O.descricao}),s.jsx(be,{className:"text-right",children:s.jsxs("span",{className:O.tipo==="RECEITA"?"text-green-600 font-semibold":"text-red-600 font-semibold",children:["R$ ",Number(O.valor).toFixed(2)]})}),s.jsx(be,{children:O.tipo==="RECEITA"?"Receita":"Despesa"}),s.jsx(be,{children:O.categoria}),s.jsx(be,{children:(()=>{const R=(Array.isArray(u)?u:[]).find(L=>String(L.id)===String(O.conta_id||""));return R?R.nome:"-"})()}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>C(O),"aria-label":`Editar ${O.descricao}`,children:"Editar"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>n(O.id),"aria-label":`Excluir ${O.descricao}`,children:"Excluir"})]})})]},O.id))]})]})})})]})})}const ZLe=hs({data:ze().min(1,"Data  obrigatria"),descricao:ze().min(2,"Descrio muito curta"),valor:sn({invalid_type_error:"Valor deve ser numrico"}).nonnegative("Valor no pode ser negativo"),categoria:ze().min(1,"Categoria  obrigatria"),forma_pagamento:ze().min(1,"Forma de pagamento  obrigatria"),tipo:Ts(["entrada","saida"],{errorMap:()=>({message:"Tipo deve ser entrada ou sada"})}),comprovante:ze().url().optional().or(Up("")),observacoes:ze().optional(),conta_id:ze().uuid().optional()});function JLe(e){const t=e.filter(c=>c.tipo==="entrada"),r=e.filter(c=>c.tipo==="saida"),n=t.reduce((c,u)=>c+(Number(u.valor)||0),0),a=r.reduce((c,u)=>c+(Number(u.valor)||0),0),o=n-a,i={},l={};for(const c of t){const u=c.categoria||"Outros";i[u]=(i[u]||0)+(Number(c.valor)||0)}for(const c of r){const u=c.categoria||"Outros";l[u]=(l[u]||0)+(Number(c.valor)||0)}return{totalEntradas:n,totalSaidas:a,saldo:o,porCategoriaEntradas:i,porCategoriaSaidas:l}}function e3e(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=x.useMemo(()=>JLe(r),[r]),u=async()=>{try{if(!e)return;o(!0);const m=Ht?Gt:Z,{data:g,error:p}=await m.from("financeiro_geral").select("*").eq("user_id",e.id).order("data",{ascending:!1});if(p)throw p;const v=(g||[]).map(w=>({id:w.id,user_id:w.user_id,data:w.data,descricao:w.descricao,valor:Number(w.valor),categoria:w.categoria,forma_pagamento:w.forma_pagamento,tipo:w.tipo,comprovante:w.comprovante,observacoes:w.observacoes,conta_id:w.conta_id,created_at:w.created_at,updated_at:w.updated_at,origem:w.origem,origem_id:w.origem_id,setor:w.setor,readOnly:!!w.origem,editLink:w.origem==="financeiro_tattoo"&&w.origem_id?`/tattoo-financeiro?id=${w.origem_id}`:null}));n(v),l(null)}catch(m){console.error("Erro ao carregar financeiro_geral:",m),l((m==null?void 0:m.message)||"Erro desconhecido"),t({title:"Erro ao carregar dados",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},f=async m=>{try{if(!e)throw new Error("Usurio no autenticado");const g=ZLe.parse(m),p={user_id:e.id,data:g.data,descricao:g.descricao,valor:g.valor,categoria:g.categoria,forma_pagamento:g.forma_pagamento,tipo:g.tipo,comprovante:g.comprovante||null,observacoes:g.observacoes||null,conta_id:g.conta_id||null},v=Ht?Gt:Z,{data:w,error:y}=await v.from("financeiro_geral").insert(p).select("*");if(y)throw y;if(w&&w.length){const b=w[0],_={id:b.id,user_id:b.user_id,data:b.data,descricao:b.descricao,valor:Number(b.valor),categoria:b.categoria,forma_pagamento:b.forma_pagamento,tipo:b.tipo,comprovante:b.comprovante,observacoes:b.observacoes,conta_id:b.conta_id,created_at:b.created_at,updated_at:b.updated_at,origem:b.origem,origem_id:b.origem_id,setor:b.setor,readOnly:!!b.origem,editLink:b.origem==="financeiro_tattoo"&&b.origem_id?`/tattoo-financeiro?id=${b.origem_id}`:null};n(j=>[_,...j])}else await u();t({title:"Registro criado",description:"Financeiro Tattoo salvo com sucesso."})}catch(g){throw console.error("Erro ao inserir em financeiro_geral:",g),t({title:"Erro ao criar registro",description:g.message||"Verifique os dados.",variant:"destructive"}),g}},d=async(m,g)=>{try{if(!e)throw new Error("Usurio no autenticado");const p={...g};p.valor!==void 0&&(p.valor=Number(p.valor)),p.comprovante===""&&(p.comprovante=null),p.data!==void 0&&(p.data=p.data),p.tipo!==void 0&&(p.tipo=p.tipo),p.conta_id===""&&(p.conta_id=null),delete p.user_id;const v=r.find(_=>_.id===m);if(v!=null&&v.origem)throw new Error("Registro sincronizado (Tattoo)  somente leitura. Edite no mdulo Tattoo.");const w=Ht?Gt:Z,{data:y,error:b}=await w.from("financeiro_geral").update(p).select("*").eq("id",m).eq("user_id",e.id).is("origem",null);if(b)throw b;if(y&&y.length){const _=y[0],j={id:_.id,user_id:_.user_id,data:_.data,descricao:_.descricao,valor:Number(_.valor),categoria:_.categoria,forma_pagamento:_.forma_pagamento,tipo:_.tipo,comprovante:_.comprovante,observacoes:_.observacoes,conta_id:_.conta_id,created_at:_.created_at,updated_at:_.updated_at,origem:_.origem,origem_id:_.origem_id,setor:_.setor,readOnly:!!_.origem,editLink:_.origem==="financeiro_tattoo"&&_.origem_id?`/tattoo-financeiro?id=${_.origem_id}`:null};n(N=>N.map(S=>S.id===j.id?j:S))}else await u();t({title:"Registro atualizado",description:"Alteraes salvas com sucesso."})}catch(p){throw console.error("Erro ao atualizar financeiro_geral:",p),t({title:"Erro ao atualizar",description:p.message||"Tente novamente.",variant:"destructive"}),p}},h=async m=>{try{if(!e)throw new Error("Usurio no autenticado");const g=Ht?Gt:Z,p=r.find(w=>w.id===m);if(p!=null&&p.origem)throw new Error("Registro sincronizado (Tattoo)  somente leitura. Exclua no mdulo Tattoo.");const{error:v}=await g.from("financeiro_geral").delete().eq("id",m).eq("user_id",e.id).is("origem",null);if(v)throw v;n(w=>w.filter(y=>y.id!==m)),t({title:"Registro removido",description:"Financeiro Tattoo excludo."})}catch(g){throw console.error("Erro ao remover financeiro_geral:",g),t({title:"Erro ao remover",description:g.message||"Tente novamente.",variant:"destructive"}),g}};return x.useEffect(()=>{if(u(),!e)return;const m=Ht?Gt:Z,g=m.channel("realtime-financeiro_geral").on("postgres_changes",{event:"INSERT",schema:"public",table:"financeiro_geral",filter:`user_id=eq.${e.id}`},p=>{const v=p.new,w={id:v.id,user_id:v.user_id,data:v.data,descricao:v.descricao,valor:Number(v.valor),categoria:v.categoria,forma_pagamento:v.forma_pagamento,tipo:v.tipo,comprovante:v.comprovante,observacoes:v.observacoes,created_at:v.created_at,updated_at:v.updated_at,origem:v.origem,origem_id:v.origem_id,setor:v.setor,readOnly:!!v.origem,editLink:v.origem==="financeiro_tattoo"&&v.origem_id?`/tattoo-financeiro?id=${v.origem_id}`:null};n(y=>[w,...y])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"financeiro_geral",filter:`user_id=eq.${e.id}`},p=>{const v=p.new,w={id:v.id,user_id:v.user_id,data:v.data,descricao:v.descricao,valor:Number(v.valor),categoria:v.categoria,forma_pagamento:v.forma_pagamento,tipo:v.tipo,comprovante:v.comprovante,observacoes:v.observacoes,created_at:v.created_at,updated_at:v.updated_at,origem:v.origem,origem_id:v.origem_id,setor:v.setor,readOnly:!!v.origem,editLink:v.origem==="financeiro_tattoo"&&v.origem_id?`/tattoo-financeiro?id=${v.origem_id}`:null};n(y=>y.map(b=>b.id===w.id?w:b))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"financeiro_geral",filter:`user_id=eq.${e.id}`},p=>{n(v=>v.filter(w=>w.id!==p.old.id))}).subscribe();return()=>{m.removeChannel(g)}},[e==null?void 0:e.id]),{items:r,stats:c,loading:a,error:i,fetchAll:u,insert:f,update:d,remove:h}}function t3e(){const{items:e,stats:t}=e3e(),r=()=>{const i=Gr(new Date),l=ka(new Date),c=e.filter(p=>{const v=new Date(p.data);return p.tipo==="saida"&&v>=i&&v<=l}),u=c.reduce((p,v)=>p+Number(v.valor),0),f={periodo:`${Xt(i,"MMMM yyyy",{locale:Nr})}`,totalDespesas:u,quantidadeTransacoes:c.length,mediaPorTransacao:c.length>0?u/c.length:0,categorias:{}};c.forEach(p=>{const v=p.categoria||"Outros";f.categorias[v]=(f.categorias[v]||0)+Number(p.valor)});const d=`
RELATRIO CARTEIRA - ${f.periodo.toUpperCase()}

 RESUMO GERAL
Total de Despesas: R$ ${f.totalDespesas.toFixed(2)}
Quantidade de Transaes: ${f.quantidadeTransacoes}
Mdia por Transao: R$ ${f.mediaPorTransacao.toFixed(2)}

 DESPESAS POR CATEGORIA
${Object.entries(f.categorias).map(([p,v])=>`${p}: R$ ${v.toFixed(2)}`).join(`
`)}

 PERODO
${Xt(i,"dd/MM/yyyy",{locale:Nr})} at ${Xt(l,"dd/MM/yyyy",{locale:Nr})}
    `,h=new Blob([d],{type:"text/plain"}),m=URL.createObjectURL(h),g=document.createElement("a");g.href=m,g.download=`relatorio-carteira-${Xt(i,"MM-yyyy")}.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(m)},a=(()=>{const i=new Date,l=ml(i,7);return e.filter(c=>{const u=new Date(c.data);return c.tipo==="saida"&&u>=l&&u<=i})})(),o=a.reduce((i,l)=>i+Number(l.valor),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(te,{className:"rounded-2xl border border-border/40",children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Fe,{className:"text-sm font-medium",children:"Total de Despesas"}),s.jsx(Pn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",Number((t==null?void 0:t.totalSaidas)??0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Todas as despesas registradas"})]})]}),s.jsxs(te,{className:"rounded-2xl border border-border/40",children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Fe,{className:"text-sm font-medium",children:"ltimos 7 Dias"}),s.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",o.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," transaes"]})]})]}),s.jsxs(te,{className:"rounded-2xl border border-border/40",children:[s.jsxs(Le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Fe,{className:"text-sm font-media",children:"Categorias"}),s.jsx(Jd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(me,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Object.keys((t==null?void 0:t.porCategoriaSaidas)??{}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Categorias diferentes"})]})]})]}),s.jsxs(te,{className:"rounded-3xl border border-border/40",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Fe,{className:"text-lg",children:"Relatrios da Carteira"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie e exporte relatrios de despesas"})]}),s.jsxs(H,{onClick:r,className:"gap-2",children:[s.jsx(ld,{className:"h-4 w-4"}),"Exportar Relatrio Mensal"]})]})}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Relatrio Mensal"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Exporte um relatrio completo com todas as despesas do ms atual"}),s.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" Total de despesas por categoria"}),s.jsx("li",{children:" Nmero de transaes"}),s.jsx("li",{children:" Mdia por transao"}),s.jsx("li",{children:" Perodo completo do ms"})]})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/30",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Anlise por Categoria"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Visualize o detalhamento das despesas organizadas por categoria"}),s.jsx("div",{className:"space-y-2",children:Object.entries((t==null?void 0:t.porCategoriaSaidas)??{}).map(([i,l])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[i,":"]}),s.jsxs("span",{className:"font-medium",children:["R$ ",Number(l??0).toFixed(2)]})]},i))})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Dicas para Controle Financeiro"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Registre todas as despesas"})," - Mantenha o controle completo de todos os gastos"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Categorize corretamente"})," - Isso ajuda na anlise e tomada de deciso"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Exporte relatrios mensais"})," - Acompanhe a evoluo dos gastos"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Estabelea metas"})," - Defina limites de gastos por categoria"]})]})]})]})]})})]})]})}function r3e(){const{items:e}=xw(),{items:t}=mh(),[r,n]=x.useState(()=>new Date(new Date().getFullYear(),0,1).toISOString().slice(0,10)),[a,o]=x.useState(()=>new Date().toISOString().slice(0,10)),[i,l]=x.useState("TODOS"),[c,u]=x.useState("ALL"),f=x.useMemo(()=>{const v=new Date(r),w=new Date(a);return(e||[]).filter(y=>!!y.data_liquidacao).filter(y=>{const b=xj(String(y.data_liquidacao));return b>=v&&b<=w}).filter(y=>i==="TODOS"?!0:y.tipo===i).filter(y=>c==="ALL"?!0:String(y.conta_id||"")===c)},[e,r,a,i,c]),d=x.useMemo(()=>{const v={};return f.forEach(w=>{const y=Xt(xj(String(w.data_liquidacao)),"yyyy-MM");v[y]||(v[y]={mes:y,receita:0,despesa:0}),w.tipo==="RECEITA"?v[y].receita+=Number(w.valor||0):v[y].despesa+=Number(w.valor||0)}),Object.values(v).sort((w,y)=>w.mes.localeCompare(y.mes))},[f]),h=x.useMemo(()=>{const v=[...f].sort((y,b)=>String(y.data_liquidacao).localeCompare(String(b.data_liquidacao)));let w=0;return v.map(y=>(w+=y.tipo==="RECEITA"?Number(y.valor||0):-Number(y.valor||0),{data:String(y.data_liquidacao),saldo:w}))},[f]),m=x.useMemo(()=>{const v={};f.forEach(y=>{const b=String(y.categoria||"Sem categoria");v[b]=(v[b]||0)+Number(y.valor||0)*(y.tipo==="DESPESA",1)});const w=Object.entries(v).map(([y,b])=>({categoria:y,valor:b}));return w.sort((y,b)=>b.valor-y.valor),w.slice(0,10)},[f]),g=x.useMemo(()=>(t||[]).map(w=>{const y=yw(String(w.id),t,f);return{nome:w.nome,saldo:y.saldoAtual}}).sort((w,y)=>y.saldo-w.saldo),[t,f]),p=["#6366F1","#10B981","#F59E0B","#EF4444","#8B5CF6","#14B8A6","#F97316","#22C55E","#EAB308","#06B6D4"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Filtros"})}),s.jsx(me,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"inicio",children:"Incio"}),s.jsx(de,{id:"inicio",type:"date",value:r,onChange:v=>n(v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"fim",children:"Fim"}),s.jsx(de,{id:"fim",type:"date",value:a,onChange:v=>o(v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Tipo"}),s.jsxs(ot,{value:i,onValueChange:v=>l(v),children:[s.jsx(rt,{"aria-label":"Filtrar tipo",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"TODOS",children:"Todos"}),s.jsx(J,{value:"RECEITA",children:"Receita"}),s.jsx(J,{value:"DESPESA",children:"Despesa"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Conta"}),s.jsxs(ot,{value:c,onValueChange:v=>u(v),children:[s.jsx(rt,{"aria-label":"Filtrar conta",children:s.jsx(it,{placeholder:"Todas"})}),s.jsxs(nt,{children:[s.jsx(J,{value:"ALL",children:"Todas"}),(t||[]).map(v=>s.jsx(J,{value:String(v.id),children:v.nome},String(v.id)))]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Evoluo Receita vs Despesa"})}),s.jsx(me,{className:"h-64",children:s.jsx(da,{children:s.jsxs(dw,{data:d,children:[s.jsx(co,{strokeDasharray:"3 3"}),s.jsx(pa,{dataKey:"mes"}),s.jsx(ga,{}),s.jsx(Lr,{}),s.jsx(as,{}),s.jsx(ss,{type:"monotone",dataKey:"receita",stroke:"#10B981",name:"Receita"}),s.jsx(ss,{type:"monotone",dataKey:"despesa",stroke:"#EF4444",name:"Despesa"})]})})})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Fluxo de Caixa Acumulado"})}),s.jsx(me,{className:"h-64",children:s.jsx(da,{children:s.jsxs(m$e,{data:h,children:[s.jsx(co,{strokeDasharray:"3 3"}),s.jsx(pa,{dataKey:"data",tickFormatter:v=>Xt(xj(v),"MM/dd")}),s.jsx(ga,{}),s.jsx(Lr,{}),s.jsx(rc,{type:"monotone",dataKey:"saldo",stroke:"#6366F1",fill:"#6366F1",fillOpacity:.2})]})})})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Top Categorias"})}),s.jsx(me,{className:"h-64",children:s.jsx(da,{children:s.jsxs(Fp,{data:m,children:[s.jsx(co,{strokeDasharray:"3 3"}),s.jsx(pa,{dataKey:"categoria",hide:!1}),s.jsx(ga,{}),s.jsx(Lr,{}),s.jsx(Fs,{dataKey:"valor",fill:"#8B5CF6"})]})})})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Saldo por Conta"})}),s.jsx(me,{className:"h-64",children:s.jsx(da,{children:s.jsxs(Fp,{data:g,children:[s.jsx(co,{strokeDasharray:"3 3"}),s.jsx(pa,{dataKey:"nome"}),s.jsx(ga,{}),s.jsx(Lr,{}),s.jsx(Fs,{dataKey:"saldo",fill:"#22C55E"})]})})})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{children:"Participao por Categoria"})}),s.jsx(me,{className:"h-64",children:s.jsx(da,{children:s.jsxs(Rg,{children:[s.jsx(Lr,{}),s.jsx(as,{}),s.jsx(fs,{data:m,dataKey:"valor",nameKey:"categoria",outerRadius:80,children:m.map((v,w)=>s.jsx(Yo,{fill:p[w%p.length]},w))})]})})})]})]})]})}function n3e({activeTab:e="despesas",onSelectTab:t}){const[r,n]=x.useState({x:0,y:0}),[a,o]=x.useState(!1),i=x.useRef(null),l=[{icon:Vm,label:"Fluxo",value:"despesas"},{icon:Jd,label:"Relatrios",value:"relatorios"},{icon:wd,label:"Bancos",value:"bancos"},{icon:Pn,label:"Crdito",value:"creditos"},{icon:t3,label:"Dvidas",value:"dividas"},{icon:aE,label:"Patrimnio",value:"patrimonio"}],c=d=>{if(i.current){const h=i.current.getBoundingClientRect();n({x:d.clientX-h.left,y:d.clientY-h.top})}},u=d=>{if(!a)return 1;const h=60,m=d*h+h/2,g=Math.abs(r.x-m),p=120;if(g>p)return 1;const v=1+.3*(1-g/p);return Math.max(1,Math.min(1.3,v))},f=()=>a?1+(Math.max(...l.map((h,m)=>u(m)))-1)*.2:1;return s.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 via-emerald-500/20 to-emerald-500/10 blur-2xl rounded-full transition-transform duration-200 ease-out",style:{transform:`scale(${f()})`}}),s.jsx("div",{ref:i,className:"relative bg-background/90 backdrop-blur-3xl border border-emerald-500/30 rounded-full shadow-2xl px-4 py-3 transition-transform duration-200 ease-out",style:{transform:`scale(${f()})`},onMouseMove:c,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:s.jsx(pE,{children:s.jsx("div",{className:"flex items-center gap-2",children:l.map((d,h)=>{const m=d.icon,g=u(h),p=e===d.value;return s.jsxs(r5,{children:[s.jsx(n5,{asChild:!0,children:s.jsxs("button",{onClick:()=>t==null?void 0:t(d.value),className:Ae("relative p-2.5 rounded-full transition-all duration-200 ease-out",p?"bg-emerald-500/30 backdrop-blur-xl border border-emerald-500/40 text-emerald-600 shadow-2xl shadow-emerald-500/30":"bg-foreground/15 backdrop-blur-md border border-foreground/25 hover:bg-emerald-500/20 hover:border-emerald-500/45 hover:shadow-xl hover:shadow-emerald-500/20 active:scale-95"),style:{transform:`scale(${g})`,zIndex:Math.round(g*10)},children:[s.jsx(m,{className:"w-4 h-4"}),p&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-emerald-500/80 rounded-full shadow-lg shadow-emerald-500/30"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-emerald-500/60 rounded-full animate-pulse"})]})]})}),s.jsx(gE,{side:"top",className:"rounded-2xl bg-card/95 backdrop-blur-xl border-border/50",children:s.jsx("p",{className:"font-medium text-sm",children:d.label})})]},d.label)})})})})]})})}const Vv=e=>String(e||"").toLowerCase(),a3e=({contas:e,transacoes:t})=>{const r=new Date,n=Gr(r),a=ka(r),o=Gr(Ga(r,1)),i=ka(Ga(r,1)),l=(d,h,m)=>{const g=new Date(d||"");return g>=h&&g<=m},c=x.useMemo(()=>(e||[]).filter(d=>d.id).map(d=>{const h=yw(String(d.id),e,t),m=(t||[]).filter(j=>String(j.conta_id||"")===String(d.id)&&!!j.data_liquidacao),g=m.filter(j=>Vv(j.tipo)==="receita"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,n,a)).reduce((j,N)=>j+Number(N.valor||0),0),p=m.filter(j=>Vv(j.tipo)==="despesa"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,n,a)).reduce((j,N)=>j+Number(N.valor||0),0),v=g-p,w=m.filter(j=>Vv(j.tipo)==="receita"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,o,i)).reduce((j,N)=>j+Number(N.valor||0),0),y=m.filter(j=>Vv(j.tipo)==="despesa"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,o,i)).reduce((j,N)=>j+Number(N.valor||0),0),b=w-y,_=b?Number(((v-b)/b*100).toFixed(1)):v?100:0;return{contaId:String(d.id),nome:d.nome,banco:d.banco||"",saldoAtual:h.saldoAtual,variacaoMes:v,variacaoPct:_,banco_detalhes:d.banco_detalhes}}),[e,t]),u=c.reduce((d,h)=>d+h.saldoAtual,0),f=c.reduce((d,h)=>d+h.variacaoMes,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(te,{className:"rounded-2xl border-0 shadow-xl bg-gradient-to-br from-primary/5 via-background to-primary/5",children:[s.jsx(Le,{className:"pb-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:s.jsx(aE,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl font-bold",children:"Caixa Atual"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Viso geral dos seus bancos"})]})]})})}),s.jsx(me,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(t3,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"Saldo Total"})]}),s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f>=0?s.jsx(Pn,{className:"w-5 h-5 text-primary"}):s.jsx(Vm,{className:"w-5 h-5 text-destructive"}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:["Variao ",new Date().toLocaleDateString("pt-BR",{month:"long"})]})]}),s.jsxs("p",{className:`text-2xl font-bold ${f>=0?"text-foreground":"text-destructive"}`,children:[f>=0?"+":"-"," R$ ",Math.abs(f).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(wd,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:"Contas Ativas"})]}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.length})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:c.map(d=>{var m,g;const h=d.variacaoMes>=0;return s.jsx(te,{className:"rounded-lg border-0 shadow transition-all duration-300",children:s.jsx(me,{className:"p-3",children:s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center overflow-hidden",style:{background:d.banco_detalhes?`linear-gradient(135deg, ${d.banco_detalhes.cor_primaria}20, ${d.banco_detalhes.cor_secundaria}10)`:"linear-gradient(135deg, rgba(var(--primary), 0.2), rgba(var(--primary), 0.1))"},children:(m=d.banco_detalhes)!=null&&m.logo_url?s.jsx("img",{src:d.banco_detalhes.logo_url,alt:d.banco_detalhes.nome_curto,className:"w-5 h-5 object-contain",referrerPolicy:"no-referrer",onError:p=>{p.currentTarget.src="/placeholder.svg"}}):s.jsx(wd,{className:"w-3.5 h-3.5",style:{color:((g=d.banco_detalhes)==null?void 0:g.cor_primaria)||"var(--primary)"}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xs",children:d.nome}),!!d.banco_detalhes&&s.jsx(ft,{variant:"secondary",className:"rounded-full text-[10px]",style:{backgroundColor:`${d.banco_detalhes.cor_primaria}20`,color:d.banco_detalhes.cor_primaria,borderColor:`${d.banco_detalhes.cor_primaria}30`},children:d.banco_detalhes.nome_curto})]})]})}),s.jsxs("div",{className:"text-center py-1.5",children:[s.jsx("p",{className:"text-[11px] text-muted-foreground mb-1",children:"Saldo Atual"}),s.jsxs("p",{className:"text-lg font-bold text-foreground",children:["R$ ",d.saldoAtual.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1.5 border-t border-border/50",children:[s.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Variao ms"}),s.jsxs(ft,{variant:h?"default":"destructive",className:"rounded-full text-[11px] flex items-center gap-1",children:[h?s.jsx(Pn,{className:"w-3 h-3"}):s.jsx(Vm,{className:"w-3 h-3"}),h?"+":"-"," R$ ",Math.abs(d.variacaoMes).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:`text-[11px] font-medium ${d.variacaoPct>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[d.variacaoPct>=0?"+":"",d.variacaoPct,"%"]})})]})})},d.contaId)})}),c.length===0&&s.jsx(te,{className:"rounded-xl border-0 shadow-lg",children:s.jsx(me,{className:"p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(wd,{className:"w-12 h-12 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Nenhuma conta bancria encontrada"}),s.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Cadastre suas contas para visualizar os saldos"})]})})})]})},e7=hs({credor:ze().min(2),valor:sn().nonnegative(),data_vencimento:ze().min(1),status:Ts(["ABERTA","PAGA"]),conta_id:ze().optional().nullable().or(Up("")),observacoes:ze().optional().nullable(),data_pagamento:ze().optional().nullable(),total_parcelas:sn().int().min(1).default(1),parcela_atual:sn().int().min(1).default(1),periodicidade:Ts(["MENSAL","SEMANAL","QUINZENAL"]).default("MENSAL")});function s3e(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=async()=>{try{if(!e)return;o(!0);const h=Ht?Gt:Z,{data:m,error:g}=await h.from("dividas").select("*").eq("user_id",e.id).order("data_vencimento",{ascending:!0});if(g)throw g;n(m||[]),l(null)}catch(h){console.error("Erro ao carregar dividas:",h),l((h==null?void 0:h.message)||"Erro desconhecido"),t({title:"Erro ao carregar dvidas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},u=async h=>{try{if(!e)throw new Error("Usurio no autenticado");const m=e7.parse(h),g={user_id:e.id,credor:m.credor,valor:Number(m.valor),data_vencimento:m.data_vencimento,status:m.status,conta_id:m.conta_id||null,observacoes:m.observacoes??null,data_pagamento:m.data_pagamento??null,total_parcelas:m.total_parcelas,parcela_atual:m.parcela_atual,periodicidade:m.periodicidade},p=Ht?Gt:Z,{data:v,error:w}=await p.from("dividas").insert(g).select("*");if(w)throw w;n(y=>v?[v[0],...y]:y),t({title:"Dvida criada",description:"Registro salvo com sucesso."})}catch(m){throw console.error("Erro ao inserir em dividas:",m),t({title:"Erro ao criar dvida",description:m.message||"Verifique os dados.",variant:"destructive"}),m}},f=async(h,m)=>{try{if(!e)throw new Error("Usurio no autenticado");const g={...m};g.valor!==void 0&&(g.valor=Number(g.valor));const p=Ht?Gt:Z,{data:v,error:w}=await p.from("dividas").update(g).select("*").eq("id",h).eq("user_id",e.id);if(w)throw w;if(v&&v.length){const y=v[0];n(b=>b.map(_=>_.id===y.id?y:_))}else await c();t({title:"Dvida atualizada",description:"Alteraes salvas com sucesso."})}catch(g){throw console.error("Erro ao atualizar dividas:",g),t({title:"Erro ao atualizar",description:g.message||"Tente novamente.",variant:"destructive"}),g}},d=async h=>{try{if(!e)throw new Error("Usurio no autenticado");const m=Ht?Gt:Z,{error:g}=await m.from("dividas").delete().eq("id",h).eq("user_id",e.id);if(g)throw g;n(p=>p.filter(v=>v.id!==h)),t({title:"Dvida removida",description:"Registro excludo."})}catch(m){throw console.error("Erro ao remover dividas:",m),t({title:"Erro ao remover",description:m.message||"Tente novamente.",variant:"destructive"}),m}};return x.useEffect(()=>{if(c(),!e)return;const h=Ht?Gt:Z,m=h.channel("realtime-dividas").on("postgres_changes",{event:"INSERT",schema:"public",table:"dividas",filter:`user_id=eq.${e.id}`},g=>{n(p=>[g.new,...p])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"dividas",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.map(v=>v.id===g.new.id?g.new:v))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"dividas",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.filter(v=>v.id!==g.old.id))}).subscribe();return()=>{h.removeChannel(m)}},[e==null?void 0:e.id]),{items:r,loading:a,error:i,fetchAll:c,insert:u,update:f,remove:d}}function o3e(){const{items:e,insert:t,update:r,remove:n}=s3e(),{items:a}=mh(),[o,i]=x.useState(!1),[l,c]=x.useState(null),u=Pi({resolver:ki(e7),defaultValues:{credor:"",valor:0,data_vencimento:new Date().toISOString().slice(0,10),status:"ABERTA",conta_id:"",observacoes:"",data_pagamento:null,total_parcelas:1,parcela_atual:1,periodicidade:"MENSAL"}}),f=()=>{c(null),u.reset({credor:"",valor:0,data_vencimento:new Date().toISOString().slice(0,10),status:"ABERTA",conta_id:"",observacoes:"",data_pagamento:null,total_parcelas:1,parcela_atual:1,periodicidade:"MENSAL"}),i(!0)},d=m=>{c(m),u.reset({credor:m.credor,valor:Number(m.valor)||0,data_vencimento:m.data_vencimento,status:m.status,conta_id:m.conta_id||"",observacoes:m.observacoes||"",data_pagamento:m.data_pagamento||null,total_parcelas:m.total_parcelas??1,parcela_atual:m.parcela_atual??1,periodicidade:m.periodicidade??"MENSAL"}),i(!0)},h=async m=>{const g={credor:m.credor,valor:Number(m.valor),data_vencimento:m.data_vencimento,status:m.status,conta_id:m.conta_id||null,observacoes:m.observacoes||null,data_pagamento:m.status==="PAGA"?m.data_pagamento||new Date().toISOString().slice(0,10):null,total_parcelas:Number(m.total_parcelas||1),parcela_atual:Number(m.parcela_atual||1),periodicidade:m.periodicidade||"MENSAL"};l!=null&&l.id?await r(l.id,g):await t(g),i(!1)};return s.jsxs(te,{className:"rounded-3xl border border-border/40",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-lg",children:"Dvidas"}),s.jsxs(Ir,{open:o,onOpenChange:i,children:[s.jsx(_o,{asChild:!0,children:s.jsx(H,{variant:"default",onClick:f,"aria-label":"Adicionar dvida",children:"Adicionar"})}),s.jsxs(Cr,{className:"max-w-xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:l?"Editar dvida":"Nova dvida"})}),s.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"credor",children:"Credor"}),s.jsx(de,{id:"credor",...u.register("credor")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"valor",children:"Valor"}),s.jsx(de,{id:"valor",type:"number",step:"0.01",...u.register("valor",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_vencimento",children:"Vencimento"}),s.jsx(de,{id:"data_vencimento",type:"date",...u.register("data_vencimento")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:u.watch("status"),onValueChange:m=>u.setValue("status",m),children:[s.jsx(rt,{"aria-label":"Selecionar status",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"ABERTA",children:"Aberta"}),s.jsx(J,{value:"PAGA",children:"Paga"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Conta"}),s.jsxs(ot,{value:u.watch("conta_id")||"none",onValueChange:m=>u.setValue("conta_id",m==="none"?"":m),children:[s.jsx(rt,{"aria-label":"Selecionar conta",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhuma conta"}),(Array.isArray(a)?a:[]).filter(m=>!!m&&!!m.id&&String(m.id).trim().length>0).map(m=>s.jsx(J,{value:String(m.id),children:m.nome},String(m.id)))]})]})]}),u.watch("status")==="PAGA"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_pagamento",children:"Pagamento"}),s.jsx(de,{id:"data_pagamento",type:"date",...u.register("data_pagamento")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"observacoes",children:"Observaes"}),s.jsx(de,{id:"observacoes",...u.register("observacoes")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"total_parcelas",children:"Total de parcelas"}),s.jsx(de,{id:"total_parcelas",type:"number",min:1,step:1,...u.register("total_parcelas",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"parcela_atual",children:"Parcela atual"}),s.jsx(de,{id:"parcela_atual",type:"number",min:1,step:1,...u.register("parcela_atual",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Periodicidade"}),s.jsxs(ot,{value:u.watch("periodicidade"),onValueChange:m=>u.setValue("periodicidade",m),children:[s.jsx(rt,{"aria-label":"Selecionar periodicidade",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"MENSAL",children:"Mensal"}),s.jsx(J,{value:"SEMANAL",children:"Semanal"}),s.jsx(J,{value:"QUINZENAL",children:"Quinzenal"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Prximos vencimentos"}),(()=>{const m=u.watch("data_vencimento"),g=m?new Date(m):new Date,p=Number(u.watch("total_parcelas")||1),v=Number(u.watch("parcela_atual")||1),w=u.watch("periodicidade")||"MENSAL",y=[],b=(N,S)=>{const C=new Date(N);return C.setDate(C.getDate()+S),C},_=(N,S)=>{const C=new Date(N);return C.setMonth(C.getMonth()+S),C},j=w==="SEMANAL"?7:w==="QUINZENAL"?14:30;for(let N=v+1;N<=Math.min(p,v+3);N++){const S=N-1,C=w==="MENSAL"?_(g,S):b(g,S*j);y.push(C.toISOString().slice(0,10))}return s.jsx("p",{className:"text-sm",children:y.length?y.join("  "):""})})()]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),s.jsx(H,{type:"submit",children:"Salvar"})]})]})]})]})]})}),s.jsx(me,{children:s.jsx("div",{className:"overflow-auto rounded-xl border",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Vencimento"}),s.jsx(_e,{children:"Credor"}),s.jsx(_e,{className:"text-right",children:"Valor"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Banco"}),s.jsx(_e,{children:"Parcela"}),s.jsx(_e,{children:"Prx. venc."}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:e.map(m=>s.jsxs(mr,{children:[s.jsx(be,{children:m.data_vencimento}),s.jsx(be,{className:"max-w-[320px] truncate",title:m.credor,children:m.credor}),s.jsx(be,{className:"text-right",children:s.jsxs("span",{className:m.status==="ABERTA"?"text-red-600 font-semibold":"text-green-600 font-semibold",children:["R$ ",Number(m.valor).toFixed(2)]})}),s.jsx(be,{children:m.status==="ABERTA"?"Aberta":"Paga"}),s.jsx(be,{children:(()=>{const g=(Array.isArray(a)?a:[]).find(p=>String(p.id)===String(m.conta_id||""));return g?g.nome:"-"})()}),s.jsx(be,{children:`${Number(m.parcela_atual||1)}/${Number(m.total_parcelas||1)}`}),s.jsx(be,{children:(()=>{const g=m.data_vencimento,p=g?new Date(g):new Date,v=Number(m.parcela_atual||1),w=m.periodicidade||"MENSAL",y=(S,C)=>{const E=new Date(S);return E.setDate(E.getDate()+C),E},b=(S,C)=>{const E=new Date(S);return E.setMonth(E.getMonth()+C),E},_=w==="SEMANAL"?7:w==="QUINZENAL"?14:30,j=v;return(w==="MENSAL"?b(p,j):y(p,j*_)).toISOString().slice(0,10)})()}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>d(m),"aria-label":`Editar ${m.credor}`,children:"Editar"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>n(m.id),"aria-label":`Excluir ${m.credor}`,children:"Excluir"})]})})]},m.id))})]})})})]})}const t7=hs({nome:ze().min(2),categoria:ze().min(1),descricao:ze().optional().nullable(),data_aquisicao:ze().min(1),custo_inicial:sn().nonnegative(),valor_residual:sn().min(0).default(0),metodo_depreciacao:Ts(["linha_reta","declinante"]).default("linha_reta"),vida_util_meses:sn().int().min(1).default(36),taxa_declinante_anual:sn().min(0).optional().nullable(),localizacao:ze().optional().nullable(),condicao:Ts(["novo","bom","usado","avariado"]).default("bom"),serial_nota:ze().optional().nullable(),garantia_fim:ze().optional().nullable(),rendimento_mensal_estimado:sn().min(0).optional().nullable(),tags:L9(ze()).optional().nullable(),status:Ts(["ativo","vendido","descartado"]).default("ativo"),valor_atual_cache:sn().min(0).optional().nullable()}),i3e=hs({item_id:ze().min(1),tipo:Ts(["entrada","saida"]),valor:sn().nonnegative(),data:ze().min(1),descricao:ze().optional().nullable(),categoria:ze().optional().nullable(),comprovante_url:ze().url().optional().nullable()});function l3e(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function _m(e,t=new Date){const r=Number(e.custo_inicial)||0,n=Number(e.valor_residual||0)||0,a=Number(e.vida_util_meses||36)||36,o=e.data_aquisicao?new Date(e.data_aquisicao):t,i=Math.max(0,l3e(o,t));if(e.metodo_depreciacao==="declinante"){const u=Number(e.taxa_declinante_anual||0)/100,f=i/12,d=r*Math.pow(1-u,f);return Math.max(n,Number(d.toFixed(2)))}const l=(r-n)/a,c=r-l*i;return Math.max(n,Number(c.toFixed(2)))}function c3e(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState({}),[i,l]=x.useState(!1),[c,u]=x.useState(null),f=x.useMemo(()=>{const _=r.reduce((E,P)=>E+Number(P.valor_atual_cache??_m(P)),0),j=r.reduce((E,P)=>E+(Number(P.custo_inicial)||0),0),N=r.filter(E=>{var P;return!Array.isArray(E.tags)||!((P=E.tags)!=null&&P.includes("no_roi"))}),S=N.reduce((E,P)=>E+Number(P.valor_atual_cache??_m(P)),0),C=N.reduce((E,P)=>E+(Number(P.custo_inicial)||0),0);return{valorAtualTotal:_,custoTotal:j,valorAtualRoiTotal:S,custoRoiTotal:C}},[r]),d=Ht?Gt:Z,h=async()=>{try{if(!e)return;l(!0);const{data:_,error:j}=await d.from("patrimonio_itens").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(j)throw j;n(_||[]),u(null)}catch(_){console.error("Erro ao carregar patrimonio_itens:",_),u((_==null?void 0:_.message)||"Erro desconhecido"),t({title:"Erro ao carregar patrimnio",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{l(!1)}},m=async _=>{try{if(!e)throw new Error("Usurio no autenticado");const j=t7.parse(_),N={user_id:e.id,...j},{data:S,error:C}=await d.from("patrimonio_itens").insert(N).select("*");if(C)throw C;n(E=>S?[S[0],...E]:E),t({title:"Item criado",description:"Patrimnio salvo com sucesso."})}catch(j){throw console.error("Erro ao inserir patrimonio_itens:",j),t({title:"Erro ao criar item",description:j.message||"Verifique os dados.",variant:"destructive"}),j}},g=async(_,j)=>{try{if(!e)throw new Error("Usurio no autenticado");const N={...j};N.custo_inicial!==void 0&&(N.custo_inicial=Number(N.custo_inicial)),N.valor_residual!==void 0&&(N.valor_residual=Number(N.valor_residual)),N.valor_atual_cache!==void 0&&N.valor_atual_cache!=null&&(N.valor_atual_cache=Number(N.valor_atual_cache));const{data:S,error:C}=await d.from("patrimonio_itens").update(N).select("*").eq("id",_).eq("user_id",e.id);if(C)throw C;if(S&&S.length){const E=S[0];n(P=>P.map(A=>A.id===E.id?E:A))}else await h();t({title:"Item atualizado",description:"Alteraes salvas com sucesso."})}catch(N){throw console.error("Erro ao atualizar patrimonio_itens:",N),t({title:"Erro ao atualizar",description:N.message||"Tente novamente.",variant:"destructive"}),N}},p=async _=>{try{if(!e)throw new Error("Usurio no autenticado");const{error:j}=await d.from("patrimonio_itens").delete().eq("id",_).eq("user_id",e.id);if(j)throw j;n(N=>N.filter(S=>S.id!==_)),t({title:"Item removido",description:"Registro excludo."})}catch(j){throw console.error("Erro ao remover patrimonio_itens:",j),t({title:"Erro ao remover",description:j.message||"Tente novamente.",variant:"destructive"}),j}},v=async _=>{try{if(!e)return[];const{data:j,error:N}=await d.from("patrimonio_movimentos").select("*").eq("user_id",e.id).eq("item_id",_).order("data",{ascending:!1});if(N)throw N;return o(S=>({...S,[_]:j||[]})),j||[]}catch(j){return console.error("Erro ao carregar movimentos:",j),t({title:"Erro ao carregar lanamentos",description:"Tente novamente mais tarde.",variant:"destructive"}),[]}},w=async _=>{try{if(!e)throw new Error("Usurio no autenticado");const j=i3e.parse(_),N={user_id:e.id,...j},{data:S,error:C}=await d.from("patrimonio_movimentos").insert(N).select("*");if(C)throw C;const E=S==null?void 0:S[0];o(P=>{const A=P[j.item_id]||[];return{...P,[j.item_id]:[E,...A]}}),t({title:"Lanamento criado",description:"Registro salvo com sucesso."})}catch(j){throw console.error("Erro ao inserir patrimonio_movimentos:",j),t({title:"Erro ao criar lanamento",description:j.message||"Verifique os dados.",variant:"destructive"}),j}},y=async(_,j)=>{try{if(!e)throw new Error("Usurio no autenticado");const{error:N}=await d.from("patrimonio_movimentos").delete().eq("id",_).eq("user_id",e.id);if(N)throw N;o(S=>({...S,[j]:(S[j]||[]).filter(C=>C.id!==_)})),t({title:"Lanamento removido",description:"Registro excludo."})}catch(N){throw console.error("Erro ao remover patrimonio_movimentos:",N),t({title:"Erro ao remover",description:N.message||"Tente novamente.",variant:"destructive"}),N}},b=_=>{const j=a[_]||[],N=j.filter(P=>P.tipo==="entrada").reduce((P,A)=>P+(Number(A.valor)||0),0),S=j.filter(P=>P.tipo==="saida").reduce((P,A)=>P+(Number(A.valor)||0),0),C=r.find(P=>P.id===_),E=C&&Number(C.custo_inicial)||0;return E?Number(((N-S)/E).toFixed(4)):0};return x.useEffect(()=>{if(h(),!e)return;const _=d.channel("realtime-patrimonio").on("postgres_changes",{event:"INSERT",schema:"public",table:"patrimonio_itens",filter:`user_id=eq.${e.id}`},j=>{n(N=>[j.new,...N])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"patrimonio_itens",filter:`user_id=eq.${e.id}`},j=>{n(N=>N.map(S=>S.id===j.new.id?j.new:S))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"patrimonio_itens",filter:`user_id=eq.${e.id}`},j=>{n(N=>N.filter(S=>S.id!==j.old.id))}).subscribe();return()=>{d.removeChannel(_)}},[e==null?void 0:e.id]),{items:r,movimentos:a,stats:f,loading:i,error:c,fetchItems:h,insertItem:m,updateItem:g,removeItem:p,fetchMovimentos:v,insertMovimento:w,removeMovimento:y,calcularRoiDoItem:b,calcularValorAtual:_m}}const qD=["Roupas","Acessrios","Tecnologia","Produtos","Imvel","Veculo","Empresa","Colecionvel","Marca","Outro"],u3e={Tecnologia:36,Veculo:60,Roupas:24,Marca:36};function d3e(){const{items:e,insertItem:t,updateItem:r,removeItem:n,stats:a}=c3e(),[o,i]=x.useState(!1),[l,c]=x.useState(null),[u,f]=x.useState("todos"),[d,h]=x.useState(""),[m,g]=x.useState("todos"),[p,v]=x.useState(!1),w=Pi({resolver:ki(t7),defaultValues:{nome:"",categoria:"Outro",descricao:"",data_aquisicao:new Date().toISOString().slice(0,10),custo_inicial:0,valor_residual:0,metodo_depreciacao:"linha_reta",vida_util_meses:36,taxa_declinante_anual:null,localizacao:"",condicao:"bom",serial_nota:"",garantia_fim:null,rendimento_mensal_estimado:null,tags:[],status:"ativo",valor_atual_cache:null}}),y=()=>{c(null),w.reset({nome:"",categoria:"Outro",descricao:"",data_aquisicao:new Date().toISOString().slice(0,10),custo_inicial:0,valor_residual:0,metodo_depreciacao:"linha_reta",vida_util_meses:36,taxa_declinante_anual:null,localizacao:"",condicao:"bom",serial_nota:"",garantia_fim:null,rendimento_mensal_estimado:null,tags:[],status:"ativo",valor_atual_cache:null,metrificar_roi:!0}),i(!0)},b=C=>{var E;c(C),w.reset({nome:C.nome,categoria:C.categoria,descricao:C.descricao||"",data_aquisicao:C.data_aquisicao,custo_inicial:Number(C.custo_inicial)||0,valor_residual:Number(C.valor_residual||0)||0,metodo_depreciacao:C.metodo_depreciacao,vida_util_meses:Number(C.vida_util_meses||36),taxa_declinante_anual:C.taxa_declinante_anual??null,localizacao:C.localizacao||"",condicao:C.condicao||"bom",serial_nota:C.serial_nota||"",garantia_fim:C.garantia_fim||null,rendimento_mensal_estimado:C.rendimento_mensal_estimado??null,tags:C.tags??[],status:C.status||"ativo",valor_atual_cache:C.valor_atual_cache??null,metrificar_roi:!Array.isArray(C.tags)||!((E=C.tags)!=null&&E.includes("no_roi"))}),i(!0)},_=async C=>{const E={nome:C.nome,categoria:C.categoria,descricao:C.descricao||null,data_aquisicao:C.data_aquisicao,custo_inicial:Number(C.custo_inicial)||0,valor_residual:Number(C.valor_residual||0)||0,metodo_depreciacao:C.metodo_depreciacao,vida_util_meses:Number(C.vida_util_meses||36),taxa_declinante_anual:C.taxa_declinante_anual?Number(C.taxa_declinante_anual):null,localizacao:C.localizacao||null,condicao:C.condicao,serial_nota:C.serial_nota||null,garantia_fim:C.garantia_fim||null,rendimento_mensal_estimado:C.rendimento_mensal_estimado?Number(C.rendimento_mensal_estimado):null,tags:(()=>{const P=(C.tags||[]).filter(M=>M!=="no_roi");return C.metrificar_roi!==!1?P:[...P,"no_roi"]})(),status:C.status,valor_atual_cache:C.valor_atual_cache!=null?Number(C.valor_atual_cache):null};l!=null&&l.id?await r(l.id,E):await t(E),i(!1)},j=x.useMemo(()=>e.filter(C=>u==="todos"?!0:C.categoria===u).filter(C=>!d||C.nome.toLowerCase().includes(d.toLowerCase())),[e,u,d]),N=x.useMemo(()=>{const C={};return j.filter(E=>m==="todos"?!0:String(E.status||"")===m).forEach(E=>{const P=String(E.categoria||"Outro"),A=Number(E.valor_atual_cache??_m(E));C[P]=(C[P]||0)+A}),Object.entries(C).map(([E,P])=>({categoria:E,valor:P}))},[j,m]),S=["#6366F1","#10B981","#F59E0B","#EF4444","#8B5CF6","#14B8A6","#F97316","#22C55E","#EAB308","#06B6D4"];return s.jsxs(te,{className:"rounded-3xl border border-border/40",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-lg",children:"Patrimnio"}),s.jsxs(Ir,{open:o,onOpenChange:i,children:[s.jsx(_o,{asChild:!0,children:s.jsx(H,{variant:"default",onClick:y,"aria-label":"Adicionar item",children:"Adicionar"})}),s.jsxs(Cr,{className:"max-w-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:l?"Editar item":"Novo item de patrimnio"})}),s.jsxs("form",{onSubmit:w.handleSubmit(_),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"nome",children:"Nome"}),s.jsx(de,{id:"nome",...w.register("nome")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Categoria"}),s.jsxs(ot,{value:w.watch("categoria"),onValueChange:C=>{w.setValue("categoria",C);const E=u3e[C]??36;w.setValue("vida_util_meses",E,{shouldDirty:!0,shouldValidate:!0})},children:[s.jsx(rt,{"aria-label":"Selecionar categoria",children:s.jsx(it,{})}),s.jsx(nt,{children:qD.map(C=>s.jsx(J,{value:C,children:C},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_aquisicao",children:"Aquisio"}),s.jsx(de,{id:"data_aquisicao",type:"date",...w.register("data_aquisicao")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"custo_inicial",children:"Custo inicial"}),s.jsx(de,{id:"custo_inicial",type:"number",step:"0.01",...w.register("custo_inicial",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"valor_residual",children:"Valor atual"}),s.jsx(de,{id:"valor_residual",type:"number",step:"0.01",...w.register("valor_residual",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Mtodo"}),s.jsxs(ot,{value:w.watch("metodo_depreciacao"),onValueChange:C=>w.setValue("metodo_depreciacao",C),children:[s.jsx(rt,{"aria-label":"Selecionar mtodo",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"linha_reta",children:"Linha reta"}),s.jsx(J,{value:"declinante",children:"Declinante"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"vida_util_meses",children:"Vida til (meses)"}),s.jsx(de,{id:"vida_util_meses",type:"number",min:1,step:1,...w.register("vida_util_meses",{valueAsNumber:!0})})]}),w.watch("metodo_depreciacao")==="declinante"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"taxa_declinante_anual",children:"Taxa declinante (% anual)"}),s.jsx(de,{id:"taxa_declinante_anual",type:"number",step:"0.01",...w.register("taxa_declinante_anual",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:w.watch("status"),onValueChange:C=>w.setValue("status",C),children:[s.jsx(rt,{"aria-label":"Selecionar status",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"ativo",children:"Ativo"}),s.jsx(J,{value:"vendido",children:"Vendido"}),s.jsx(J,{value:"descartado",children:"Descartado"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"valor_atual_cache",children:"Valor atual (manual)"}),s.jsx(de,{id:"valor_atual_cache",type:"number",step:"0.01",...w.register("valor_atual_cache",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2 flex items-center gap-2",children:[s.jsx(lf,{checked:!!w.watch("metrificar_roi"),onCheckedChange:C=>w.setValue("metrificar_roi",!!C),id:"metrificar_roi"}),s.jsx(re,{htmlFor:"metrificar_roi",children:"Metrificar ROI"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),s.jsx(H,{type:"submit",children:"Salvar"})]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(H,{variant:"outline",onClick:()=>v(C=>!C),"aria-label":"Mostrar grfico",children:p?"Ocultar grfico":"Mostrar grfico"})})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx("div",{className:"w-48",children:s.jsxs(ot,{value:u,onValueChange:f,children:[s.jsx(rt,{"aria-label":"Filtrar categoria",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"todos",children:"Todas categorias"}),qD.map(C=>s.jsx(J,{value:C,children:C},C))]})]})}),s.jsx(de,{className:"max-w-xs",placeholder:"Buscar por nome",value:d,onChange:C=>h(C.target.value)})]})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",a.valorAtualTotal.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[s.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",a.custoTotal.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Custo Total"})]}),s.jsx("div",{className:"text-center p-4 border rounded-xl",children:(()=>{const C=a.custoRoiTotal||0,E=C?(a.valorAtualRoiTotal-a.custoRoiTotal)/C:0,P=(E*100).toFixed(2);return s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:E>=0?"text-2xl font-bold text-green-600":"text-2xl font-bold text-red-600",children:[P,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ROI mdio"})]})})()})]}),p&&s.jsxs(te,{className:"rounded-xl mb-4",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{children:"Distribuio por Categoria"}),s.jsx("div",{className:"w-48",children:s.jsxs(ot,{value:m,onValueChange:g,children:[s.jsx(rt,{"aria-label":"Filtrar status",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"todos",children:"Todos status"}),s.jsx(J,{value:"ativo",children:"Ativo"}),s.jsx(J,{value:"vendido",children:"Vendido"}),s.jsx(J,{value:"descartado",children:"Descartado"})]})]})})]})}),s.jsx(me,{className:"h-64",children:s.jsx(da,{children:s.jsxs(Rg,{children:[s.jsx(Lr,{}),s.jsx(as,{}),s.jsx(fs,{data:N,dataKey:"valor",nameKey:"categoria",outerRadius:80,children:N.map((C,E)=>s.jsx(Yo,{fill:S[E%S.length]},E))})]})})})]}),s.jsx("div",{className:"overflow-auto rounded-xl border",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Nome"}),s.jsx(_e,{children:"Categoria"}),s.jsx(_e,{className:"text-right",children:"Custo"}),s.jsx(_e,{className:"text-right",children:"Valor atual"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:j.map(C=>s.jsxs(mr,{children:[s.jsx(be,{className:"max-w-[320px] truncate",title:C.nome,children:C.nome}),s.jsx(be,{children:C.categoria}),s.jsxs(be,{className:"text-right",children:["R$ ",Number(C.custo_inicial).toFixed(2)]}),s.jsxs(be,{className:"text-right",children:["R$ ",Number(C.valor_atual_cache??_m(C)).toFixed(2)]}),s.jsx(be,{children:C.status==="ativo"?"Ativo":C.status==="vendido"?"Vendido":"Descartado"}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(C),"aria-label":`Editar ${C.nome}`,children:"Editar"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>n(C.id),"aria-label":`Excluir ${C.nome}`,children:"Excluir"})]})})]},C.id))})]})})]})]})}const r7=hs({nome:ze().min(2),banco_id:ze().optional().nullable().or(Up("")),limite:sn().nonnegative().default(0),utilizado:sn().nonnegative().default(0),taxa_juros:sn().optional().nullable(),modalidade:Ts(["ROTATIVO","PARCELADO","CARTAO","EMPRESTIMO"]).default("ROTATIVO"),vencimento_dia:sn().int().min(1).max(31).optional().nullable(),data_abertura:ze().optional().nullable(),status:Ts(["ATIVA","INATIVA"]).default("ATIVA"),observacoes:ze().optional().nullable()});function f3e(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=async()=>{try{if(!e)return;o(!0);const h=Ht?Gt:Z,{data:m,error:g}=await h.from("linhas_credito").select("*").eq("user_id",e.id).order("nome",{ascending:!0});if(g)throw g;n(m||[]),l(null)}catch(h){console.error("Erro ao carregar linhas_credito:",h),l((h==null?void 0:h.message)||"Erro desconhecido"),t({title:"Erro ao carregar linhas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},u=async h=>{try{if(!e)throw new Error("Usurio no autenticado");const m=r7.parse(h),g={user_id:e.id,nome:m.nome,banco_id:m.banco_id||null,limite:Number(m.limite||0),utilizado:Number(m.utilizado||0),taxa_juros:m.taxa_juros??null,modalidade:m.modalidade,vencimento_dia:m.vencimento_dia??null,data_abertura:m.data_abertura??null,status:m.status,observacoes:m.observacoes??null},p=Ht?Gt:Z,{data:v,error:w}=await p.from("linhas_credito").insert(g).select("*");if(w)throw w;n(y=>v?[v[0],...y]:y),t({title:"Linha criada",description:"Registro salvo com sucesso."})}catch(m){throw console.error("Erro ao inserir em linhas_credito:",m),t({title:"Erro ao criar linha",description:m.message||"Verifique os dados.",variant:"destructive"}),m}},f=async(h,m)=>{try{if(!e)throw new Error("Usurio no autenticado");const g={...m};g.limite!==void 0&&(g.limite=Number(g.limite)),g.utilizado!==void 0&&(g.utilizado=Number(g.utilizado));const p=Ht?Gt:Z,{data:v,error:w}=await p.from("linhas_credito").update(g).select("*").eq("id",h).eq("user_id",e.id);if(w)throw w;if(v&&v.length){const y=v[0];n(b=>b.map(_=>_.id===y.id?y:_))}else await c();t({title:"Linha atualizada",description:"Alteraes salvas com sucesso."})}catch(g){throw console.error("Erro ao atualizar linhas_credito:",g),t({title:"Erro ao atualizar",description:g.message||"Tente novamente.",variant:"destructive"}),g}},d=async h=>{try{if(!e)throw new Error("Usurio no autenticado");const m=Ht?Gt:Z,{error:g}=await m.from("linhas_credito").delete().eq("id",h).eq("user_id",e.id);if(g)throw g;n(p=>p.filter(v=>v.id!==h)),t({title:"Linha removida",description:"Registro excludo."})}catch(m){throw console.error("Erro ao remover linhas_credito:",m),t({title:"Erro ao remover",description:m.message||"Tente novamente.",variant:"destructive"}),m}};return x.useEffect(()=>{if(c(),!e)return;const h=Ht?Gt:Z,m=h.channel("realtime-linhas-credito").on("postgres_changes",{event:"INSERT",schema:"public",table:"linhas_credito",filter:`user_id=eq.${e.id}`},g=>{n(p=>[g.new,...p])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"linhas_credito",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.map(v=>v.id===g.new.id?g.new:v))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"linhas_credito",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.filter(v=>v.id!==g.old.id))}).subscribe();return()=>{h.removeChannel(m)}},[e==null?void 0:e.id]),{items:r,loading:a,error:i,fetchAll:c,insert:u,update:f,remove:d}}function h3e(){const{items:e,insert:t,update:r,remove:n}=f3e(),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState([]),{user:f}=dn();x.useEffect(()=>{(async()=>{if(!f)return;const{data:w,error:y}=await Z.from("contas_bancarias").select("banco_id, banco_detalhes:bancos(*)").eq("user_id",f.id).eq("is_arquivada",!1);if(y)return u([]);const b={};(w||[]).forEach(_=>{const j=String(_.banco_id||"");if(j&&!b[j]){const N=_.banco_detalhes||{};b[j]={id:j,nome_curto:N.nome_curto||N.nome||j,nome:N.nome||N.nome_curto||j}}}),u(Object.values(b))})()},[f]);const d=Pi({resolver:ki(r7),defaultValues:{nome:"",banco_id:"",limite:0,utilizado:0,taxa_juros:null,modalidade:"ROTATIVO",vencimento_dia:null,data_abertura:new Date().toISOString().slice(0,10),status:"ATIVA",observacoes:""}}),h=()=>{l(null),d.reset({nome:"",banco_id:"",limite:0,utilizado:0,taxa_juros:null,modalidade:"ROTATIVO",vencimento_dia:null,data_abertura:new Date().toISOString().slice(0,10),status:"ATIVA",observacoes:""}),o(!0)},m=v=>{l(v),d.reset({nome:v.nome,banco_id:v.banco_id||"",limite:Number(v.limite)||0,utilizado:Number(v.utilizado)||0,taxa_juros:v.taxa_juros??null,modalidade:v.modalidade,vencimento_dia:v.vencimento_dia??null,data_abertura:v.data_abertura||new Date().toISOString().slice(0,10),status:v.status,observacoes:v.observacoes||""}),o(!0)},g=async v=>{const w={nome:v.nome,banco_id:v.banco_id||null,limite:Number(v.limite||0),utilizado:Number(v.utilizado||0),taxa_juros:v.taxa_juros??null,modalidade:v.modalidade,vencimento_dia:v.vencimento_dia??null,data_abertura:v.data_abertura||null,status:v.status,observacoes:v.observacoes||null};i!=null&&i.id?await r(i.id,w):await t(w),o(!1)},p=v=>Number(v.limite||0)-Number(v.utilizado||0);return s.jsxs(te,{className:"rounded-3xl border border-border/40",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-lg",children:"Linhas de Crdito"}),s.jsxs(Ir,{open:a,onOpenChange:o,children:[s.jsx(_o,{asChild:!0,children:s.jsx(H,{variant:"default",onClick:h,"aria-label":"Adicionar linha",children:"Adicionar"})}),s.jsxs(Cr,{className:"max-w-xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:i?"Editar linha":"Nova linha de crdito"})}),s.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"nome",children:"Nome"}),s.jsx(de,{id:"nome",...d.register("nome")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"limite",children:"Limite"}),s.jsx(de,{id:"limite",type:"number",step:"0.01",...d.register("limite",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"utilizado",children:"Utilizado"}),s.jsx(de,{id:"utilizado",type:"number",step:"0.01",...d.register("utilizado",{valueAsNumber:!0})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Banco"}),s.jsxs(ot,{value:d.watch("banco_id")||"none",onValueChange:v=>d.setValue("banco_id",v==="none"?"":v),children:[s.jsx(rt,{"aria-label":"Selecionar banco",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"none",children:"Nenhum"}),(Array.isArray(c)?c:[]).filter(v=>!!v&&!!v.id).map(v=>s.jsx(J,{value:String(v.id),children:v.nome_curto||v.nome},String(v.id)))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Modalidade"}),s.jsxs(ot,{value:d.watch("modalidade"),onValueChange:v=>d.setValue("modalidade",v),children:[s.jsx(rt,{"aria-label":"Selecionar modalidade",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"ROTATIVO",children:"Rotativo"}),s.jsx(J,{value:"PARCELADO",children:"Parcelado"}),s.jsx(J,{value:"CARTAO",children:"Carto"}),s.jsx(J,{value:"EMPRESTIMO",children:"Emprstimo"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"taxa_juros",children:"Taxa (%)"}),s.jsx(de,{id:"taxa_juros",type:"number",step:"0.001",...d.register("taxa_juros",{valueAsNumber:!0})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"vencimento_dia",children:"Vencimento (dia)"}),s.jsx(de,{id:"vencimento_dia",type:"number",min:1,max:31,step:1,...d.register("vencimento_dia",{valueAsNumber:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_abertura",children:"Abertura"}),s.jsx(de,{id:"data_abertura",type:"date",...d.register("data_abertura")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:d.watch("status"),onValueChange:v=>d.setValue("status",v),children:[s.jsx(rt,{"aria-label":"Selecionar status",children:s.jsx(it,{})}),s.jsxs(nt,{children:[s.jsx(J,{value:"ATIVA",children:"Ativa"}),s.jsx(J,{value:"INATIVA",children:"Inativa"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"observacoes",children:"Observaes"}),s.jsx(de,{id:"observacoes",...d.register("observacoes")})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),s.jsx(H,{type:"submit",children:"Salvar"})]})]})]})]})]})}),s.jsx(me,{children:s.jsx("div",{className:"overflow-auto rounded-xl border",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Banco"}),s.jsx(_e,{children:"Nome"}),s.jsx(_e,{className:"text-right",children:"Limite"}),s.jsx(_e,{className:"text-right",children:"Utilizado"}),s.jsx(_e,{className:"text-right",children:"Disponvel"}),s.jsx(_e,{children:"Modalidade"}),s.jsx(_e,{children:"Taxa"}),s.jsx(_e,{children:"Venc. dia"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:e.map(v=>s.jsxs(mr,{children:[s.jsx(be,{children:(()=>{const w=(c||[]).find(y=>String(y.id)===String(v.banco_id||""));return w?w.nome_curto||w.nome:"-"})()}),s.jsx(be,{className:"max-w-[320px] truncate",title:v.nome,children:v.nome}),s.jsxs(be,{className:"text-right",children:["R$ ",Number(v.limite).toFixed(2)]}),s.jsxs(be,{className:"text-right",children:["R$ ",Number(v.utilizado).toFixed(2)]}),s.jsxs(be,{className:"text-right",children:["R$ ",p(v).toFixed(2)]}),s.jsx(be,{children:v.modalidade}),s.jsx(be,{children:v.taxa_juros!=null?`${Number(v.taxa_juros).toFixed(3)}%`:"-"}),s.jsx(be,{children:v.vencimento_dia??"-"}),s.jsx(be,{children:v.status}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>m(v),"aria-label":`Editar ${v.nome}`,children:"Editar"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>n(v.id),"aria-label":`Excluir ${v.nome}`,children:"Excluir"})]})})]},v.id))})]})})})]})}function m3e(){x.useEffect(()=>{document.title="Carteira - Noxus"},[]);const[e,t]=x.useState("despesas"),{items:r}=mh(),{items:n}=xw();return x.useEffect(()=>{document.title="Carteira - Noxus"},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Carteira"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gesto de carteira especfica para tatuagens"})]})}),s.jsx(a3e,{contas:r,transacoes:n}),s.jsxs(Fa,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(wa,{className:"rounded-2xl p-1.5 bg-muted/50",children:[s.jsx(St,{value:"despesas",className:"rounded-xl",children:"Fluxo"}),s.jsx(St,{value:"relatorios",className:"rounded-xl",children:"Relatrios"}),s.jsx(St,{value:"bancos",className:"rounded-xl",children:"Bancos"}),s.jsx(St,{value:"creditos",className:"rounded-xl",children:"Crdito"}),s.jsx(St,{value:"dividas",className:"rounded-xl",children:"Dvidas"}),s.jsx(St,{value:"patrimonio",className:"rounded-xl",children:"Patrimnio"})]}),s.jsx(Ct,{value:"despesas",className:"space-y-4",children:s.jsx(QLe,{})}),s.jsxs(Ct,{value:"relatorios",className:"space-y-4",children:[s.jsx(r3e,{}),s.jsx(t3e,{})]}),s.jsx(Ct,{value:"bancos",className:"space-y-4",children:s.jsx(ZW,{})}),s.jsx(Ct,{value:"creditos",className:"space-y-4",children:s.jsx(h3e,{})}),s.jsx(Ct,{value:"dividas",className:"space-y-4",children:s.jsx(o3e,{})}),s.jsx(Ct,{value:"patrimonio",className:"space-y-4",children:s.jsx(d3e,{})})]}),s.jsx(n3e,{activeTab:e,onSelectTab:a=>t(a)})]})}const p3e=[{id:"1",titulo:"Tcnicas Avanadas de Sombreamento",categoria:"Tcnica",autor:"Carlos Silva",data:"2024-01-15",tempoLeitura:8,visualizacoes:245,curtidas:32,tags:["sombreamento","tcnica","avanado"],resumo:"Aprenda tcnicas profissionais de sombreamento que vo elevar seu trabalho para o prximo nvel."},{id:"2",titulo:"Cuidados com a Pele Ps-Tatuagem",categoria:"Ps-Tratamento",autor:"Ana Santos",data:"2024-01-10",tempoLeitura:5,visualizacoes:189,curtidas:28,tags:["ps-tratamento","cuidados","pele"],resumo:"Guia completo sobre os melhores cuidados para garantir uma cicatrizao perfeita."},{id:"3",titulo:"Escolhendo as Mquinas Certas",categoria:"Equipamentos",autor:"Roberto Lima",data:"2024-01-08",tempoLeitura:6,visualizacoes:156,curtidas:22,tags:["mquinas","equipamentos","dicas"],resumo:"Como escolher as melhores mquinas de tatuagem para cada estilo de trabalho."},{id:"4",titulo:"Colorimetria para Tatuadores",categoria:"Teoria",autor:"Mariana Costa",data:"2024-01-05",tempoLeitura:12,visualizacoes:298,curtidas:45,tags:["cores","teoria","colorimetria"],resumo:"Entenda a teoria das cores e como aplic-la nas suas tatuagens."}],g3e=["Todas","Tcnica","Ps-Tratamento","Equipamentos","Teoria","Design","Negcios"];function v3e(){const[e,t]=x.useState(""),[r,n]=x.useState("Todas"),[a,o]=x.useState(p3e),i=a.filter(l=>{const c=l.titulo.toLowerCase().includes(e.toLowerCase())||l.resumo.toLowerCase().includes(e.toLowerCase())||l.tags.some(f=>f.toLowerCase().includes(e.toLowerCase())),u=r==="Todas"||l.categoria===r;return c&&u});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[s.jsx(Iy,{className:"w-8 h-8 text-primary"}),"Centro de Conhecimento"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Artigos, tutoriais e recursos para aprimorar suas habilidades"})]}),s.jsxs(H,{className:"gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Novo Artigo"]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Buscar artigos, tags...",value:e,onChange:l=>t(l.target.value),className:"pl-10"})]}),s.jsx("div",{className:"flex gap-2",children:g3e.map(l=>s.jsx(ft,{variant:r===l?"default":"outline",className:"cursor-pointer",onClick:()=>n(l),children:l},l))})]}),s.jsxs(Fa,{defaultValue:"artigos",className:"space-y-4",children:[s.jsxs(wa,{children:[s.jsxs(St,{value:"artigos",className:"gap-2",children:[s.jsx(Iy,{className:"w-4 h-4"}),"Artigos"]}),s.jsxs(St,{value:"populares",className:"gap-2",children:[s.jsx(Pn,{className:"w-4 h-4"}),"Mais Populares"]}),s.jsxs(St,{value:"comunidade",className:"gap-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Comunidade"]})]}),s.jsx(Ct,{value:"artigos",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(l=>s.jsxs(te,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(ft,{variant:"outline",children:l.categoria}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(El,{className:"w-3 h-3"}),l.tempoLeitura,"min"]})]}),s.jsx(Fe,{className:"text-lg",children:l.titulo}),s.jsx(Ja,{children:l.resumo})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Por ",l.autor]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsx("span",{className:"flex items-center gap-1",children:l.visualizacoes}),s.jsx("span",{className:"flex items-center gap-1",children:l.curtidas})]})]}),s.jsx("div",{className:"flex gap-1 mt-3",children:l.tags.map(c=>s.jsxs(ft,{variant:"secondary",className:"text-xs",children:["#",c]},c))})]})]},l.id))})}),s.jsx(Ct,{value:"populares",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.sort((l,c)=>c.visualizacoes-l.visualizacoes).slice(0,6).map(l=>s.jsxs(te,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[s.jsxs(Le,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(ft,{variant:"outline",children:l.categoria}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(Pn,{className:"w-3 h-3"}),"Popular"]})]}),s.jsx(Fe,{className:"text-lg",children:l.titulo}),s.jsx(Ja,{children:l.resumo})]}),s.jsx(me,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Por ",l.autor]}),s.jsx("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:s.jsxs("span",{children:[l.visualizacoes," visualizaes"]})})]})})]},l.id))})}),s.jsx(Ct,{value:"comunidade",className:"space-y-4",children:s.jsxs(te,{children:[s.jsxs(Le,{children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Comunidade de Tatuadores"]}),s.jsx(Ja,{children:"Conecte-se com outros profissionais, compartilhe experincias e aprenda juntos."})]}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Frum de Discusso"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Participe de discusses sobre tcnicas, equipamentos e tendncias do mercado."}),s.jsx(H,{size:"sm",children:"Acessar Frum"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Grupos de Estudo"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Junte-se a grupos focados em aprimoramento especfico de tcnicas."}),s.jsx(H,{size:"sm",variant:"outline",children:"Explorar Grupos"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Mentoria"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Encontre mentores experientes ou oferea mentoria para iniciantes."}),s.jsx(H,{size:"sm",variant:"outline",children:"Saber Mais"})]})]})})]})})]})]})}const n7=hs({titulo:ze().min(2),objetivo:ze().optional().nullable(),publico_alvo:ze().optional().nullable(),canal:Ts(["INSTAGRAM","FACEBOOK","TIKTOK","GOOGLE_ADS","ORGANICO","EMAIL"]),orcamento:sn().nonnegative().optional().nullable(),data_inicio:ze().optional().nullable(),data_fim:ze().optional().nullable(),status:Ts(["RASCUNHO","ATIVA","PAUSADA","ENCERRADA"]).default("RASCUNHO"),tags:L9(ze()).optional().nullable(),notas:ze().optional().nullable()});function a7(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState({status:"TODOS",canal:"TODOS"}),f=x.useMemo(()=>{const w={RASCUNHO:r.filter(b=>b.status==="RASCUNHO").length,ATIVA:r.filter(b=>b.status==="ATIVA").length,PAUSADA:r.filter(b=>b.status==="PAUSADA").length,ENCERRADA:r.filter(b=>b.status==="ENCERRADA").length},y=r.reduce((b,_)=>b+Number(_.orcamento||0),0);return{porStatus:w,totalOrcamento:y}},[r]),d=async w=>{var y,b,_;try{if(!e)return;o(!0);let N=(Ht?Gt:Z).from("campanhas").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});const S=w||c;S!=null&&S.status&&S.status!=="TODOS"&&(N=N.eq("status",S.status)),S!=null&&S.canal&&S.canal!=="TODOS"&&(N=N.eq("canal",S.canal)),(y=S==null?void 0:S.periodo)!=null&&y.inicio&&(N=N.gte("data_inicio",S.periodo.inicio)),(b=S==null?void 0:S.periodo)!=null&&b.fim&&(N=N.lte("data_fim",S.periodo.fim)),S!=null&&S.q&&(N=N.ilike("titulo",`%${S.q}%`));const{data:C,error:E}=await N;if(E){if(E.code==="PGRST205"||(_=E.message)!=null&&_.includes("schema cache")){n([]),l("Tabela campanhas no encontrada. Aplique o schema e recarregue."),t({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"});return}throw E}n(C||[]),l(null)}catch(j){console.error("Erro ao carregar campanhas:",j),l((j==null?void 0:j.message)||"Erro desconhecido"),t({title:"Erro ao carregar campanhas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},h=async w=>{try{if(!e)throw new Error("Usurio no autenticado");const y=n7.parse(w),b={user_id:e.id,titulo:y.titulo,objetivo:y.objetivo??null,publico_alvo:y.publico_alvo??null,canal:y.canal,orcamento:y.orcamento??null,data_inicio:y.data_inicio??null,data_fim:y.data_fim??null,status:y.status,tags:y.tags??null,notas:y.notas??null},_=Ht?Gt:Z,{data:j,error:N}=await _.from("campanhas").insert(b).select("*");if(N)throw N.code==="PGRST205"&&t({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"}),N;n(S=>j?[j[0],...S]:S),t({title:"Campanha criada",description:"Registro salvo com sucesso."})}catch(y){throw console.error("Erro ao criar campanha:",y),t({title:"Erro ao criar",description:y.message||"Verifique os dados.",variant:"destructive"}),y}},m=async(w,y)=>{try{if(!e)throw new Error("Usurio no autenticado");const b={...y};b.orcamento!==void 0&&(b.orcamento=Number(b.orcamento));const _=Ht?Gt:Z,{data:j,error:N}=await _.from("campanhas").update(b).select("*").eq("id",w).eq("user_id",e.id);if(N)throw N.code==="PGRST205"&&t({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"}),N;if(j&&j.length){const S=j[0];n(C=>C.map(E=>E.id===S.id?S:E))}else await d();t({title:"Campanha atualizada",description:"Alteraes salvas com sucesso."})}catch(b){throw console.error("Erro ao atualizar campanha:",b),t({title:"Erro ao atualizar",description:b.message||"Tente novamente.",variant:"destructive"}),b}},g=async w=>{try{if(!e)throw new Error("Usurio no autenticado");const y=Ht?Gt:Z,{error:b}=await y.from("campanhas").delete().eq("id",w).eq("user_id",e.id);if(b)throw b.code==="PGRST205"&&t({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"}),b;n(_=>_.filter(j=>j.id!==w)),t({title:"Campanha removida",description:"Registro excludo."})}catch(y){throw console.error("Erro ao remover campanha:",y),t({title:"Erro ao remover",description:y.message||"Tente novamente.",variant:"destructive"}),y}},p=async w=>{const y=r.find(_=>_.id===w);if(!y)return;const b={titulo:`${y.titulo} (cpia)`,objetivo:y.objetivo??null,publico_alvo:y.publico_alvo??null,canal:y.canal,orcamento:y.orcamento??null,data_inicio:y.data_inicio??null,data_fim:y.data_fim??null,status:"RASCUNHO",tags:y.tags??null,notas:y.notas??null};await h(b)},v=async(w,y)=>{await m(w,{status:y})};return x.useEffect(()=>{if(d(),!e)return;const w=Ht?Gt:Z,y=w.channel("realtime-campanhas").on("postgres_changes",{event:"INSERT",schema:"public",table:"campanhas",filter:`user_id=eq.${e.id}`},b=>{n(_=>[b.new,..._])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"campanhas",filter:`user_id=eq.${e.id}`},b=>{n(_=>_.map(j=>j.id===b.new.id?b.new:j))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"campanhas",filter:`user_id=eq.${e.id}`},b=>{n(_=>_.filter(j=>j.id!==b.old.id))}).subscribe();return()=>{w.removeChannel(y)}},[e==null?void 0:e.id]),{items:r,stats:f,filters:c,setFilters:u,loading:a,error:i,fetchAll:d,create:h,update:m,remove:g,duplicate:p,setStatus:v}}function y3e(){const{stats:e}=a7(),{porStatus:t,totalOrcamento:r}=e;return s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs(te,{className:"rounded-2xl border",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm",children:"Rascunhos"})}),s.jsx(me,{children:s.jsx("p",{className:"text-2xl font-semibold",children:t.RASCUNHO})})]}),s.jsxs(te,{className:"rounded-2xl border",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm",children:"Ativas"})}),s.jsx(me,{children:s.jsx("p",{className:"text-2xl font-semibold",children:t.ATIVA})})]}),s.jsxs(te,{className:"rounded-2xl border",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm",children:"Pausadas"})}),s.jsx(me,{children:s.jsx("p",{className:"text-2xl font-semibold",children:t.PAUSADA})})]}),s.jsxs(te,{className:"rounded-2xl border",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-sm",children:"Oramento total"})}),s.jsx(me,{children:s.jsxs("p",{className:"text-2xl font-semibold",children:["R$ ",r.toFixed(2)]})})]})]})}const x3e=["INSTAGRAM","FACEBOOK","TIKTOK","GOOGLE_ADS","ORGANICO","EMAIL"],b3e=["RASCUNHO","ATIVA","PAUSADA","ENCERRADA"];function w3e({open:e,onOpenChange:t,onSubmit:r,editing:n}){const a=Pi({resolver:ki(n7),defaultValues:n||{titulo:"",objetivo:"",publico_alvo:"",canal:"INSTAGRAM",orcamento:0,data_inicio:new Date().toISOString().slice(0,10),data_fim:new Date().toISOString().slice(0,10),status:"RASCUNHO",tags:[],notas:""}});return s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Cr,{className:"max-w-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:n?"Editar campanha":"Nova campanha"})}),s.jsxs("form",{onSubmit:a.handleSubmit(async o=>{await r({titulo:o.titulo,objetivo:o.objetivo??null,publico_alvo:o.publico_alvo??null,canal:o.canal,orcamento:o.orcamento??null,data_inicio:o.data_inicio??null,data_fim:o.data_fim??null,status:o.status,tags:o.tags??null,notas:o.notas??null}),t(!1)}),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"titulo",children:"Ttulo"}),s.jsx(de,{id:"titulo",...a.register("titulo")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Canal"}),s.jsxs(ot,{value:a.watch("canal"),onValueChange:o=>a.setValue("canal",o),children:[s.jsx(rt,{"aria-label":"Selecionar canal",children:s.jsx(it,{})}),s.jsx(nt,{children:x3e.map(o=>s.jsx(J,{value:o,children:o.replace("_"," ")},o))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_inicio",children:"Incio"}),s.jsx(de,{id:"data_inicio",type:"date",...a.register("data_inicio")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"data_fim",children:"Fim"}),s.jsx(de,{id:"data_fim",type:"date",...a.register("data_fim")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(re,{htmlFor:"objetivo",children:"Objetivo"}),s.jsx(de,{id:"objetivo",...a.register("objetivo")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"orcamento",children:"Oramento"}),s.jsx(de,{id:"orcamento",type:"number",step:"0.01",...a.register("orcamento",{valueAsNumber:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"publico_alvo",children:"Pblico-alvo"}),s.jsx(de,{id:"publico_alvo",...a.register("publico_alvo")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:a.watch("status"),onValueChange:o=>a.setValue("status",o),children:[s.jsx(rt,{"aria-label":"Selecionar status",children:s.jsx(it,{})}),s.jsx(nt,{children:b3e.map(o=>s.jsx(J,{value:o,children:o},o))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"tags",children:"Tags (separadas por vrgula)"}),s.jsx(de,{id:"tags",value:(a.watch("tags")||[]).join(", "),onChange:o=>a.setValue("tags",o.target.value.split(",").map(i=>i.trim()).filter(Boolean))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"notas",children:"Notas"}),s.jsx(de,{id:"notas",...a.register("notas")})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(H,{type:"submit",children:"Salvar"})]})]})]})})}const j3e=["TODOS","INSTAGRAM","FACEBOOK","TIKTOK","GOOGLE_ADS","ORGANICO","EMAIL"],_3e=["TODOS","RASCUNHO","ATIVA","PAUSADA","ENCERRADA"];function N3e(){var w,y;const{items:e,filters:t,setFilters:r,create:n,update:a,remove:o,duplicate:i,setStatus:l}=a7(),[c,u]=x.useState(!1),[f,d]=x.useState(null),[h,m]=x.useState({});x.useEffect(()=>{m(b=>{const _={...b};return e.forEach((j,N)=>{const S=String(j.id||`temp-${N}-${j.titulo}`);_[S]||(_[S]={leads:0,alcance:0})}),_})},[e]);const g=x.useMemo(()=>{const b={};return e.forEach((_,j)=>{var E;const N=String(_.id||`temp-${j}-${_.titulo}`),S=((E=h[N])==null?void 0:E.leads)||0,C=Number(_.orcamento||0);b[N]=S>0?C/S:0}),b},[e,h]),p=()=>{d(null),u(!0)},v=b=>{d(b),u(!0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(te,{className:"rounded-3xl border border-border/40",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fe,{className:"text-lg",children:"Campanhas"}),s.jsx(H,{onClick:p,children:"Nova campanha"})]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Status"}),s.jsxs(ot,{value:t.status||"TODOS",onValueChange:b=>r({...t,status:b}),children:[s.jsx(rt,{"aria-label":"Filtrar status",children:s.jsx(it,{})}),s.jsx(nt,{children:_3e.map(b=>s.jsx(J,{value:b,children:b},b))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Canal"}),s.jsxs(ot,{value:t.canal||"TODOS",onValueChange:b=>r({...t,canal:b}),children:[s.jsx(rt,{"aria-label":"Filtrar canal",children:s.jsx(it,{})}),s.jsx(nt,{children:j3e.map(b=>s.jsx(J,{value:b,children:String(b).replace("_"," ")},b))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"inicio",children:"Incio"}),s.jsx(de,{id:"inicio",type:"date",value:((w=t.periodo)==null?void 0:w.inicio)||"",onChange:b=>r({...t,periodo:{...t.periodo,inicio:b.target.value}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"fim",children:"Fim"}),s.jsx(de,{id:"fim",type:"date",value:((y=t.periodo)==null?void 0:y.fim)||"",onChange:b=>r({...t,periodo:{...t.periodo,fim:b.target.value}})})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx(re,{htmlFor:"busca",children:"Busca"}),s.jsx(de,{id:"busca",placeholder:"Buscar por ttulo",value:t.q||"",onChange:b=>r({...t,q:b.target.value})})]}),s.jsx("div",{className:"overflow-auto rounded-xl border",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Ttulo"}),s.jsx(_e,{children:"Canal"}),s.jsx(_e,{children:"Perodo"}),s.jsx(_e,{className:"text-right",children:"Oramento"}),s.jsx(_e,{className:"text-right",children:"Leads"}),s.jsx(_e,{className:"text-right",children:"Alcance"}),s.jsx(_e,{className:"text-right",children:"CPL"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:e.map((b,_)=>{var N,S,C;const j=String(b.id||`temp-${_}-${b.titulo}`);return s.jsxs(mr,{children:[s.jsx(be,{className:"max-w-[280px] truncate",title:b.titulo,children:b.titulo}),s.jsx(be,{children:String(b.canal).replace("_"," ")}),s.jsx(be,{children:[b.data_inicio,b.data_fim].filter(Boolean).join("  ")}),s.jsxs(be,{className:"text-right",children:["R$ ",Number(b.orcamento||0).toFixed(2)]}),s.jsx(be,{className:"text-right",children:s.jsx(de,{className:"w-24 text-right",type:"number",min:0,value:((N=h[j])==null?void 0:N.leads)??0,onChange:E=>{const P=Math.max(0,Number(E.target.value||0));m(A=>{var M;return{...A,[j]:{leads:P,alcance:((M=A[j])==null?void 0:M.alcance)??0}}})}})}),s.jsx(be,{className:"text-right",children:s.jsx(de,{className:"w-28 text-right",type:"number",min:0,value:((S=h[j])==null?void 0:S.alcance)??0,onChange:E=>{const P=Math.max(0,Number(E.target.value||0));m(A=>{var M;return{...A,[j]:{leads:((M=A[j])==null?void 0:M.leads)??0,alcance:P}}})}})}),s.jsx(be,{className:"text-right",children:(C=h[j])!=null&&C.leads?s.jsxs("span",{className:"font-semibold",children:["R$ ",g[j].toFixed(2)]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(be,{children:b.status}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>v(b),children:"Editar"}),s.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(b.id),children:"Duplicar"}),b.status!=="ATIVA"&&s.jsx(H,{variant:"default",size:"sm",onClick:()=>l(b.id,"ATIVA"),children:"Ativar"}),b.status==="ATIVA"&&s.jsx(H,{variant:"secondary",size:"sm",onClick:()=>l(b.id,"PAUSADA"),children:"Pausar"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>o(b.id),children:"Excluir"})]})})]},j)})})]})})]})]}),s.jsx(w3e,{open:c,onOpenChange:u,editing:f||void 0,onSubmit:async b=>{f!=null&&f.id?await a(f.id,b):await n(b)}})]})}function S3e(){return s.jsx("div",{className:"space-y-6",children:s.jsxs(te,{className:"rounded-3xl border border-border/40 bg-gradient-to-br from-primary/5 to-accent/5",children:[s.jsx(Le,{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:"Marketing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Planeje e acompanhe as iniciativas de marketing do estdio"})]})})}),s.jsx(me,{children:s.jsxs(Fa,{defaultValue:"campanha",children:[s.jsxs(wa,{children:[s.jsx(St,{value:"campanha","aria-label":"Campanha",children:"Campanha"}),s.jsx(St,{value:"branding","aria-label":"Branding",children:"Branding"}),s.jsx(St,{value:"producao","aria-label":"Produo de contedo",children:"Produo de contedo"}),s.jsx(St,{value:"anuncio","aria-label":"Anncio",children:"Anncio"})]}),s.jsx(Ct,{value:"campanha",children:s.jsxs("div",{className:"mt-4",children:[s.jsx(y3e,{}),s.jsx(N3e,{})]})}),s.jsx(Ct,{value:"branding",children:s.jsx("div",{className:"mt-4"})}),s.jsx(Ct,{value:"producao",children:s.jsx("div",{className:"mt-4"})}),s.jsx(Ct,{value:"anuncio",children:s.jsx("div",{className:"mt-4"})})]})})]})})}const y0=e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=e.trim().replace(/\./g,"").replace(",","."),r=Number(t);return Number.isNaN(r)?void 0:r}},s7=hs({data_aquisicao:ze().min(1),tipo_material:ze().min(1),nome:ze().min(2),marca:ze().optional().nullable(),fornecedor:ze().optional().nullable(),quantidade:BD(y0,sn().nonnegative()),unidade:ze().min(1),custo_unitario:BD(y0,sn().nonnegative()),lote:ze().optional().nullable(),validade:ze().optional().nullable(),local_armazenamento:ze().optional().nullable(),observacoes:ze().optional().nullable()});function C3e(){const{user:e}=dn(),{toast:t}=en(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(null),c=Ht?Gt:Z,u=async()=>{try{if(!e)return;o(!0);const{data:m,error:g}=await c.from("estoque_materiais").select("*").eq("user_id",e.id).order("data_aquisicao",{ascending:!1});if(g)throw g;n(m||[]),l(null)}catch(m){console.error("Erro ao carregar estoque_materiais:",m),l((m==null?void 0:m.message)||"Erro desconhecido"),t({title:"Erro ao carregar materiais",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}},f=async m=>{try{if(!e)throw new Error("Usurio no autenticado");const g=s7.parse(m),p={user_id:e.id,data_aquisicao:g.data_aquisicao,tipo_material:g.tipo_material,nome:g.nome,marca:g.marca??null,fornecedor:g.fornecedor??null,quantidade:g.quantidade,unidade:g.unidade,custo_unitario:g.custo_unitario,lote:g.lote??null,validade:g.validade??null,local_armazenamento:g.local_armazenamento??null,observacoes:g.observacoes??null},{data:v,error:w}=await c.from("estoque_materiais").insert(p).select("*");if(w)throw w;n(y=>v?[v[0],...y]:y),t({title:"Material adicionado",description:"Item cadastrado com sucesso."})}catch(g){throw console.error("Erro ao inserir em estoque_materiais:",g),t({title:"Erro ao adicionar",description:g.message||"Verifique os dados.",variant:"destructive"}),g}},d=async(m,g)=>{try{if(!e)throw new Error("Usurio no autenticado");const p={...g};p.quantidade!==void 0&&(p.quantidade=y0(p.quantidade)),p.custo_unitario!==void 0&&(p.custo_unitario=y0(p.custo_unitario));const{data:v,error:w}=await c.from("estoque_materiais").update(p).select("*").eq("id",m).eq("user_id",e.id);if(w)throw w;if(v&&v.length){const y=v[0];n(b=>b.map(_=>_.id===y.id?y:_))}else await u();t({title:"Material atualizado",description:"Alteraes salvas com sucesso."})}catch(p){throw console.error("Erro ao atualizar estoque_materiais:",p),t({title:"Erro ao atualizar",description:p.message||"Tente novamente.",variant:"destructive"}),p}},h=async m=>{try{if(!e)throw new Error("Usurio no autenticado");const{error:g}=await c.from("estoque_materiais").delete().eq("id",m).eq("user_id",e.id);if(g)throw g;n(p=>p.filter(v=>v.id!==m)),t({title:"Material removido",description:"Item excludo do estoque."})}catch(g){throw console.error("Erro ao remover estoque_materiais:",g),t({title:"Erro ao remover",description:g.message||"Tente novamente.",variant:"destructive"}),g}};return x.useEffect(()=>{if(u(),!e)return;const m=c.channel("realtime-estoque_materiais").on("postgres_changes",{event:"INSERT",schema:"public",table:"estoque_materiais",filter:`user_id=eq.${e.id}`},g=>{n(p=>[g.new,...p])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"estoque_materiais",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.map(v=>v.id===g.new.id?g.new:v))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"estoque_materiais",filter:`user_id=eq.${e.id}`},g=>{n(p=>p.filter(v=>v.id!==g.old.id))}).subscribe();return()=>{c.removeChannel(m)}},[e==null?void 0:e.id]),{items:r,loading:a,error:i,fetchAll:u,insert:f,update:d,remove:h}}function WD({trigger:e,initial:t,onSubmit:r,open:n,onOpenChange:a}){const o=Pi({resolver:ki(s7),defaultValues:t||{data_aquisicao:"",tipo_material:"",nome:"",marca:"",fornecedor:"",quantidade:0,unidade:"un",custo_unitario:0,lote:"",validade:"",local_armazenamento:"",observacoes:""}}),i=async l=>{await r(l)};return s.jsxs(Ir,{open:n,onOpenChange:a,children:[e?s.jsx(_o,{asChild:!0,children:e}):null,s.jsxs(Cr,{children:[s.jsx(Er,{children:s.jsx(Or,{children:t?"Editar material":"Adicionar material"})}),s.jsx(g0,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(pn,{name:"data_aquisicao",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Data de aquisio"}),s.jsx(rn,{children:s.jsx(de,{type:"date",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"tipo_material",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Tipo do material"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"ex.: agulha, tinta, luva",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"nome",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Nome"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"Nome do material",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"marca",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Marca"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"Marca",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"fornecedor",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Fornecedor"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"Fornecedor",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"lote",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Lote"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"Lote",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"validade",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Validade"}),s.jsx(rn,{children:s.jsx(de,{type:"date",...l})}),s.jsx(nn,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(pn,{name:"quantidade",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Quantidade"}),s.jsx(rn,{children:s.jsx(de,{type:"number",step:"0.01",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"unidade",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Unidade"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"un, ml, g",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"custo_unitario",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Custo unitrio (R$)"}),s.jsx(rn,{children:s.jsx(de,{type:"number",step:"0.01",...l})}),s.jsx(nn,{})]})})]}),s.jsx(pn,{name:"local_armazenamento",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Local de armazenamento"}),s.jsx(rn,{children:s.jsx(de,{placeholder:"Ex.: sala 1, armrio A",...l})}),s.jsx(nn,{})]})}),s.jsx(pn,{name:"observacoes",control:o.control,render:({field:l})=>s.jsxs(tn,{children:[s.jsx(Vr,{children:"Observaes"}),s.jsx(rn,{children:s.jsx(Jn,{placeholder:"Notas adicionais",...l})}),s.jsx(nn,{})]})}),s.jsx(hb,{children:s.jsx(H,{type:"submit",children:t?"Salvar":"Adicionar"})})]})})]})]})}function E3e(){const{items:e,insert:t,update:r,remove:n}=C3e(),[a,o]=x.useState(""),[i,l]=x.useState(""),[c,u]=x.useState(""),[f,d]=x.useState(null),[h,m]=x.useState(null),g=e.filter(p=>{var _;const v=a?(_=p.tipo_material)==null?void 0:_.toLowerCase().includes(a.toLowerCase()):!0,w=p.data_aquisicao?new Date(p.data_aquisicao):null,y=i?w?w>=new Date(i):!1:!0,b=c?w?w<=new Date(c):!1:!0;return v&&y&&b});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{placeholder:"Filtrar por tipo",value:a,onChange:p=>o(p.target.value)}),s.jsx(de,{type:"date",value:i,onChange:p=>l(p.target.value)}),s.jsx(de,{type:"date",value:c,onChange:p=>u(p.target.value)})]}),s.jsx(WD,{trigger:s.jsx(H,{variant:"default",children:"Adicionar material"}),initial:null,onSubmit:async p=>{await t(p)}})]}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-0",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Data aqu."}),s.jsx(_e,{children:"Tipo"}),s.jsx(_e,{children:"Nome"}),s.jsx(_e,{children:"Marca"}),s.jsx(_e,{children:"Qtd"}),s.jsx(_e,{children:"Un"}),s.jsx(_e,{children:"Custo (R$)"}),s.jsx(_e,{children:"Total (R$)"}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:g.map(p=>s.jsxs(mr,{children:[s.jsx(be,{children:p.data_aquisicao}),s.jsx(be,{children:p.tipo_material}),s.jsx(be,{children:p.nome}),s.jsx(be,{children:p.marca}),s.jsx(be,{children:Number(p.quantidade).toLocaleString("pt-BR")}),s.jsx(be,{children:p.unidade}),s.jsx(be,{children:Number(p.custo_unitario).toLocaleString("pt-BR",{minimumFractionDigits:2})}),s.jsx(be,{children:Number(p.valor_total||Number(p.quantidade)*Number(p.custo_unitario)).toLocaleString("pt-BR",{minimumFractionDigits:2})}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>d(p),children:"Editar"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>m(p),children:"Excluir"})]})})]},p.id))})]})})}),f&&s.jsx(WD,{initial:f,open:!!f,onOpenChange:p=>{p||d(null)},onSubmit:async p=>{f!=null&&f.id&&await r(f.id,p),d(null)}}),s.jsx(Ir,{open:!!h,onOpenChange:p=>!p&&m(null),children:s.jsxs(Cr,{children:[s.jsx(Er,{children:s.jsx(Or,{children:"Excluir material"})}),'Tem certeza que deseja excluir "',h==null?void 0:h.nome,'"?',s.jsxs(hb,{children:[s.jsx(H,{variant:"outline",onClick:()=>m(null),children:"Cancelar"}),s.jsx(H,{variant:"destructive",onClick:async()=>{h!=null&&h.id&&await n(h.id),m(null)},children:"Excluir"})]})]})})]})}function O3e(){return s.jsx("div",{className:"space-y-6",children:s.jsxs(te,{className:"rounded-3xl border border-border/40 bg-gradient-to-br from-primary/5 to-accent/5",children:[s.jsx(Le,{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:"Estoque"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gesto de materiais e anlise de custos do estdio"})]})})}),s.jsx(me,{children:s.jsxs(Fa,{defaultValue:"materiais",children:[s.jsxs(wa,{children:[s.jsx(St,{value:"materiais","aria-label":"Materiais",children:"Materiais"}),s.jsx(St,{value:"custo","aria-label":"Anlise de custo",children:"Anlise de custo"})]}),s.jsx(Ct,{value:"materiais",children:s.jsx("div",{className:"mt-4 space-y-4",children:s.jsx(E3e,{})})}),s.jsx(Ct,{value:"custo",children:s.jsx("div",{className:"mt-4 space-y-4"})})]})})]})})}function q2(){const{toast:e}=en(),{user:t}=dn(),[r,n]=x.useState([]),[a,o]=x.useState(!1),[i,l]=x.useState(""),[c,u]=x.useState("all"),[f,d]=x.useState("all"),[h,m]=x.useState("all");x.useEffect(()=>{(async()=>{if(!t)return;o(!0);const{data:_,error:j}=await Z.from("aulas").select("*").order("updated_at",{ascending:!1}).order("created_at",{ascending:!1});j?e({title:"Erro ao carregar aulas",description:j.message}):n(_||[]),o(!1)})()},[t]);const g=x.useMemo(()=>r.filter(_=>{var P,A,M;const j=i.toLowerCase(),N=!j||((P=_.titulo)==null?void 0:P.toLowerCase().includes(j))||((A=_.descricao)==null?void 0:A.toLowerCase().includes(j))||((M=_.disciplina)==null?void 0:M.toLowerCase().includes(j)),S=c==="all"||_.status===c,C=f==="all"||_.disciplina===f,E=h==="all"||_.responsavel_id===h;return N&&S&&C&&E}),[r,i,c,f,h]);async function p(_,j){const N=r;n(C=>C.map(E=>E.id===_?{...E,status:j}:E));const{error:S}=await Z.from("aulas").update({status:j}).eq("id",_);if(S){e({title:"Falha ao mover aula",description:S.message}),n(N);return}await Z.from("aula_versions").insert({aula_id:_,user_id:t.id,version_number:Date.now(),snapshot:{status:j}})}async function v(_,j){const N=r;n(C=>C.map(E=>E.id===_?{...E,...j}:E));const{error:S}=await Z.from("aulas").update(j).eq("id",_);return S?(e({title:"Falha ao salvar aula",description:S.message}),n(N),!1):(await Z.from("aula_versions").insert({aula_id:_,user_id:t.id,version_number:Date.now(),snapshot:{...j}}),!0)}async function w(_,j={}){if(!t)return e({title:"Sesso no encontrada",description:"Faa login para criar aulas",variant:"destructive"}),null;const{data:N}=await Z.from("aula_modelos").select("*").eq("id",_).maybeSingle(),S={titulo:(N==null?void 0:N.titulo)||"Nova Aula",disciplina:(N==null?void 0:N.disciplina)||null,descricao:(N==null?void 0:N.descricao)||null,status:"esboco",modelo_id:_,responsavel_id:t.id,estrutura:(N==null?void 0:N.estrutura)||null,...j},{data:C,error:E}=await Z.from("aulas").insert(S).select("*").single();if(E)return e({title:"Falha ao criar aula",description:E.message}),null;n(P=>[C,...P]);try{await Z.from("aula_versions").insert({aula_id:C.id,user_id:t.id,version_number:1,snapshot:S})}catch(P){e({title:"Verso no registrada",description:(P==null?void 0:P.message)||"Erro ao salvar verso",variant:"destructive"})}return e({title:"Aula criada",description:"A aula foi adicionada"}),C}async function y(_={}){if(!t)return e({title:"Sesso no encontrada",description:"Faa login para criar aulas",variant:"destructive"}),null;const j=r,N={titulo:_.titulo||"Nova Aula",descricao:_.descricao??null,status:_.status||"esboco",disciplina:_.disciplina??null,responsavel_id:_.responsavel_id??t.id,prazo:_.prazo??null,modelo_id:_.modelo_id??null,estrutura:_.estrutura??null},S=`temp-${Date.now()}`,C={id:S,titulo:N.titulo,descricao:N.descricao||null,status:N.status,disciplina:N.disciplina||null,responsavel_id:N.responsavel_id||null,prazo:N.prazo||null,modelo_id:N.modelo_id||null,estrutura:N.estrutura||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(A=>[C,...A]);const{data:E,error:P}=await Z.from("aulas").insert(N).select("*").single();return P?(n(j),e({title:"Falha ao criar aula",description:P.message}),null):(n(A=>A.map(M=>M.id===S?E:M)),(async()=>{const{error:A}=await Z.from("aula_versions").insert({aula_id:E.id,user_id:t.id,version_number:1,snapshot:N});A&&e({title:"Verso no registrada",description:A.message,variant:"destructive"})})(),e({title:"Aula criada",description:"A aula foi adicionada"}),E)}async function b(_){if(!t)return e({title:"Sesso no encontrada",description:"Faa login para excluir aulas",variant:"destructive"}),!1;const j=r;n(S=>S.filter(C=>C.id!==_));const{error:N}=await Z.from("aulas").delete().eq("id",_);return N?(e({title:"Falha ao excluir aula",description:N.message,variant:"destructive"}),n(j),!1):(e({title:"Aula excluda",description:"A aula foi removida"}),!0)}return{aulas:r,filtered:g,loading:a,search:i,setSearch:l,statusFilter:c,setStatusFilter:u,disciplinaFilter:f,setDisciplinaFilter:d,responsavelFilter:h,setResponsavelFilter:m,updateStatus:p,updateAula:v,createAulaFromModelo:w,createAula:y,deleteAula:b}}const A3e={esboco:"Esboo inicial",desenvolvimento:"Desenvolvimento",revisao:"Reviso",finalizacao:"Finalizao",pronta:"Aula pronta"};function P3e({aula:e,onDoubleClick:t}){return s.jsxs(te,{className:"rounded-xl hover:shadow transition-all select-none",draggable:!0,onDoubleClick:()=>t==null?void 0:t(e),children:[s.jsx(Le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Fe,{className:"text-sm font-semibold truncate",children:e.titulo}),s.jsx(ft,{variant:"outline",className:"text-xs",children:A3e[e.status]})]})}),s.jsxs(me,{className:"space-y-2",children:[e.descricao&&s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e.descricao}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Gf,{className:"w-3 h-3"}),s.jsx("span",{children:e.responsavel_id?"Responsvel definido":"Sem responsvel"})]}),e.prazo&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(El,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{children:new Date(e.prazo).toLocaleDateString()})]})]})]})]})}const k3e=[{value:"esboco",label:"Esboo inicial"},{value:"desenvolvimento",label:"Desenvolvimento"},{value:"revisao",label:"Reviso"},{value:"finalizacao",label:"Finalizao"},{value:"pronta",label:"Aula pronta"}];function o7({open:e,aula:t,onClose:r,onSave:n,onDelete:a}){const[o,i]=x.useState((t==null?void 0:t.titulo)||""),[l,c]=x.useState((t==null?void 0:t.descricao)||""),[u,f]=x.useState((t==null?void 0:t.status)||"esboco"),[d,h]=x.useState((t==null?void 0:t.disciplina)||""),[m,g]=x.useState((t==null?void 0:t.prazo)||""),p=t&&o.trim().length>0;x.useEffect(()=>{i((t==null?void 0:t.titulo)||""),c((t==null?void 0:t.descricao)||""),f((t==null?void 0:t.status)||"esboco"),h((t==null?void 0:t.disciplina)||""),g((t==null?void 0:t.prazo)||"")},[t,e]);async function v(){if(!t)return;await n(t.id,{titulo:o,descricao:l,status:u,disciplina:d,prazo:m})&&r()}async function w(){if(!t)return;await a(t.id)&&r()}return s.jsx(Ir,{open:e,onOpenChange:y=>y?null:r(),children:s.jsxs(Cr,{className:"rounded-2xl",children:[s.jsx(Er,{children:s.jsx(Or,{children:"Editar Aula"})}),t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Ttulo"}),s.jsx(de,{value:o,onChange:y=>i(y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Mdulo"}),s.jsx(de,{value:d||"",onChange:y=>h(y.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Status"}),s.jsxs(ot,{value:u,onValueChange:y=>f(y),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{})}),s.jsx(nt,{className:"rounded-xl",children:k3e.map(y=>s.jsx(J,{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Prazo"}),s.jsx(de,{type:"date",value:m||"",onChange:y=>g(y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Responsvel"}),s.jsx(ft,{variant:"outline",className:"rounded-xl",children:t.responsavel_id?"Definido":"Sem responsvel"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Descrio / Estrutura"}),s.jsx(Jn,{rows:6,value:l||"",onChange:y=>c(y.target.value)})]}),s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx(H,{variant:"destructive",onClick:w,className:"rounded-xl",children:"Excluir"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",onClick:r,className:"rounded-xl",children:"Cancelar"}),s.jsx(H,{onClick:v,disabled:!p,className:"rounded-xl",children:"Salvar"})]})]})]}):null]})})}const u_=[{key:"esboco",label:"Esboo inicial",icon:B0},{key:"desenvolvimento",label:"Desenvolvimento",icon:Fy},{key:"revisao",label:"Reviso",icon:nX},{key:"finalizacao",label:"Finalizao",icon:Ol},{key:"pronta",label:"Aula pronta",icon:$o}];function T3e(){const{filtered:e,updateStatus:t,updateAula:r,deleteAula:n}=q2(),[a,o]=x.useState(null);function i(c,u){c.dataTransfer.setData("text/plain",u),c.dataTransfer.effectAllowed="move"}function l(c){var d,h;const u=e.filter(m=>m.status===c),f=(d=u_.find(m=>m.key===c))==null?void 0:d.icon;return s.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 flex flex-col gap-3 min-h-[300px]",onDragOver:m=>m.preventDefault(),onDrop:m=>{m.preventDefault();const g=m.dataTransfer.getData("text/plain");g&&t(g,c)},children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f&&s.jsx(f,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:(h=u_.find(m=>m.key===c))==null?void 0:h.label})]}),s.jsx(ft,{variant:"outline",className:"text-xs",children:u.length})]}),u.length===0?s.jsx("div",{className:"text-xs text-muted-foreground py-8 text-center border border-dashed rounded-lg",children:"Arraste aulas para c"}):s.jsx("div",{className:"flex flex-col gap-3",children:u.map(m=>s.jsx("div",{onDragStart:g=>i(g,m.id),children:s.jsx(P3e,{aula:m,onDoubleClick:g=>o(g)})},m.id))})]},c)}return s.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-5",children:[u_.map(c=>l(c.key)),s.jsx(o7,{open:!!a,aula:a,onClose:()=>o(null),onSave:r,onDelete:n})]})}function M3e(){const{filtered:e,updateAula:t,deleteAula:r}=q2(),[n,a]=x.useState(null);return s.jsxs(te,{className:"rounded-xl",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ms,{children:[s.jsx(ps,{children:s.jsxs(mr,{children:[s.jsx(_e,{children:"Aula"}),s.jsx(_e,{children:"Mdulo"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Prazo"}),s.jsx(_e,{children:"Responsvel"}),s.jsx(_e,{children:"Aes"})]})}),s.jsx(gs,{children:e.map(o=>s.jsxs(mr,{className:"cursor-pointer",onClick:()=>a(o),children:[s.jsx(be,{className:"font-medium",children:o.titulo}),s.jsx(be,{children:o.disciplina||"-"}),s.jsx(be,{children:o.status}),s.jsx(be,{children:o.prazo?new Date(o.prazo).toLocaleDateString():"-"}),s.jsx(be,{children:o.responsavel_id?"Definido":"-"}),s.jsx(be,{children:s.jsxs(H,{variant:"destructive",size:"sm",className:"rounded-xl inline-flex items-center gap-2",onClick:i=>{i.stopPropagation(),r(o.id)},children:[s.jsx(Da,{className:"w-4 h-4"})," Excluir"]})})]},o.id))})]})}),s.jsx(o7,{open:!!n,aula:n,onClose:()=>a(null),onSave:t,onDelete:r})]})}function R3e(){const{search:e,setSearch:t,statusFilter:r,setStatusFilter:n,disciplinaFilter:a,setDisciplinaFilter:o,responsavelFilter:i,setResponsavelFilter:l,createAula:c}=q2(),[u,f]=x.useState("kanban");return s.jsx("div",{className:"space-y-6",children:s.jsxs(te,{className:"rounded-3xl border border-border/40 bg-gradient-to-br from-primary/5 to-accent/5",children:[s.jsx(Le,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:s.jsx(B0,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Fe,{className:"text-xl",children:"Curso MVP"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gesto do curso e desenvolvimento de aulas"})]})]})}),s.jsx(me,{children:s.jsxs(Fa,{defaultValue:"clientes",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs(wa,{className:"inline-flex w-auto rounded-2xl p-1.5 bg-muted/50 shadow-sm",children:[s.jsxs(St,{value:"clientes",className:"rounded-xl px-4 py-2",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"})," Clientes do curso"]}),s.jsxs(St,{value:"aulas",className:"rounded-xl px-4 py-2",children:[s.jsx(tX,{className:"w-4 h-4 mr-2"})," desenvolvimento de aula"]})]})}),s.jsx(Ct,{value:"clientes",className:"space-y-4",children:s.jsx("div",{className:"text-muted-foreground",children:"Em breve: listagem e gesto de alunos matriculados, status e mtricas."})}),s.jsxs(Ct,{value:"aulas",className:"space-y-4",children:[s.jsx(te,{className:"rounded-2xl",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(de,{placeholder:"Buscar por ttulo, descrio ou mdulo...",value:e,onChange:d=>t(d.target.value),className:"pl-10 rounded-xl"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eE,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs(ot,{value:r,onValueChange:d=>n(d),children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Status"})}),s.jsxs(nt,{className:"rounded-xl",children:[s.jsx(J,{value:"all",children:"Todos"}),s.jsx(J,{value:"esboco",children:"Esboo"}),s.jsx(J,{value:"desenvolvimento",children:"Desenvolvimento"}),s.jsx(J,{value:"revisao",children:"Reviso"}),s.jsx(J,{value:"finalizacao",children:"Finalizao"}),s.jsx(J,{value:"pronta",children:"Pronta"})]})]}),s.jsxs(ot,{value:a,onValueChange:o,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Mdulo"})}),s.jsxs(nt,{className:"rounded-xl",children:[s.jsx(J,{value:"all",children:"Todos"}),s.jsx(J,{value:"Terica",children:"Terica"}),s.jsx(J,{value:"Prtica",children:"Prtica"}),s.jsx(J,{value:"Workshop",children:"Workshop"})]})]}),s.jsxs(ot,{value:i,onValueChange:l,children:[s.jsx(rt,{className:"rounded-xl",children:s.jsx(it,{placeholder:"Responsvel"})}),s.jsxs(nt,{className:"rounded-xl",children:[s.jsx(J,{value:"all",children:"Todos"}),s.jsx(J,{value:"meu",children:"Meus"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("button",{onClick:()=>f("kanban"),className:`inline-flex items-center gap-2 px-3 py-2 rounded-xl border ${u==="kanban"?"bg-muted":""}`,children:[s.jsx(tE,{className:"w-4 h-4"})," Kanban"]}),s.jsxs("button",{onClick:()=>f("lista"),className:`inline-flex items-center gap-2 px-3 py-2 rounded-xl border ${u==="lista"?"bg-muted":""}`,children:[s.jsx(nE,{className:"w-4 h-4"})," Lista"]}),s.jsxs(H,{onClick:()=>c(),className:"rounded-xl gap-2",children:[s.jsx(is,{className:"w-4 h-4"})," Nova Aula"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e&&s.jsxs(ft,{variant:"secondary",className:"rounded-full",children:['Busca: "',e,'"']}),r!=="all"&&s.jsx(ft,{variant:"secondary",className:"rounded-full",children:String(r)}),a!=="all"&&s.jsx(ft,{variant:"secondary",className:"rounded-full",children:String(a)}),i!=="all"&&s.jsx(ft,{variant:"secondary",className:"rounded-full",children:String(i)})]})]})}),u==="kanban"?s.jsx(T3e,{}):s.jsx(M3e,{})]})]})})]})})}const $3e=()=>{const e=wo();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},D3e=({squareSize:e=4,gridGap:t=6,flickerChance:r=.3,color:n="rgb(0, 0, 0)",width:a,height:o,className:i,maxOpacity:l=.3})=>{const c=x.useRef(null),u=x.useRef(null),[f,d]=x.useState(!1),[h,m]=x.useState({width:0,height:0}),g=x.useMemo(()=>(b=>{if(typeof window>"u")return"rgba(0, 0, 0,";const _=document.createElement("canvas");_.width=_.height=1;const j=_.getContext("2d");if(!j)return"rgba(255, 0, 0,";j.fillStyle=b,j.fillRect(0,0,1,1);const[N,S,C]=Array.from(j.getImageData(0,0,1,1).data);return`rgba(${N}, ${S}, ${C},`})(n),[n]),p=x.useCallback((y,b,_)=>{const j=window.devicePixelRatio||1;y.width=b*j,y.height=_*j,y.style.width=`${b}px`,y.style.height=`${_}px`;const N=Math.floor(b/(e+t)),S=Math.floor(_/(e+t)),C=new Float32Array(N*S);for(let E=0;E<C.length;E++)C[E]=Math.random()*l;return{cols:N,rows:S,squares:C,dpr:j}},[e,t,l]),v=x.useCallback((y,b)=>{for(let _=0;_<y.length;_++)Math.random()<r*b&&(y[_]=Math.random()*l)},[r,l]),w=x.useCallback((y,b,_,j,N,S,C)=>{y.clearRect(0,0,b,_),y.fillStyle="transparent",y.fillRect(0,0,b,_);for(let E=0;E<j;E++)for(let P=0;P<N;P++){const A=S[E*N+P];y.fillStyle=`${g}${A})`,y.fillRect(E*(e+t)*C,P*(e+t)*C,e*C,e*C)}},[g,e,t]);return x.useEffect(()=>{const y=c.current,b=u.current;if(!y||!b)return;const _=y.getContext("2d");if(!_)return;let j,N;const S=()=>{const M=a||b.clientWidth,O=o||b.clientHeight;m({width:M,height:O}),N=p(y,M,O)};S();let C=0;const E=M=>{if(!f)return;const O=(M-C)/1e3;C=M,v(N.squares,O),w(_,y.width,y.height,N.cols,N.rows,N.squares,N.dpr),j=requestAnimationFrame(E)},P=new ResizeObserver(()=>{S()});P.observe(b);const A=new IntersectionObserver(([M])=>{d(M.isIntersecting)},{threshold:0});return A.observe(y),f&&(j=requestAnimationFrame(E)),()=>{cancelAnimationFrame(j),P.disconnect(),A.disconnect()}},[p,v,w,a,o,f]),s.jsx("div",{ref:u,className:`w-full h-full ${i??""}`,children:s.jsx("canvas",{ref:c,className:"pointer-events-none",style:{width:h.width,height:h.height}})})};function I3e(){const[e,t]=x.useState(!1),[r,n]=x.useState(""),[a,o]=x.useState(""),[i,l]=x.useState(""),c="5599999999999",u="vendas@empresa.com",f=()=>{const h=`Ol! Gostaria de falar com Vendas sobre o SGE.

Nome: ${r}
Email: ${a}
Mensagem: ${i}`,m=`https://wa.me/${c}?text=${encodeURIComponent(h)}`;window.open(m,"_blank"),t(!1)},d=()=>{const h="Contato SGE - Fale com Vendas",m=`Nome: ${r}
Email: ${a}

Mensagem:
${i}`;window.location.href=`mailto:${u}?subject=${encodeURIComponent(h)}&body=${encodeURIComponent(m)}`,t(!1)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-secondary/20",children:[s.jsxs("header",{className:"relative overflow-hidden px-6 pt-20 pb-12 sm:pt-28",children:[s.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 opacity-40",children:s.jsx(D3e,{squareSize:4,gridGap:6,flickerChance:.25,maxOpacity:.25,className:"w-full h-full"})}),s.jsxs("div",{className:"mx-auto max-w-6xl text-center",children:[s.jsx(ft,{className:"rounded-xl mb-4",variant:"outline",children:"Novo  Inteligente  Eficiente"}),s.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold tracking-tight",children:"SGE  Sistema de Gesto Empresarial"}),s.jsx("p",{className:"mt-4 text-muted-foreground text-lg sm:text-xl",children:"Organize clientes, projetos, agendamentos e financeiro em um s lugar. Insights inteligentes ajudam voc a tomar decises com segurana."}),s.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[s.jsx(Nc,{to:"/auth",children:s.jsx(H,{size:"lg",className:"rounded-2xl",children:"Entrar agora"})}),s.jsx("a",{href:"#recursos",children:s.jsx(H,{size:"lg",variant:"outline",className:"rounded-2xl",children:"Ver recursos"})}),s.jsx(H,{size:"lg",variant:"secondary",className:"rounded-2xl",onClick:()=>t(!0),children:"Fale com Vendas"})]}),s.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:'J tem conta? Use o boto "Entrar agora" para fazer login.'})]})]}),s.jsx("section",{id:"recursos",className:"px-6 pb-16",children:s.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"})," Clientes"]})}),s.jsx(me,{className:"text-muted-foreground",children:"Cadastre, segmente e acompanhe relacionamento e indicaes. Visualizaes flexveis com lista, grade e tabela para diferentes fluxos."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(dg,{className:"h-5 w-5"})," Projetos"]})}),s.jsx(me,{className:"text-muted-foreground",children:"Planeje e acompanhe status, etapas e responsveis. Tenha viso consolidada do progresso com indicadores claros."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-5 w-5"})," Agendamentos"]})}),s.jsx(me,{className:"text-muted-foreground",children:"Calendrio integrado com detalhes de compromissos. Evite conflitos, ganhe produtividade e tenha sua agenda sempre organizada."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5"})," Financeiro"]})}),s.jsx(me,{className:"text-muted-foreground",children:"Controle receitas e despesas com relatrios rpidos. Acompanhe tendncias e faa planejamentos mais precisos."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(zy,{className:"h-5 w-5"})," Metas"]})}),s.jsx(me,{className:"text-muted-foreground",children:"Defina metas e acompanhe o progresso. Mantenha o foco com mtricas claras e feedback contnuo."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsxs(Fe,{className:"flex items-center gap-2",children:[s.jsx(B0,{className:"h-5 w-5"})," Insights inteligentes"]})}),s.jsx(me,{className:"text-muted-foreground",children:"Descubra padres e oportunidades automaticamente. Tome decises embasadas com anlises intuitivas."})]})]})}),s.jsxs("section",{id:"depoimentos",className:"px-6 pb-16",children:[s.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[s.jsx(ft,{className:"rounded-xl",variant:"secondary",children:"O que dizem nossos clientes"}),s.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Resultados reais no dia a dia"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Produtividade, organizao e clareza para tomar decises melhores."})]}),s.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(te,{className:"rounded-2xl",children:s.jsxs(me,{className:"p-6",children:[s.jsx("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((h,m)=>s.jsx(jd,{className:"h-4 w-4 fill-yellow-500"},m))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'"O SGE reduziu nosso retrabalho e centralizou a viso dos projetos. Ficamos mais rpidos para entregar com qualidade."'}),s.jsxs("div",{className:"mt-4 text-sm",children:[s.jsx("span",{className:"font-semibold",children:"Mariana"}),"  Gestora de Projetos"]})]})}),s.jsx(te,{className:"rounded-2xl",children:s.jsxs(me,{className:"p-6",children:[s.jsx("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((h,m)=>s.jsx(jd,{className:"h-4 w-4 fill-yellow-500"},m))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'"A viso financeira e de metas trouxe previsibilidade. Hoje planejo com segurana e consigo acompanhar tendncias facilmente."'}),s.jsxs("div",{className:"mt-4 text-sm",children:[s.jsx("span",{className:"font-semibold",children:"Carlos"}),"  Diretor Financeiro"]})]})}),s.jsx(te,{className:"rounded-2xl",children:s.jsxs(me,{className:"p-6",children:[s.jsx("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((h,m)=>s.jsx(jd,{className:"h-4 w-4 fill-yellow-500"},m))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'"Agendamentos e clientes integrados simplificaram minha rotina. Finalmente tenho tudo em um s lugar e sem confuso."'}),s.jsxs("div",{className:"mt-4 text-sm",children:[s.jsx("span",{className:"font-semibold",children:"Aline"}),"  Consultora"]})]})})]})]}),s.jsxs("section",{id:"planos",className:"px-6 pb-20",children:[s.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[s.jsx(ft,{className:"rounded-xl",variant:"secondary",children:"Planos simples e transparentes"}),s.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Escolha o plano ideal"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Comece pequeno e evolua quando precisar."})]}),s.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-xl",children:"Starter"})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsx("span",{className:"text-3xl font-extrabold",children:"R$ 0"}),s.jsx("span",{className:"text-muted-foreground",children:"/ms"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Clientes e Projetos bsicos"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Agendamentos essenciais"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Relatrios simples"]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(Nc,{to:"/auth",children:s.jsx(H,{className:"w-full rounded-xl",children:"Comear grtis"})})})]})]}),s.jsxs(te,{className:"rounded-2xl border-primary",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-xl",children:"Pro"})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsx("span",{className:"text-3xl font-extrabold",children:"R$ 79"}),s.jsx("span",{className:"text-muted-foreground",children:"/ms"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Tudo do Starter"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Financeiro avanado"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Metas com progresso"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Insights inteligentes"]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(Nc,{to:"/auth",children:s.jsx(H,{className:"w-full rounded-xl",children:"Assinar Pro"})})})]})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-xl",children:"Business"})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsx("span",{className:"text-3xl font-extrabold",children:"R$ 199"}),s.jsx("span",{className:"text-muted-foreground",children:"/ms"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Tudo do Pro"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Equipes e permisses avanadas"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Suporte prioritrio"]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(H,{className:"w-full rounded-xl",onClick:()=>t(!0),children:"Fale com vendas"})})]})]})]})]}),s.jsxs("section",{id:"politica",className:"px-6 pb-16",children:[s.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[s.jsx(ft,{className:"rounded-xl",variant:"outline",children:"Poltica de preos"}),s.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Transparente, sem pegadinhas"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Resumo das regras para contratao e cobrana."})]}),s.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Ciclo de cobrana mensal e cancelamento sem multa."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Upgrade ou downgrade de plano a qualquer momento (ajuste proporcional)."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Cancelamento pelo painel: acesso permanece at o fim do ciclo vigente."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Valores podem variar conforme impostos locais e promoes."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Formas de pagamento: carto de crdito (outros mtodos sob consulta)."]})]})})}),s.jsx(te,{className:"rounded-2xl",children:s.jsx(me,{className:"p-6",children:s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Suporte incluso em todos os planos; prioridade no Business."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Planos e benefcios podem ser atualizados sem aviso prvio."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Uso do Starter  gratuito para comear e avaliar o produto."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Solicite condies especiais para equipes ou volume."]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-600"})," Dvidas? Fale com vendas pelo boto do plano Business."]})]})})})]})]}),s.jsxs("section",{id:"faqs",className:"px-6 pb-24",children:[s.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[s.jsx(ft,{className:"rounded-xl",variant:"outline",children:"FAQs"}),s.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Perguntas frequentes"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Respostas rpidas para as dvidas mais comuns."})]}),s.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-base",children:"Posso mudar de plano depois?"})}),s.jsx(me,{className:"text-sm text-muted-foreground",children:"Sim. Voc pode fazer upgrade ou downgrade a qualquer momento pelo painel. O ajuste  proporcional ao ciclo vigente."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-base",children:"H limite de usurios ou projetos?"})}),s.jsx(me,{className:"text-sm text-muted-foreground",children:"Os limites variam por plano. O Starter atende o uso inicial; Pro e Business ampliam usurios, projetos e recursos avanados."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-base",children:"Como  o suporte?"})}),s.jsx(me,{className:"text-sm text-muted-foreground",children:"Todos os planos tm suporte. No Business, o atendimento  prioritrio e com SLA diferenciado."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-base",children:"Meus dados esto seguros?"})}),s.jsx(me,{className:"text-sm text-muted-foreground",children:"Utilizamos prticas modernas de segurana e controle de acesso. Recomendamos ativar autenticao segura e polticas de equipe."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-base",children:"Posso importar dados existentes?"})}),s.jsx(me,{className:"text-sm text-muted-foreground",children:"Sim. Oferecemos orientao para importar informaes de clientes, projetos e agenda. Fale com vendas para suporte no onboarding."})]}),s.jsxs(te,{className:"rounded-2xl",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"text-base",children:"O que acontece ao cancelar?"})}),s.jsx(me,{className:"text-sm text-muted-foreground",children:"O acesso permanece at o fim do ciclo atual. Voc pode reativar quando quiser fazendo login novamente."})]})]})]}),s.jsx("section",{className:"px-6 pb-24",children:s.jsxs("div",{className:"mx-auto max-w-6xl rounded-3xl bg-muted/40 p-8 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Pronto para simplificar sua gesto?"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Comece agora e veja como o SGE acelera seu dia a dia."}),s.jsx("div",{className:"mt-6",children:s.jsx(Nc,{to:"/auth",children:s.jsx(H,{size:"lg",className:"rounded-2xl",children:"Fazer login e comear"})})})]})}),s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Cr,{className:"rounded-2xl",children:[s.jsxs(Er,{children:[s.jsx(Or,{children:"Fale com Vendas"}),s.jsx(mb,{children:"Preencha os dados abaixo e entre em contato por Email ou WhatsApp."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Nome"}),s.jsx(de,{placeholder:"Seu nome",value:r,onChange:h=>n(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx(de,{type:"email",placeholder:"seu@email.com",value:a,onChange:h=>o(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Mensagem"}),s.jsx(Jn,{placeholder:"Conte brevemente sua necessidade",value:i,onChange:h=>l(h.target.value)})]})]}),s.jsxs(hb,{children:[s.jsxs(H,{variant:"outline",onClick:f,children:[s.jsx(eX,{className:"h-4 w-4"})," Abrir WhatsApp"]}),s.jsxs(H,{onClick:d,children:[s.jsx(rE,{className:"h-4 w-4"})," Enviar por Email"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Contatos oficiais: WhatsApp ",c,"  Email ",u]})]})})]})}const L3e=new VJ,F3e=()=>s.jsxs(CK,{children:[s.jsx(zr,{path:"/auth",element:s.jsx(b4e,{})}),s.jsx(zr,{path:"/vendas",element:s.jsx(I3e,{})}),s.jsx(zr,{path:"/",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(XLe,{})})})}),s.jsx(zr,{path:"/perfil",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(N4e,{})})})}),s.jsx(zr,{path:"/tattoo",element:s.jsx(_h,{to:"/",replace:!0})}),s.jsx(zr,{path:"/dashboard",element:s.jsx(_h,{to:"/noxus",replace:!0})}),s.jsx(zr,{path:"/tattoo/marketing",element:s.jsx(_h,{to:"/marketing",replace:!0})}),s.jsx(zr,{path:"/carteira",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(m3e,{})})})}),s.jsx(zr,{path:"/tattoo/financeiro",element:s.jsx(_h,{to:"/carteira",replace:!0})}),s.jsx(zr,{path:"/conhecimento",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(v3e,{})})})}),s.jsx(zr,{path:"/clientes",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(G4e,{})})})}),s.jsx(zr,{path:"/clientes/:id",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(K4e,{})})})}),s.jsx(zr,{path:"/projetos",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(X4e,{})})})}),s.jsx(zr,{path:"/projetos/:id",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(DLe,{})})})}),s.jsx(zr,{path:"/agendamentos",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(ULe,{})})})}),s.jsx(zr,{path:"/financeiro",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(YLe,{})})})}),s.jsx(zr,{path:"/marketing",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(S3e,{})})})}),s.jsx(zr,{path:"/estoque",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(O3e,{})})})}),s.jsx(zr,{path:"/tattoo/estoque",element:s.jsx(_h,{to:"/estoque",replace:!0})}),s.jsx(zr,{path:"/curso-mvp",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(R3e,{})})})}),s.jsx(zr,{path:"/noxus",element:s.jsx(_a,{children:s.jsx(Na,{children:s.jsx(bIe,{})})})}),s.jsx(zr,{path:"*",element:s.jsx($3e,{})})]}),B3e=()=>s.jsx(WJ,{client:L3e,children:s.jsxs(pE,{children:[s.jsx(HX,{}),s.jsx(RQ,{}),s.jsx(F3e,{})]})});class z3e extends x.Component{constructor(){super(...arguments);Ve(this,"state",{hasError:!1});Ve(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});Ve(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.props.onError&&this.props.onError(r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:s.jsxs(te,{className:"w-full max-w-md rounded-xl",children:[s.jsxs(Le,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:s.jsx(Wh,{className:"w-6 h-6 text-destructive"})}),s.jsx(Fe,{className:"text-xl",children:"Algo deu errado"})]}),s.jsxs(me,{className:"space-y-4 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Ocorreu um erro inesperado. Tente recarregar a pgina ou volte ao incio."}),!1,s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(H,{variant:"outline",onClick:this.handleRetry,className:"rounded-xl gap-2",children:[s.jsx(d3,{className:"w-4 h-4"}),"Tentar novamente"]}),s.jsxs(H,{onClick:this.handleGoHome,className:"rounded-xl gap-2",children:[s.jsx(o3,{className:"w-4 h-4"}),"Ir ao incio"]})]})]})]})}):this.props.children}}pL(document.getElementById("root")).render(s.jsx(RK,{children:s.jsx(jre,{children:s.jsx(tse,{children:s.jsx(nse,{children:s.jsx(z3e,{children:s.jsx(B3e,{})})})})})}));
