var Tre=Object.defineProperty;var PD=t=>{throw TypeError(t)};var Pre=(t,e,r)=>e in t?Tre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ze=(t,e,r)=>Pre(t,typeof e!="symbol"?e+"":e,r),Z_=(t,e,r)=>e.has(t)||PD("Cannot "+r);var ee=(t,e,r)=>(Z_(t,e,"read from private field"),r?r.call(t):e.get(t)),At=(t,e,r)=>e.has(t)?PD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),st=(t,e,r,n)=>(Z_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ur=(t,e,r)=>(Z_(t,e,"access private method"),r);var Xy=(t,e,r,n)=>({set _(s){st(t,e,s,r)},get _(){return ee(t,e,n)}});function v6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mre(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var x6={exports:{}},P1={},y6={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=Symbol.for("react.element"),Rre=Symbol.for("react.portal"),Dre=Symbol.for("react.fragment"),Ire=Symbol.for("react.strict_mode"),$re=Symbol.for("react.profiler"),Lre=Symbol.for("react.provider"),Fre=Symbol.for("react.context"),Bre=Symbol.for("react.forward_ref"),zre=Symbol.for("react.suspense"),Vre=Symbol.for("react.memo"),Ure=Symbol.for("react.lazy"),MD=Symbol.iterator;function qre(t){return t===null||typeof t!="object"?null:(t=MD&&t[MD]||t["@@iterator"],typeof t=="function"?t:null)}var b6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w6=Object.assign,j6={};function jp(t,e,r){this.props=t,this.context=e,this.refs=j6,this.updater=r||b6}jp.prototype.isReactComponent={};jp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N6(){}N6.prototype=jp.prototype;function VO(t,e,r){this.props=t,this.context=e,this.refs=j6,this.updater=r||b6}var UO=VO.prototype=new N6;UO.constructor=VO;w6(UO,jp.prototype);UO.isPureReactComponent=!0;var RD=Array.isArray,_6=Object.prototype.hasOwnProperty,qO={current:null},S6={key:!0,ref:!0,__self:!0,__source:!0};function C6(t,e,r){var n,s={},a=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(a=""+e.key),e)_6.call(e,n)&&!S6.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:oy,type:t,key:a,ref:i,props:s,_owner:qO.current}}function Wre(t,e){return{$$typeof:oy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function WO(t){return typeof t=="object"&&t!==null&&t.$$typeof===oy}function Hre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var DD=/\/+/g;function eS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hre(""+t.key):e.toString(36)}function db(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case oy:case Rre:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+eS(i,0):n,RD(s)?(r="",t!=null&&(r=t.replace(DD,"$&/")+"/"),db(s,e,r,"",function(u){return u})):s!=null&&(WO(s)&&(s=Wre(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(DD,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",RD(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+eS(a,l);i+=db(a,e,r,c,s)}else if(c=qre(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+eS(a,l++),i+=db(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Jy(t,e,r){if(t==null)return t;var n=[],s=0;return db(t,n,"","",function(a){return e.call(r,a,s++)}),n}function Kre(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ha={current:null},fb={transition:null},Gre={ReactCurrentDispatcher:ha,ReactCurrentBatchConfig:fb,ReactCurrentOwner:qO};function E6(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:Jy,forEach:function(t,e,r){Jy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Jy(t,function(){e++}),e},toArray:function(t){return Jy(t,function(e){return e})||[]},only:function(t){if(!WO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ar.Component=jp;ar.Fragment=Dre;ar.Profiler=$re;ar.PureComponent=VO;ar.StrictMode=Ire;ar.Suspense=zre;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gre;ar.act=E6;ar.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=w6({},t.props),s=t.key,a=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,i=qO.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_6.call(e,c)&&!S6.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:oy,type:t.type,key:s,ref:a,props:n,_owner:i}};ar.createContext=function(t){return t={$$typeof:Fre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lre,_context:t},t.Consumer=t};ar.createElement=C6;ar.createFactory=function(t){var e=C6.bind(null,t);return e.type=t,e};ar.createRef=function(){return{current:null}};ar.forwardRef=function(t){return{$$typeof:Bre,render:t}};ar.isValidElement=WO;ar.lazy=function(t){return{$$typeof:Ure,_payload:{_status:-1,_result:t},_init:Kre}};ar.memo=function(t,e){return{$$typeof:Vre,type:t,compare:e===void 0?null:e}};ar.startTransition=function(t){var e=fb.transition;fb.transition={};try{t()}finally{fb.transition=e}};ar.unstable_act=E6;ar.useCallback=function(t,e){return ha.current.useCallback(t,e)};ar.useContext=function(t){return ha.current.useContext(t)};ar.useDebugValue=function(){};ar.useDeferredValue=function(t){return ha.current.useDeferredValue(t)};ar.useEffect=function(t,e){return ha.current.useEffect(t,e)};ar.useId=function(){return ha.current.useId()};ar.useImperativeHandle=function(t,e,r){return ha.current.useImperativeHandle(t,e,r)};ar.useInsertionEffect=function(t,e){return ha.current.useInsertionEffect(t,e)};ar.useLayoutEffect=function(t,e){return ha.current.useLayoutEffect(t,e)};ar.useMemo=function(t,e){return ha.current.useMemo(t,e)};ar.useReducer=function(t,e,r){return ha.current.useReducer(t,e,r)};ar.useRef=function(t){return ha.current.useRef(t)};ar.useState=function(t){return ha.current.useState(t)};ar.useSyncExternalStore=function(t,e,r){return ha.current.useSyncExternalStore(t,e,r)};ar.useTransition=function(){return ha.current.useTransition()};ar.version="18.3.1";y6.exports=ar;var x=y6.exports;const z=vr(x),M1=v6({__proto__:null,default:z},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yre=x,Xre=Symbol.for("react.element"),Qre=Symbol.for("react.fragment"),Jre=Object.prototype.hasOwnProperty,Zre=Yre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ene={key:!0,ref:!0,__self:!0,__source:!0};function k6(t,e,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Jre.call(e,n)&&!ene.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Xre,type:t,key:a,ref:i,props:s,_owner:Zre.current}}P1.Fragment=Qre;P1.jsx=k6;P1.jsxs=k6;x6.exports=P1;var o=x6.exports,A6={exports:{}},uo={},O6={exports:{}},T6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,T){var q=E.length;E.push(T);e:for(;0<q;){var Z=q-1>>>1,M=E[Z];if(0<s(M,T))E[Z]=T,E[q]=M,q=Z;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var T=E[0],q=E.pop();if(q!==T){E[0]=q;e:for(var Z=0,M=E.length,W=M>>>1;Z<W;){var re=2*(Z+1)-1,se=E[re],je=re+1,pe=E[je];if(0>s(se,q))je<M&&0>s(pe,se)?(E[Z]=pe,E[je]=q,Z=je):(E[Z]=se,E[re]=q,Z=re);else if(je<M&&0>s(pe,q))E[Z]=pe,E[je]=q,Z=je;else break e}}return T}function s(E,T){var q=E.sortIndex-T.sortIndex;return q!==0?q:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=E)n(u),T.sortIndex=T.expirationTime,e(c,T);else break;T=r(u)}}function N(E){if(g=!1,w(E),!p)if(r(c)!==null)p=!0,B(j);else{var T=r(u);T!==null&&L(N,T.startTime-E)}}function j(E,T){p=!1,g&&(g=!1,b(C),C=-1),h=!0;var q=m;try{for(w(T),f=r(c);f!==null&&(!(f.expirationTime>T)||E&&!O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var M=Z(f.expirationTime<=T);T=t.unstable_now(),typeof M=="function"?f.callback=M:f===r(c)&&n(c),w(T)}else n(c);f=r(c)}if(f!==null)var W=!0;else{var re=r(u);re!==null&&L(N,re.startTime-T),W=!1}return W}finally{f=null,m=q,h=!1}}var _=!1,S=null,C=-1,k=5,A=-1;function O(){return!(t.unstable_now()-A<k)}function P(){if(S!==null){var E=t.unstable_now();A=E;var T=!0;try{T=S(!0,E)}finally{T?R():(_=!1,S=null)}}else _=!1}var R;if(typeof y=="function")R=function(){y(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=P,R=function(){$.postMessage(null)}}else R=function(){v(P,0)};function B(E){S=E,_||(_=!0,R())}function L(E,T){C=v(function(){E(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,B(j))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(E){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var q=m;m=T;try{return E()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var q=m;m=E;try{return T()}finally{m=q}},t.unstable_scheduleCallback=function(E,T,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,E){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,E={id:d++,callback:T,priorityLevel:E,startTime:q,expirationTime:M,sortIndex:-1},q>Z?(E.sortIndex=q,e(u,E),r(c)===null&&E===r(u)&&(g?(b(C),C=-1):g=!0,L(N,q-Z))):(E.sortIndex=M,e(c,E),p||h||(p=!0,B(j))),E},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(E){var T=m;return function(){var q=m;m=T;try{return E.apply(this,arguments)}finally{m=q}}}})(T6);O6.exports=T6;var tne=O6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rne=x,ao=tne;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P6=new Set,_v={};function kf(t,e){mm(t,e),mm(t+"Capture",e)}function mm(t,e){for(_v[t]=e,t=0;t<e.length;t++)P6.add(e[t])}var Yl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bE=Object.prototype.hasOwnProperty,nne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ID={},$D={};function sne(t){return bE.call($D,t)?!0:bE.call(ID,t)?!1:nne.test(t)?$D[t]=!0:(ID[t]=!0,!1)}function ane(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function one(t,e,r,n){if(e===null||typeof e>"u"||ane(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ma(t,e,r,n,s,a,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=i}var Ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ps[t]=new ma(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ps[e]=new ma(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ps[t]=new ma(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ps[t]=new ma(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ps[t]=new ma(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ps[t]=new ma(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ps[t]=new ma(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ps[t]=new ma(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ps[t]=new ma(t,5,!1,t.toLowerCase(),null,!1,!1)});var HO=/[\-:]([a-z])/g;function KO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(HO,KO);Ps[e]=new ma(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(HO,KO);Ps[e]=new ma(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(HO,KO);Ps[e]=new ma(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ps[t]=new ma(t,1,!1,t.toLowerCase(),null,!1,!1)});Ps.xlinkHref=new ma("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ps[t]=new ma(t,1,!1,t.toLowerCase(),null,!0,!0)});function GO(t,e,r,n){var s=Ps.hasOwnProperty(e)?Ps[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(one(e,r,s,n)&&(r=null),n||s===null?sne(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ac=rne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zy=Symbol.for("react.element"),xh=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),YO=Symbol.for("react.strict_mode"),wE=Symbol.for("react.profiler"),M6=Symbol.for("react.provider"),R6=Symbol.for("react.context"),XO=Symbol.for("react.forward_ref"),jE=Symbol.for("react.suspense"),NE=Symbol.for("react.suspense_list"),QO=Symbol.for("react.memo"),Nc=Symbol.for("react.lazy"),D6=Symbol.for("react.offscreen"),LD=Symbol.iterator;function eg(t){return t===null||typeof t!="object"?null:(t=LD&&t[LD]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,tS;function Eg(t){if(tS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tS=e&&e[1]||""}return`
`+tS+t}var rS=!1;function nS(t,e){if(!t||rS)return"";rS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{rS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Eg(t):""}function ine(t){switch(t.tag){case 5:return Eg(t.type);case 16:return Eg("Lazy");case 13:return Eg("Suspense");case 19:return Eg("SuspenseList");case 0:case 2:case 15:return t=nS(t.type,!1),t;case 11:return t=nS(t.type.render,!1),t;case 1:return t=nS(t.type,!0),t;default:return""}}function _E(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yh:return"Fragment";case xh:return"Portal";case wE:return"Profiler";case YO:return"StrictMode";case jE:return"Suspense";case NE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R6:return(t.displayName||"Context")+".Consumer";case M6:return(t._context.displayName||"Context")+".Provider";case XO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case QO:return e=t.displayName||null,e!==null?e:_E(t.type)||"Memo";case Nc:e=t._payload,t=t._init;try{return _E(t(e))}catch{}}return null}function lne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _E(e);case 8:return e===YO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cne(t){var e=I6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function e0(t){t._valueTracker||(t._valueTracker=cne(t))}function $6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=I6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $b(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function SE(t,e){var r=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function FD(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L6(t,e){e=e.checked,e!=null&&GO(t,"checked",e,!1)}function CE(t,e){L6(t,e);var r=yu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?EE(t,e.type,r):e.hasOwnProperty("defaultValue")&&EE(t,e.type,yu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BD(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function EE(t,e,r){(e!=="number"||$b(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kg=Array.isArray;function Lh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zD(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(kg(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yu(r)}}function F6(t,e){var r=yu(e.value),n=yu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function VD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var t0,z6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(t0=t0||document.createElement("div"),t0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=t0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},une=["Webkit","ms","Moz","O"];Object.keys(zg).forEach(function(t){une.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zg[e]=zg[t]})});function V6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zg.hasOwnProperty(t)&&zg[t]?(""+e).trim():e+"px"}function U6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=V6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var dne=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OE(t,e){if(e){if(dne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function TE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PE=null;function JO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ME=null,Fh=null,Bh=null;function UD(t){if(t=cy(t)){if(typeof ME!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=L1(e),ME(t.stateNode,t.type,e))}}function q6(t){Fh?Bh?Bh.push(t):Bh=[t]:Fh=t}function W6(){if(Fh){var t=Fh,e=Bh;if(Bh=Fh=null,UD(t),e)for(t=0;t<e.length;t++)UD(e[t])}}function H6(t,e){return t(e)}function K6(){}var sS=!1;function G6(t,e,r){if(sS)return t(e,r);sS=!0;try{return H6(t,e,r)}finally{sS=!1,(Fh!==null||Bh!==null)&&(K6(),W6())}}function Cv(t,e){var r=t.stateNode;if(r===null)return null;var n=L1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var RE=!1;if(Yl)try{var tg={};Object.defineProperty(tg,"passive",{get:function(){RE=!0}}),window.addEventListener("test",tg,tg),window.removeEventListener("test",tg,tg)}catch{RE=!1}function fne(t,e,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Vg=!1,Lb=null,Fb=!1,DE=null,hne={onError:function(t){Vg=!0,Lb=t}};function mne(t,e,r,n,s,a,i,l,c){Vg=!1,Lb=null,fne.apply(hne,arguments)}function pne(t,e,r,n,s,a,i,l,c){if(mne.apply(this,arguments),Vg){if(Vg){var u=Lb;Vg=!1,Lb=null}else throw Error(Le(198));Fb||(Fb=!0,DE=u)}}function Af(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Y6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qD(t){if(Af(t)!==t)throw Error(Le(188))}function gne(t){var e=t.alternate;if(!e){if(e=Af(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return qD(s),t;if(a===n)return qD(s),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function X6(t){return t=gne(t),t!==null?Q6(t):null}function Q6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q6(t);if(e!==null)return e;t=t.sibling}return null}var J6=ao.unstable_scheduleCallback,WD=ao.unstable_cancelCallback,vne=ao.unstable_shouldYield,xne=ao.unstable_requestPaint,En=ao.unstable_now,yne=ao.unstable_getCurrentPriorityLevel,ZO=ao.unstable_ImmediatePriority,Z6=ao.unstable_UserBlockingPriority,Bb=ao.unstable_NormalPriority,bne=ao.unstable_LowPriority,eV=ao.unstable_IdlePriority,R1=null,Yi=null;function wne(t){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(R1,t,void 0,(t.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:_ne,jne=Math.log,Nne=Math.LN2;function _ne(t){return t>>>=0,t===0?32:31-(jne(t)/Nne|0)|0}var r0=64,n0=4194304;function Ag(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Ag(l):(a&=i,a!==0&&(n=Ag(a)))}else i=r&~s,i!==0?n=Ag(i):a!==0&&(n=Ag(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vi(e),s=1<<r,n|=t[r],e&=~s;return n}function Sne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cne(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var i=31-vi(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Sne(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function IE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tV(){var t=r0;return r0<<=1,!(r0&4194240)&&(r0=64),t}function aS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function iy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vi(e),t[e]=r}function Ene(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-vi(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function eT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vi(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Cr=0;function rV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nV,tT,sV,aV,oV,$E=!1,s0=[],Zc=null,eu=null,tu=null,Ev=new Map,kv=new Map,Oc=[],kne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HD(t,e){switch(t){case"focusin":case"focusout":Zc=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":Ev.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kv.delete(e.pointerId)}}function rg(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=cy(e),e!==null&&tT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ane(t,e,r,n,s){switch(e){case"focusin":return Zc=rg(Zc,t,e,r,n,s),!0;case"dragenter":return eu=rg(eu,t,e,r,n,s),!0;case"mouseover":return tu=rg(tu,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ev.set(a,rg(Ev.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,kv.set(a,rg(kv.get(a)||null,t,e,r,n,s)),!0}return!1}function iV(t){var e=md(t.target);if(e!==null){var r=Af(e);if(r!==null){if(e=r.tag,e===13){if(e=Y6(r),e!==null){t.blockedOn=e,oV(t.priority,function(){sV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=LE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);PE=n,r.target.dispatchEvent(n),PE=null}else return e=cy(r),e!==null&&tT(e),t.blockedOn=r,!1;e.shift()}return!0}function KD(t,e,r){hb(t)&&r.delete(e)}function One(){$E=!1,Zc!==null&&hb(Zc)&&(Zc=null),eu!==null&&hb(eu)&&(eu=null),tu!==null&&hb(tu)&&(tu=null),Ev.forEach(KD),kv.forEach(KD)}function ng(t,e){t.blockedOn===e&&(t.blockedOn=null,$E||($E=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,One)))}function Av(t){function e(s){return ng(s,t)}if(0<s0.length){ng(s0[0],t);for(var r=1;r<s0.length;r++){var n=s0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zc!==null&&ng(Zc,t),eu!==null&&ng(eu,t),tu!==null&&ng(tu,t),Ev.forEach(e),kv.forEach(e),r=0;r<Oc.length;r++)n=Oc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Oc.length&&(r=Oc[0],r.blockedOn===null);)iV(r),r.blockedOn===null&&Oc.shift()}var zh=ac.ReactCurrentBatchConfig,Vb=!0;function Tne(t,e,r,n){var s=Cr,a=zh.transition;zh.transition=null;try{Cr=1,rT(t,e,r,n)}finally{Cr=s,zh.transition=a}}function Pne(t,e,r,n){var s=Cr,a=zh.transition;zh.transition=null;try{Cr=4,rT(t,e,r,n)}finally{Cr=s,zh.transition=a}}function rT(t,e,r,n){if(Vb){var s=LE(t,e,r,n);if(s===null)pS(t,e,n,Ub,r),HD(t,n);else if(Ane(s,t,e,r,n))n.stopPropagation();else if(HD(t,n),e&4&&-1<kne.indexOf(t)){for(;s!==null;){var a=cy(s);if(a!==null&&nV(a),a=LE(t,e,r,n),a===null&&pS(t,e,n,Ub,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else pS(t,e,n,null,r)}}var Ub=null;function LE(t,e,r,n){if(Ub=null,t=JO(n),t=md(t),t!==null)if(e=Af(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Y6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ub=t,null}function lV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yne()){case ZO:return 1;case Z6:return 4;case Bb:case bne:return 16;case eV:return 536870912;default:return 16}default:return 16}}var qc=null,nT=null,mb=null;function cV(){if(mb)return mb;var t,e=nT,r=e.length,n,s="value"in qc?qc.value:qc.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[a-n];n++);return mb=s.slice(t,1<n?1-n:void 0)}function pb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function a0(){return!0}function GD(){return!1}function fo(t){function e(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?a0:GD,this.isPropagationStopped=GD,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=a0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=a0)},persist:function(){},isPersistent:a0}),e}var Np={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sT=fo(Np),ly=fn({},Np,{view:0,detail:0}),Mne=fo(ly),oS,iS,sg,D1=fn({},ly,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sg&&(sg&&t.type==="mousemove"?(oS=t.screenX-sg.screenX,iS=t.screenY-sg.screenY):iS=oS=0,sg=t),oS)},movementY:function(t){return"movementY"in t?t.movementY:iS}}),YD=fo(D1),Rne=fn({},D1,{dataTransfer:0}),Dne=fo(Rne),Ine=fn({},ly,{relatedTarget:0}),lS=fo(Ine),$ne=fn({},Np,{animationName:0,elapsedTime:0,pseudoElement:0}),Lne=fo($ne),Fne=fn({},Np,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bne=fo(Fne),zne=fn({},Np,{data:0}),XD=fo(zne),Vne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Une={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wne(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qne[t])?!!e[t]:!1}function aT(){return Wne}var Hne=fn({},ly,{key:function(t){if(t.key){var e=Vne[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Une[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aT,charCode:function(t){return t.type==="keypress"?pb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kne=fo(Hne),Gne=fn({},D1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QD=fo(Gne),Yne=fn({},ly,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aT}),Xne=fo(Yne),Qne=fn({},Np,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jne=fo(Qne),Zne=fn({},D1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ese=fo(Zne),tse=[9,13,27,32],oT=Yl&&"CompositionEvent"in window,Ug=null;Yl&&"documentMode"in document&&(Ug=document.documentMode);var rse=Yl&&"TextEvent"in window&&!Ug,uV=Yl&&(!oT||Ug&&8<Ug&&11>=Ug),JD=" ",ZD=!1;function dV(t,e){switch(t){case"keyup":return tse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bh=!1;function nse(t,e){switch(t){case"compositionend":return fV(e);case"keypress":return e.which!==32?null:(ZD=!0,JD);case"textInput":return t=e.data,t===JD&&ZD?null:t;default:return null}}function sse(t,e){if(bh)return t==="compositionend"||!oT&&dV(t,e)?(t=cV(),mb=nT=qc=null,bh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uV&&e.locale!=="ko"?null:e.data;default:return null}}var ase={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ase[t.type]:e==="textarea"}function hV(t,e,r,n){q6(n),e=qb(e,"onChange"),0<e.length&&(r=new sT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qg=null,Ov=null;function ose(t){_V(t,0)}function I1(t){var e=Nh(t);if($6(e))return t}function ise(t,e){if(t==="change")return e}var mV=!1;if(Yl){var cS;if(Yl){var uS="oninput"in document;if(!uS){var tI=document.createElement("div");tI.setAttribute("oninput","return;"),uS=typeof tI.oninput=="function"}cS=uS}else cS=!1;mV=cS&&(!document.documentMode||9<document.documentMode)}function rI(){qg&&(qg.detachEvent("onpropertychange",pV),Ov=qg=null)}function pV(t){if(t.propertyName==="value"&&I1(Ov)){var e=[];hV(e,Ov,t,JO(t)),G6(ose,e)}}function lse(t,e,r){t==="focusin"?(rI(),qg=e,Ov=r,qg.attachEvent("onpropertychange",pV)):t==="focusout"&&rI()}function cse(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I1(Ov)}function use(t,e){if(t==="click")return I1(e)}function dse(t,e){if(t==="input"||t==="change")return I1(e)}function fse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _i=typeof Object.is=="function"?Object.is:fse;function Tv(t,e){if(_i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!bE.call(e,s)||!_i(t[s],e[s]))return!1}return!0}function nI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sI(t,e){var r=nI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nI(r)}}function gV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vV(){for(var t=window,e=$b();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$b(t.document)}return e}function iT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hse(t){var e=vV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gV(r.ownerDocument.documentElement,r)){if(n!==null&&iT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=sI(r,a);var i=sI(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mse=Yl&&"documentMode"in document&&11>=document.documentMode,wh=null,FE=null,Wg=null,BE=!1;function aI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BE||wh==null||wh!==$b(n)||(n=wh,"selectionStart"in n&&iT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wg&&Tv(Wg,n)||(Wg=n,n=qb(FE,"onSelect"),0<n.length&&(e=new sT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wh)))}function o0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var jh={animationend:o0("Animation","AnimationEnd"),animationiteration:o0("Animation","AnimationIteration"),animationstart:o0("Animation","AnimationStart"),transitionend:o0("Transition","TransitionEnd")},dS={},xV={};Yl&&(xV=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function $1(t){if(dS[t])return dS[t];if(!jh[t])return t;var e=jh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in xV)return dS[t]=e[r];return t}var yV=$1("animationend"),bV=$1("animationiteration"),wV=$1("animationstart"),jV=$1("transitionend"),NV=new Map,oI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ou(t,e){NV.set(t,e),kf(e,[t])}for(var fS=0;fS<oI.length;fS++){var hS=oI[fS],pse=hS.toLowerCase(),gse=hS[0].toUpperCase()+hS.slice(1);Ou(pse,"on"+gse)}Ou(yV,"onAnimationEnd");Ou(bV,"onAnimationIteration");Ou(wV,"onAnimationStart");Ou("dblclick","onDoubleClick");Ou("focusin","onFocus");Ou("focusout","onBlur");Ou(jV,"onTransitionEnd");mm("onMouseEnter",["mouseout","mouseover"]);mm("onMouseLeave",["mouseout","mouseover"]);mm("onPointerEnter",["pointerout","pointerover"]);mm("onPointerLeave",["pointerout","pointerover"]);kf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kf("onBeforeInput",["compositionend","keypress","textInput","paste"]);kf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vse=new Set("cancel close invalid load scroll toggle".split(" ").concat(Og));function iI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pne(n,e,void 0,t),t.currentTarget=null}function _V(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;iI(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;iI(s,l,u),a=c}}}if(Fb)throw t=DE,Fb=!1,DE=null,t}function qr(t,e){var r=e[WE];r===void 0&&(r=e[WE]=new Set);var n=t+"__bubble";r.has(n)||(SV(e,t,2,!1),r.add(n))}function mS(t,e,r){var n=0;e&&(n|=4),SV(r,t,n,e)}var i0="_reactListening"+Math.random().toString(36).slice(2);function Pv(t){if(!t[i0]){t[i0]=!0,P6.forEach(function(r){r!=="selectionchange"&&(vse.has(r)||mS(r,!1,t),mS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[i0]||(e[i0]=!0,mS("selectionchange",!1,e))}}function SV(t,e,r,n){switch(lV(e)){case 1:var s=Tne;break;case 4:s=Pne;break;default:s=rT}r=s.bind(null,e,r,t),s=void 0,!RE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function pS(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=md(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}G6(function(){var u=a,d=JO(r),f=[];e:{var m=NV.get(t);if(m!==void 0){var h=sT,p=t;switch(t){case"keypress":if(pb(r)===0)break e;case"keydown":case"keyup":h=Kne;break;case"focusin":p="focus",h=lS;break;case"focusout":p="blur",h=lS;break;case"beforeblur":case"afterblur":h=lS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=YD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Dne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Xne;break;case yV:case bV:case wV:h=Lne;break;case jV:h=Jne;break;case"scroll":h=Mne;break;case"wheel":h=ese;break;case"copy":case"cut":case"paste":h=Bne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=QD}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var y=u,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,b!==null&&(N=Cv(y,b),N!=null&&g.push(Mv(y,N,w)))),v)break;y=y.return}0<g.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==PE&&(p=r.relatedTarget||r.fromElement)&&(md(p)||p[Xl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?md(p):null,p!==null&&(v=Af(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=YD,N="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=QD,N="onPointerLeave",b="onPointerEnter",y="pointer"),v=h==null?m:Nh(h),w=p==null?m:Nh(p),m=new g(N,y+"leave",h,r,d),m.target=v,m.relatedTarget=w,N=null,md(d)===u&&(g=new g(b,y+"enter",p,r,d),g.target=w,g.relatedTarget=v,N=g),v=N,h&&p)t:{for(g=h,b=p,y=0,w=g;w;w=qf(w))y++;for(w=0,N=b;N;N=qf(N))w++;for(;0<y-w;)g=qf(g),y--;for(;0<w-y;)b=qf(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=qf(g),b=qf(b)}g=null}else g=null;h!==null&&lI(f,m,h,g,!1),p!==null&&v!==null&&lI(f,v,p,g,!0)}}e:{if(m=u?Nh(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var j=ise;else if(eI(m))if(mV)j=dse;else{j=cse;var _=lse}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=use);if(j&&(j=j(t,u))){hV(f,j,r,d);break e}_&&_(t,m,u),t==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&EE(m,"number",m.value)}switch(_=u?Nh(u):window,t){case"focusin":(eI(_)||_.contentEditable==="true")&&(wh=_,FE=u,Wg=null);break;case"focusout":Wg=FE=wh=null;break;case"mousedown":BE=!0;break;case"contextmenu":case"mouseup":case"dragend":BE=!1,aI(f,r,d);break;case"selectionchange":if(mse)break;case"keydown":case"keyup":aI(f,r,d)}var S;if(oT)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bh?dV(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(uV&&r.locale!=="ko"&&(bh||C!=="onCompositionStart"?C==="onCompositionEnd"&&bh&&(S=cV()):(qc=d,nT="value"in qc?qc.value:qc.textContent,bh=!0)),_=qb(u,C),0<_.length&&(C=new XD(C,t,null,r,d),f.push({event:C,listeners:_}),S?C.data=S:(S=fV(r),S!==null&&(C.data=S)))),(S=rse?nse(t,r):sse(t,r))&&(u=qb(u,"onBeforeInput"),0<u.length&&(d=new XD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}_V(f,e)})}function Mv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qb(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Cv(t,r),a!=null&&n.unshift(Mv(t,a,s)),a=Cv(t,e),a!=null&&n.push(Mv(t,a,s))),t=t.return}return n}function qf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lI(t,e,r,n,s){for(var a=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Cv(r,a),c!=null&&i.unshift(Mv(r,c,l))):s||(c=Cv(r,a),c!=null&&i.push(Mv(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var xse=/\r\n?/g,yse=/\u0000|\uFFFD/g;function cI(t){return(typeof t=="string"?t:""+t).replace(xse,`
`).replace(yse,"")}function l0(t,e,r){if(e=cI(e),cI(t)!==e&&r)throw Error(Le(425))}function Wb(){}var zE=null,VE=null;function UE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qE=typeof setTimeout=="function"?setTimeout:void 0,bse=typeof clearTimeout=="function"?clearTimeout:void 0,uI=typeof Promise=="function"?Promise:void 0,wse=typeof queueMicrotask=="function"?queueMicrotask:typeof uI<"u"?function(t){return uI.resolve(null).then(t).catch(jse)}:qE;function jse(t){setTimeout(function(){throw t})}function gS(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Av(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Av(e)}function ru(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _p=Math.random().toString(36).slice(2),Bi="__reactFiber$"+_p,Rv="__reactProps$"+_p,Xl="__reactContainer$"+_p,WE="__reactEvents$"+_p,Nse="__reactListeners$"+_p,_se="__reactHandles$"+_p;function md(t){var e=t[Bi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xl]||r[Bi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dI(t);t!==null;){if(r=t[Bi])return r;t=dI(t)}return e}t=r,r=t.parentNode}return null}function cy(t){return t=t[Bi]||t[Xl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function L1(t){return t[Rv]||null}var HE=[],_h=-1;function Tu(t){return{current:t}}function Yr(t){0>_h||(t.current=HE[_h],HE[_h]=null,_h--)}function $r(t,e){_h++,HE[_h]=t.current,t.current=e}var bu={},Hs=Tu(bu),Oa=Tu(!1),Qd=bu;function pm(t,e){var r=t.type.contextTypes;if(!r)return bu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(t){return t=t.childContextTypes,t!=null}function Hb(){Yr(Oa),Yr(Hs)}function fI(t,e,r){if(Hs.current!==bu)throw Error(Le(168));$r(Hs,e),$r(Oa,r)}function CV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Le(108,lne(t)||"Unknown",s));return fn({},r,n)}function Kb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bu,Qd=Hs.current,$r(Hs,t),$r(Oa,Oa.current),!0}function hI(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=CV(t,e,Qd),n.__reactInternalMemoizedMergedChildContext=t,Yr(Oa),Yr(Hs),$r(Hs,t)):Yr(Oa),$r(Oa,r)}var Pl=null,F1=!1,vS=!1;function EV(t){Pl===null?Pl=[t]:Pl.push(t)}function Sse(t){F1=!0,EV(t)}function Pu(){if(!vS&&Pl!==null){vS=!0;var t=0,e=Cr;try{var r=Pl;for(Cr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pl=null,F1=!1}catch(s){throw Pl!==null&&(Pl=Pl.slice(t+1)),J6(ZO,Pu),s}finally{Cr=e,vS=!1}}return null}var Sh=[],Ch=0,Gb=null,Yb=0,No=[],_o=0,Jd=null,Il=1,$l="";function td(t,e){Sh[Ch++]=Yb,Sh[Ch++]=Gb,Gb=t,Yb=e}function kV(t,e,r){No[_o++]=Il,No[_o++]=$l,No[_o++]=Jd,Jd=t;var n=Il;t=$l;var s=32-vi(n)-1;n&=~(1<<s),r+=1;var a=32-vi(e)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Il=1<<32-vi(e)+s|r<<s|n,$l=a+t}else Il=1<<a|r<<s|n,$l=t}function lT(t){t.return!==null&&(td(t,1),kV(t,1,0))}function cT(t){for(;t===Gb;)Gb=Sh[--Ch],Sh[Ch]=null,Yb=Sh[--Ch],Sh[Ch]=null;for(;t===Jd;)Jd=No[--_o],No[_o]=null,$l=No[--_o],No[_o]=null,Il=No[--_o],No[_o]=null}var eo=null,Za=null,Xr=!1,li=null;function AV(t,e){var r=Ao(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,eo=t,Za=ru(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,eo=t,Za=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jd!==null?{id:Il,overflow:$l}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ao(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,eo=t,Za=null,!0):!1;default:return!1}}function KE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GE(t){if(Xr){var e=Za;if(e){var r=e;if(!mI(t,e)){if(KE(t))throw Error(Le(418));e=ru(r.nextSibling);var n=eo;e&&mI(t,e)?AV(n,r):(t.flags=t.flags&-4097|2,Xr=!1,eo=t)}}else{if(KE(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Xr=!1,eo=t}}}function pI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;eo=t}function c0(t){if(t!==eo)return!1;if(!Xr)return pI(t),Xr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!UE(t.type,t.memoizedProps)),e&&(e=Za)){if(KE(t))throw OV(),Error(Le(418));for(;e;)AV(t,e),e=ru(e.nextSibling)}if(pI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Za=ru(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Za=null}}else Za=eo?ru(t.stateNode.nextSibling):null;return!0}function OV(){for(var t=Za;t;)t=ru(t.nextSibling)}function gm(){Za=eo=null,Xr=!1}function uT(t){li===null?li=[t]:li.push(t)}var Cse=ac.ReactCurrentBatchConfig;function ag(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},e._stringRef=a,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function u0(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gI(t){var e=t._init;return e(t._payload)}function TV(t){function e(b,y){if(t){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=ou(b,y),b.index=0,b.sibling=null,b}function a(b,y,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,N){return y===null||y.tag!==6?(y=_S(w,b.mode,N),y.return=b,y):(y=s(y,w),y.return=b,y)}function c(b,y,w,N){var j=w.type;return j===yh?d(b,y,w.props.children,N,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nc&&gI(j)===y.type)?(N=s(y,w.props),N.ref=ag(b,y,w),N.return=b,N):(N=jb(w.type,w.key,w.props,null,b.mode,N),N.ref=ag(b,y,w),N.return=b,N)}function u(b,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=SS(w,b.mode,N),y.return=b,y):(y=s(y,w.children||[]),y.return=b,y)}function d(b,y,w,N,j){return y===null||y.tag!==7?(y=Bd(w,b.mode,N,j),y.return=b,y):(y=s(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_S(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zy:return w=jb(y.type,y.key,y.props,null,b.mode,w),w.ref=ag(b,null,y),w.return=b,w;case xh:return y=SS(y,b.mode,w),y.return=b,y;case Nc:var N=y._init;return f(b,N(y._payload),w)}if(kg(y)||eg(y))return y=Bd(y,b.mode,w,null),y.return=b,y;u0(b,y)}return null}function m(b,y,w,N){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zy:return w.key===j?c(b,y,w,N):null;case xh:return w.key===j?u(b,y,w,N):null;case Nc:return j=w._init,m(b,y,j(w._payload),N)}if(kg(w)||eg(w))return j!==null?null:d(b,y,w,N,null);u0(b,w)}return null}function h(b,y,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(w)||null,l(y,b,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zy:return b=b.get(N.key===null?w:N.key)||null,c(y,b,N,j);case xh:return b=b.get(N.key===null?w:N.key)||null,u(y,b,N,j);case Nc:var _=N._init;return h(b,y,w,_(N._payload),j)}if(kg(N)||eg(N))return b=b.get(w)||null,d(y,b,N,j,null);u0(y,N)}return null}function p(b,y,w,N){for(var j=null,_=null,S=y,C=y=0,k=null;S!==null&&C<w.length;C++){S.index>C?(k=S,S=null):k=S.sibling;var A=m(b,S,w[C],N);if(A===null){S===null&&(S=k);break}t&&S&&A.alternate===null&&e(b,S),y=a(A,y,C),_===null?j=A:_.sibling=A,_=A,S=k}if(C===w.length)return r(b,S),Xr&&td(b,C),j;if(S===null){for(;C<w.length;C++)S=f(b,w[C],N),S!==null&&(y=a(S,y,C),_===null?j=S:_.sibling=S,_=S);return Xr&&td(b,C),j}for(S=n(b,S);C<w.length;C++)k=h(S,b,C,w[C],N),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?C:k.key),y=a(k,y,C),_===null?j=k:_.sibling=k,_=k);return t&&S.forEach(function(O){return e(b,O)}),Xr&&td(b,C),j}function g(b,y,w,N){var j=eg(w);if(typeof j!="function")throw Error(Le(150));if(w=j.call(w),w==null)throw Error(Le(151));for(var _=j=null,S=y,C=y=0,k=null,A=w.next();S!==null&&!A.done;C++,A=w.next()){S.index>C?(k=S,S=null):k=S.sibling;var O=m(b,S,A.value,N);if(O===null){S===null&&(S=k);break}t&&S&&O.alternate===null&&e(b,S),y=a(O,y,C),_===null?j=O:_.sibling=O,_=O,S=k}if(A.done)return r(b,S),Xr&&td(b,C),j;if(S===null){for(;!A.done;C++,A=w.next())A=f(b,A.value,N),A!==null&&(y=a(A,y,C),_===null?j=A:_.sibling=A,_=A);return Xr&&td(b,C),j}for(S=n(b,S);!A.done;C++,A=w.next())A=h(S,b,C,A.value,N),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=a(A,y,C),_===null?j=A:_.sibling=A,_=A);return t&&S.forEach(function(P){return e(b,P)}),Xr&&td(b,C),j}function v(b,y,w,N){if(typeof w=="object"&&w!==null&&w.type===yh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zy:e:{for(var j=w.key,_=y;_!==null;){if(_.key===j){if(j=w.type,j===yh){if(_.tag===7){r(b,_.sibling),y=s(_,w.props.children),y.return=b,b=y;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nc&&gI(j)===_.type){r(b,_.sibling),y=s(_,w.props),y.ref=ag(b,_,w),y.return=b,b=y;break e}r(b,_);break}else e(b,_);_=_.sibling}w.type===yh?(y=Bd(w.props.children,b.mode,N,w.key),y.return=b,b=y):(N=jb(w.type,w.key,w.props,null,b.mode,N),N.ref=ag(b,y,w),N.return=b,b=N)}return i(b);case xh:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=s(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else e(b,y);y=y.sibling}y=SS(w,b.mode,N),y.return=b,b=y}return i(b);case Nc:return _=w._init,v(b,y,_(w._payload),N)}if(kg(w))return p(b,y,w,N);if(eg(w))return g(b,y,w,N);u0(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=s(y,w),y.return=b,b=y):(r(b,y),y=_S(w,b.mode,N),y.return=b,b=y),i(b)):r(b,y)}return v}var vm=TV(!0),PV=TV(!1),Xb=Tu(null),Qb=null,Eh=null,dT=null;function fT(){dT=Eh=Qb=null}function hT(t){var e=Xb.current;Yr(Xb),t._currentValue=e}function YE(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vh(t,e){Qb=t,dT=Eh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ca=!0),t.firstContext=null)}function Fo(t){var e=t._currentValue;if(dT!==t)if(t={context:t,memoizedValue:e,next:null},Eh===null){if(Qb===null)throw Error(Le(308));Eh=t,Qb.dependencies={lanes:0,firstContext:t}}else Eh=Eh.next=t;return e}var pd=null;function mT(t){pd===null?pd=[t]:pd.push(t)}function MV(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,mT(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ql(t,n)}function Ql(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _c=!1;function pT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ql(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,hr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ql(t,r)}return s=n.interleaved,s===null?(e.next=e,mT(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ql(t,r)}function gb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,eT(t,r)}}function vI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jb(t,e,r,n){var s=t.updateQueue;_c=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,g=l;switch(m=e,h=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=fn({},f,m);break e;case 2:_c=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);ef|=i,t.lanes=i,t.memoizedState=f}}function xI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Le(191,s));s.call(n)}}}var uy={},Xi=Tu(uy),Dv=Tu(uy),Iv=Tu(uy);function gd(t){if(t===uy)throw Error(Le(174));return t}function gT(t,e){switch($r(Iv,e),$r(Dv,t),$r(Xi,uy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=AE(e,t)}Yr(Xi),$r(Xi,e)}function xm(){Yr(Xi),Yr(Dv),Yr(Iv)}function DV(t){gd(Iv.current);var e=gd(Xi.current),r=AE(e,t.type);e!==r&&($r(Dv,t),$r(Xi,r))}function vT(t){Dv.current===t&&(Yr(Xi),Yr(Dv))}var an=Tu(0);function Zb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xS=[];function xT(){for(var t=0;t<xS.length;t++)xS[t]._workInProgressVersionPrimary=null;xS.length=0}var vb=ac.ReactCurrentDispatcher,yS=ac.ReactCurrentBatchConfig,Zd=0,un=null,Zn=null,fs=null,ew=!1,Hg=!1,$v=0,Ese=0;function Rs(){throw Error(Le(321))}function yT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!_i(t[r],e[r]))return!1;return!0}function bT(t,e,r,n,s,a){if(Zd=a,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vb.current=t===null||t.memoizedState===null?Tse:Pse,t=r(n,s),Hg){a=0;do{if(Hg=!1,$v=0,25<=a)throw Error(Le(301));a+=1,fs=Zn=null,e.updateQueue=null,vb.current=Mse,t=r(n,s)}while(Hg)}if(vb.current=tw,e=Zn!==null&&Zn.next!==null,Zd=0,fs=Zn=un=null,ew=!1,e)throw Error(Le(300));return t}function wT(){var t=$v!==0;return $v=0,t}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?un.memoizedState=fs=t:fs=fs.next=t,fs}function Bo(){if(Zn===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=Zn.next;var e=fs===null?un.memoizedState:fs.next;if(e!==null)fs=e,Zn=t;else{if(t===null)throw Error(Le(310));Zn=t,t={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},fs===null?un.memoizedState=fs=t:fs=fs.next=t}return fs}function Lv(t,e){return typeof e=="function"?e(t):e}function bS(t){var e=Bo(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=Zn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Zd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,un.lanes|=d,ef|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,_i(n,e.memoizedState)||(Ca=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,un.lanes|=a,ef|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wS(t){var e=Bo(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=t(a,i.action),i=i.next;while(i!==s);_i(a,e.memoizedState)||(Ca=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function IV(){}function $V(t,e){var r=un,n=Bo(),s=e(),a=!_i(n.memoizedState,s);if(a&&(n.memoizedState=s,Ca=!0),n=n.queue,jT(BV.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||fs!==null&&fs.memoizedState.tag&1){if(r.flags|=2048,Fv(9,FV.bind(null,r,n,s,e),void 0,null),ps===null)throw Error(Le(349));Zd&30||LV(r,e,s)}return s}function LV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function FV(t,e,r,n){e.value=r,e.getSnapshot=n,zV(e)&&VV(t)}function BV(t,e,r){return r(function(){zV(e)&&VV(t)})}function zV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_i(t,r)}catch{return!0}}function VV(t){var e=Ql(t,1);e!==null&&xi(e,t,1,-1)}function yI(t){var e=Mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:t},e.queue=t,t=t.dispatch=Ose.bind(null,un,t),[e.memoizedState,t]}function Fv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function UV(){return Bo().memoizedState}function xb(t,e,r,n){var s=Mi();un.flags|=t,s.memoizedState=Fv(1|e,r,void 0,n===void 0?null:n)}function B1(t,e,r,n){var s=Bo();n=n===void 0?null:n;var a=void 0;if(Zn!==null){var i=Zn.memoizedState;if(a=i.destroy,n!==null&&yT(n,i.deps)){s.memoizedState=Fv(e,r,a,n);return}}un.flags|=t,s.memoizedState=Fv(1|e,r,a,n)}function bI(t,e){return xb(8390656,8,t,e)}function jT(t,e){return B1(2048,8,t,e)}function qV(t,e){return B1(4,2,t,e)}function WV(t,e){return B1(4,4,t,e)}function HV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KV(t,e,r){return r=r!=null?r.concat([t]):null,B1(4,4,HV.bind(null,e,t),r)}function NT(){}function GV(t,e){var r=Bo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function YV(t,e){var r=Bo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function XV(t,e,r){return Zd&21?(_i(r,e)||(r=tV(),un.lanes|=r,ef|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ca=!0),t.memoizedState=r)}function kse(t,e){var r=Cr;Cr=r!==0&&4>r?r:4,t(!0);var n=yS.transition;yS.transition={};try{t(!1),e()}finally{Cr=r,yS.transition=n}}function QV(){return Bo().memoizedState}function Ase(t,e,r){var n=au(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},JV(t))ZV(e,r);else if(r=MV(t,e,r,n),r!==null){var s=la();xi(r,t,n,s),e8(r,e,n)}}function Ose(t,e,r){var n=au(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(JV(t))ZV(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var i=e.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,_i(l,i)){var c=e.interleaved;c===null?(s.next=s,mT(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=MV(t,e,s,n),r!==null&&(s=la(),xi(r,t,n,s),e8(r,e,n))}}function JV(t){var e=t.alternate;return t===un||e!==null&&e===un}function ZV(t,e){Hg=ew=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function e8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,eT(t,r)}}var tw={readContext:Fo,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},Tse={readContext:Fo,useCallback:function(t,e){return Mi().memoizedState=[t,e===void 0?null:e],t},useContext:Fo,useEffect:bI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xb(4194308,4,HV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xb(4194308,4,t,e)},useInsertionEffect:function(t,e){return xb(4,2,t,e)},useMemo:function(t,e){var r=Mi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ase.bind(null,un,t),[n.memoizedState,t]},useRef:function(t){var e=Mi();return t={current:t},e.memoizedState=t},useState:yI,useDebugValue:NT,useDeferredValue:function(t){return Mi().memoizedState=t},useTransition:function(){var t=yI(!1),e=t[0];return t=kse.bind(null,t[1]),Mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=un,s=Mi();if(Xr){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),ps===null)throw Error(Le(349));Zd&30||LV(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,bI(BV.bind(null,n,a,t),[t]),n.flags|=2048,Fv(9,FV.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Mi(),e=ps.identifierPrefix;if(Xr){var r=$l,n=Il;r=(n&~(1<<32-vi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$v++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ese++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pse={readContext:Fo,useCallback:GV,useContext:Fo,useEffect:jT,useImperativeHandle:KV,useInsertionEffect:qV,useLayoutEffect:WV,useMemo:YV,useReducer:bS,useRef:UV,useState:function(){return bS(Lv)},useDebugValue:NT,useDeferredValue:function(t){var e=Bo();return XV(e,Zn.memoizedState,t)},useTransition:function(){var t=bS(Lv)[0],e=Bo().memoizedState;return[t,e]},useMutableSource:IV,useSyncExternalStore:$V,useId:QV,unstable_isNewReconciler:!1},Mse={readContext:Fo,useCallback:GV,useContext:Fo,useEffect:jT,useImperativeHandle:KV,useInsertionEffect:qV,useLayoutEffect:WV,useMemo:YV,useReducer:wS,useRef:UV,useState:function(){return wS(Lv)},useDebugValue:NT,useDeferredValue:function(t){var e=Bo();return Zn===null?e.memoizedState=t:XV(e,Zn.memoizedState,t)},useTransition:function(){var t=wS(Lv)[0],e=Bo().memoizedState;return[t,e]},useMutableSource:IV,useSyncExternalStore:$V,useId:QV,unstable_isNewReconciler:!1};function ei(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function XE(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:fn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var z1={isMounted:function(t){return(t=t._reactInternals)?Af(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=la(),s=au(t),a=ql(n,s);a.payload=e,r!=null&&(a.callback=r),e=nu(t,a,s),e!==null&&(xi(e,t,s,n),gb(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=la(),s=au(t),a=ql(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=nu(t,a,s),e!==null&&(xi(e,t,s,n),gb(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=la(),n=au(t),s=ql(r,n);s.tag=2,e!=null&&(s.callback=e),e=nu(t,s,n),e!==null&&(xi(e,t,n,r),gb(e,t,n))}};function wI(t,e,r,n,s,a,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,i):e.prototype&&e.prototype.isPureReactComponent?!Tv(r,n)||!Tv(s,a):!0}function t8(t,e,r){var n=!1,s=bu,a=e.contextType;return typeof a=="object"&&a!==null?a=Fo(a):(s=Ta(e)?Qd:Hs.current,n=e.contextTypes,a=(n=n!=null)?pm(t,s):bu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function jI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&z1.enqueueReplaceState(e,e.state,null)}function QE(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},pT(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Fo(a):(a=Ta(e)?Qd:Hs.current,s.context=pm(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(XE(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&z1.enqueueReplaceState(s,s.state,null),Jb(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ym(t,e){try{var r="",n=e;do r+=ine(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function jS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function JE(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Rse=typeof WeakMap=="function"?WeakMap:Map;function r8(t,e,r){r=ql(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){nw||(nw=!0,lk=n),JE(t,e)},r}function n8(t,e,r){r=ql(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){JE(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){JE(t,e),typeof n!="function"&&(su===null?su=new Set([this]):su.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function NI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Rse;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Gse.bind(null,t,e,r),e.then(t,t))}function _I(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SI(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ql(-1,1),e.tag=2,nu(r,e,1))),r.lanes|=1),t)}var Dse=ac.ReactCurrentOwner,Ca=!1;function ea(t,e,r,n){e.child=t===null?PV(e,null,r,n):vm(e,t.child,r,n)}function CI(t,e,r,n,s){r=r.render;var a=e.ref;return Vh(e,s),n=bT(t,e,r,n,a,s),r=wT(),t!==null&&!Ca?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jl(t,e,s)):(Xr&&r&&lT(e),e.flags|=1,ea(t,e,n,s),e.child)}function EI(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!TT(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,s8(t,e,a,n,s)):(t=jb(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Tv,r(i,n)&&t.ref===e.ref)return Jl(t,e,s)}return e.flags|=1,t=ou(a,n),t.ref=e.ref,t.return=e,e.child=t}function s8(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(Tv(a,n)&&t.ref===e.ref)if(Ca=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Ca=!0);else return e.lanes=t.lanes,Jl(t,e,s)}return ZE(t,e,r,n,s)}function a8(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$r(Ah,qa),qa|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$r(Ah,qa),qa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$r(Ah,qa),qa|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,$r(Ah,qa),qa|=n;return ea(t,e,s,r),e.child}function o8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ZE(t,e,r,n,s){var a=Ta(r)?Qd:Hs.current;return a=pm(e,a),Vh(e,s),r=bT(t,e,r,n,a,s),n=wT(),t!==null&&!Ca?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jl(t,e,s)):(Xr&&n&&lT(e),e.flags|=1,ea(t,e,r,s),e.child)}function kI(t,e,r,n,s){if(Ta(r)){var a=!0;Kb(e)}else a=!1;if(Vh(e,s),e.stateNode===null)yb(t,e),t8(e,r,n),QE(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fo(u):(u=Ta(r)?Qd:Hs.current,u=pm(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jI(e,i,n,u),_c=!1;var m=e.memoizedState;i.state=m,Jb(e,n,i,s),c=e.memoizedState,l!==n||m!==c||Oa.current||_c?(typeof d=="function"&&(XE(e,r,d,n),c=e.memoizedState),(l=_c||wI(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,RV(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ei(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fo(c):(c=Ta(r)?Qd:Hs.current,c=pm(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&jI(e,i,n,c),_c=!1,m=e.memoizedState,i.state=m,Jb(e,n,i,s);var p=e.memoizedState;l!==f||m!==p||Oa.current||_c?(typeof h=="function"&&(XE(e,r,h,n),p=e.memoizedState),(u=_c||wI(e,r,u,n,m,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return ek(t,e,r,n,a,s)}function ek(t,e,r,n,s,a){o8(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&hI(e,r,!1),Jl(t,e,a);n=e.stateNode,Dse.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=vm(e,t.child,null,a),e.child=vm(e,null,l,a)):ea(t,e,l,a),e.memoizedState=n.state,s&&hI(e,r,!0),e.child}function i8(t){var e=t.stateNode;e.pendingContext?fI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fI(t,e.context,!1),gT(t,e.containerInfo)}function AI(t,e,r,n,s){return gm(),uT(s),e.flags|=256,ea(t,e,r,n),e.child}var tk={dehydrated:null,treeContext:null,retryLane:0};function rk(t){return{baseLanes:t,cachePool:null,transitions:null}}function l8(t,e,r){var n=e.pendingProps,s=an.current,a=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$r(an,s&1),t===null)return GE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,a?(n=e.mode,a=e.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=q1(i,n,0,null),t=Bd(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=rk(r),e.memoizedState=tk,t):_T(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ise(t,e,i,n,l,s,r);if(a){a=n.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ou(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ou(l,a):(a=Bd(a,i,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,i=t.child.memoizedState,i=i===null?rk(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=t.childLanes&~r,e.memoizedState=tk,n}return a=t.child,t=a.sibling,n=ou(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function _T(t,e){return e=q1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function d0(t,e,r,n){return n!==null&&uT(n),vm(e,t.child,null,r),t=_T(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ise(t,e,r,n,s,a,i){if(r)return e.flags&256?(e.flags&=-257,n=jS(Error(Le(422))),d0(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=q1({mode:"visible",children:n.children},s,0,null),a=Bd(a,s,i,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&vm(e,t.child,null,i),e.child.memoizedState=rk(i),e.memoizedState=tk,a);if(!(e.mode&1))return d0(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Le(419)),n=jS(a,n,void 0),d0(t,e,i,n)}if(l=(i&t.childLanes)!==0,Ca||l){if(n=ps,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ql(t,s),xi(n,t,s,-1))}return OT(),n=jS(Error(Le(421))),d0(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yse.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Za=ru(s.nextSibling),eo=e,Xr=!0,li=null,t!==null&&(No[_o++]=Il,No[_o++]=$l,No[_o++]=Jd,Il=t.id,$l=t.overflow,Jd=e),e=_T(e,n.children),e.flags|=4096,e)}function OI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),YE(t.return,e,r)}function NS(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function c8(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(ea(t,e,n.children,r),n=an.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OI(t,r,e);else if(t.tag===19)OI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if($r(an,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Zb(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),NS(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zb(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}NS(e,!0,r,null,a);break;case"together":NS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ef|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=ou(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ou(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $se(t,e,r){switch(e.tag){case 3:i8(e),gm();break;case 5:DV(e);break;case 1:Ta(e.type)&&Kb(e);break;case 4:gT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;$r(Xb,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?($r(an,an.current&1),e.flags|=128,null):r&e.child.childLanes?l8(t,e,r):($r(an,an.current&1),t=Jl(t,e,r),t!==null?t.sibling:null);$r(an,an.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return c8(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$r(an,an.current),n)break;return null;case 22:case 23:return e.lanes=0,a8(t,e,r)}return Jl(t,e,r)}var u8,nk,d8,f8;u8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nk=function(){};d8=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,gd(Xi.current);var a=null;switch(r){case"input":s=SE(t,s),n=SE(t,n),a=[];break;case"select":s=fn({},s,{value:void 0}),n=fn({},n,{value:void 0}),a=[];break;case"textarea":s=kE(t,s),n=kE(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Wb)}OE(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_v.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_v.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};f8=function(t,e,r,n){r!==n&&(e.flags|=4)};function og(t,e){if(!Xr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ds(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lse(t,e,r){var n=e.pendingProps;switch(cT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(e),null;case 1:return Ta(e.type)&&Hb(),Ds(e),null;case 3:return n=e.stateNode,xm(),Yr(Oa),Yr(Hs),xT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(c0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,li!==null&&(dk(li),li=null))),nk(t,e),Ds(e),null;case 5:vT(e);var s=gd(Iv.current);if(r=e.type,t!==null&&e.stateNode!=null)d8(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return Ds(e),null}if(t=gd(Xi.current),c0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Bi]=e,n[Rv]=a,t=(e.mode&1)!==0,r){case"dialog":qr("cancel",n),qr("close",n);break;case"iframe":case"object":case"embed":qr("load",n);break;case"video":case"audio":for(s=0;s<Og.length;s++)qr(Og[s],n);break;case"source":qr("error",n);break;case"img":case"image":case"link":qr("error",n),qr("load",n);break;case"details":qr("toggle",n);break;case"input":FD(n,a),qr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qr("invalid",n);break;case"textarea":zD(n,a),qr("invalid",n)}OE(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&l0(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&l0(n.textContent,l,t),s=["children",""+l]):_v.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&qr("scroll",n)}switch(r){case"input":e0(n),BD(n,a,!0);break;case"textarea":e0(n),VD(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Wb)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Bi]=e,t[Rv]=n,u8(t,e,!1,!1),e.stateNode=t;e:{switch(i=TE(r,n),r){case"dialog":qr("cancel",t),qr("close",t),s=n;break;case"iframe":case"object":case"embed":qr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Og.length;s++)qr(Og[s],t);s=n;break;case"source":qr("error",t),s=n;break;case"img":case"image":case"link":qr("error",t),qr("load",t),s=n;break;case"details":qr("toggle",t),s=n;break;case"input":FD(t,n),s=SE(t,n),qr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=fn({},n,{value:void 0}),qr("invalid",t);break;case"textarea":zD(t,n),s=kE(t,n),qr("invalid",t);break;default:s=n}OE(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?U6(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&z6(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sv(t,c):typeof c=="number"&&Sv(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_v.hasOwnProperty(a)?c!=null&&a==="onScroll"&&qr("scroll",t):c!=null&&GO(t,a,c,i))}switch(r){case"input":e0(t),BD(t,n,!1);break;case"textarea":e0(t),VD(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Lh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Lh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ds(e),null;case 6:if(t&&e.stateNode!=null)f8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=gd(Iv.current),gd(Xi.current),c0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bi]=e,(a=n.nodeValue!==r)&&(t=eo,t!==null))switch(t.tag){case 3:l0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&l0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bi]=e,e.stateNode=n}return Ds(e),null;case 13:if(Yr(an),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xr&&Za!==null&&e.mode&1&&!(e.flags&128))OV(),gm(),e.flags|=98560,a=!1;else if(a=c0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Le(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Le(317));a[Bi]=e}else gm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ds(e),a=!1}else li!==null&&(dk(li),li=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||an.current&1?ts===0&&(ts=3):OT())),e.updateQueue!==null&&(e.flags|=4),Ds(e),null);case 4:return xm(),nk(t,e),t===null&&Pv(e.stateNode.containerInfo),Ds(e),null;case 10:return hT(e.type._context),Ds(e),null;case 17:return Ta(e.type)&&Hb(),Ds(e),null;case 19:if(Yr(an),a=e.memoizedState,a===null)return Ds(e),null;if(n=(e.flags&128)!==0,i=a.rendering,i===null)if(n)og(a,!1);else{if(ts!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Zb(t),i!==null){for(e.flags|=128,og(a,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,t=i.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return $r(an,an.current&1|2),e.child}t=t.sibling}a.tail!==null&&En()>bm&&(e.flags|=128,n=!0,og(a,!1),e.lanes=4194304)}else{if(!n)if(t=Zb(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),og(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Xr)return Ds(e),null}else 2*En()-a.renderingStartTime>bm&&r!==1073741824&&(e.flags|=128,n=!0,og(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(r=a.last,r!==null?r.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=En(),e.sibling=null,r=an.current,$r(an,n?r&1|2:r&1),e):(Ds(e),null);case 22:case 23:return AT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qa&1073741824&&(Ds(e),e.subtreeFlags&6&&(e.flags|=8192)):Ds(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function Fse(t,e){switch(cT(e),e.tag){case 1:return Ta(e.type)&&Hb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xm(),Yr(Oa),Yr(Hs),xT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vT(e),null;case 13:if(Yr(an),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));gm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yr(an),null;case 4:return xm(),null;case 10:return hT(e.type._context),null;case 22:case 23:return AT(),null;case 24:return null;default:return null}}var f0=!1,Fs=!1,Bse=typeof WeakSet=="function"?WeakSet:Set,ot=null;function kh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vn(t,e,n)}else r.current=null}function sk(t,e,r){try{r()}catch(n){vn(t,e,n)}}var TI=!1;function zse(t,e){if(zE=Vb,t=vV(),iT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===s&&(l=i),m===a&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(VE={focusedElem:t,selectionRange:r},Vb=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:ei(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(N){vn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return p=TI,TI=!1,p}function Kg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&sk(e,r,a)}s=s.next}while(s!==n)}}function V1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ak(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function h8(t){var e=t.alternate;e!==null&&(t.alternate=null,h8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[Rv],delete e[WE],delete e[Nse],delete e[_se])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m8(t){return t.tag===5||t.tag===3||t.tag===4}function PI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ok(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Wb));else if(n!==4&&(t=t.child,t!==null))for(ok(t,e,r),t=t.sibling;t!==null;)ok(t,e,r),t=t.sibling}function ik(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ik(t,e,r),t=t.sibling;t!==null;)ik(t,e,r),t=t.sibling}var _s=null,si=!1;function hc(t,e,r){for(r=r.child;r!==null;)p8(t,e,r),r=r.sibling}function p8(t,e,r){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(R1,r)}catch{}switch(r.tag){case 5:Fs||kh(r,e);case 6:var n=_s,s=si;_s=null,hc(t,e,r),_s=n,si=s,_s!==null&&(si?(t=_s,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_s.removeChild(r.stateNode));break;case 18:_s!==null&&(si?(t=_s,r=r.stateNode,t.nodeType===8?gS(t.parentNode,r):t.nodeType===1&&gS(t,r),Av(t)):gS(_s,r.stateNode));break;case 4:n=_s,s=si,_s=r.stateNode.containerInfo,si=!0,hc(t,e,r),_s=n,si=s;break;case 0:case 11:case 14:case 15:if(!Fs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&sk(r,e,i),s=s.next}while(s!==n)}hc(t,e,r);break;case 1:if(!Fs&&(kh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vn(r,e,l)}hc(t,e,r);break;case 21:hc(t,e,r);break;case 22:r.mode&1?(Fs=(n=Fs)||r.memoizedState!==null,hc(t,e,r),Fs=n):hc(t,e,r);break;default:hc(t,e,r)}}function MI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Bse),e.forEach(function(n){var s=Xse.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Go(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:_s=l.stateNode,si=!1;break e;case 3:_s=l.stateNode.containerInfo,si=!0;break e;case 4:_s=l.stateNode.containerInfo,si=!0;break e}l=l.return}if(_s===null)throw Error(Le(160));p8(a,i,s),_s=null,si=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){vn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g8(e,t),e=e.sibling}function g8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Go(e,t),Pi(t),n&4){try{Kg(3,t,t.return),V1(3,t)}catch(g){vn(t,t.return,g)}try{Kg(5,t,t.return)}catch(g){vn(t,t.return,g)}}break;case 1:Go(e,t),Pi(t),n&512&&r!==null&&kh(r,r.return);break;case 5:if(Go(e,t),Pi(t),n&512&&r!==null&&kh(r,r.return),t.flags&32){var s=t.stateNode;try{Sv(s,"")}catch(g){vn(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,i=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&L6(s,a),TE(l,i);var u=TE(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?U6(s,f):d==="dangerouslySetInnerHTML"?z6(s,f):d==="children"?Sv(s,f):GO(s,d,f,u)}switch(l){case"input":CE(s,a);break;case"textarea":F6(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Lh(s,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?Lh(s,!!a.multiple,a.defaultValue,!0):Lh(s,!!a.multiple,a.multiple?[]:"",!1))}s[Rv]=a}catch(g){vn(t,t.return,g)}}break;case 6:if(Go(e,t),Pi(t),n&4){if(t.stateNode===null)throw Error(Le(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(g){vn(t,t.return,g)}}break;case 3:if(Go(e,t),Pi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Av(e.containerInfo)}catch(g){vn(t,t.return,g)}break;case 4:Go(e,t),Pi(t);break;case 13:Go(e,t),Pi(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ET=En())),n&4&&MI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Fs=(u=Fs)||d,Go(e,t),Fs=u):Go(e,t),Pi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ot=t,d=t.child;d!==null;){for(f=ot=d;ot!==null;){switch(m=ot,h=m.child,m.tag){case 0:case 11:case 14:case 15:Kg(4,m,m.return);break;case 1:kh(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){vn(n,r,g)}}break;case 5:kh(m,m.return);break;case 22:if(m.memoizedState!==null){DI(f);continue}}h!==null?(h.return=m,ot=h):DI(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=V6("display",i))}catch(g){vn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){vn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Go(e,t),Pi(t),n&4&&MI(t);break;case 21:break;default:Go(e,t),Pi(t)}}function Pi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(m8(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sv(s,""),n.flags&=-33);var a=PI(t);ik(t,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=PI(t);ok(t,l,i);break;default:throw Error(Le(161))}}catch(c){vn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vse(t,e,r){ot=t,v8(t)}function v8(t,e,r){for(var n=(t.mode&1)!==0;ot!==null;){var s=ot,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||f0;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Fs;l=f0;var u=Fs;if(f0=i,(Fs=c)&&!u)for(ot=s;ot!==null;)i=ot,c=i.child,i.tag===22&&i.memoizedState!==null?II(s):c!==null?(c.return=i,ot=c):II(s);for(;a!==null;)ot=a,v8(a),a=a.sibling;ot=s,f0=l,Fs=u}RI(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ot=a):RI(t)}}function RI(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fs||V1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Fs)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ei(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&xI(e,a,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xI(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Av(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Fs||e.flags&512&&ak(e)}catch(m){vn(e,e.return,m)}}if(e===t){ot=null;break}if(r=e.sibling,r!==null){r.return=e.return,ot=r;break}ot=e.return}}function DI(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ot=r;break}ot=e.return}}function II(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{V1(4,e)}catch(c){vn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){vn(e,s,c)}}var a=e.return;try{ak(e)}catch(c){vn(e,a,c)}break;case 5:var i=e.return;try{ak(e)}catch(c){vn(e,i,c)}}}catch(c){vn(e,e.return,c)}if(e===t){ot=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ot=l;break}ot=e.return}}var Use=Math.ceil,rw=ac.ReactCurrentDispatcher,ST=ac.ReactCurrentOwner,Mo=ac.ReactCurrentBatchConfig,hr=0,ps=null,Fn=null,Ts=0,qa=0,Ah=Tu(0),ts=0,Bv=null,ef=0,U1=0,CT=0,Gg=null,_a=null,ET=0,bm=1/0,kl=null,nw=!1,lk=null,su=null,h0=!1,Wc=null,sw=0,Yg=0,ck=null,bb=-1,wb=0;function la(){return hr&6?En():bb!==-1?bb:bb=En()}function au(t){return t.mode&1?hr&2&&Ts!==0?Ts&-Ts:Cse.transition!==null?(wb===0&&(wb=tV()),wb):(t=Cr,t!==0||(t=window.event,t=t===void 0?16:lV(t.type)),t):1}function xi(t,e,r,n){if(50<Yg)throw Yg=0,ck=null,Error(Le(185));iy(t,r,n),(!(hr&2)||t!==ps)&&(t===ps&&(!(hr&2)&&(U1|=r),ts===4&&Tc(t,Ts)),Pa(t,n),r===1&&hr===0&&!(e.mode&1)&&(bm=En()+500,F1&&Pu()))}function Pa(t,e){var r=t.callbackNode;Cne(t,e);var n=zb(t,t===ps?Ts:0);if(n===0)r!==null&&WD(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&WD(r),e===1)t.tag===0?Sse($I.bind(null,t)):EV($I.bind(null,t)),wse(function(){!(hr&6)&&Pu()}),r=null;else{switch(rV(n)){case 1:r=ZO;break;case 4:r=Z6;break;case 16:r=Bb;break;case 536870912:r=eV;break;default:r=Bb}r=S8(r,x8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function x8(t,e){if(bb=-1,wb=0,hr&6)throw Error(Le(327));var r=t.callbackNode;if(Uh()&&t.callbackNode!==r)return null;var n=zb(t,t===ps?Ts:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=aw(t,n);else{e=n;var s=hr;hr|=2;var a=b8();(ps!==t||Ts!==e)&&(kl=null,bm=En()+500,Fd(t,e));do try{Hse();break}catch(l){y8(t,l)}while(!0);fT(),rw.current=a,hr=s,Fn!==null?e=0:(ps=null,Ts=0,e=ts)}if(e!==0){if(e===2&&(s=IE(t),s!==0&&(n=s,e=uk(t,s))),e===1)throw r=Bv,Fd(t,0),Tc(t,n),Pa(t,En()),r;if(e===6)Tc(t,n);else{if(s=t.current.alternate,!(n&30)&&!qse(s)&&(e=aw(t,n),e===2&&(a=IE(t),a!==0&&(n=a,e=uk(t,a))),e===1))throw r=Bv,Fd(t,0),Tc(t,n),Pa(t,En()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:rd(t,_a,kl);break;case 3:if(Tc(t,n),(n&130023424)===n&&(e=ET+500-En(),10<e)){if(zb(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){la(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qE(rd.bind(null,t,_a,kl),e);break}rd(t,_a,kl);break;case 4:if(Tc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-vi(n);a=1<<i,i=e[i],i>s&&(s=i),n&=~a}if(n=s,n=En()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Use(n/1960))-n,10<n){t.timeoutHandle=qE(rd.bind(null,t,_a,kl),n);break}rd(t,_a,kl);break;case 5:rd(t,_a,kl);break;default:throw Error(Le(329))}}}return Pa(t,En()),t.callbackNode===r?x8.bind(null,t):null}function uk(t,e){var r=Gg;return t.current.memoizedState.isDehydrated&&(Fd(t,e).flags|=256),t=aw(t,e),t!==2&&(e=_a,_a=r,e!==null&&dk(e)),t}function dk(t){_a===null?_a=t:_a.push.apply(_a,t)}function qse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!_i(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tc(t,e){for(e&=~CT,e&=~U1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vi(e),n=1<<r;t[r]=-1,e&=~n}}function $I(t){if(hr&6)throw Error(Le(327));Uh();var e=zb(t,0);if(!(e&1))return Pa(t,En()),null;var r=aw(t,e);if(t.tag!==0&&r===2){var n=IE(t);n!==0&&(e=n,r=uk(t,n))}if(r===1)throw r=Bv,Fd(t,0),Tc(t,e),Pa(t,En()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rd(t,_a,kl),Pa(t,En()),null}function kT(t,e){var r=hr;hr|=1;try{return t(e)}finally{hr=r,hr===0&&(bm=En()+500,F1&&Pu())}}function tf(t){Wc!==null&&Wc.tag===0&&!(hr&6)&&Uh();var e=hr;hr|=1;var r=Mo.transition,n=Cr;try{if(Mo.transition=null,Cr=1,t)return t()}finally{Cr=n,Mo.transition=r,hr=e,!(hr&6)&&Pu()}}function AT(){qa=Ah.current,Yr(Ah)}function Fd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,bse(r)),Fn!==null)for(r=Fn.return;r!==null;){var n=r;switch(cT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hb();break;case 3:xm(),Yr(Oa),Yr(Hs),xT();break;case 5:vT(n);break;case 4:xm();break;case 13:Yr(an);break;case 19:Yr(an);break;case 10:hT(n.type._context);break;case 22:case 23:AT()}r=r.return}if(ps=t,Fn=t=ou(t.current,null),Ts=qa=e,ts=0,Bv=null,CT=U1=ef=0,_a=Gg=null,pd!==null){for(e=0;e<pd.length;e++)if(r=pd[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}pd=null}return t}function y8(t,e){do{var r=Fn;try{if(fT(),vb.current=tw,ew){for(var n=un.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ew=!1}if(Zd=0,fs=Zn=un=null,Hg=!1,$v=0,ST.current=null,r===null||r.return===null){ts=1,Bv=e,Fn=null;break}e:{var a=t,i=r.return,l=r,c=e;if(e=Ts,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=_I(i);if(h!==null){h.flags&=-257,SI(h,i,l,a,e),h.mode&1&&NI(a,u,e),e=h,c=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){NI(a,u,e),OT();break e}c=Error(Le(426))}}else if(Xr&&l.mode&1){var v=_I(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),SI(v,i,l,a,e),uT(ym(c,l));break e}}a=c=ym(c,l),ts!==4&&(ts=2),Gg===null?Gg=[a]:Gg.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=r8(a,c,e);vI(a,b);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(su===null||!su.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=n8(a,l,e);vI(a,N);break e}}a=a.return}while(a!==null)}j8(r)}catch(j){e=j,Fn===r&&r!==null&&(Fn=r=r.return);continue}break}while(!0)}function b8(){var t=rw.current;return rw.current=tw,t===null?tw:t}function OT(){(ts===0||ts===3||ts===2)&&(ts=4),ps===null||!(ef&268435455)&&!(U1&268435455)||Tc(ps,Ts)}function aw(t,e){var r=hr;hr|=2;var n=b8();(ps!==t||Ts!==e)&&(kl=null,Fd(t,e));do try{Wse();break}catch(s){y8(t,s)}while(!0);if(fT(),hr=r,rw.current=n,Fn!==null)throw Error(Le(261));return ps=null,Ts=0,ts}function Wse(){for(;Fn!==null;)w8(Fn)}function Hse(){for(;Fn!==null&&!vne();)w8(Fn)}function w8(t){var e=_8(t.alternate,t,qa);t.memoizedProps=t.pendingProps,e===null?j8(t):Fn=e,ST.current=null}function j8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Fse(r,e),r!==null){r.flags&=32767,Fn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ts=6,Fn=null;return}}else if(r=Lse(r,e,qa),r!==null){Fn=r;return}if(e=e.sibling,e!==null){Fn=e;return}Fn=e=t}while(e!==null);ts===0&&(ts=5)}function rd(t,e,r){var n=Cr,s=Mo.transition;try{Mo.transition=null,Cr=1,Kse(t,e,r,n)}finally{Mo.transition=s,Cr=n}return null}function Kse(t,e,r,n){do Uh();while(Wc!==null);if(hr&6)throw Error(Le(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ene(t,a),t===ps&&(Fn=ps=null,Ts=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||h0||(h0=!0,S8(Bb,function(){return Uh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mo.transition,Mo.transition=null;var i=Cr;Cr=1;var l=hr;hr|=4,ST.current=null,zse(t,r),g8(r,t),hse(VE),Vb=!!zE,VE=zE=null,t.current=r,Vse(r),xne(),hr=l,Cr=i,Mo.transition=a}else t.current=r;if(h0&&(h0=!1,Wc=t,sw=s),a=t.pendingLanes,a===0&&(su=null),wne(r.stateNode),Pa(t,En()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(nw)throw nw=!1,t=lk,lk=null,t;return sw&1&&t.tag!==0&&Uh(),a=t.pendingLanes,a&1?t===ck?Yg++:(Yg=0,ck=t):Yg=0,Pu(),null}function Uh(){if(Wc!==null){var t=rV(sw),e=Mo.transition,r=Cr;try{if(Mo.transition=null,Cr=16>t?16:t,Wc===null)var n=!1;else{if(t=Wc,Wc=null,sw=0,hr&6)throw Error(Le(331));var s=hr;for(hr|=4,ot=t.current;ot!==null;){var a=ot,i=a.child;if(ot.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:Kg(8,d,a)}var f=d.child;if(f!==null)f.return=d,ot=f;else for(;ot!==null;){d=ot;var m=d.sibling,h=d.return;if(h8(d),d===u){ot=null;break}if(m!==null){m.return=h,ot=m;break}ot=h}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ot=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ot=i;else e:for(;ot!==null;){if(a=ot,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Kg(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,ot=b;break e}ot=a.return}}var y=t.current;for(ot=y;ot!==null;){i=ot;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ot=w;else e:for(i=y;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:V1(9,l)}}catch(j){vn(l,l.return,j)}if(l===i){ot=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ot=N;break e}ot=l.return}}if(hr=s,Pu(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(R1,t)}catch{}n=!0}return n}finally{Cr=r,Mo.transition=e}}return!1}function LI(t,e,r){e=ym(r,e),e=r8(t,e,1),t=nu(t,e,1),e=la(),t!==null&&(iy(t,1,e),Pa(t,e))}function vn(t,e,r){if(t.tag===3)LI(t,t,r);else for(;e!==null;){if(e.tag===3){LI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(su===null||!su.has(n))){t=ym(r,t),t=n8(e,t,1),e=nu(e,t,1),t=la(),e!==null&&(iy(e,1,t),Pa(e,t));break}}e=e.return}}function Gse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=la(),t.pingedLanes|=t.suspendedLanes&r,ps===t&&(Ts&r)===r&&(ts===4||ts===3&&(Ts&130023424)===Ts&&500>En()-ET?Fd(t,0):CT|=r),Pa(t,e)}function N8(t,e){e===0&&(t.mode&1?(e=n0,n0<<=1,!(n0&130023424)&&(n0=4194304)):e=1);var r=la();t=Ql(t,e),t!==null&&(iy(t,e,r),Pa(t,r))}function Yse(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),N8(t,r)}function Xse(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),N8(t,r)}var _8;_8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oa.current)Ca=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ca=!1,$se(t,e,r);Ca=!!(t.flags&131072)}else Ca=!1,Xr&&e.flags&1048576&&kV(e,Yb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yb(t,e),t=e.pendingProps;var s=pm(e,Hs.current);Vh(e,r),s=bT(null,e,n,t,s,r);var a=wT();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ta(n)?(a=!0,Kb(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pT(e),s.updater=z1,e.stateNode=s,s._reactInternals=e,QE(e,n,t,r),e=ek(null,e,n,!0,a,r)):(e.tag=0,Xr&&a&&lT(e),ea(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yb(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Jse(n),t=ei(n,t),s){case 0:e=ZE(null,e,n,t,r);break e;case 1:e=kI(null,e,n,t,r);break e;case 11:e=CI(null,e,n,t,r);break e;case 14:e=EI(null,e,n,ei(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ei(n,s),ZE(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ei(n,s),kI(t,e,n,s,r);case 3:e:{if(i8(e),t===null)throw Error(Le(387));n=e.pendingProps,a=e.memoizedState,s=a.element,RV(t,e),Jb(e,n,null,r);var i=e.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=ym(Error(Le(423)),e),e=AI(t,e,n,r,s);break e}else if(n!==s){s=ym(Error(Le(424)),e),e=AI(t,e,n,r,s);break e}else for(Za=ru(e.stateNode.containerInfo.firstChild),eo=e,Xr=!0,li=null,r=PV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gm(),n===s){e=Jl(t,e,r);break e}ea(t,e,n,r)}e=e.child}return e;case 5:return DV(e),t===null&&GE(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,UE(n,s)?i=null:a!==null&&UE(n,a)&&(e.flags|=32),o8(t,e),ea(t,e,i,r),e.child;case 6:return t===null&&GE(e),null;case 13:return l8(t,e,r);case 4:return gT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=vm(e,null,n,r):ea(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ei(n,s),CI(t,e,n,s,r);case 7:return ea(t,e,e.pendingProps,r),e.child;case 8:return ea(t,e,e.pendingProps.children,r),e.child;case 12:return ea(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,i=s.value,$r(Xb,n._currentValue),n._currentValue=i,a!==null)if(_i(a.value,i)){if(a.children===s.children&&!Oa.current){e=Jl(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ql(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),YE(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===e.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Le(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),YE(i,r,e),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ea(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Vh(e,r),s=Fo(s),n=n(s),e.flags|=1,ea(t,e,n,r),e.child;case 14:return n=e.type,s=ei(n,e.pendingProps),s=ei(n.type,s),EI(t,e,n,s,r);case 15:return s8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ei(n,s),yb(t,e),e.tag=1,Ta(n)?(t=!0,Kb(e)):t=!1,Vh(e,r),t8(e,n,s),QE(e,n,s,r),ek(null,e,n,!0,t,r);case 19:return c8(t,e,r);case 22:return a8(t,e,r)}throw Error(Le(156,e.tag))};function S8(t,e){return J6(t,e)}function Qse(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ao(t,e,r,n){return new Qse(t,e,r,n)}function TT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jse(t){if(typeof t=="function")return TT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===XO)return 11;if(t===QO)return 14}return 2}function ou(t,e){var r=t.alternate;return r===null?(r=Ao(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function jb(t,e,r,n,s,a){var i=2;if(n=t,typeof t=="function")TT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case yh:return Bd(r.children,s,a,e);case YO:i=8,s|=8;break;case wE:return t=Ao(12,r,e,s|2),t.elementType=wE,t.lanes=a,t;case jE:return t=Ao(13,r,e,s),t.elementType=jE,t.lanes=a,t;case NE:return t=Ao(19,r,e,s),t.elementType=NE,t.lanes=a,t;case D6:return q1(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M6:i=10;break e;case R6:i=9;break e;case XO:i=11;break e;case QO:i=14;break e;case Nc:i=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Ao(i,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function Bd(t,e,r,n){return t=Ao(7,t,n,e),t.lanes=r,t}function q1(t,e,r,n){return t=Ao(22,t,n,e),t.elementType=D6,t.lanes=r,t.stateNode={isHidden:!1},t}function _S(t,e,r){return t=Ao(6,t,null,e),t.lanes=r,t}function SS(t,e,r){return e=Ao(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zse(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aS(0),this.expirationTimes=aS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aS(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function PT(t,e,r,n,s,a,i,l,c){return t=new Zse(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ao(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pT(a),t}function eae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function C8(t){if(!t)return bu;t=t._reactInternals;e:{if(Af(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ta(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(Ta(r))return CV(t,r,e)}return e}function E8(t,e,r,n,s,a,i,l,c){return t=PT(r,n,!0,t,s,a,i,l,c),t.context=C8(null),r=t.current,n=la(),s=au(r),a=ql(n,s),a.callback=e??null,nu(r,a,s),t.current.lanes=s,iy(t,s,n),Pa(t,n),t}function W1(t,e,r,n){var s=e.current,a=la(),i=au(s);return r=C8(r),e.context===null?e.context=r:e.pendingContext=r,e=ql(a,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=nu(s,e,i),t!==null&&(xi(t,s,i,a),gb(t,s,i)),i}function ow(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function MT(t,e){FI(t,e),(t=t.alternate)&&FI(t,e)}function tae(){return null}var k8=typeof reportError=="function"?reportError:function(t){console.error(t)};function RT(t){this._internalRoot=t}H1.prototype.render=RT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));W1(t,e,null,null)};H1.prototype.unmount=RT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tf(function(){W1(null,t,null,null)}),e[Xl]=null}};function H1(t){this._internalRoot=t}H1.prototype.unstable_scheduleHydration=function(t){if(t){var e=aV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Oc.length&&e!==0&&e<Oc[r].priority;r++);Oc.splice(r,0,t),r===0&&iV(t)}};function DT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function K1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BI(){}function rae(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=ow(i);a.call(u)}}var i=E8(e,n,t,0,null,!1,!1,"",BI);return t._reactRootContainer=i,t[Xl]=i.current,Pv(t.nodeType===8?t.parentNode:t),tf(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ow(c);l.call(u)}}var c=PT(t,0,!1,null,null,!1,!1,"",BI);return t._reactRootContainer=c,t[Xl]=c.current,Pv(t.nodeType===8?t.parentNode:t),tf(function(){W1(e,c,r,n)}),c}function G1(t,e,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=ow(i);l.call(c)}}W1(e,i,t,s)}else i=rae(r,e,t,s,n);return ow(i)}nV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ag(e.pendingLanes);r!==0&&(eT(e,r|1),Pa(e,En()),!(hr&6)&&(bm=En()+500,Pu()))}break;case 13:tf(function(){var n=Ql(t,1);if(n!==null){var s=la();xi(n,t,1,s)}}),MT(t,1)}};tT=function(t){if(t.tag===13){var e=Ql(t,134217728);if(e!==null){var r=la();xi(e,t,134217728,r)}MT(t,134217728)}};sV=function(t){if(t.tag===13){var e=au(t),r=Ql(t,e);if(r!==null){var n=la();xi(r,t,e,n)}MT(t,e)}};aV=function(){return Cr};oV=function(t,e){var r=Cr;try{return Cr=t,e()}finally{Cr=r}};ME=function(t,e,r){switch(e){case"input":if(CE(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=L1(n);if(!s)throw Error(Le(90));$6(n),CE(n,s)}}}break;case"textarea":F6(t,r);break;case"select":e=r.value,e!=null&&Lh(t,!!r.multiple,e,!1)}};H6=kT;K6=tf;var nae={usingClientEntryPoint:!1,Events:[cy,Nh,L1,q6,W6,kT]},ig={findFiberByHostInstance:md,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sae={bundleType:ig.bundleType,version:ig.version,rendererPackageName:ig.rendererPackageName,rendererConfig:ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ac.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X6(t),t===null?null:t.stateNode},findFiberByHostInstance:ig.findFiberByHostInstance||tae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m0.isDisabled&&m0.supportsFiber)try{R1=m0.inject(sae),Yi=m0}catch{}}uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nae;uo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DT(e))throw Error(Le(200));return eae(t,e,null,r)};uo.createRoot=function(t,e){if(!DT(t))throw Error(Le(299));var r=!1,n="",s=k8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=PT(t,1,!1,null,null,r,!1,n,s),t[Xl]=e.current,Pv(t.nodeType===8?t.parentNode:t),new RT(e)};uo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=X6(e),t=t===null?null:t.stateNode,t};uo.flushSync=function(t){return tf(t)};uo.hydrate=function(t,e,r){if(!K1(e))throw Error(Le(200));return G1(null,t,e,!0,r)};uo.hydrateRoot=function(t,e,r){if(!DT(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=k8;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=E8(e,null,t,1,r??null,s,!1,a,i),t[Xl]=e.current,Pv(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new H1(e)};uo.render=function(t,e,r){if(!K1(e))throw Error(Le(200));return G1(null,t,e,!1,r)};uo.unmountComponentAtNode=function(t){if(!K1(t))throw Error(Le(40));return t._reactRootContainer?(tf(function(){G1(null,null,t,!1,function(){t._reactRootContainer=null,t[Xl]=null})}),!0):!1};uo.unstable_batchedUpdates=kT;uo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!K1(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return G1(t,e,r,!1,n)};uo.version="18.3.1-next-f1338f8080-20240426";function A8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A8)}catch(t){console.error(t)}}A8(),A6.exports=uo;var Mu=A6.exports;const O8=vr(Mu);var T8,zI=Mu;T8=zI.createRoot,zI.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zv.apply(this,arguments)}var Hc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hc||(Hc={}));const VI="popstate";function aae(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:i,hash:l}=n.location;return fk("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:iw(s)}return iae(e,r,null,t)}function Pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P8(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oae(){return Math.random().toString(36).substr(2,8)}function UI(t,e){return{usr:t.state,key:t.key,idx:e}}function fk(t,e,r,n){return r===void 0&&(r=null),zv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sp(e):e,{state:r,key:e&&e.key||n||oae()})}function iw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function iae(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Hc.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(zv({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Hc.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:b})}function m(v,b){l=Hc.Push;let y=fk(g.location,v,b);u=d()+1;let w=UI(y,u),N=g.createHref(y);try{i.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}a&&c&&c({action:l,location:g.location,delta:1})}function h(v,b){l=Hc.Replace;let y=fk(g.location,v,b);u=d();let w=UI(y,u),N=g.createHref(y);i.replaceState(w,"",N),a&&c&&c({action:l,location:g.location,delta:0})}function p(v){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:iw(v);return y=y.replace(/ $/,"%20"),Pn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return l},get location(){return t(s,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(VI,f),c=v,()=>{s.removeEventListener(VI,f),c=null}},createHref(v){return e(s,v)},createURL:p,encodeLocation(v){let b=p(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:h,go(v){return i.go(v)}};return g}var qI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qI||(qI={}));function lae(t,e,r){return r===void 0&&(r="/"),cae(t,e,r)}function cae(t,e,r,n){let s=typeof e=="string"?Sp(e):e,a=IT(s.pathname||"/",r);if(a==null)return null;let i=M8(t);uae(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=jae(a);l=yae(i[c],u)}return l}function M8(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Pn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=iu([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Pn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),M8(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:vae(u,a.index),routesMeta:d})};return t.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of R8(a.path))s(a,i,c)}),e}function R8(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=R8(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function uae(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xae(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dae=/^:[\w-]+$/,fae=3,hae=2,mae=1,pae=10,gae=-2,WI=t=>t==="*";function vae(t,e){let r=t.split("/"),n=r.length;return r.some(WI)&&(n+=gae),e&&(n+=hae),r.filter(s=>!WI(s)).reduce((s,a)=>s+(dae.test(a)?fae:a===""?mae:pae),n)}function xae(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function yae(t,e,r){let{routesMeta:n}=t,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=bae({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:iu([a,f.pathname]),pathnameBase:Cae(iu([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=iu([a,f.pathnameBase]))}return i}function bae(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=wae(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let g=l[f]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:t}}function wae(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),P8(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function jae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P8(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Nae(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Sp(t):t;return{pathname:r?r.startsWith("/")?r:_ae(r,e):e,search:Eae(n),hash:kae(s)}}function _ae(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function CS(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sae(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $T(t,e){let r=Sae(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function LT(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Sp(t):(s=zv({},t),Pn(!s.pathname||!s.pathname.includes("?"),CS("?","pathname","search",s)),Pn(!s.pathname||!s.pathname.includes("#"),CS("#","pathname","hash",s)),Pn(!s.search||!s.search.includes("#"),CS("#","search","hash",s)));let a=t===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=Nae(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const iu=t=>t.join("/").replace(/\/\/+/g,"/"),Cae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Eae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D8=["post","put","patch","delete"];new Set(D8);const Oae=["get",...D8];new Set(Oae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}const FT=x.createContext(null),Tae=x.createContext(null),Ru=x.createContext(null),Y1=x.createContext(null),oc=x.createContext({outlet:null,matches:[],isDataRoute:!1}),I8=x.createContext(null);function Pae(t,e){let{relative:r}=e===void 0?{}:e;Cp()||Pn(!1);let{basename:n,navigator:s}=x.useContext(Ru),{hash:a,pathname:i,search:l}=F8(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:iu([n,i])),s.createHref({pathname:c,search:l,hash:a})}function Cp(){return x.useContext(Y1)!=null}function Ai(){return Cp()||Pn(!1),x.useContext(Y1).location}function $8(t){x.useContext(Ru).static||x.useLayoutEffect(t)}function Uo(){let{isDataRoute:t}=x.useContext(oc);return t?Wae():Mae()}function Mae(){Cp()||Pn(!1);let t=x.useContext(FT),{basename:e,future:r,navigator:n}=x.useContext(Ru),{matches:s}=x.useContext(oc),{pathname:a}=Ai(),i=JSON.stringify($T(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return $8(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=LT(u,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:iu([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,a,t])}function L8(){let{matches:t}=x.useContext(oc),e=t[t.length-1];return e?e.params:{}}function F8(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Ru),{matches:s}=x.useContext(oc),{pathname:a}=Ai(),i=JSON.stringify($T(s,n.v7_relativeSplatPath));return x.useMemo(()=>LT(t,JSON.parse(i),a,r==="path"),[t,i,a,r])}function Rae(t,e){return Dae(t,e)}function Dae(t,e,r,n){Cp()||Pn(!1);let{navigator:s}=x.useContext(Ru),{matches:a}=x.useContext(oc),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ai(),d;if(e){var f;let v=typeof e=="string"?Sp(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Pn(!1),d=v}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=lae(t,{pathname:h}),g=Bae(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:iu([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:iu([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&g?x.createElement(Y1.Provider,{value:{location:Vv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hc.Pop}},g):g}function Iae(){let t=qae(),e=Aae(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:s},r):null,null)}const $ae=x.createElement(Iae,null);class Lae extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(oc.Provider,{value:this.props.routeContext},x.createElement(I8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fae(t){let{routeContext:e,match:r,children:n}=t,s=x.useContext(FT);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(oc.Provider,{value:e},n)}function Bae(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Pn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,p=!1,g=null,v=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||$ae,c&&(u<0&&m===0?(Hae("route-fallback"),p=!0,v=null):u===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),y=()=>{let w;return h?w=g:p?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Fae,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?x.createElement(Lae,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var B8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B8||{}),z8=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(z8||{});function zae(t){let e=x.useContext(FT);return e||Pn(!1),e}function Vae(t){let e=x.useContext(Tae);return e||Pn(!1),e}function Uae(t){let e=x.useContext(oc);return e||Pn(!1),e}function V8(t){let e=Uae(),r=e.matches[e.matches.length-1];return r.route.id||Pn(!1),r.route.id}function qae(){var t;let e=x.useContext(I8),r=Vae(),n=V8();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Wae(){let{router:t}=zae(B8.UseNavigateStable),e=V8(z8.UseNavigateStable),r=x.useRef(!1);return $8(()=>{r.current=!0}),x.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Vv({fromRouteId:e},a)))},[t,e])}const HI={};function Hae(t,e,r){HI[t]||(HI[t]=!0)}function Kae(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function lg(t){let{to:e,replace:r,state:n,relative:s}=t;Cp()||Pn(!1);let{future:a,static:i}=x.useContext(Ru),{matches:l}=x.useContext(oc),{pathname:c}=Ai(),u=Uo(),d=LT(e,$T(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function nn(t){Pn(!1)}function Gae(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Hc.Pop,navigator:a,static:i=!1,future:l}=t;Cp()&&Pn(!1);let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:i,future:Vv({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Sp(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,g=x.useMemo(()=>{let v=IT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:h,key:p},navigationType:s}},[c,d,f,m,h,p,s]);return g==null?null:x.createElement(Ru.Provider,{value:u},x.createElement(Y1.Provider,{children:r,value:g}))}function Yae(t){let{children:e,location:r}=t;return Rae(hk(e),r)}new Promise(()=>{});function hk(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,s)=>{if(!x.isValidElement(n))return;let a=[...e,s];if(n.type===x.Fragment){r.push.apply(r,hk(n.props.children,a));return}n.type!==nn&&Pn(!1),!n.props.index||!n.props.children||Pn(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=hk(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}function Xae(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Qae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jae(t,e){return t.button===0&&(!e||e==="_self")&&!Qae(t)}function pk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Zae(t,e){let r=pk(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const eoe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],toe="6";try{window.__reactRouterVersion=toe}catch{}const roe="startTransition",KI=M1[roe];function noe(t){let{basename:e,children:r,future:n,window:s}=t,a=x.useRef();a.current==null&&(a.current=aae({window:s,v5Compat:!0}));let i=a.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&KI?KI(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>Kae(n),[n]),x.createElement(Gae,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const soe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aoe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=x.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=Xae(e,eoe),{basename:h}=x.useContext(Ru),p,g=!1;if(typeof u=="string"&&aoe.test(u)&&(p=u,soe))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=IT(N.pathname,h);N.origin===w.origin&&j!=null?u=j+N.search+N.hash:g=!0}catch{}let v=Pae(u,{relative:s}),b=ooe(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",mk({},m,{href:p||v,onClick:g||a?n:y,ref:r,target:c}))});var GI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GI||(GI={}));var YI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YI||(YI={}));function ooe(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=e===void 0?{}:e,c=Uo(),u=Ai(),d=F8(t,{relative:i});return x.useCallback(f=>{if(Jae(f,r)){f.preventDefault();let m=n!==void 0?n:iw(u)===iw(d);c(t,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,t,a,i,l])}function ioe(t){let e=x.useRef(pk(t)),r=x.useRef(!1),n=Ai(),s=x.useMemo(()=>Zae(n.search,r.current?null:e.current),[n.search]),a=Uo(),i=x.useCallback((l,c)=>{const u=pk(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}const loe=1,coe=1e6;let ES=0;function uoe(){return ES=(ES+1)%Number.MAX_SAFE_INTEGER,ES.toString()}const kS=new Map,XI=t=>{if(kS.has(t))return;const e=setTimeout(()=>{kS.delete(t),Xg({type:"REMOVE_TOAST",toastId:t})},coe);kS.set(t,e)},doe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,loe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?XI(r):t.toasts.forEach(n=>{XI(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Nb=[];let _b={toasts:[]};function Xg(t){_b=doe(_b,t),Nb.forEach(e=>{e(_b)})}function foe({...t}){const e=uoe(),r=s=>Xg({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Xg({type:"DISMISS_TOAST",toastId:e});Xg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}});try{if(localStorage.getItem("noxus-sound-enabled")!=="false"){const a=t.variant==="destructive"?"error":"success",i=new Audio(`/sounds/${a}.mp3`);i.volume=.5,i.play().catch(()=>{})}}catch{}return{id:e,dismiss:n,update:r}}function tn(){const[t,e]=x.useState(_b);return x.useEffect(()=>(Nb.push(e),()=>{const r=Nb.indexOf(e);r>-1&&Nb.splice(r,1)}),[t]),{...t,toast:foe,dismiss:r=>Xg({type:"DISMISS_TOAST",toastId:r})}}function Ee(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function QI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function al(...t){return e=>{let r=!1;const n=t.map(s=>{const a=QI(s,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():QI(t[s],null)}}}}function Ot(...t){return x.useCallback(al(...t),t)}function hoe(t,e){const r=x.createContext(e),n=a=>{const{children:i,...l}=a,c=x.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=t+"Provider";function s(a){const i=x.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function Ms(t,e=[]){let r=[];function n(a,i){const l=x.createContext(i),c=r.length;r=[...r,i];const u=f=>{var b;const{scope:m,children:h,...p}=f,g=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,v=x.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:v,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,p=x.useContext(h);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,moe(s,...e)]}function moe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function rf(t){const e=poe(t),r=x.forwardRef((n,s)=>{const{children:a,...i}=n,l=x.Children.toArray(a),c=l.find(goe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...i,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(e,{...i,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function poe(t){const e=x.forwardRef((r,n)=>{const{children:s,...a}=r;if(x.isValidElement(s)){const i=xoe(s),l=voe(a,s.props);return s.type!==x.Fragment&&(l.ref=n?al(n,i):i),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var U8=Symbol("radix.slottable");function q8(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=U8,e}function goe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U8}function voe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function xoe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function dy(t){const e=t+"CollectionProvider",[r,n]=Ms(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:b}=g,y=z.useRef(null),w=z.useRef(new Map).current;return o.jsx(s,{scope:v,itemMap:w,collectionRef:y,children:b})};i.displayName=e;const l=t+"CollectionSlot",c=rf(l),u=z.forwardRef((g,v)=>{const{scope:b,children:y}=g,w=a(l,b),N=Ot(v,w.collectionRef);return o.jsx(c,{ref:N,children:y})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=rf(d),h=z.forwardRef((g,v)=>{const{scope:b,children:y,...w}=g,N=z.useRef(null),j=Ot(v,N),_=a(d,b);return z.useEffect(()=>(_.itemMap.set(N,{ref:N,...w}),()=>void _.itemMap.delete(N))),o.jsx(m,{[f]:"",ref:j,children:y})});h.displayName=d;function p(g){const v=a(t+"CollectionConsumer",g);return z.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((_,S)=>w.indexOf(_.ref.current)-w.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:h},p,n]}var yoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=yoe.reduce((t,e)=>{const r=rf(`Primitive.${e}`),n=x.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function BT(t,e){t&&Mu.flushSync(()=>t.dispatchEvent(e))}function ln(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function boe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var woe="DismissableLayer",gk="dismissableLayer.update",joe="dismissableLayer.pointerDownOutside",Noe="dismissableLayer.focusOutside",JI,W8=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Of=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=t,u=x.useContext(W8),[d,f]=x.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),p=Ot(e,S=>f(S)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=b,j=Soe(S=>{const C=S.target,k=[...u.branches].some(A=>A.contains(C));!N||k||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),_=Coe(S=>{const C=S.target;[...u.branches].some(A=>A.contains(C))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return boe(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(JI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ZI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=JI)}},[d,m,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ZI())},[d,u]),x.useEffect(()=>{const S=()=>h({});return document.addEventListener(gk,S),()=>document.removeEventListener(gk,S)},[]),o.jsx(ct.div,{...c,ref:p,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,_.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,j.onPointerDownCapture)})});Of.displayName=woe;var _oe="DismissableLayerBranch",H8=x.forwardRef((t,e)=>{const r=x.useContext(W8),n=x.useRef(null),s=Ot(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ct.div,{...t,ref:s})});H8.displayName=_oe;function Soe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){K8(joe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Coe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t),n=x.useRef(!1);return x.useEffect(()=>{const s=a=>{a.target&&!n.current&&K8(Noe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ZI(){const t=new CustomEvent(gk);document.dispatchEvent(t)}function K8(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?BT(s,a):s.dispatchEvent(a)}var Eoe=Of,koe=H8,Mn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Aoe="Portal",Ep=x.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=x.useState(!1);Mn(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?O8.createPortal(o.jsx(ct.div,{...n,ref:e}),i):null});Ep.displayName=Aoe;function Ooe(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var ys=t=>{const{present:e,children:r}=t,n=Toe(e),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=Ot(n.ref,Poe(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:a}):null};ys.displayName="Presence";function Toe(t){const[e,r]=x.useState(),n=x.useRef(null),s=x.useRef(t),a=x.useRef("none"),i=t?"mounted":"unmounted",[l,c]=Ooe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=p0(n.current);a.current=l==="mounted"?u:"none"},[l]),Mn(()=>{const u=n.current,d=s.current;if(d!==t){const m=a.current,h=p0(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Mn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const g=p0(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&g&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=h=>{h.target===e&&(a.current=p0(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function p0(t){return(t==null?void 0:t.animationName)||"none"}function Poe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Moe=M1[" useInsertionEffect ".trim().toString()]||Mn;function oo({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,a,i]=Roe({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const m=Doe(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else a(d)},[l,t,a,i]);return[c,u]}function Roe({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),s=x.useRef(r),a=x.useRef(e);return Moe(()=>{a.current=e},[e]),x.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Doe(t){return typeof t=="function"}var G8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ioe="VisuallyHidden",X1=x.forwardRef((t,e)=>o.jsx(ct.span,{...t,ref:e,style:{...G8,...t.style}}));X1.displayName=Ioe;var $oe=X1,zT="ToastProvider",[VT,Loe,Foe]=dy("Toast"),[Y8]=Ms("Toast",[Foe]),[Boe,Q1]=Y8(zT),X8=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=t,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),m=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zT}\`. Expected non-empty \`string\`.`),o.jsx(VT.Provider,{scope:e,children:o.jsx(Boe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(h=>h+1),[]),onToastRemove:x.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};X8.displayName=zT;var Q8="ToastViewport",zoe=["F8"],vk="toast.viewportPause",xk="toast.viewportResume",J8=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=zoe,label:s="Notifications ({hotkey})",...a}=t,i=Q1(Q8,r),l=Loe(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),m=Ot(e,f,i.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=i.toastCount>0;x.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(N=>b[N]||b.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=c.current,b=f.current;if(p&&v&&b){const y=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(vk);b.dispatchEvent(_),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(xk);b.dispatchEvent(_),i.isClosePausedRef.current=!1}},N=_=>{!v.contains(_.relatedTarget)&&w()},j=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",N),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[p,i.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:v})=>{const y=l().map(w=>{const N=w.ref.current,j=[N,...eie(N)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const v=f.current;if(v){const b=y=>{var j,_,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const C=document.activeElement,k=y.shiftKey;if(y.target===v&&k){(j=u.current)==null||j.focus();return}const P=g({tabbingDirection:k?"backwards":"forwards"}),R=P.findIndex(I=>I===C);AS(P.slice(R+1))?y.preventDefault():k?(_=u.current)==null||_.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,g]),o.jsxs(koe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&o.jsx(yk,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});AS(v)}}),o.jsx(VT.Slot,{scope:r,children:o.jsx(ct.ol,{tabIndex:-1,...a,ref:m})}),p&&o.jsx(yk,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});AS(v)}})]})});J8.displayName=Q8;var Z8="ToastFocusProxy",yk=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=Q1(Z8,r);return o.jsx(X1,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});yk.displayName=Z8;var fy="Toast",Voe="toast.swipeStart",Uoe="toast.swipeMove",qoe="toast.swipeCancel",Woe="toast.swipeEnd",eU=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=t,[l,c]=oo({prop:n,defaultProp:s??!0,onChange:a,caller:fy});return o.jsx(ys,{present:r||l,children:o.jsx(Goe,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:ln(t.onPause),onResume:ln(t.onResume),onSwipeStart:Ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});eU.displayName=fy;var[Hoe,Koe]=Y8(fy,{onClose(){}}),Goe=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...p}=t,g=Q1(fy,r),[v,b]=x.useState(null),y=Ot(e,I=>b(I)),w=x.useRef(null),N=x.useRef(null),j=s||g.duration,_=x.useRef(0),S=x.useRef(j),C=x.useRef(0),{onToastAdd:k,onToastRemove:A}=g,O=ln(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),i()}),P=x.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(O,I))},[O]);x.useEffect(()=>{const I=g.viewport;if(I){const $=()=>{P(S.current),u==null||u()},B=()=>{const L=new Date().getTime()-_.current;S.current=S.current-L,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(vk,B),I.addEventListener(xk,$),()=>{I.removeEventListener(vk,B),I.removeEventListener(xk,$)}}},[g.viewport,j,c,u,P]),x.useEffect(()=>{a&&!g.isClosePausedRef.current&&P(j)},[a,j,g.isClosePausedRef,P]),x.useEffect(()=>(k(),()=>A()),[k,A]);const R=x.useMemo(()=>v?iU(v):null,[v]);return g.viewport?o.jsxs(o.Fragment,{children:[R&&o.jsx(Yoe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:R}),o.jsx(Hoe,{scope:r,onClose:O,children:Mu.createPortal(o.jsx(VT.ItemSlot,{scope:r,children:o.jsx(Eoe,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ct.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ee(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ee(t.onPointerMove,I=>{if(!w.current)return;const $=I.clientX-w.current.x,B=I.clientY-w.current.y,L=!!N.current,E=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=E?T(0,$):0,Z=E?0:T(0,B),M=I.pointerType==="touch"?10:2,W={x:q,y:Z},re={originalEvent:I,delta:W};L?(N.current=W,g0(Uoe,f,re,{discrete:!1})):e$(W,g.swipeDirection,M)?(N.current=W,g0(Voe,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs($)>M||Math.abs(B)>M)&&(w.current=null)}),onPointerUp:Ee(t.onPointerUp,I=>{const $=N.current,B=I.target;if(B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),N.current=null,w.current=null,$){const L=I.currentTarget,E={originalEvent:I,delta:$};e$($,g.swipeDirection,g.swipeThreshold)?g0(Woe,h,E,{discrete:!0}):g0(qoe,m,E,{discrete:!0}),L.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Yoe=t=>{const{__scopeToast:e,children:r,...n}=t,s=Q1(fy,e),[a,i]=x.useState(!1),[l,c]=x.useState(!1);return Joe(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ep,{asChild:!0,children:o.jsx(X1,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},Xoe="ToastTitle",tU=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(ct.div,{...n,ref:e})});tU.displayName=Xoe;var Qoe="ToastDescription",rU=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(ct.div,{...n,ref:e})});rU.displayName=Qoe;var nU="ToastAction",sU=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(oU,{altText:r,asChild:!0,children:o.jsx(UT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nU}\`. Expected non-empty \`string\`.`),null)});sU.displayName=nU;var aU="ToastClose",UT=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Koe(aU,r);return o.jsx(oU,{asChild:!0,children:o.jsx(ct.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,s.onClose)})})});UT.displayName=aU;var oU=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return o.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function iU(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Zoe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...iU(n))}}),e}function g0(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?BT(s,a):s.dispatchEvent(a)}var e$=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function Joe(t=()=>{}){const e=ln(t);Mn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Zoe(t){return t.nodeType===t.ELEMENT_NODE}function eie(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function AS(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var tie=X8,lU=J8,cU=eU,uU=tU,dU=rU,fU=sU,hU=UT,Tf={},bk={exports:{}};function mU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=mU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function t$(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=mU(t))&&(n&&(n+=" "),n+=e);return n}bk.exports=t$,bk.exports.clsx=t$;var rie=bk.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(i,l){for(var c in l)Object.defineProperty(i,c,{enumerable:!0,get:l[c]})}e(t,{cva:function(){return a},cx:function(){return s}});const r=rie,n=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,s=r.clsx,a=(i,l)=>c=>{var u;if((l==null?void 0:l.variants)==null)return s(i,c==null?void 0:c.class,c==null?void 0:c.className);const{variants:d,defaultVariants:f}=l,m=Object.keys(d).map(g=>{const v=c==null?void 0:c[g],b=f==null?void 0:f[g];if(v===null)return null;const y=n(v)||n(b);return d[g][y]}),h=c&&Object.entries(c).reduce((g,v)=>{let[b,y]=v;return y===void 0||(g[b]=y),g},{}),p=l==null||(u=l.compoundVariants)===null||u===void 0?void 0:u.reduce((g,v)=>{let{class:b,className:y,...w}=v;return Object.entries(w).every(N=>{let[j,_]=N;return Array.isArray(_)?_.includes({...f,...h}[j]):{...f,...h}[j]===_})?[...g,b,y]:g},[]);return s(i,m,p,c==null?void 0:c.class,c==null?void 0:c.className)}})(Tf);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pU=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...sie,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:pU("lucide",s),...l},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const r=x.forwardRef(({className:n,...s},a)=>x.createElement(aie,{ref:a,iconNode:e,className:pU(`lucide-${nie(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=ye("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=ye("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ye("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=ye("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=ye("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=ye("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=ye("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=ye("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=ye("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=ye("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=ye("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ye("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=ye("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=ye("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ye("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=ye("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=ye("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=ye("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ye("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=ye("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=ye("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ye("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ye("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=ye("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=ye("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ye("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=ye("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=ye("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=ye("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=ye("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=ye("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ye("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=ye("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=ye("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ye("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=ye("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ye("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=ye("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=ye("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ye("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=ye("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function RU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=RU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Wt(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=RU(t))&&(n&&(n+=" "),n+=e);return n}const JT="-",Yie=t=>{const e=Qie(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const l=i.split(JT);return l[0]===""&&l.length!==1&&l.shift(),DU(l,e)||Xie(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},DU=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?DU(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(JT);return(i=e.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},o$=/^\[(.+)\]$/,Xie=t=>{if(o$.test(t)){const e=o$.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Qie=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Zie(Object.entries(t.classGroups),r).forEach(([a,i])=>{Nk(i,n,a,e)}),n},Nk=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:i$(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(Jie(s)){Nk(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{Nk(i,i$(e,a),r,n)})})},i$=(t,e)=>{let r=t;return e.split(JT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Jie=t=>t.isThemeGetter,Zie=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[e+i,l])):a);return[r,s]}):t,ele=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},IU="!",tle=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===s&&(n||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(IU),p=h?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},rle=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},nle=t=>({cache:ele(t.cacheSize),parseClassName:tle(t),...Yie(t)}),sle=/\s+/,ale=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],i=t.trim().split(sle);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(u);let p=!!h,g=n(p?m.substring(0,h):m);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=rle(d).join(":"),b=f?v+IU:v,y=b+g;if(a.includes(y))continue;a.push(y);const w=s(g,p);for(let N=0;N<w.length;++N){const j=w[N];a.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function ole(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=$U(e))&&(n&&(n+=" "),n+=r);return n}const $U=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=$U(t[n]))&&(r&&(r+=" "),r+=e);return r};function ile(t,...e){let r,n,s,a=i;function i(c){const u=e.reduce((d,f)=>f(d),t());return r=nle(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=ale(c,r);return s(c,d),d}return function(){return a(ole.apply(null,arguments))}}const Ur=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},LU=/^\[(?:([a-z-]+):)?(.+)\]$/i,lle=/^\d+\/\d+$/,cle=new Set(["px","full","screen"]),ule=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yl=t=>qh(t)||cle.has(t)||lle.test(t),mc=t=>Op(t,"length",jle),qh=t=>!!t&&!Number.isNaN(Number(t)),PS=t=>Op(t,"number",qh),cg=t=>!!t&&Number.isInteger(Number(t)),ple=t=>t.endsWith("%")&&qh(t.slice(0,-1)),Gt=t=>LU.test(t),pc=t=>ule.test(t),gle=new Set(["length","size","percentage"]),vle=t=>Op(t,gle,FU),xle=t=>Op(t,"position",FU),yle=new Set(["image","url"]),ble=t=>Op(t,yle,_le),wle=t=>Op(t,"",Nle),ug=()=>!0,Op=(t,e,r)=>{const n=LU.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},jle=t=>dle.test(t)&&!fle.test(t),FU=()=>!1,Nle=t=>hle.test(t),_le=t=>mle.test(t),Sle=()=>{const t=Ur("colors"),e=Ur("spacing"),r=Ur("blur"),n=Ur("brightness"),s=Ur("borderColor"),a=Ur("borderRadius"),i=Ur("borderSpacing"),l=Ur("borderWidth"),c=Ur("contrast"),u=Ur("grayscale"),d=Ur("hueRotate"),f=Ur("invert"),m=Ur("gap"),h=Ur("gradientColorStops"),p=Ur("gradientColorStopPositions"),g=Ur("inset"),v=Ur("margin"),b=Ur("opacity"),y=Ur("padding"),w=Ur("saturate"),N=Ur("scale"),j=Ur("sepia"),_=Ur("skew"),S=Ur("space"),C=Ur("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Gt,e],P=()=>[Gt,e],R=()=>["",yl,mc],I=()=>["auto",qh,Gt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Gt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[qh,Gt];return{cacheSize:500,separator:":",theme:{colors:[ug],spacing:[yl,mc],blur:["none","",pc,Gt],brightness:Z(),borderColor:[t],borderRadius:["none","","full",pc,Gt],borderSpacing:P(),borderWidth:R(),contrast:Z(),grayscale:T(),hueRotate:Z(),invert:T(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[ple,mc],inset:O(),margin:O(),opacity:Z(),padding:P(),saturate:Z(),scale:Z(),sepia:T(),skew:Z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Gt]}],container:["container"],columns:[{columns:[pc]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Gt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cg,Gt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",cg,Gt]}],"grid-cols":[{"grid-cols":[ug]}],"col-start-end":[{col:["auto",{span:["full",cg,Gt]},Gt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ug]}],"row-start-end":[{row:["auto",{span:[cg,Gt]},Gt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gt,e]}],"min-w":[{"min-w":[Gt,e,"min","max","fit"]}],"max-w":[{"max-w":[Gt,e,"none","full","min","max","fit","prose",{screen:[pc]},pc]}],h:[{h:[Gt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pc,mc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",PS]}],"font-family":[{font:[ug]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gt]}],"line-clamp":[{"line-clamp":["none",qh,PS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yl,Gt]}],"list-image":[{"list-image":["none",Gt]}],"list-style-type":[{list:["none","disc","decimal",Gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yl,mc]}],"underline-offset":[{"underline-offset":["auto",yl,Gt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),xle]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ble]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[yl,Gt]}],"outline-w":[{outline:[yl,mc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[yl,mc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pc,wle]}],"shadow-color":[{shadow:[ug]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pc,Gt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Gt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[cg,Gt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[yl,mc,PS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cle=ile(Sle);function Ne(...t){return Cle(Wt(t))}const Ele=tie,BU=x.forwardRef(({className:t,...e},r)=>o.jsx(lU,{ref:r,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));BU.displayName=lU.displayName;const kle=Tf.cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zU=x.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(cU,{ref:n,className:Ne(kle({variant:e}),t),...r}));zU.displayName=cU.displayName;const Ale=x.forwardRef(({className:t,...e},r)=>o.jsx(fU,{ref:r,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Ale.displayName=fU.displayName;const VU=x.forwardRef(({className:t,...e},r)=>o.jsx(hU,{ref:r,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(ju,{className:"h-4 w-4"})}));VU.displayName=hU.displayName;const UU=x.forwardRef(({className:t,...e},r)=>o.jsx(uU,{ref:r,className:Ne("text-sm font-semibold",t),...e}));UU.displayName=uU.displayName;const qU=x.forwardRef(({className:t,...e},r)=>o.jsx(dU,{ref:r,className:Ne("text-sm opacity-90",t),...e}));qU.displayName=dU.displayName;function Ole(){const{toasts:t}=tn();return o.jsxs(Ele,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return o.jsxs(zU,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(UU,{children:r}),n&&o.jsx(qU,{children:n})]}),s,o.jsx(VU,{})]},e)}),o.jsx(BU,{})]})}var l$=["light","dark"],Tle="(prefers-color-scheme: dark)",Ple=x.createContext(void 0),Mle={setTheme:t=>{},themes:[]},Rle=()=>{var t;return(t=x.useContext(Ple))!=null?t:Mle};x.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?l$.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(p,g=!1,v=!0)=>{let b=i?i[p]:p,y=g?p+"|| ''":`'${b}'`,w="";return s&&v&&!g&&l$.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),r==="class"?g||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},h=t?`!function(){${d}${m(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Tle}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var Dle=Object.create,eN=Object.defineProperty,Ile=Object.getOwnPropertyDescriptor,$le=Object.getOwnPropertyNames,Lle=Object.getPrototypeOf,Fle=Object.prototype.hasOwnProperty,Ble=(t,e)=>{for(var r in e)eN(t,r,{get:e[r],enumerable:!0})},WU=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of $le(e))!Fle.call(t,s)&&s!==r&&eN(t,s,{get:()=>e[s],enumerable:!(n=Ile(e,s))||n.enumerable});return t},gy=(t,e,r)=>(r=t!=null?Dle(Lle(t)):{},WU(!t||!t.__esModule?eN(r,"default",{value:t,enumerable:!0}):r,t)),zle=t=>WU(eN({},"__esModule",{value:!0}),t),HU={};Ble(HU,{Toaster:()=>vce,toast:()=>sce,useSonner:()=>gce});var Be=zle(HU),lt=gy(x),_k=gy(Mu),Ra=gy(x),Vle=t=>{switch(t){case"success":return Wle;case"info":return Kle;case"warning":return Hle;case"error":return Gle;default:return null}},Ule=Array(12).fill(0),qle=({visible:t,className:e})=>Ra.default.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ra.default.createElement("div",{className:"sonner-spinner"},Ule.map((r,n)=>Ra.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Wle=Ra.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ra.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Hle=Ra.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ra.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kle=Ra.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ra.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gle=Ra.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ra.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Yle=Ra.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ra.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ra.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),c$=gy(x),Xle=()=>{let[t,e]=c$.default.useState(document.hidden);return c$.default.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Qle=gy(x),Sk=1,Jle=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Sk++,a=this.toasts.find(l=>l.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],Qle.default.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ece(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Sk++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ta=new Jle,Zle=(t,e)=>{let r=(e==null?void 0:e.id)||Sk++;return ta.addToast({title:t,...e,id:r}),r},ece=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tce=Zle,rce=()=>ta.toasts,nce=()=>ta.getActiveToasts(),sce=Object.assign(tce,{success:ta.success,info:ta.info,warning:ta.warning,error:ta.error,custom:ta.custom,message:ta.message,promise:ta.promise,dismiss:ta.dismiss,loading:ta.loading},{getHistory:rce,getToasts:nce});function ace(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}ace(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function v0(t){return t.label!==void 0}var oce=3,ice="32px",lce="16px",u$=4e3,cce=356,uce=14,dce=20,fce=200;function Yo(...t){return t.filter(Boolean).join(" ")}function hce(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var mce=t=>{var e,r,n,s,a,i,l,c,u,d,f;let{invert:m,toast:h,unstyled:p,interacting:g,setHeights:v,visibleToasts:b,heights:y,index:w,toasts:N,expanded:j,removeToast:_,defaultRichColors:S,closeButton:C,style:k,cancelButtonStyle:A,actionButtonStyle:O,className:P="",descriptionClassName:R="",duration:I,position:$,gap:B,loadingIcon:L,expandByDefault:E,classNames:T,icons:q,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:M}=t,[W,re]=lt.default.useState(null),[se,je]=lt.default.useState(null),[pe,Ue]=lt.default.useState(!1),[ce,we]=lt.default.useState(!1),[be,ue]=lt.default.useState(!1),[_t,ht]=lt.default.useState(!1),[le,Ye]=lt.default.useState(!1),[vt,Rt]=lt.default.useState(0),[Jt,G]=lt.default.useState(0),D=lt.default.useRef(h.duration||I||u$),K=lt.default.useRef(null),H=lt.default.useRef(null),J=w===0,ae=w+1<=b,me=h.type,Je=h.dismissible!==!1,nt=h.className||"",Zt=h.descriptionClassName||"",wr=lt.default.useMemo(()=>y.findIndex(ve=>ve.toastId===h.id)||0,[y,h.id]),Cn=lt.default.useMemo(()=>{var ve;return(ve=h.closeButton)!=null?ve:C},[h.closeButton,C]),js=lt.default.useMemo(()=>h.duration||I||u$,[h.duration,I]),rn=lt.default.useRef(0),mn=lt.default.useRef(0),xl=lt.default.useRef(0),Wn=lt.default.useRef(null),[V,F]=$.split("-"),oe=lt.default.useMemo(()=>y.reduce((ve,Re,Qe)=>Qe>=wr?ve:ve+Re.height,0),[y,wr]),_e=Xle(),Me=h.invert||m,Se=me==="loading";mn.current=lt.default.useMemo(()=>wr*B+oe,[wr,oe]),lt.default.useEffect(()=>{D.current=js},[js]),lt.default.useEffect(()=>{Ue(!0)},[]),lt.default.useEffect(()=>{let ve=H.current;if(ve){let Re=ve.getBoundingClientRect().height;return G(Re),v(Qe=>[{toastId:h.id,height:Re,position:h.position},...Qe]),()=>v(Qe=>Qe.filter(te=>te.toastId!==h.id))}},[v,h.id]),lt.default.useLayoutEffect(()=>{if(!pe)return;let ve=H.current,Re=ve.style.height;ve.style.height="auto";let Qe=ve.getBoundingClientRect().height;ve.style.height=Re,G(Qe),v(te=>te.find(Q=>Q.toastId===h.id)?te.map(Q=>Q.toastId===h.id?{...Q,height:Qe}:Q):[{toastId:h.id,height:Qe,position:h.position},...te])},[pe,h.title,h.description,v,h.id]);let Pe=lt.default.useCallback(()=>{we(!0),Rt(mn.current),v(ve=>ve.filter(Re=>Re.toastId!==h.id)),setTimeout(()=>{_(h)},fce)},[h,_,v,mn]);lt.default.useEffect(()=>{if(h.promise&&me==="loading"||h.duration===1/0||h.type==="loading")return;let ve;return j||g||M&&_e?(()=>{if(xl.current<rn.current){let Re=new Date().getTime()-rn.current;D.current=D.current-Re}xl.current=new Date().getTime()})():D.current!==1/0&&(rn.current=new Date().getTime(),ve=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),Pe()},D.current)),()=>clearTimeout(ve)},[j,g,h,me,M,_e,Pe]),lt.default.useEffect(()=>{h.delete&&Pe()},[Pe,h.delete]);function at(){var ve,Re,Qe;return q!=null&&q.loading?lt.default.createElement("div",{className:Yo(T==null?void 0:T.loader,(ve=h==null?void 0:h.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":me==="loading"},q.loading):L?lt.default.createElement("div",{className:Yo(T==null?void 0:T.loader,(Re=h==null?void 0:h.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":me==="loading"},L):lt.default.createElement(qle,{className:Yo(T==null?void 0:T.loader,(Qe=h==null?void 0:h.classNames)==null?void 0:Qe.loader),visible:me==="loading"})}return lt.default.createElement("li",{tabIndex:0,ref:H,className:Yo(P,nt,T==null?void 0:T.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,T==null?void 0:T.default,T==null?void 0:T[me],(r=h==null?void 0:h.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":pe,"data-promise":!!h.promise,"data-swiped":le,"data-removed":ce,"data-visible":ae,"data-y-position":V,"data-x-position":F,"data-index":w,"data-front":J,"data-swiping":be,"data-dismissible":Je,"data-type":me,"data-invert":Me,"data-swipe-out":_t,"data-swipe-direction":se,"data-expanded":!!(j||E&&pe),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${ce?vt:mn.current}px`,"--initial-height":E?"auto":`${Jt}px`,...k,...h.style},onDragEnd:()=>{ue(!1),re(null),Wn.current=null},onPointerDown:ve=>{Se||!Je||(K.current=new Date,Rt(mn.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(ue(!0),Wn.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Re,Qe,te;if(_t||!Je)return;Wn.current=null;let Q=Number(((ve=H.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ze=Number(((Re=H.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),et=new Date().getTime()-((Qe=K.current)==null?void 0:Qe.getTime()),ke=W==="x"?Q:ze,Fe=Math.abs(ke)/et;if(Math.abs(ke)>=dce||Fe>.11){Rt(mn.current),(te=h.onDismiss)==null||te.call(h,h),je(W==="x"?Q>0?"right":"left":ze>0?"down":"up"),Pe(),ht(!0),Ye(!1);return}ue(!1),re(null)},onPointerMove:ve=>{var Re,Qe,te,Q;if(!Wn.current||!Je||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let ze=ve.clientY-Wn.current.y,et=ve.clientX-Wn.current.x,ke=(Qe=t.swipeDirections)!=null?Qe:hce($);!W&&(Math.abs(et)>1||Math.abs(ze)>1)&&re(Math.abs(et)>Math.abs(ze)?"x":"y");let Fe={x:0,y:0};W==="y"?(ke.includes("top")||ke.includes("bottom"))&&(ke.includes("top")&&ze<0||ke.includes("bottom")&&ze>0)&&(Fe.y=ze):W==="x"&&(ke.includes("left")||ke.includes("right"))&&(ke.includes("left")&&et<0||ke.includes("right")&&et>0)&&(Fe.x=et),(Math.abs(Fe.x)>0||Math.abs(Fe.y)>0)&&Ye(!0),(te=H.current)==null||te.style.setProperty("--swipe-amount-x",`${Fe.x}px`),(Q=H.current)==null||Q.style.setProperty("--swipe-amount-y",`${Fe.y}px`)}},Cn&&!h.jsx?lt.default.createElement("button",{"aria-label":Z,"data-disabled":Se,"data-close-button":!0,onClick:Se||!Je?()=>{}:()=>{var ve;Pe(),(ve=h.onDismiss)==null||ve.call(h,h)},className:Yo(T==null?void 0:T.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(a=q==null?void 0:q.close)!=null?a:Yle):null,h.jsx||(0,lt.isValidElement)(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:lt.default.createElement(lt.default.Fragment,null,me||h.icon||h.promise?lt.default.createElement("div",{"data-icon":"",className:Yo(T==null?void 0:T.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||at():null,h.type!=="loading"?h.icon||(q==null?void 0:q[me])||Vle(me):null):null,lt.default.createElement("div",{"data-content":"",className:Yo(T==null?void 0:T.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},lt.default.createElement("div",{"data-title":"",className:Yo(T==null?void 0:T.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?lt.default.createElement("div",{"data-description":"",className:Yo(R,Zt,T==null?void 0:T.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),(0,lt.isValidElement)(h.cancel)?h.cancel:h.cancel&&v0(h.cancel)?lt.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ve=>{var Re,Qe;v0(h.cancel)&&Je&&((Qe=(Re=h.cancel).onClick)==null||Qe.call(Re,ve),Pe())},className:Yo(T==null?void 0:T.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,(0,lt.isValidElement)(h.action)?h.action:h.action&&v0(h.action)?lt.default.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:ve=>{var Re,Qe;v0(h.action)&&((Qe=(Re=h.action).onClick)==null||Qe.call(Re,ve),!ve.defaultPrevented&&Pe())},className:Yo(T==null?void 0:T.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function d$(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function pce(t,e){let r={};return[t,e].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?lce:ice;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}function gce(){let[t,e]=lt.default.useState([]);return lt.default.useEffect(()=>ta.subscribe(r=>{if(r.dismiss){setTimeout(()=>{_k.default.flushSync(()=>{e(n=>n.filter(s=>s.id!==r.id))})});return}setTimeout(()=>{_k.default.flushSync(()=>{e(n=>{let s=n.findIndex(a=>a.id===r.id);return s!==-1?[...n.slice(0,s),{...n[s],...r},...n.slice(s+1)]:[r,...n]})})})}),[]),{toasts:t}}var vce=(0,lt.forwardRef)(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:h,visibleToasts:p=oce,toastOptions:g,dir:v=d$(),gap:b=uce,loadingIcon:y,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=t,[_,S]=lt.default.useState([]),C=lt.default.useMemo(()=>Array.from(new Set([n].concat(_.filter(M=>M.position).map(M=>M.position)))),[_,n]),[k,A]=lt.default.useState([]),[O,P]=lt.default.useState(!1),[R,I]=lt.default.useState(!1),[$,B]=lt.default.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=lt.default.useRef(null),E=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=lt.default.useRef(null),q=lt.default.useRef(!1),Z=lt.default.useCallback(M=>{S(W=>{var re;return(re=W.find(se=>se.id===M.id))!=null&&re.delete||ta.dismiss(M.id),W.filter(({id:se})=>se!==M.id)})},[]);return lt.default.useEffect(()=>ta.subscribe(M=>{if(M.dismiss){S(W=>W.map(re=>re.id===M.id?{...re,delete:!0}:re));return}setTimeout(()=>{_k.default.flushSync(()=>{S(W=>{let re=W.findIndex(se=>se.id===M.id);return re!==-1?[...W.slice(0,re),{...W[re],...M},...W.slice(re+1)]:[M,...W]})})})}),[]),lt.default.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:W})=>{B(W?"dark":"light")})}catch{M.addListener(({matches:re})=>{try{B(re?"dark":"light")}catch(se){console.error(se)}})}},[d]),lt.default.useEffect(()=>{_.length<=1&&P(!1)},[_]),lt.default.useEffect(()=>{let M=W=>{var re,se;s.every(je=>W[je]||W.code===je)&&(P(!0),(re=L.current)==null||re.focus()),W.code==="Escape"&&(document.activeElement===L.current||(se=L.current)!=null&&se.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),lt.default.useEffect(()=>{if(L.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,q.current=!1)}},[L.current]),lt.default.createElement("section",{ref:e,"aria-label":`${N} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((M,W)=>{var re;let[se,je]=M.split("-");return _.length?lt.default.createElement("ol",{key:M,dir:v==="auto"?d$():v,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":se,"data-lifted":O&&_.length>1&&!a,"data-x-position":je,style:{"--front-toast-height":`${((re=k[0])==null?void 0:re.height)||0}px`,"--width":`${cce}px`,"--gap":`${b}px`,...h,...pce(c,u)},onBlur:pe=>{q.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(q.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||q.current||(q.current=!0,T.current=pe.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onDragEnd:()=>P(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},_.filter(pe=>!pe.position&&W===0||pe.position===M).map((pe,Ue)=>{var ce,we;return lt.default.createElement(mce,{key:pe.id,icons:w,index:Ue,toast:pe,defaultRichColors:f,duration:(ce=g==null?void 0:g.duration)!=null?ce:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:p,closeButton:(we=g==null?void 0:g.closeButton)!=null?we:i,interacting:R,position:M,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:_.filter(be=>be.position==pe.position),heights:k.filter(be=>be.position==pe.position),setHeights:A,expandByDefault:a,gap:b,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const xce=({...t})=>{const{theme:e="system"}=Rle();return o.jsx(Be.Toaster,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var yce=M1[" useId ".trim().toString()]||(()=>{}),bce=0;function gs(t){const[e,r]=x.useState(yce());return Mn(()=>{r(n=>n??String(bce++))},[t]),e?`radix-${e}`:""}const wce=["top","right","bottom","left"],Nu=Math.min,Ka=Math.max,hw=Math.round,x0=Math.floor,Zi=t=>({x:t,y:t}),jce={left:"right",right:"left",bottom:"top",top:"bottom"},Nce={start:"end",end:"start"};function Ck(t,e,r){return Ka(t,Nu(e,r))}function Zl(t,e){return typeof t=="function"?t(e):t}function ec(t){return t.split("-")[0]}function Tp(t){return t.split("-")[1]}function ZT(t){return t==="x"?"y":"x"}function eP(t){return t==="y"?"height":"width"}const _ce=new Set(["top","bottom"]);function Hi(t){return _ce.has(ec(t))?"y":"x"}function tP(t){return ZT(Hi(t))}function Sce(t,e,r){r===void 0&&(r=!1);const n=Tp(t),s=tP(t),a=eP(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(i=mw(i)),[i,mw(i)]}function Cce(t){const e=mw(t);return[Ek(t),e,Ek(e)]}function Ek(t){return t.replace(/start|end/g,e=>Nce[e])}const f$=["left","right"],h$=["right","left"],Ece=["top","bottom"],kce=["bottom","top"];function Ace(t,e,r){switch(t){case"top":case"bottom":return r?e?h$:f$:e?f$:h$;case"left":case"right":return e?Ece:kce;default:return[]}}function Oce(t,e,r,n){const s=Tp(t);let a=Ace(ec(t),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),e&&(a=a.concat(a.map(Ek)))),a}function mw(t){return t.replace(/left|right|bottom|top/g,e=>jce[e])}function Tce(t){return{top:0,right:0,bottom:0,left:0,...t}}function KU(t){return typeof t!="number"?Tce(t):{top:t,right:t,bottom:t,left:t}}function pw(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function m$(t,e,r){let{reference:n,floating:s}=t;const a=Hi(e),i=tP(e),l=eP(i),c=ec(e),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-s.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-s.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Tp(e)){case"start":h[i]-=m*(r&&u?-1:1);break;case"end":h[i]+=m*(r&&u?-1:1);break}return h}const Pce=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=m$(u,n,c),m=n,h={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:y,y:w,data:N,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:h,rects:u,platform:i,elements:{reference:t,floating:e}});d=y??d,f=w??f,h={...h,[v]:{...h[v],...N}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:d,y:f}=m$(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:h}};async function Wv(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Zl(e,t),p=KU(h),v=l[m?f==="floating"?"reference":"floating":f],b=pw(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},j=pw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-j.top+p.top)/N.y,bottom:(j.bottom-b.bottom+p.bottom)/N.y,left:(b.left-j.left+p.left)/N.x,right:(j.right-b.right+p.right)/N.x}}const Mce=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Zl(t,e)||{};if(u==null)return{};const f=KU(d),m={x:r,y:n},h=tP(s),p=eP(h),g=await i.getDimensions(u),v=h==="y",b=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=a.reference[p]+a.reference[h]-m[h]-a.floating[p],j=m[h]-a.reference[h],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=_?_[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(_)))&&(S=l.floating[w]||a.floating[p]);const C=N/2-j/2,k=S/2-g[p]/2-1,A=Nu(f[b],k),O=Nu(f[y],k),P=A,R=S-g[p]-O,I=S/2-g[p]/2+C,$=Ck(P,I,R),B=!c.arrow&&Tp(s)!=null&&I!==$&&a.reference[p]/2-(I<P?A:O)-g[p]/2<0,L=B?I<P?I-P:I-R:0;return{[h]:m[h]+L,data:{[h]:$,centerOffset:I-$-L,...B&&{alignmentOffset:L}},reset:B}}}),Rce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Zl(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=ec(s),y=Hi(l),w=ec(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(w||!g?[mw(l)]:Cce(l)),_=p!=="none";!m&&_&&j.push(...Oce(l,g,p,N));const S=[l,...j],C=await Wv(e,v),k=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(C[b]),f){const I=Sce(s,i,N);k.push(C[I[0]],C[I[1]])}if(A=[...A,{placement:s,overflows:k}],!k.every(I=>I<=0)){var O,P;const I=(((O=a.flip)==null?void 0:O.index)||0)+1,$=S[I];if($&&(!(f==="alignment"?y!==Hi($):!1)||A.every(E=>Hi(E.placement)===y?E.overflows[0]>0:!0)))return{data:{index:I,overflows:A},reset:{placement:$}};let B=(P=A.filter(L=>L.overflows[0]<=0).sort((L,E)=>L.overflows[1]-E.overflows[1])[0])==null?void 0:P.placement;if(!B)switch(h){case"bestFit":{var R;const L=(R=A.filter(E=>{if(_){const T=Hi(E.placement);return T===y||T==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(T=>T>0).reduce((T,q)=>T+q,0)]).sort((E,T)=>E[1]-T[1])[0])==null?void 0:R[0];L&&(B=L);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function p$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function g$(t){return wce.some(e=>t[e]>=0)}const Dce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Zl(t,e);switch(n){case"referenceHidden":{const a=await Wv(e,{...s,elementContext:"reference"}),i=p$(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:g$(i)}}}case"escaped":{const a=await Wv(e,{...s,altBoundary:!0}),i=p$(a,r.floating);return{data:{escapedOffsets:i,escaped:g$(i)}}}default:return{}}}}},GU=new Set(["left","top"]);async function Ice(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=ec(r),l=Tp(r),c=Hi(r)==="y",u=GU.has(i)?-1:1,d=a&&c?-1:1,f=Zl(e,t);let{mainAxis:m,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const $ce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=e,c=await Ice(e,t);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},Lce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=Zl(t,e),u={x:r,y:n},d=await Wv(e,c),f=Hi(ec(s)),m=ZT(f);let h=u[m],p=u[f];if(a){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=h+d[v],w=h-d[b];h=Ck(y,h,w)}if(i){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=p+d[v],w=p-d[b];p=Ck(y,p,w)}const g=l.fn({...e,[m]:h,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:a,[f]:i}}}}}},Fce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zl(t,e),d={x:r,y:n},f=Hi(s),m=ZT(f);let h=d[m],p=d[f];const g=Zl(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",N=a.reference[m]-a.floating[w]+v.mainAxis,j=a.reference[m]+a.reference[w]-v.mainAxis;h<N?h=N:h>j&&(h=j)}if(u){var b,y;const w=m==="y"?"width":"height",N=GU.has(ec(s)),j=a.reference[f]-a.floating[w]+(N&&((b=i.offset)==null?void 0:b[f])||0)+(N?0:v.crossAxis),_=a.reference[f]+a.reference[w]+(N?0:((y=i.offset)==null?void 0:y[f])||0)-(N?v.crossAxis:0);p<j?p=j:p>_&&(p=_)}return{[m]:h,[f]:p}}}},Bce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:i,elements:l}=e,{apply:c=()=>{},...u}=Zl(t,e),d=await Wv(e,u),f=ec(s),m=Tp(s),h=Hi(s)==="y",{width:p,height:g}=a.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=m==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=p-d.left-d.right,N=Nu(g-d[v],y),j=Nu(p-d[b],w),_=!e.middlewareData.shift;let S=N,C=j;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=y),_&&!m){const A=Ka(d.left,0),O=Ka(d.right,0),P=Ka(d.top,0),R=Ka(d.bottom,0);h?C=p-2*(A!==0||O!==0?A+O:Ka(d.left,d.right)):S=g-2*(P!==0||R!==0?P+R:Ka(d.top,d.bottom))}await c({...e,availableWidth:C,availableHeight:S});const k=await i.getDimensions(l.floating);return p!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function tN(){return typeof window<"u"}function Pp(t){return YU(t)?(t.nodeName||"").toLowerCase():"#document"}function to(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ml(t){var e;return(e=(YU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YU(t){return tN()?t instanceof Node||t instanceof to(t).Node:!1}function Si(t){return tN()?t instanceof Element||t instanceof to(t).Element:!1}function ol(t){return tN()?t instanceof HTMLElement||t instanceof to(t).HTMLElement:!1}function v$(t){return!tN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof to(t).ShadowRoot}const zce=new Set(["inline","contents"]);function vy(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Ci(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!zce.has(s)}const Vce=new Set(["table","td","th"]);function Uce(t){return Vce.has(Pp(t))}const qce=[":popover-open",":modal"];function rN(t){return qce.some(e=>{try{return t.matches(e)}catch{return!1}})}const Wce=["transform","translate","scale","rotate","perspective"],Hce=["transform","translate","scale","rotate","perspective","filter"],Kce=["paint","layout","strict","content"];function rP(t){const e=nP(),r=Si(t)?Ci(t):t;return Wce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Hce.some(n=>(r.willChange||"").includes(n))||Kce.some(n=>(r.contain||"").includes(n))}function Gce(t){let e=_u(t);for(;ol(e)&&!Nm(e);){if(rP(e))return e;if(rN(e))return null;e=_u(e)}return null}function nP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yce=new Set(["html","body","#document"]);function Nm(t){return Yce.has(Pp(t))}function Ci(t){return to(t).getComputedStyle(t)}function nN(t){return Si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _u(t){if(Pp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||v$(t)&&t.host||ml(t);return v$(e)?e.host:e}function XU(t){const e=_u(t);return Nm(e)?t.ownerDocument?t.ownerDocument.body:t.body:ol(e)&&vy(e)?e:XU(e)}function Hv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=XU(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),i=to(s);if(a){const l=kk(i);return e.concat(i,i.visualViewport||[],vy(s)?s:[],l&&r?Hv(l):[])}return e.concat(s,Hv(s,[],r))}function kk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QU(t){const e=Ci(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ol(t),a=s?t.offsetWidth:r,i=s?t.offsetHeight:n,l=hw(r)!==a||hw(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function sP(t){return Si(t)?t:t.contextElement}function Wh(t){const e=sP(t);if(!ol(e))return Zi(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=QU(e);let i=(a?hw(r.width):r.width)/n,l=(a?hw(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Xce=Zi(0);function JU(t){const e=to(t);return!nP()||!e.visualViewport?Xce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Qce(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==to(t)?!1:e}function sf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=sP(t);let i=Zi(1);e&&(n?Si(n)&&(i=Wh(n)):i=Wh(t));const l=Qce(a,r,n)?JU(a):Zi(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const m=to(a),h=n&&Si(n)?to(n):n;let p=m,g=kk(p);for(;g&&n&&h!==p;){const v=Wh(g),b=g.getBoundingClientRect(),y=Ci(g),w=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,N=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=N,p=to(g),g=kk(p)}}return pw({width:d,height:f,x:c,y:u})}function sN(t,e){const r=nN(t).scrollLeft;return e?e.left+r:sf(ml(t)).left+r}function ZU(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-sN(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function Jce(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",i=ml(n),l=e?rN(e.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Zi(1);const d=Zi(0),f=ol(n);if((f||!f&&!a)&&((Pp(n)!=="body"||vy(i))&&(c=nN(n)),ol(n))){const h=sf(n);u=Wh(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const m=i&&!f&&!a?ZU(i,c):Zi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Zce(t){return Array.from(t.getClientRects())}function eue(t){const e=ml(t),r=nN(t),n=t.ownerDocument.body,s=Ka(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ka(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+sN(t);const l=-r.scrollTop;return Ci(n).direction==="rtl"&&(i+=Ka(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const x$=25;function tue(t,e){const r=to(t),n=ml(t),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=nP();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=sN(n);if(u<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-h);p<=x$&&(a-=p)}else u<=x$&&(a+=u);return{width:a,height:i,x:l,y:c}}const rue=new Set(["absolute","fixed"]);function nue(t,e){const r=sf(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=ol(t)?Wh(t):Zi(1),i=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function y$(t,e,r){let n;if(e==="viewport")n=tue(t,r);else if(e==="document")n=eue(ml(t));else if(Si(e))n=nue(e,r);else{const s=JU(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return pw(n)}function eq(t,e){const r=_u(t);return r===e||!Si(r)||Nm(r)?!1:Ci(r).position==="fixed"||eq(r,e)}function sue(t,e){const r=e.get(t);if(r)return r;let n=Hv(t,[],!1).filter(l=>Si(l)&&Pp(l)!=="body"),s=null;const a=Ci(t).position==="fixed";let i=a?_u(t):t;for(;Si(i)&&!Nm(i);){const l=Ci(i),c=rP(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&rue.has(s.position)||vy(i)&&!c&&eq(t,i))?n=n.filter(d=>d!==i):s=l,i=_u(i)}return e.set(t,n),n}function aue(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?rN(e)?[]:sue(e,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=y$(e,d,s);return u.top=Ka(f.top,u.top),u.right=Nu(f.right,u.right),u.bottom=Nu(f.bottom,u.bottom),u.left=Ka(f.left,u.left),u},y$(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oue(t){const{width:e,height:r}=QU(t);return{width:e,height:r}}function iue(t,e,r){const n=ol(e),s=ml(e),a=r==="fixed",i=sf(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Zi(0);function u(){c.x=sN(s)}if(n||!n&&!a)if((Pp(e)!=="body"||vy(s))&&(l=nN(e)),n){const h=sf(e,!0,a,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?ZU(s,l):Zi(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function MS(t){return Ci(t).position==="static"}function b$(t,e){if(!ol(t)||Ci(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ml(t)===r&&(r=r.ownerDocument.body),r}function tq(t,e){const r=to(t);if(rN(t))return r;if(!ol(t)){let s=_u(t);for(;s&&!Nm(s);){if(Si(s)&&!MS(s))return s;s=_u(s)}return r}let n=b$(t,e);for(;n&&Uce(n)&&MS(n);)n=b$(n,e);return n&&Nm(n)&&MS(n)&&!rP(n)?r:n||Gce(t)||r}const lue=async function(t){const e=this.getOffsetParent||tq,r=this.getDimensions,n=await r(t.floating);return{reference:iue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cue(t){return Ci(t).direction==="rtl"}const uue={convertOffsetParentRelativeRectToViewportRelativeRect:Jce,getDocumentElement:ml,getClippingRect:aue,getOffsetParent:tq,getElementRects:lue,getClientRects:Zce,getDimensions:oue,getScale:Wh,isElement:Si,isRTL:cue};function rq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function due(t,e){let r=null,n;const s=ml(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const p=x0(f),g=x0(s.clientWidth-(d+m)),v=x0(s.clientHeight-(f+h)),b=x0(d),w={rootMargin:-p+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Ka(0,Nu(1,c))||1};let N=!0;function j(_){const S=_[0].intersectionRatio;if(S!==c){if(!N)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!rq(u,t.getBoundingClientRect())&&i(),N=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(t)}return i(!0),a}function fue(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=sP(t),d=s||a?[...u?Hv(u):[],...Hv(e)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&l?due(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let p,g=c?sf(t):null;c&&v();function v(){const b=sf(t);g&&!rq(g,b)&&r(),g=b,p=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const hue=$ce,mue=Lce,pue=Rce,gue=Bce,vue=Dce,w$=Mce,xue=Fce,yue=(t,e,r)=>{const n=new Map,s={platform:uue,...r},a={...s.platform,_c:n};return Pce(t,e,{...s,platform:a})};var bue=typeof document<"u",wue=function(){},Cb=bue?x.useLayoutEffect:wue;function gw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gw(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!gw(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function nq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j$(t,e){const r=nq(t);return Math.round(e*r)/r}function RS(t){const e=x.useRef(t);return Cb(()=>{e.current=t}),e}function jue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,h]=x.useState(n);gw(m,n)||h(n);const[p,g]=x.useState(null),[v,b]=x.useState(null),y=x.useCallback(E=>{E!==_.current&&(_.current=E,g(E))},[]),w=x.useCallback(E=>{E!==S.current&&(S.current=E,b(E))},[]),N=a||p,j=i||v,_=x.useRef(null),S=x.useRef(null),C=x.useRef(d),k=c!=null,A=RS(c),O=RS(s),P=RS(u),R=x.useCallback(()=>{if(!_.current||!S.current)return;const E={placement:e,strategy:r,middleware:m};O.current&&(E.platform=O.current),yue(_.current,S.current,E).then(T=>{const q={...T,isPositioned:P.current!==!1};I.current&&!gw(C.current,q)&&(C.current=q,Mu.flushSync(()=>{f(q)}))})},[m,e,r,O,P]);Cb(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const I=x.useRef(!1);Cb(()=>(I.current=!0,()=>{I.current=!1}),[]),Cb(()=>{if(N&&(_.current=N),j&&(S.current=j),N&&j){if(A.current)return A.current(N,j,R);R()}},[N,j,R,A,k]);const $=x.useMemo(()=>({reference:_,floating:S,setReference:y,setFloating:w}),[y,w]),B=x.useMemo(()=>({reference:N,floating:j}),[N,j]),L=x.useMemo(()=>{const E={position:r,left:0,top:0};if(!B.floating)return E;const T=j$(B.floating,d.x),q=j$(B.floating,d.y);return l?{...E,transform:"translate("+T+"px, "+q+"px)",...nq(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:q}},[r,l,B.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:$,elements:B,floatingStyles:L}),[d,R,$,B,L])}const Nue=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?w$({element:n.current,padding:s}).fn(r):{}:n?w$({element:n,padding:s}).fn(r):{}}}},_ue=(t,e)=>({...hue(t),options:[t,e]}),Sue=(t,e)=>({...mue(t),options:[t,e]}),Cue=(t,e)=>({...xue(t),options:[t,e]}),Eue=(t,e)=>({...pue(t),options:[t,e]}),kue=(t,e)=>({...gue(t),options:[t,e]}),Aue=(t,e)=>({...vue(t),options:[t,e]}),Oue=(t,e)=>({...Nue(t),options:[t,e]});var Tue="Arrow",sq=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return o.jsx(ct.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});sq.displayName=Tue;var Pue=sq;function aN(t){const[e,r]=x.useState(void 0);return Mn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;r({width:i,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var aP="Popper",[aq,Iu]=Ms(aP),[Mue,oq]=aq(aP),iq=t=>{const{__scopePopper:e,children:r}=t,[n,s]=x.useState(null);return o.jsx(Mue,{scope:e,anchor:n,onAnchorChange:s,children:r})};iq.displayName=aP;var lq="PopperAnchor",cq=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=oq(lq,r),i=x.useRef(null),l=Ot(e,i),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:o.jsx(ct.div,{...s,ref:l})});cq.displayName=lq;var oP="PopperContent",[Rue,Due]=aq(oP),uq=x.forwardRef((t,e)=>{var pe,Ue,ce,we,be,ue;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,v=oq(oP,r),[b,y]=x.useState(null),w=Ot(e,_t=>y(_t)),[N,j]=x.useState(null),_=aN(N),S=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,k=n+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],P=O.length>0,R={padding:A,boundary:O.filter($ue),altBoundary:P},{refs:I,floatingStyles:$,placement:B,isPositioned:L,middlewareData:E}=jue({strategy:"fixed",placement:k,whileElementsMounted:(..._t)=>fue(..._t,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[_ue({mainAxis:s+C,alignmentAxis:i}),c&&Sue({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cue():void 0,...R}),c&&Eue({...R}),kue({...R,apply:({elements:_t,rects:ht,availableWidth:le,availableHeight:Ye})=>{const{width:vt,height:Rt}=ht.reference,Jt=_t.floating.style;Jt.setProperty("--radix-popper-available-width",`${le}px`),Jt.setProperty("--radix-popper-available-height",`${Ye}px`),Jt.setProperty("--radix-popper-anchor-width",`${vt}px`),Jt.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),N&&Oue({element:N,padding:l}),Lue({arrowWidth:S,arrowHeight:C}),m&&Aue({strategy:"referenceHidden",...R})]}),[T,q]=hq(B),Z=ln(p);Mn(()=>{L&&(Z==null||Z())},[L,Z]);const M=(pe=E.arrow)==null?void 0:pe.x,W=(Ue=E.arrow)==null?void 0:Ue.y,re=((ce=E.arrow)==null?void 0:ce.centerOffset)!==0,[se,je]=x.useState();return Mn(()=>{b&&je(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:L?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(we=E.transformOrigin)==null?void 0:we.x,(be=E.transformOrigin)==null?void 0:be.y].join(" "),...((ue=E.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Rue,{scope:r,placedSide:T,onArrowChange:j,arrowX:M,arrowY:W,shouldHideArrow:re,children:o.jsx(ct.div,{"data-side":T,"data-align":q,...g,ref:w,style:{...g.style,animation:L?void 0:"none"}})})})});uq.displayName=oP;var dq="PopperArrow",Iue={top:"bottom",right:"left",bottom:"top",left:"right"},fq=x.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=Due(dq,n),i=Iue[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(Pue,{...s,ref:r,style:{...s.style,display:"block"}})})});fq.displayName=dq;function $ue(t){return t!==null}var Lue=t=>({name:"transformOrigin",options:t,fn(e){var v,b,y;const{placement:r,rects:n,middlewareData:s}=e,i=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=hq(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,h=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=i?f:`${m}px`,g=`${-c}px`):u==="top"?(p=i?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=i?f:`${h}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=i?f:`${h}px`),{data:{x:p,y:g}}}});function hq(t){const[e,r="center"]=t.split("-");return[e,r]}var oN=iq,xy=cq,iN=uq,lN=fq,[cN]=Ms("Tooltip",[Iu]),uN=Iu(),mq="TooltipProvider",Fue=700,Ak="tooltip.open",[Bue,iP]=cN(mq),pq=t=>{const{__scopeTooltip:e,delayDuration:r=Fue,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,i=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Bue,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};pq.displayName=mq;var Kv="Tooltip",[zue,dN]=cN(Kv),gq=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=t,c=iP(Kv,t.__scopeTooltip),u=uN(e),[d,f]=x.useState(null),m=gs(),h=x.useRef(0),p=i??c.disableHoverableContent,g=l??c.delayDuration,v=x.useRef(!1),[b,y]=oo({prop:n,defaultProp:s??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ak))):c.onClose(),a==null||a(S)},caller:Kv}),w=x.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),N=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,y(!0)},[y]),j=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),_=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,y(!0),h.current=0},g)},[g,y]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),o.jsx(oN,{...u,children:o.jsx(zue,{scope:e,contentId:m,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?_():N()},[c.isOpenDelayedRef,_,N]),onTriggerLeave:x.useCallback(()=>{p?j():(window.clearTimeout(h.current),h.current=0)},[j,p]),onOpen:N,onClose:j,disableHoverableContent:p,children:r})})};gq.displayName=Kv;var Ok="TooltipTrigger",vq=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=dN(Ok,r),a=iP(Ok,r),i=uN(r),l=x.useRef(null),c=Ot(e,l,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(xy,{asChild:!0,...i,children:o.jsx(ct.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ee(t.onBlur,s.onClose),onClick:Ee(t.onClick,s.onClose)})})});vq.displayName=Ok;var Vue="TooltipPortal",[PZe,Uue]=cN(Vue,{forceMount:void 0}),_m="TooltipContent",xq=x.forwardRef((t,e)=>{const r=Uue(_m,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,i=dN(_m,t.__scopeTooltip);return o.jsx(ys,{present:n||i.open,children:i.disableHoverableContent?o.jsx(yq,{side:s,...a,ref:e}):o.jsx(que,{side:s,...a,ref:e})})}),que=x.forwardRef((t,e)=>{const r=dN(_m,t.__scopeTooltip),n=iP(_m,t.__scopeTooltip),s=x.useRef(null),a=Ot(e,s),[i,l]=x.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=x.useCallback(()=>{l(null),f(!1)},[f]),h=x.useCallback((p,g)=>{const v=p.currentTarget,b={x:p.clientX,y:p.clientY},y=Yue(b,v.getBoundingClientRect()),w=Xue(b,y),N=Que(g.getBoundingClientRect()),j=Zue([...w,...N]);l(j),f(!0)},[f]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(c&&d){const p=v=>h(v,d),g=v=>h(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,h,m]),x.useEffect(()=>{if(i){const p=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!Jue(b,i);y?m():w&&(m(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,i,u,m]),o.jsx(yq,{...t,ref:a})}),[Wue,Hue]=cN(Kv,{isInside:!1}),Kue=q8("TooltipContent"),yq=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=t,c=dN(_m,r),u=uN(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(Ak,d),()=>document.removeEventListener(Ak,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(iN,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Kue,{children:n}),o.jsx(Wue,{scope:r,isInside:!0,children:o.jsx($oe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});xq.displayName=_m;var bq="TooltipArrow",Gue=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=uN(r);return Hue(bq,r).isInside?null:o.jsx(lN,{...s,...n,ref:e})});Gue.displayName=bq;function Yue(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Xue(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Que(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Jue(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,i=e.length-1;a<e.length;i=a++){const l=e[a],c=e[i],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function Zue(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ede(e)}function ede(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],i=e[e.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var tde=pq,rde=gq,nde=vq,wq=xq;const lP=tde,jq=rde,Nq=nde,cP=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(wq,{ref:n,sideOffset:e,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));cP.displayName=wq.displayName;var yy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sde={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ic,zO,i6,ade=(i6=class{constructor(){At(this,Ic,sde);At(this,zO,!1)}setTimeoutProvider(t){st(this,Ic,t)}setTimeout(t,e){return ee(this,Ic).setTimeout(t,e)}clearTimeout(t){ee(this,Ic).clearTimeout(t)}setInterval(t,e){return ee(this,Ic).setInterval(t,e)}clearInterval(t){ee(this,Ic).clearInterval(t)}},Ic=new WeakMap,zO=new WeakMap,i6),xd=new ade;function ode(t){setTimeout(t,0)}var af=typeof window>"u"||"Deno"in globalThis;function ja(){}function ide(t,e){return typeof t=="function"?t(e):t}function Tk(t){return typeof t=="number"&&t>=0&&t!==1/0}function _q(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cu(t,e){return typeof t=="function"?t(e):t}function wo(t,e){return typeof t=="function"?t(e):t}function N$(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=t;if(i){if(n){if(e.queryHash!==uP(i,e.options))return!1}else if(!Yv(e.queryKey,i))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function _$(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Gv(e.options.mutationKey)!==Gv(a))return!1}else if(!Yv(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function uP(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gv)(t)}function Gv(t){return JSON.stringify(t,(e,r)=>Mk(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Yv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Yv(t[r],e[r])):!1}var lde=Object.prototype.hasOwnProperty;function Sq(t,e){if(t===e)return t;const r=S$(t)&&S$(e);if(!r&&!(Mk(t)&&Mk(e)))return e;const s=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u],f=t[d],m=e[d];if(f===m){l[d]=f,(r?u<s:lde.call(t,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const h=Sq(f,m);l[d]=h,h===f&&c++}return s===i&&c===s?t:l}function Pk(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function S$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Mk(t){if(!C$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!C$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function C$(t){return Object.prototype.toString.call(t)==="[object Object]"}function cde(t){return new Promise(e=>{xd.setTimeout(e,t)})}function Rk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Sq(t,e):e}function ude(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function dde(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var dP=Symbol();function Cq(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===dP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fde(t,e){return typeof t=="function"?t(...e):!!t}var Od,$c,rm,l6,hde=(l6=class extends yy{constructor(){super();At(this,Od);At(this,$c);At(this,rm);st(this,rm,e=>{if(!af&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,$c)||this.setEventListener(ee(this,rm))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,$c))==null||e.call(this),st(this,$c,void 0))}setEventListener(e){var r;st(this,rm,e),(r=ee(this,$c))==null||r.call(this),st(this,$c,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ee(this,Od)!==e&&(st(this,Od,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ee(this,Od)=="boolean"?ee(this,Od):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Od=new WeakMap,$c=new WeakMap,rm=new WeakMap,l6),fP=new hde;function Dk(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var mde=ode;function pde(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=mde;const a=l=>{e?t.push(l):s(()=>{r(l)})},i=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ks=pde(),nm,Lc,sm,c6,gde=(c6=class extends yy{constructor(){super();At(this,nm,!0);At(this,Lc);At(this,sm);st(this,sm,e=>{if(!af&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ee(this,Lc)||this.setEventListener(ee(this,sm))}onUnsubscribe(){var e;this.hasListeners()||((e=ee(this,Lc))==null||e.call(this),st(this,Lc,void 0))}setEventListener(e){var r;st(this,sm,e),(r=ee(this,Lc))==null||r.call(this),st(this,Lc,e(this.setOnline.bind(this)))}setOnline(e){ee(this,nm)!==e&&(st(this,nm,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ee(this,nm)}},nm=new WeakMap,Lc=new WeakMap,sm=new WeakMap,c6),vw=new gde;function vde(t){return Math.min(1e3*2**t,3e4)}function Eq(t){return(t??"online")==="online"?vw.isOnline():!0}var Ik=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kq(t){let e=!1,r=0,n;const s=Dk(),a=()=>s.status!=="pending",i=g=>{var v;if(!a()){const b=new Ik(g);m(b),(v=t.onCancel)==null||v.call(t,b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>fP.isFocused()&&(t.networkMode==="always"||vw.isOnline())&&t.canRun(),d=()=>Eq(t.networkMode)&&t.canRun(),f=g=>{a()||(n==null||n(),s.resolve(g))},m=g=>{a()||(n==null||n(),s.reject(g))},h=()=>new Promise(g=>{var v;n=b=>{(a()||u())&&g(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;n=void 0,a()||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(a())return;let g;const v=r===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var _;if(a())return;const y=t.retry??(af?0:3),w=t.retryDelay??vde,N=typeof w=="function"?w(r,b):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(e||!j){m(b);return}r++,(_=t.onFail)==null||_.call(t,r,b),cde(N).then(()=>u()?void 0:h()).then(()=>{e?m(b):p()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():h().then(p),s)}}var Td,u6,Aq=(u6=class{constructor(){At(this,Td)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tk(this.gcTime)&&st(this,Td,xd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(af?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Td)&&(xd.clearTimeout(ee(this,Td)),st(this,Td,void 0))}},Td=new WeakMap,u6),Pd,am,bo,Md,us,ty,Rd,ri,Cl,d6,xde=(d6=class extends Aq{constructor(e){super();At(this,ri);At(this,Pd);At(this,am);At(this,bo);At(this,Md);At(this,us);At(this,ty);At(this,Rd);st(this,Rd,!1),st(this,ty,e.defaultOptions),this.setOptions(e.options),this.observers=[],st(this,Md,e.client),st(this,bo,ee(this,Md).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,st(this,Pd,k$(this.options)),this.state=e.state??ee(this,Pd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ee(this,us))==null?void 0:e.promise}setOptions(e){if(this.options={...ee(this,ty),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=k$(this.options);r.data!==void 0&&(this.setState(E$(r.data,r.dataUpdatedAt)),st(this,Pd,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,bo).remove(this)}setData(e,r){const n=Rk(this.state.data,e,this.options);return ur(this,ri,Cl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ur(this,ri,Cl).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=ee(this,us))==null?void 0:n.promise;return(s=ee(this,us))==null||s.cancel(e),r?r.then(ja).catch(ja):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,Pd))}isActive(){return this.observers.some(e=>wo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>cu(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_q(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ee(this,us))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ee(this,us))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ee(this,bo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ee(this,us)&&(ee(this,Rd)?ee(this,us).cancel({revert:!0}):ee(this,us).cancelRetry()),this.scheduleGc()),ee(this,bo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ur(this,ri,Cl).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,d,f,m,h,p,g,v,b,y,w;if(this.state.fetchStatus!=="idle"&&((c=ee(this,us))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,us))return ee(this,us).continueRetry(),ee(this,us).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(st(this,Rd,!0),n.signal)})},a=()=>{const N=Cq(this.options,r),_=(()=>{const S={client:ee(this,Md),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return st(this,Rd,!1),this.options.persister?this.options.persister(N,_,this):N(_)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ee(this,Md),state:this.state,fetchFn:a};return s(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),st(this,am,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ur(this,ri,Cl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),st(this,us,kq({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof Ik&&N.revert&&this.setState({...ee(this,am),fetchStatus:"idle"}),n.abort()},onFail:(N,j)=>{ur(this,ri,Cl).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{ur(this,ri,Cl).call(this,{type:"pause"})},onContinue:()=>{ur(this,ri,Cl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await ee(this,us).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(h=(m=ee(this,bo).config).onSuccess)==null||h.call(m,N,this),(g=(p=ee(this,bo).config).onSettled)==null||g.call(p,N,this.state.error,this),N}catch(N){if(N instanceof Ik){if(N.silent)return ee(this,us).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ur(this,ri,Cl).call(this,{type:"error",error:N}),(b=(v=ee(this,bo).config).onError)==null||b.call(v,N,this),(w=(y=ee(this,bo).config).onSettled)==null||w.call(y,this.state.data,N,this),N}finally{this.scheduleGc()}}},Pd=new WeakMap,am=new WeakMap,bo=new WeakMap,Md=new WeakMap,us=new WeakMap,ty=new WeakMap,Rd=new WeakMap,ri=new WeakSet,Cl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Oq(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...E$(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return st(this,am,e.manual?s:void 0),s;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ks.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ee(this,bo).notify({query:this,type:"updated",action:e})})},d6);function Oq(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Eq(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function E$(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function k$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wa,dr,ry,Qs,Dd,om,Rl,Fc,ny,im,lm,Id,$d,Bc,cm,br,Tg,$k,Lk,Fk,Bk,zk,Vk,Uk,Tq,f6,yde=(f6=class extends yy{constructor(e,r){super();At(this,br);At(this,wa);At(this,dr);At(this,ry);At(this,Qs);At(this,Dd);At(this,om);At(this,Rl);At(this,Fc);At(this,ny);At(this,im);At(this,lm);At(this,Id);At(this,$d);At(this,Bc);At(this,cm,new Set);this.options=r,st(this,wa,e),st(this,Fc,null),st(this,Rl,Dk()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,dr).addObserver(this),A$(ee(this,dr),this.options)?ur(this,br,Tg).call(this):this.updateResult(),ur(this,br,Bk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qk(ee(this,dr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qk(ee(this,dr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ur(this,br,zk).call(this),ur(this,br,Vk).call(this),ee(this,dr).removeObserver(this)}setOptions(e){const r=this.options,n=ee(this,dr);if(this.options=ee(this,wa).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wo(this.options.enabled,ee(this,dr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ur(this,br,Uk).call(this),ee(this,dr).setOptions(this.options),r._defaulted&&!Pk(this.options,r)&&ee(this,wa).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,dr),observer:this});const s=this.hasListeners();s&&O$(ee(this,dr),n,this.options,r)&&ur(this,br,Tg).call(this),this.updateResult(),s&&(ee(this,dr)!==n||wo(this.options.enabled,ee(this,dr))!==wo(r.enabled,ee(this,dr))||cu(this.options.staleTime,ee(this,dr))!==cu(r.staleTime,ee(this,dr)))&&ur(this,br,$k).call(this);const a=ur(this,br,Lk).call(this);s&&(ee(this,dr)!==n||wo(this.options.enabled,ee(this,dr))!==wo(r.enabled,ee(this,dr))||a!==ee(this,Bc))&&ur(this,br,Fk).call(this,a)}getOptimisticResult(e){const r=ee(this,wa).getQueryCache().build(ee(this,wa),e),n=this.createResult(r,e);return wde(this,n)&&(st(this,Qs,n),st(this,om,this.options),st(this,Dd,ee(this,dr).state)),n}getCurrentResult(){return ee(this,Qs)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ee(this,Rl).status==="pending"&&ee(this,Rl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){ee(this,cm).add(e)}getCurrentQuery(){return ee(this,dr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ee(this,wa).defaultQueryOptions(e),n=ee(this,wa).getQueryCache().build(ee(this,wa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ur(this,br,Tg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,Qs)))}createResult(e,r){var k;const n=ee(this,dr),s=this.options,a=ee(this,Qs),i=ee(this,Dd),l=ee(this,om),u=e!==n?e.state:ee(this,ry),{state:d}=e;let f={...d},m=!1,h;if(r._optimisticResults){const A=this.hasListeners(),O=!A&&A$(e,r),P=A&&O$(e,n,r,s);(O||P)&&(f={...f,...Oq(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=f;h=f.data;let b=!1;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let A;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=a.data,b=!0):A=typeof r.placeholderData=="function"?r.placeholderData((k=ee(this,lm))==null?void 0:k.state.data,ee(this,lm)):r.placeholderData,A!==void 0&&(v="success",h=Rk(a==null?void 0:a.data,A,r),m=!0)}if(r.select&&h!==void 0&&!b)if(a&&h===(i==null?void 0:i.data)&&r.select===ee(this,ny))h=ee(this,im);else try{st(this,ny,r.select),h=r.select(h),h=Rk(a==null?void 0:a.data,h,r),st(this,im,h),st(this,Fc,null)}catch(A){st(this,Fc,A)}ee(this,Fc)&&(p=ee(this,Fc),h=ee(this,im),g=Date.now(),v="error");const y=f.fetchStatus==="fetching",w=v==="pending",N=v==="error",j=w&&y,_=h!==void 0,C={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:N,isInitialLoading:j,isLoading:j,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:N&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&_,isStale:hP(e,r),refetch:this.refetch,promise:ee(this,Rl),isEnabled:wo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=R=>{C.status==="error"?R.reject(C.error):C.data!==void 0&&R.resolve(C.data)},O=()=>{const R=st(this,Rl,C.promise=Dk());A(R)},P=ee(this,Rl);switch(P.status){case"pending":e.queryHash===n.queryHash&&A(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&O();break}}return C}updateResult(){const e=ee(this,Qs),r=this.createResult(ee(this,dr),this.options);if(st(this,Dd,ee(this,dr).state),st(this,om,this.options),ee(this,Dd).data!==void 0&&st(this,lm,ee(this,dr)),Pk(r,e))return;st(this,Qs,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!ee(this,cm).size)return!0;const i=new Set(a??ee(this,cm));return this.options.throwOnError&&i.add("error"),Object.keys(ee(this,Qs)).some(l=>{const c=l;return ee(this,Qs)[c]!==e[c]&&i.has(c)})};ur(this,br,Tq).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ur(this,br,Bk).call(this)}},wa=new WeakMap,dr=new WeakMap,ry=new WeakMap,Qs=new WeakMap,Dd=new WeakMap,om=new WeakMap,Rl=new WeakMap,Fc=new WeakMap,ny=new WeakMap,im=new WeakMap,lm=new WeakMap,Id=new WeakMap,$d=new WeakMap,Bc=new WeakMap,cm=new WeakMap,br=new WeakSet,Tg=function(e){ur(this,br,Uk).call(this);let r=ee(this,dr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ja)),r},$k=function(){ur(this,br,zk).call(this);const e=cu(this.options.staleTime,ee(this,dr));if(af||ee(this,Qs).isStale||!Tk(e))return;const n=_q(ee(this,Qs).dataUpdatedAt,e)+1;st(this,Id,xd.setTimeout(()=>{ee(this,Qs).isStale||this.updateResult()},n))},Lk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,dr)):this.options.refetchInterval)??!1},Fk=function(e){ur(this,br,Vk).call(this),st(this,Bc,e),!(af||wo(this.options.enabled,ee(this,dr))===!1||!Tk(ee(this,Bc))||ee(this,Bc)===0)&&st(this,$d,xd.setInterval(()=>{(this.options.refetchIntervalInBackground||fP.isFocused())&&ur(this,br,Tg).call(this)},ee(this,Bc)))},Bk=function(){ur(this,br,$k).call(this),ur(this,br,Fk).call(this,ur(this,br,Lk).call(this))},zk=function(){ee(this,Id)&&(xd.clearTimeout(ee(this,Id)),st(this,Id,void 0))},Vk=function(){ee(this,$d)&&(xd.clearInterval(ee(this,$d)),st(this,$d,void 0))},Uk=function(){const e=ee(this,wa).getQueryCache().build(ee(this,wa),this.options);if(e===ee(this,dr))return;const r=ee(this,dr);st(this,dr,e),st(this,ry,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Tq=function(e){ks.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ee(this,Qs))}),ee(this,wa).getQueryCache().notify({query:ee(this,dr),type:"observerResultsUpdated"})})},f6);function bde(t,e){return wo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function A$(t,e){return bde(t,e)||t.state.data!==void 0&&qk(t,e,e.refetchOnMount)}function qk(t,e,r){if(wo(e.enabled,t)!==!1&&cu(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&hP(t,e)}return!1}function O$(t,e,r,n){return(t!==e||wo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&hP(t,r)}function hP(t,e){return wo(e.enabled,t)!==!1&&t.isStaleByTime(cu(e.staleTime,t))}function wde(t,e){return!Pk(t.getCurrentResult(),e)}function T$(t){return{onFetch:(e,r)=>{var d,f,m,h,p;const n=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((h=e.state.data)==null?void 0:h.pages)||[],i=((p=e.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=Cq(e.options,e.fetchOptions),y=async(w,N,j)=>{if(g)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:N,direction:j?"backward":"forward",meta:e.options.meta};return v(O),O})(),C=await b(S),{maxPages:k}=e.options,A=j?dde:ude;return{pages:A(w.pages,C,k),pageParams:A(w.pageParams,N,k)}};if(s&&a.length){const w=s==="backward",N=w?jde:P$,j={pages:a,pageParams:i},_=N(n,j);l=await y(j,_,w)}else{const w=t??a.length;do{const N=c===0?i[0]??n.initialPageParam:P$(n,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function P$(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function jde(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var sy,$i,Js,Ld,Li,yc,h6,Nde=(h6=class extends Aq{constructor(e){super();At(this,Li);At(this,sy);At(this,$i);At(this,Js);At(this,Ld);st(this,sy,e.client),this.mutationId=e.mutationId,st(this,Js,e.mutationCache),st(this,$i,[]),this.state=e.state||_de(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ee(this,$i).includes(e)||(ee(this,$i).push(e),this.clearGcTimeout(),ee(this,Js).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){st(this,$i,ee(this,$i).filter(r=>r!==e)),this.scheduleGc(),ee(this,Js).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ee(this,$i).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Js).remove(this))}continue(){var e;return((e=ee(this,Ld))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,l,c,u,d,f,m,h,p,g,v,b,y,w,N,j,_,S,C,k;const r=()=>{ur(this,Li,yc).call(this,{type:"continue"})},n={client:ee(this,sy),meta:this.options.meta,mutationKey:this.options.mutationKey};st(this,Ld,kq({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{ur(this,Li,yc).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{ur(this,Li,yc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Js).canRun(this)}));const s=this.state.status==="pending",a=!ee(this,Ld).canStart();try{if(s)r();else{ur(this,Li,yc).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(i=ee(this,Js).config).onMutate)==null?void 0:l.call(i,e,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,n));O!==this.state.context&&ur(this,Li,yc).call(this,{type:"pending",context:O,variables:e,isPaused:a})}const A=await ee(this,Ld).start();return await((f=(d=ee(this,Js).config).onSuccess)==null?void 0:f.call(d,A,e,this.state.context,this,n)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,A,e,this.state.context,n)),await((g=(p=ee(this,Js).config).onSettled)==null?void 0:g.call(p,A,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,A,null,e,this.state.context,n)),ur(this,Li,yc).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(y=ee(this,Js).config).onError)==null?void 0:w.call(y,A,e,this.state.context,this,n)),await((j=(N=this.options).onError)==null?void 0:j.call(N,A,e,this.state.context,n)),await((S=(_=ee(this,Js).config).onSettled)==null?void 0:S.call(_,void 0,A,this.state.variables,this.state.context,this,n)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,A,e,this.state.context,n)),A}finally{ur(this,Li,yc).call(this,{type:"error",error:A})}}finally{ee(this,Js).runNext(this)}}},sy=new WeakMap,$i=new WeakMap,Js=new WeakMap,Ld=new WeakMap,Li=new WeakSet,yc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ks.batch(()=>{ee(this,$i).forEach(n=>{n.onMutationUpdate(e)}),ee(this,Js).notify({mutation:this,type:"updated",action:e})})},h6);function _de(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dl,ni,ay,m6,Sde=(m6=class extends yy{constructor(e={}){super();At(this,Dl);At(this,ni);At(this,ay);this.config=e,st(this,Dl,new Set),st(this,ni,new Map),st(this,ay,0)}build(e,r,n){const s=new Nde({client:e,mutationCache:this,mutationId:++Xy(this,ay)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){ee(this,Dl).add(e);const r=y0(e);if(typeof r=="string"){const n=ee(this,ni).get(r);n?n.push(e):ee(this,ni).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ee(this,Dl).delete(e)){const r=y0(e);if(typeof r=="string"){const n=ee(this,ni).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&ee(this,ni).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=y0(e);if(typeof r=="string"){const n=ee(this,ni).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=y0(e);if(typeof r=="string"){const s=(n=ee(this,ni).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ks.batch(()=>{ee(this,Dl).forEach(e=>{this.notify({type:"removed",mutation:e})}),ee(this,Dl).clear(),ee(this,ni).clear()})}getAll(){return Array.from(ee(this,Dl))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_$(r,n))}findAll(e={}){return this.getAll().filter(r=>_$(e,r))}notify(e){ks.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ks.batch(()=>Promise.all(e.map(r=>r.continue().catch(ja))))}},Dl=new WeakMap,ni=new WeakMap,ay=new WeakMap,m6);function y0(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Fi,p6,Cde=(p6=class extends yy{constructor(e={}){super();At(this,Fi);this.config=e,st(this,Fi,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??uP(s,r);let i=this.get(a);return i||(i=new xde({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){ee(this,Fi).has(e.queryHash)||(ee(this,Fi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ee(this,Fi).get(e.queryHash);r&&(e.destroy(),r===e&&ee(this,Fi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ks.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ee(this,Fi).get(e)}getAll(){return[...ee(this,Fi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>N$(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>N$(e,n)):r}notify(e){ks.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ks.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ks.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fi=new WeakMap,p6),gn,zc,Vc,um,dm,Uc,fm,hm,g6,Ede=(g6=class{constructor(t={}){At(this,gn);At(this,zc);At(this,Vc);At(this,um);At(this,dm);At(this,Uc);At(this,fm);At(this,hm);st(this,gn,t.queryCache||new Cde),st(this,zc,t.mutationCache||new Sde),st(this,Vc,t.defaultOptions||{}),st(this,um,new Map),st(this,dm,new Map),st(this,Uc,0)}mount(){Xy(this,Uc)._++,ee(this,Uc)===1&&(st(this,fm,fP.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,gn).onFocus())})),st(this,hm,vw.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,gn).onOnline())})))}unmount(){var t,e;Xy(this,Uc)._--,ee(this,Uc)===0&&((t=ee(this,fm))==null||t.call(this),st(this,fm,void 0),(e=ee(this,hm))==null||e.call(this),st(this,hm,void 0))}isFetching(t){return ee(this,gn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ee(this,zc).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ee(this,gn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ee(this,gn).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(cu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return ee(this,gn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=ee(this,gn).get(n.queryHash),a=s==null?void 0:s.state.data,i=ide(e,a);if(i!==void 0)return ee(this,gn).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return ks.batch(()=>ee(this,gn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ee(this,gn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ee(this,gn);ks.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ee(this,gn);return ks.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ks.batch(()=>ee(this,gn).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ja).catch(ja)}invalidateQueries(t,e={}){return ks.batch(()=>(ee(this,gn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ks.batch(()=>ee(this,gn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ja)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ja)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ee(this,gn).build(this,e);return r.isStaleByTime(cu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ja).catch(ja)}fetchInfiniteQuery(t){return t.behavior=T$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ja).catch(ja)}ensureInfiniteQueryData(t){return t.behavior=T$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vw.isOnline()?ee(this,zc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,gn)}getMutationCache(){return ee(this,zc)}getDefaultOptions(){return ee(this,Vc)}setDefaultOptions(t){st(this,Vc,t)}setQueryDefaults(t,e){ee(this,um).set(Gv(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ee(this,um).values()],r={};return e.forEach(n=>{Yv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){ee(this,dm).set(Gv(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ee(this,dm).values()],r={};return e.forEach(n=>{Yv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ee(this,Vc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===dP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ee(this,Vc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ee(this,gn).clear(),ee(this,zc).clear()}},gn=new WeakMap,zc=new WeakMap,Vc=new WeakMap,um=new WeakMap,dm=new WeakMap,Uc=new WeakMap,fm=new WeakMap,hm=new WeakMap,g6),Pq=x.createContext(void 0),kde=t=>{const e=x.useContext(Pq);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ade=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(Pq.Provider,{value:t,children:e})),Mq=x.createContext(!1),Ode=()=>x.useContext(Mq);Mq.Provider;function Tde(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Pde=x.createContext(Tde()),Mde=()=>x.useContext(Pde),Rde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Dde=t=>{x.useEffect(()=>{t.clearReset()},[t])},Ide=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||fde(r,[t.error,n])),$de=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Lde=(t,e)=>t.isLoading&&t.isFetching&&!e,Fde=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,M$=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Bde(t,e,r){var f,m,h,p,g;const n=Ode(),s=Mde(),a=kde(),i=a.defaultQueryOptions(t);(m=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",$de(i),Rde(i,s),Dde(s);const l=!a.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new e(a,i)),u=c.getOptimisticResult(i),d=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=d?c.subscribe(ks.batchCalls(v)):ja;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i)},[i,c]),Fde(i,u))throw M$(i,c,s);if(Ide({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!af&&Lde(u,n)){const v=l?M$(i,c,s):(g=a.getQueryCache().get(i.queryHash))==null?void 0:g.promise;v==null||v.catch(ja).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Cs(t,e){return Bde(t,yde)}var Wk=function(t,e){return Wk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wk(t,e)};function Rq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wk(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var So=function(){return So=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},So.apply(this,arguments)};function $u(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Dq(t,e,r,n){var s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,r,a):i(e,r))||a);return s>3&&a&&Object.defineProperty(e,r,a),a}function Iq(t,e){return function(r,n){e(r,n,t)}}function $q(t,e,r,n,s,a){function i(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var p={};for(var g in n)p[g]=g==="access"?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(b||null))};var v=(0,r[h])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&s.unshift(f)}else(f=i(v))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),m=!0}function Lq(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Fq(t){return typeof t=="symbol"?t:"".concat(t)}function Bq(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function zq(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function pt(t,e,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function Vq(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var fN=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Uq(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fN(e,t,r)}function xw(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mP(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a}function qq(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mP(arguments[e]));return t}function Wq(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var a=arguments[e],i=0,l=a.length;i<l;i++,s++)n[s]=a[i];return n}function pP(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Sm(t){return this instanceof Sm?(this.v=t,this):new Sm(t)}function Hq(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(p){return Promise.resolve(p).then(h,f)}}function l(h,p){n[h]&&(s[h]=function(g){return new Promise(function(v,b){a.push([h,g,v,b])>1||c(h,g)})},p&&(s[h]=p(s[h])))}function c(h,p){try{u(n[h](p))}catch(g){m(a[0][3],g)}}function u(h){h.value instanceof Sm?Promise.resolve(h.value.v).then(d,f):m(a[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function m(h,p){h(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Kq(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,a){e[s]=t[s]?function(i){return(r=!r)?{value:Sm(t[s](i)),done:!1}:a?a(i):i}:a}}function Gq(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xw=="function"?xw(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(i){return new Promise(function(l,c){i=t[a](i),s(l,c,i.done,i.value)})}}function s(a,i,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},i)}}function Yq(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var zde=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Hk=function(t){return Hk=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Hk(t)};function Xq(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Hk(t),n=0;n<r.length;n++)r[n]!=="default"&&fN(e,t,r[n]);return zde(e,t),e}function Qq(t){return t&&t.__esModule?t:{default:t}}function Jq(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Zq(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function e9(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function t9(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Vde=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function r9(t){function e(a){t.error=t.hasError?new Vde(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(i){return e(i),s()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function n9(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,i){return n?e?".jsx":".js":s&&(!a||!i)?r:s+a+"."+i.toLowerCase()+"js"}):t}const Ude={__extends:Rq,__assign:So,__rest:$u,__decorate:Dq,__param:Iq,__esDecorate:$q,__runInitializers:Lq,__propKey:Fq,__setFunctionName:Bq,__metadata:zq,__awaiter:pt,__generator:Vq,__createBinding:fN,__exportStar:Uq,__values:xw,__read:mP,__spread:qq,__spreadArrays:Wq,__spreadArray:pP,__await:Sm,__asyncGenerator:Hq,__asyncDelegator:Kq,__asyncValues:Gq,__makeTemplateObject:Yq,__importStar:Xq,__importDefault:Qq,__classPrivateFieldGet:Jq,__classPrivateFieldSet:Zq,__classPrivateFieldIn:e9,__addDisposableResource:t9,__disposeResources:r9,__rewriteRelativeImportExtension:n9},qde=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:t9,get __assign(){return So},__asyncDelegator:Kq,__asyncGenerator:Hq,__asyncValues:Gq,__await:Sm,__awaiter:pt,__classPrivateFieldGet:Jq,__classPrivateFieldIn:e9,__classPrivateFieldSet:Zq,__createBinding:fN,__decorate:Dq,__disposeResources:r9,__esDecorate:$q,__exportStar:Uq,__extends:Rq,__generator:Vq,__importDefault:Qq,__importStar:Xq,__makeTemplateObject:Yq,__metadata:zq,__param:Iq,__propKey:Fq,__read:mP,__rest:$u,__rewriteRelativeImportExtension:n9,__runInitializers:Lq,__setFunctionName:Bq,__spread:qq,__spreadArray:pP,__spreadArrays:Wq,__values:xw,default:Ude},Symbol.toStringTag,{value:"Module"})),Wde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class gP extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class R$ extends gP{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class D$ extends gP{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class I$ extends gP{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kk;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kk||(Kk={}));class Hde{constructor(e,{headers:r={},customFetch:n,region:s=Kk.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Wde(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pt(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const h=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new R$(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new D$(h);if(!h.ok)throw new I$(h);let g=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"||g==="application/pdf"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new R$(a)}:{data:null,error:a,response:a instanceof I$||a instanceof D$?a.context:void 0}}})}}var na={};const Mp=Mre(qde);var b0={},w0={},j0={},N0={},_0={},S0={},$$;function s9(){if($$)return S0;$$=1,Object.defineProperty(S0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return S0.default=t,S0}var L$;function a9(){if(L$)return _0;L$=1,Object.defineProperty(_0,"__esModule",{value:!0});const e=Mp.__importDefault(s9());class r{constructor(s){var a,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,m;let h=null,p=null,g=null,v=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=j:p=JSON.parse(j))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),N=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&N&&N.length>1&&(g=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,v=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await c.text();try{h=JSON.parse(w),Array.isArray(h)&&c.status===404&&(p=[],h=null,v=200,b="OK")}catch{c.status===404&&w===""?(v=204,b="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((m=h==null?void 0:h.details)===null||m===void 0)&&m.includes("0 rows"))&&(h=null,v=200,b="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:p,count:g,status:v,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,a)}returns(){return this}overrideTypes(){return this}}return _0.default=r,_0}var F$;function o9(){if(F$)return N0;F$=1,Object.defineProperty(N0,"__esModule",{value:!0});const e=Mp.__importDefault(a9());class r extends e.default{select(s){let a=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return N0.default=r,N0}var B$;function vP(){if(B$)return j0;B$=1,Object.defineProperty(j0,"__esModule",{value:!0});const e=Mp.__importDefault(o9()),r=new RegExp("[,()]");class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${d}.${i}`),this}match(a){return Object.entries(a).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(a,i,l){return this.url.searchParams.append(a,`not.${i}.${l}`),this}or(a,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,i,l){return this.url.searchParams.append(a,`${i}.${l}`),this}}return j0.default=n,j0}var z$;function i9(){if(z$)return w0;z$=1,Object.defineProperty(w0,"__esModule",{value:!0});const e=Mp.__importDefault(vP());class r{constructor(s,{headers:a={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=i,this.fetch=l}select(s,a){const{head:i=!1,count:l}=a??{},c=i?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:i=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var i;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var a;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return w0.default=r,w0}var V$;function Kde(){if(V$)return b0;V$=1,Object.defineProperty(b0,"__esModule",{value:!0});const t=Mp,e=t.__importDefault(i9()),r=t.__importDefault(vP());class n{constructor(a,{headers:i={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(a){const i=new URL(`${this.url}/${a}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${a}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",h=i);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:p,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return b0.default=n,b0}Object.defineProperty(na,"__esModule",{value:!0});var l9=na.PostgrestError=x9=na.PostgrestBuilder=g9=na.PostgrestTransformBuilder=m9=na.PostgrestFilterBuilder=f9=na.PostgrestQueryBuilder=u9=na.PostgrestClient=void 0;const Rp=Mp,c9=Rp.__importDefault(Kde());var u9=na.PostgrestClient=c9.default;const d9=Rp.__importDefault(i9());var f9=na.PostgrestQueryBuilder=d9.default;const h9=Rp.__importDefault(vP());var m9=na.PostgrestFilterBuilder=h9.default;const p9=Rp.__importDefault(o9());var g9=na.PostgrestTransformBuilder=p9.default;const v9=Rp.__importDefault(a9());var x9=na.PostgrestBuilder=v9.default;const y9=Rp.__importDefault(s9());l9=na.PostgrestError=y9.default;var b9=na.default={PostgrestClient:c9.default,PostgrestQueryBuilder:d9.default,PostgrestFilterBuilder:h9.default,PostgrestTransformBuilder:p9.default,PostgrestBuilder:v9.default,PostgrestError:y9.default};const Gde=v6({__proto__:null,get PostgrestBuilder(){return x9},get PostgrestClient(){return u9},get PostgrestError(){return l9},get PostgrestFilterBuilder(){return m9},get PostgrestQueryBuilder(){return f9},get PostgrestTransformBuilder(){return g9},default:b9},[na]),{PostgrestClient:Yde,PostgrestQueryBuilder:MZe,PostgrestFilterBuilder:RZe,PostgrestTransformBuilder:DZe,PostgrestBuilder:IZe,PostgrestError:$Ze}=b9||Gde;class Xde{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qde="2.80.0",Jde=`realtime-js/${Qde}`,Zde="1.0.0",Gk=1e4,efe=1e3,tfe=100;var ev;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ev||(ev={}));var Qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qn||(Qn={}));var ai;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ai||(ai={}));var Yk;(function(t){t.websocket="websocket"})(Yk||(Yk={}));var cd;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cd||(cd={}));class rfe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class w9{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Rr||(Rr={}));const U$=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,i)=>(a[i]=nfe(i,t,e,s),a),{}):{}},nfe=(t,e,r,n)=>{const s=e.find(l=>l.name===t),a=s==null?void 0:s.type,i=r[t];return a&&!n.includes(a)?j9(a,i):Xk(i)},j9=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ife(e,r)}switch(t){case Rr.bool:return sfe(e);case Rr.float4:case Rr.float8:case Rr.int2:case Rr.int4:case Rr.int8:case Rr.numeric:case Rr.oid:return afe(e);case Rr.json:case Rr.jsonb:return ofe(e);case Rr.timestamp:return lfe(e);case Rr.abstime:case Rr.date:case Rr.daterange:case Rr.int4range:case Rr.int8range:case Rr.money:case Rr.reltime:case Rr.text:case Rr.time:case Rr.timestamptz:case Rr.timetz:case Rr.tsrange:case Rr.tstzrange:return Xk(e);default:return Xk(e)}},Xk=t=>t,sfe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},afe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ofe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ife=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const i=t.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>j9(e,l))}return t},lfe=t=>typeof t=="string"?t.replace(" ","T"):t,N9=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class DS{constructor(e,r,n={},s=Gk){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var q$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(q$||(q$={}));class tv{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tv.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=tv.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=tv.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const a=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const m=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(i,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var W$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(W$||(W$={}));var rv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rv||(rv={}));var Al;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Al||(Al={}));class xP{constructor(e,r={config:{}},n){var s,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new DS(this,ai.join,this.params,this.timeout),this.rejoinTimer=new w9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ai.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new tv(this),this.broadcastEndpointURL=N9(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qn.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[rv.PRESENCE]&&this.bindings[rv.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Al.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Al.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){e==null||e(Al.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,b=[];for(let y=0;y<v;y++){const w=g[y],{filter:{event:N,schema:j,table:_,filter:S}}=w,C=h&&h[y];if(C&&C.event===N&&C.schema===j&&C.table===_&&C.filter===S)b.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Qn.errored,e==null||e(Al.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Al.SUBSCRIBED);return}}).receive("error",h=>{this.state=Qn.errored,e==null||e(Al.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Al.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Qn.joined&&e===rv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ai.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new DS(this,ai.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new DS(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tfe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,a;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ai;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var p,g,v;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(h=>h.callback(m,n)):(a=this.bindings[i])===null||a===void 0||a.filter(h=>{var p,g,v,b,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const N=h.id,j=(p=h.filter)===null||p===void 0?void 0:p.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(y=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:g,table:v,commit_timestamp:b,type:y,errors:w}=p;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(p))}h.callback(m,n)})}_isClosed(){return this.state===Qn.closed}_isJoined(){return this.state===Qn.joined}_isJoining(){return this.state===Qn.joining}_isLeaving(){return this.state===Qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&xP.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ai.close,{},e)}_onError(e){this._on(ai.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=U$(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=U$(e.columns,e.old_record)),r}}const IS=()=>{},C0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cfe=[1e3,2e3,5e3,1e4],ufe=1e4,dfe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ffe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gk,this.transport=null,this.heartbeatIntervalMs=C0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=IS,this.ref=0,this.reconnectTimer=null,this.logger=IS,this.conn=null,this.sendBuffer=[],this.serializer=new rfe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Yk.websocket}`,this.httpEndpoint=N9(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zde}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ev.connecting:return cd.Connecting;case ev.open:return cd.Open;case ev.closing:return cd.Closing;default:return cd.Closed}}isConnected(){return this.connectionState()===cd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new xP(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:s,ref:a}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(efe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},C0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ai.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dfe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Jde};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ai.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new w9(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},C0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,a,i,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Gk,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:C0.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:IS,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>cfe[f-1]||ufe,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yP extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hfe extends yP{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qk extends yP{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const bP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mfe=()=>Response,Jk=t=>{if(Array.isArray(t))return t.map(r=>Jk(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Jk(n)}),e},pfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$S=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gfe=(t,e,r)=>pt(void 0,void 0,void 0,function*(){const n=yield mfe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const a=t.status||500,i=(s==null?void 0:s.statusCode)||a+"";e(new hfe($S(s),a,i))}).catch(s=>{e(new Qk($S(s),s))}):e(new Qk($S(t),t))}),vfe=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(pfe(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function by(t,e,r,n,s,a){return pt(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,vfe(e,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>gfe(c,l,n))})})}function Xv(t,e,r,n){return pt(this,void 0,void 0,function*(){return by(t,"GET",e,r,n)})}function ti(t,e,r,n,s){return pt(this,void 0,void 0,function*(){return by(t,"POST",e,n,s,r)})}function Zk(t,e,r,n,s){return pt(this,void 0,void 0,function*(){return by(t,"PUT",e,n,s,r)})}function xfe(t,e,r,n){return pt(this,void 0,void 0,function*(){return by(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wP(t,e,r,n,s){return pt(this,void 0,void 0,function*(){return by(t,"DELETE",e,n,s,r)})}class yfe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return pt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}var _9;class bfe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[_9]="BlobDownloadBuilder",this.promise=null}asStream(){return new yfe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sn(e))return{data:null,error:e};throw e}})}}_9=Symbol.toStringTag;const wfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jfe{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=bP(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return pt(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},H$),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?Zk:ti)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sn(a))return{data:null,error:a};throw a}})}upload(e,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return pt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:H$.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Zk(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield ti(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new yP("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}update(e,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}copy(e,r,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield ti(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return pt(this,void 0,void 0,function*(){try{const s=yield ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(e),c=()=>Xv(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new bfe(c,this.shouldThrowOnError)}info(e){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Xv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jk(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}exists(e){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield xfe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n)&&n instanceof Qk){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return pt(this,void 0,void 0,function*(){try{return{data:yield wP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}list(e,r,n){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wfe),r),{prefix:e||""});return{data:yield ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}listV2(e,r){return pt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const S9="2.80.0",C9={"X-Client-Info":`storage-js/${S9}`};class Nfe{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},C9),r),this.fetch=bP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return pt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Xv(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}getBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:yield Xv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}createBucket(e){return pt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(sn(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return pt(this,void 0,void 0,function*(){try{return{data:yield Zk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:yield wP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class _fe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},C9),r),this.fetch=bP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBuckets(e){return pt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Xv(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:yield wP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}const jP={"X-Client-Info":`storage-js/${S9}`,"Content-Type":"application/json"};class E9 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ga(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class LS extends E9{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sfe extends E9{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var K$;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(K$||(K$={}));const NP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Cfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},G$=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Efe=(t,e,r)=>pt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,a=t;if(typeof a.json=="function")a.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";e(new LS(G$(i),s,l))}).catch(()=>{const i=s+"",l=a.statusText||`HTTP ${s} error`;e(new LS(l,s,i))});else{const i=s+"",l=a.statusText||`HTTP ${s} error`;e(new LS(l,s,i))}}else e(new Sfe(G$(t),t))}),kfe=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Cfe(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Afe(t,e,r,n,s,a){return pt(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,kfe(e,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Efe(c,l,n))})})}function Ya(t,e,r,n,s){return pt(this,void 0,void 0,function*(){return Afe(t,"POST",e,n,s,r)})}class Ofe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jP),r),this.fetch=NP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return pt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}getIndex(e,r){return pt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ga(n))return{data:null,error:n};throw n}})}listIndexes(e){return pt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return pt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ga(n))return{data:null,error:n};throw n}})}}class Tfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jP),r),this.fetch=NP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return pt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ya(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}getVectors(e){return pt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}listVectors(e){return pt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ya(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}queryVectors(e){return pt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}deleteVectors(e){return pt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ya(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}}class Pfe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jP),r),this.fetch=NP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}getBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}listBuckets(){return pt(this,arguments,void 0,function*(e={}){try{return{data:yield Ya(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}deleteBucket(e){return pt(this,void 0,void 0,function*(){try{return{data:(yield Ya(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ga(r))return{data:null,error:r};throw r}})}}class Mfe extends Pfe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Rfe(this.url,this.headers,e,this.fetch)}}class Rfe extends Ofe{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Dfe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Dfe extends Tfe{constructor(e,r,n,s,a){super(e,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ife extends Nfe{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new jfe(this.url,this.headers,e,this.fetch)}get vectors(){return new Mfe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _fe(this.url+"/iceberg",this.headers,this.fetch)}}const $fe="2.80.0";let Pg="";typeof Deno<"u"?Pg="deno":typeof document<"u"?Pg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pg="react-native":Pg="node";const Lfe={"X-Client-Info":`supabase-js-${Pg}/${$fe}`},Ffe={headers:Lfe},Bfe={schema:"public"},zfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vfe={},Ufe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qfe=()=>Headers,Wfe=(t,e,r)=>{const n=Ufe(r),s=qfe();return async(a,i)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))}};function Hfe(t){return t.endsWith("/")?t:t+"/"}function Kfe(t,e){var r,n;const{db:s,auth:a,realtime:i,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function Gfe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hfe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const k9="2.80.0",lh=30*1e3,e2=3,FS=e2*lh,Yfe="http://localhost:9999",Xfe="supabase.auth.token",Qfe={"X-Client-Info":`gotrue-js/${k9}`},t2="X-Supabase-Api-Version",A9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zfe=10*60*1e3;class Qv extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function jt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ehe extends Qv{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function the(t){return jt(t)&&t.name==="AuthApiError"}class ud extends Qv{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Lu extends Qv{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Qo extends Lu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rhe(t){return jt(t)&&t.name==="AuthSessionMissingError"}class Wf extends Lu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class E0 extends Lu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class k0 extends Lu{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nhe(t){return jt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Y$ extends Lu{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class r2 extends Lu{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function BS(t){return jt(t)&&t.name==="AuthRetryableFetchError"}class X$ extends Lu{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class n2 extends Lu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q$=` 	
\r=`.split(""),she=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Q$.length;e+=1)t[Q$[e].charCodeAt(0)]=-2;for(let e=0;e<yw.length;e+=1)t[yw[e].charCodeAt(0)]=e;return t})();function J$(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(yw[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(yw[n]),e.queuedBits-=6}}function O9(t,e,r){const n=she[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Z$(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{ihe(i,n,r)};for(let i=0;i<t.length;i+=1)O9(t.charCodeAt(i),s,a);return e.join("")}function ahe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ohe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ahe(n,e)}}function ihe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hh(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)O9(t.charCodeAt(s),r,n);return new Uint8Array(e)}function lhe(t){const e=[];return ohe(t,r=>e.push(r)),new Uint8Array(e)}function yd(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>J$(s,r,n)),J$(null,r,n),e.join("")}function che(t){return Math.round(Date.now()/1e3)+t}function uhe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Is=()=>typeof window<"u"&&typeof document<"u",Yu={tested:!1,writable:!1},T9=()=>{if(!Is())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yu.tested)return Yu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yu.tested=!0,Yu.writable=!0}catch{Yu.tested=!0,Yu.writable=!1}return Yu.writable};function dhe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const P9=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fhe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ch=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gc=async(t,e)=>{await t.removeItem(e)};class hN{constructor(){this.promise=new hN.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hN.promiseConstructor=Promise;function zS(t){const e=t.split(".");if(e.length!==3)throw new n2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Jfe.test(e[n]))throw new n2("JWT not in base64url format");return{header:JSON.parse(Z$(e[0])),payload:JSON.parse(Z$(e[1])),signature:Hh(e[2]),raw:{header:e[0],payload:e[1]}}}async function hhe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mhe(t,e){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await t(a);if(!e(a,null,i)){n(i);return}}catch(i){if(!e(a,i)){s(i);return}}})()})}function phe(t){return("0"+t.toString(16)).substr(-2)}function ghe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,phe).join("")}async function vhe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function xhe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vhe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hf(t,e,r=!1){const n=ghe();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ch(t,`${e}-code-verifier`,s);const a=await xhe(n);return[a,n===a?"plain":"s256"]}const yhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bhe(t){const e=t.headers.get(t2);if(!e||!e.match(yhe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function whe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jhe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nhe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kf(t){if(!Nhe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function VS(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _he(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function e4(t){return JSON.parse(JSON.stringify(t))}const nd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),She=[502,503,504];async function t4(t){var e;if(!fhe(t))throw new r2(nd(t),0);if(She.includes(t.status))throw new r2(nd(t),t.status);let r;try{r=await t.json()}catch(a){throw new ud(nd(a),a)}let n;const s=bhe(t);if(s&&s.getTime()>=A9["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new X$(nd(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new X$(nd(r),t.status,r.weak_password.reasons);throw new ehe(nd(r),t.status||500,n)}const Che=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Dt(t,e,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[t2]||(a[t2]=A9["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Ehe(t,e,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Ehe(t,e,r,n,s,a){const i=Che(e,n,s,a);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new r2(nd(c),0)}if(l.ok||await t4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await t4(c)}}function Jo(t){var e;let r=null;Ohe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=che(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function r4(t){const e=Jo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function khe(t){return{data:t,error:null}}function Ahe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=t,i=$u(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function n4(t){return t}function Ohe(t){return t.access_token&&t.refresh_token&&t.expires_in}const US=["global","local","others"];class The{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=P9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=US[0]){if(US.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${US.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pc})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=$u(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ahe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(jt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pc})}catch(r){if(jt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:n4});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(jt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Kf(e);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pc})}catch(r){if(jt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Kf(e);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pc})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Kf(e);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pc})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Kf(e.userId);try{const{data:r,error:n}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Kf(e.userId),Kf(e.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:n4});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(jt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(jt(r))return{data:null,error:r};throw r}}}function s4(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Gf={debug:!!(globalThis&&T9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M9 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Phe extends M9{}async function Mhe(t,e,r){Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Phe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rhe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function R9(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Dhe(t){return parseInt(t,16)}function Ihe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function $he(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=R9(t.address),p=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${h}

${g}`;let b=`URI: ${f}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${v}
${b}`}class $n extends Error{constructor({message:e,code:r,cause:n,name:s}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class bw extends $n{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lhe({error:t,options:e}){var r,n,s;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $n({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new $n({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new $n({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new $n({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $n({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $n({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new $n({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $n({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(D9(i)){if(a.rp.id!==i)return new $n({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new $n({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $n({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Fhe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $n({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $n({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(D9(n)){if(r.rpId!==n)return new $n({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $n({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Bhe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zhe=new Bhe;function Vhe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=$u(t,["challenge","user","excludeCredentials"]),a=Hh(e).buffer,i=Object.assign(Object.assign({},r),{id:Hh(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Hh(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Uhe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=$u(t,["challenge","allowCredentials"]),s=Hh(e).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Hh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function qhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yd(new Uint8Array(t.response.attestationObject)),clientDataJSON:yd(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Whe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yd(new Uint8Array(s.authenticatorData)),clientDataJSON:yd(new Uint8Array(s.clientDataJSON)),signature:yd(new Uint8Array(s.signature)),userHandle:s.userHandle?yd(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function D9(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function a4(){var t,e;return!!(Is()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Hhe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bw("Browser returned unexpected credential type",e)}:{data:null,error:new bw("Empty credential response",e)}}catch(e){return{data:null,error:Lhe({error:e,options:t})}}}async function Khe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bw("Browser returned unexpected credential type",e)}:{data:null,error:new bw("Empty credential response",e)}}catch(e){return{data:null,error:Fhe({error:e,options:t})}}}const Ghe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Yhe={userVerification:"preferred",hints:["security-key"]};function ww(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(e(i)){const l=n[a];e(l)?n[a]=ww(l,i):n[a]=ww(i)}else n[a]=i}return n}function Xhe(t,e){return ww(Ghe,t,e||{})}function Qhe(t,e){return ww(Yhe,t,e||{})}class Jhe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:l};const c=s??zhe.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=Xhe(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Hhe({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Qhe(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Khe(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return jt(i)?{data:null,error:i}:{data:null,error:new ud("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new Qv("rpId is required for WebAuthn authentication")};try{if(!a4())return{data:null,error:new ud("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return jt(i)?{data:null,error:i}:{data:null,error:new ud("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new Qv("rpId is required for WebAuthn registration")};try{if(!a4())return{data:null,error:new ud("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return jt(i)?{data:null,error:i}:{data:null,error:new ud("Unexpected error in register",i)}}}}Rhe();const Zhe={url:Yfe,storageKey:Xfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o4(t,e,r){return await r()}const Yf={};class Jv{get jwks(){var e,r;return(r=(e=Yf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Yf[this.storageKey]=Object.assign(Object.assign({},Yf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Yf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yf[this.storageKey]=Object.assign(Object.assign({},Yf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Zhe),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Jv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Jv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Is()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new The({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=P9(a.fetch),this.lock=a.lock||o4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Is()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Mhe:this.lock=o4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Jhe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:T9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=s4(this.memoryStorage)),Is()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${k9}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Is()&&(r=dhe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Is()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),nhe(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return jt(r)?this._returnResult({error:r}):this._returnResult({error:new ud("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jo}),{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(jt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,s;try{let a;if("email"in e){const{email:d,password:f,options:m}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Hf(this.storage,this.storageKey)),a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:p},xform:Jo})}else if("phone"in e){const{phone:d,password:f,options:m}=e;a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Jo})}else throw new E0("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(jt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:i,options:l}=e;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:r4})}else if("phone"in e){const{phone:a,password:i,options:l}=e;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:r4})}else throw new E0("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new Wf;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,a,i,l,c,u,d,f,m;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:g,wallet:v,statement:b,options:y}=e;let w;if(Is())if(typeof v=="object")w=v;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=R9(j[0]);let S=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const k=await w.request({method:"eth_chainId"});S=Dhe(k)}const C={domain:N.host,address:_,statement:b,uri:N.href,version:"1",chainId:S,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=$he(C),p=await w.request({method:"personal_sign",params:[Ihe(h),_]})}try{const{data:g,error:v}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Jo});if(v)throw v;if(!g||!g.session||!g.user){const b=new Wf;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(jt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,a,i,l,c,u,d,f,m,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:v,wallet:b,statement:y,options:w}=e;let N;if(Is())if(typeof b=="object")N=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))N=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const _=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await N.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:b}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:yd(g)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jo});if(b)throw b;if(!v||!v.session||!v.user){const y=new Wf;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(jt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Xu(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Jo});if(await gc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!a||!a.session||!a.user){const l=new Wf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(jt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=e,l=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jo}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Wf;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,a,i;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hf(this.storage,this.storageKey));const{error:f}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new E0("You must provide either an email or phone number.")}catch(l){if(jt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,a;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Jo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(jt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s;try{let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Hf(this.storage,this.storageKey));const l=await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:khe});return this._returnResult(l)}catch(a){if(jt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qo;const{error:s}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(jt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:a}=e,{error:i}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:n,type:s,options:a}=e,{data:i,error:l}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new E0("You must provide either an email or phone number and a type")}catch(r){if(jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<FS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Xu(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=VS()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=_he(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pc}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qo}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Pc})})}catch(r){if(jt(r))return rhe(r)&&(await this._removeSession(),await gc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Qo;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Hf(this.storage,this.storageKey));const{data:u,error:d}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Pc});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(jt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qo;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=zS(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(jt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qo;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Is())throw new k0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new k0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Y$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new k0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Y$("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!i||!u)throw new k0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=lh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const p=m-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(jt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(the(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await gc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=uhe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hf(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(jt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Is()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(jt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=e,f=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Jo}),{data:m,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Wf}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:h}))}catch(s){if(jt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mhe(async s=>(s>0&&await hhe(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jo})),(s,a)=>{const i=200*Math.pow(2,s);return a&&BS(a)&&Date.now()+i-n<lh})}catch(n){if(this._debug(r,"error",n),jt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Is()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Xu(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Xu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ch(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:VS()}else if(s&&!s.user&&!s.user){const i=await Xu(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await gc(this.storage,this.storageKey+"-user"),await ch(this.storage,this.storageKey,s)):s.user=VS()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<FS;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${FS}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),BS(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hN;const{data:a,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!a.session)throw new Qo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),jt(a)){const i={data:null,error:a};return BS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ch(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=e4(s);await ch(this.storage,this.storageKey,a)}else{const s=e4(r);await ch(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gc(this.storage,this.storageKey),await gc(this.storage,this.storageKey+"-code-verifier"),await gc(this.storage,this.storageKey+"-user"),this.userStorage&&await gc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Is()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lh);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/lh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lh}ms, refresh threshold is ${e2} ticks`),s<=e2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof M9)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Is()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Hf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await Dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qhe(e.webauthn.credential_response):Whe(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Vhe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Uhe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zS(n.access_token);let i=null;a.aal&&(i=a.aal);let l=i;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(r){if(jt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Qo});const i=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Is()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Qo});const i=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Is()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Zfe>s)return n;const{data:a,error:i}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:p}=await this.getSession();if(p||!h.session)return this._returnResult({data:null,error:p});n=h.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=zS(n);r!=null&&r.allowExpired||whe(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:s,signature:i},error:null}}const d=jhe(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,lhe(`${l}.${c}`)))throw new n2("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}}Jv.nextInstanceID={};const eme=Jv;class tme extends eme{constructor(e){super(e)}}class rme{constructor(e,r,n){var s,a,i;this.supabaseUrl=e,this.supabaseKey=r;const l=Gfe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Bfe,realtime:Vfe,auth:Object.assign(Object.assign({},zfe),{storageKey:c}),global:Ffe},d=Kfe(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Wfe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Yde(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ife(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Hde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u,throwOnError:d},f,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tme({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ffe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nme=(t,e,r)=>new rme(t,e,r);function sme(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}sme()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ame="https://fplfjqttuvawzachfnob.supabase.co",I9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZwbGZqcXR0dXZhd3phY2hmbm9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMTE4MDYsImV4cCI6MjA3NzY4NzgwNn0.mW5zagf6JeS5oomwp4wBU5ZjlIHnG8YjLXIe2XiKwdM",dd=!!I9,X=nme(ame,I9),$9=x.createContext(void 0);function ome({children:t}){const[e,r]=x.useState(null),[n,s]=x.useState(null),[a,i]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!0),{toast:f}=tn(),m=async y=>{try{const{data:w,error:N}=await X.from("profiles").select("*").eq("id",y).single();if(N)throw N;i(w);const{data:j,error:_}=await X.from("user_roles").select("role").eq("user_id",y).single();if(_)throw _;c(j.role)}catch(w){console.error("Error fetching profile:",w)}};x.useEffect(()=>{if(!dd){console.error("Supabase no configurado: defina VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY no ambiente."),d(!1);return}const{data:{subscription:y}}=X.auth.onAuthStateChange((w,N)=>{s(N),r((N==null?void 0:N.user)??null),N!=null&&N.user?setTimeout(()=>{m(N.user.id)},0):(i(null),c(null)),d(!1)});return X.auth.getSession().then(({data:{session:w}})=>{s(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&setTimeout(()=>{m(w.user.id)},0),d(!1)}),()=>y.unsubscribe()},[]);const h=async(y,w)=>{if(!dd)return{error:new Error("Supabase no configurado no ambiente. Configure VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.")};try{const{error:N}=await X.auth.signInWithPassword({email:y,password:w});return N?N.message.includes("Invalid login credentials")?{error:new Error("Email ou senha incorretos")}:{error:N}:{error:null}}catch(N){return{error:N}}},p=async(y,w,N)=>{if(!dd)return{error:new Error("Supabase no configurado no ambiente. Configure VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY.")};try{const j=`${window.location.origin}/`,{error:_}=await X.auth.signUp({email:y,password:w,options:{emailRedirectTo:j,data:{nome_completo:N}}});return _?_.message.includes("already registered")?{error:new Error("Este email j est cadastrado")}:{error:_}:(f({title:"Conta criada com sucesso!",description:"Voc j pode fazer login."}),{error:null})}catch(j){return{error:j}}},g=async()=>{try{const{error:y}=await X.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});return y?{error:y}:{error:null}}catch(y){return{error:y}}},v=async()=>{dd&&(await X.auth.signOut(),r(null),s(null),i(null),c(null))},b=async y=>{if(!e)return{error:new Error("Usurio no autenticado")};if(!dd)return{error:new Error("Supabase no configurado no ambiente.")};try{const{error:w}=await X.from("profiles").update(y).eq("id",e.id);if(w)throw w;return i(N=>N?{...N,...y}:null),f({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso."}),{error:null}}catch(w){return{error:w}}};return o.jsx($9.Provider,{value:{user:e,session:n,profile:a,userRole:l,loading:u,signIn:h,signUp:p,signInWithGoogle:g,signOut:v,updateProfile:b},children:t})}function Fr(){const t=x.useContext($9);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Co({className:t,...e}){return o.jsx("div",{className:Ne("animate-pulse rounded-md bg-muted",t),...e})}function ya({children:t}){const{user:e,loading:r}=Fr(),n=Uo();return x.useEffect(()=>{!r&&!e&&n("/auth")},[e,r,n]),r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsx(Co,{className:"h-12 w-64"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(Co,{className:"h-32 rounded-xl"}),o.jsx(Co,{className:"h-32 rounded-xl"}),o.jsx(Co,{className:"h-32 rounded-xl"}),o.jsx(Co,{className:"h-32 rounded-xl"})]})]})}):e?o.jsx(o.Fragment,{children:t}):null}function mN(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pN="Switch",[ime]=Ms(pN),[lme,cme]=ime(pN),L9=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,h]=x.useState(null),p=Ot(e,w=>h(w)),g=x.useRef(!1),v=m?d||!!m.closest("form"):!0,[b,y]=oo({prop:s,defaultProp:a??!1,onChange:u,caller:pN});return o.jsxs(lme,{scope:r,checked:b,disabled:l,children:[o.jsx(ct.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":V9(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:Ee(t.onClick,w=>{y(N=>!N),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&o.jsx(z9,{control:m,bubbles:!g.current,name:n,value:c,checked:b,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});L9.displayName=pN;var F9="SwitchThumb",B9=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=cme(F9,r);return o.jsx(ct.span,{"data-state":V9(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});B9.displayName=F9;var ume="SwitchBubbleInput",z9=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},a)=>{const i=x.useRef(null),l=Ot(i,a),c=mN(r),u=aN(e);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const p=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(p)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z9.displayName=ume;function V9(t){return t?"checked":"unchecked"}var U9=L9,dme=B9;const _P=x.forwardRef(({className:t,...e},r)=>o.jsx(U9,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:o.jsx(dme,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_P.displayName=U9.displayName;var fme=x.createContext(void 0);function Dp(t){const e=x.useContext(fme);return t||e||"ltr"}var qS=0;function gN(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??i4()),document.body.insertAdjacentElement("beforeend",t[1]??i4()),qS++,()=>{qS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qS--}},[])}function i4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var WS="focusScope.autoFocusOnMount",HS="focusScope.autoFocusOnUnmount",l4={bubbles:!1,cancelable:!0},hme="FocusScope",wy=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=t,[l,c]=x.useState(null),u=ln(s),d=ln(a),f=x.useRef(null),m=Ot(e,g=>c(g)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(w){if(h.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:bc(f.current,{select:!0})},v=function(w){if(h.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||bc(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&bc(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,h.paused]),x.useEffect(()=>{if(l){u4.add(h);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(WS,l4);l.addEventListener(WS,u),l.dispatchEvent(b),b.defaultPrevented||(mme(yme(q9(l)),{select:!0}),document.activeElement===g&&bc(l))}return()=>{l.removeEventListener(WS,u),setTimeout(()=>{const b=new CustomEvent(HS,l4);l.addEventListener(HS,d),l.dispatchEvent(b),b.defaultPrevented||bc(g??document.body,{select:!0}),l.removeEventListener(HS,d),u4.remove(h)},0)}}},[l,u,d,h]);const p=x.useCallback(g=>{if(!r&&!n||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const y=g.currentTarget,[w,N]=pme(y);w&&N?!g.shiftKey&&b===N?(g.preventDefault(),r&&bc(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&bc(N,{select:!0})):b===y&&g.preventDefault()}},[r,n,h.paused]);return o.jsx(ct.div,{tabIndex:-1,...i,ref:m,onKeyDown:p})});wy.displayName=hme;function mme(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(bc(n,{select:e}),document.activeElement!==r)return}function pme(t){const e=q9(t),r=c4(e,t),n=c4(e.reverse(),t);return[r,n]}function q9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c4(t,e){for(const r of t)if(!gme(r,{upTo:e}))return r}function gme(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vme(t){return t instanceof HTMLInputElement&&"select"in t}function bc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&vme(t)&&e&&t.select()}}var u4=xme();function xme(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=d4(t,e),t.unshift(e)},remove(e){var r;t=d4(t,e),(r=t[0])==null||r.resume()}}}function d4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function yme(t){return t.filter(e=>e.tagName!=="A")}var KS="rovingFocusGroup.onEntryFocus",bme={bubbles:!1,cancelable:!0},jy="RovingFocusGroup",[s2,W9,wme]=dy(jy),[jme,vN]=Ms(jy,[wme]),[Nme,_me]=jme(jy),H9=x.forwardRef((t,e)=>o.jsx(s2.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(s2.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Sme,{...t,ref:e})})}));H9.displayName=jy;var Sme=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=x.useRef(null),h=Ot(e,m),p=Dp(a),[g,v]=oo({prop:i,defaultProp:l??null,onChange:c,caller:jy}),[b,y]=x.useState(!1),w=ln(u),N=W9(r),j=x.useRef(!1),[_,S]=x.useState(0);return x.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(KS,w),()=>C.removeEventListener(KS,w)},[w]),o.jsx(Nme,{scope:r,orientation:n,dir:p,loop:s,currentTabStopId:g,onItemFocus:x.useCallback(C=>v(C),[v]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>S(C=>C-1),[]),children:o.jsx(ct.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{j.current=!0}),onFocus:Ee(t.onFocus,C=>{const k=!j.current;if(C.target===C.currentTarget&&k&&!b){const A=new CustomEvent(KS,bme);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=N().filter(B=>B.focusable),P=O.find(B=>B.active),R=O.find(B=>B.id===g),$=[P,R,...O].filter(Boolean).map(B=>B.ref.current);Y9($,d)}}j.current=!1}),onBlur:Ee(t.onBlur,()=>y(!1))})})}),K9="RovingFocusGroupItem",G9=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=t,c=gs(),u=a||c,d=_me(K9,r),f=d.currentTabStopId===u,m=W9(r),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),o.jsx(s2.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(ct.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ee(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ee(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=kme(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=d.loop?Ame(w,N+1):w.slice(N+1)}setTimeout(()=>Y9(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});G9.displayName=K9;var Cme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Eme(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kme(t,e,r){const n=Eme(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Cme[n]}function Y9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Ame(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var X9=H9,Q9=G9,Ome=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xf=new WeakMap,A0=new WeakMap,O0={},GS=0,J9=function(t){return t&&(t.host||J9(t.parentNode))},Tme=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=J9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Pme=function(t,e,r,n){var s=Tme(e,Array.isArray(t)?t:[t]);O0[r]||(O0[r]=new WeakMap);var a=O0[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(n),p=h!==null&&h!=="false",g=(Xf.get(m)||0)+1,v=(a.get(m)||0)+1;Xf.set(m,g),a.set(m,v),i.push(m),g===1&&p&&A0.set(m,!0),v===1&&m.setAttribute(r,"true"),p||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(e),l.clear(),GS++,function(){i.forEach(function(f){var m=Xf.get(f)-1,h=a.get(f)-1;Xf.set(f,m),a.set(f,h),m||(A0.has(f)||f.removeAttribute(n),A0.delete(f)),h||f.removeAttribute(r)}),GS--,GS||(Xf=new WeakMap,Xf=new WeakMap,A0=new WeakMap,O0={})}},xN=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Ome(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Pme(n,s,r,"aria-hidden")):function(){return null}},Eb="right-scroll-bar-position",kb="width-before-scroll-bar",Mme="with-scroll-bars-hidden",Rme="--removed-body-scroll-bar-size";function YS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Dme(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var Ime=typeof window<"u"?x.useLayoutEffect:x.useEffect,f4=new WeakMap;function $me(t,e){var r=Dme(null,function(n){return t.forEach(function(s){return YS(s,n)})});return Ime(function(){var n=f4.get(r);if(n){var s=new Set(n),a=new Set(t),i=r.current;s.forEach(function(l){a.has(l)||YS(l,null)}),a.forEach(function(l){s.has(l)||YS(l,i)})}f4.set(r,t)},[t]),r}function Lme(t){return t}function Fme(t,e){e===void 0&&(e=Lme);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var i=e(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function Bme(t){t===void 0&&(t={});var e=Fme(null);return e.options=So({async:!0,ssr:!1},t),e}var Z9=function(t){var e=t.sideCar,r=$u(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,So({},r))};Z9.isSideCarExport=!0;function zme(t,e){return t.useMedium(e),Z9}var eW=Bme(),XS=function(){},yN=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:XS,onWheelCapture:XS,onTouchMoveCapture:XS}),s=n[0],a=n[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,h=t.noRelative,p=t.noIsolation,g=t.inert,v=t.allowPinchZoom,b=t.as,y=b===void 0?"div":b,w=t.gapMode,N=$u(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,_=$me([r,e]),S=So(So({},N),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:eW,removeScrollBar:u,shards:f,noRelative:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),i?x.cloneElement(x.Children.only(l),So(So({},S),{ref:_})):x.createElement(y,So({},S,{className:c,ref:_}),l))});yN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yN.classNames={fullWidth:kb,zeroRight:Eb};var Vme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ume(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Vme();return e&&t.setAttribute("nonce",e),t}function qme(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Wme(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Hme=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Ume())&&(qme(e,r),Wme(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Kme=function(){var t=Hme();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},tW=function(){var t=Kme(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},Gme={left:0,top:0,right:0,gap:0},QS=function(t){return parseInt(t||"",10)||0},Yme=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[QS(r),QS(n),QS(s)]},Xme=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Gme;var e=Yme(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Qme=tW(),Kh="data-scroll-locked",Jme=function(t,e,r,n){var s=t.left,a=t.top,i=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Mme,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Kh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Eb," .").concat(Eb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kb," .").concat(kb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Kh,`] {
    `).concat(Rme,": ").concat(l,`px;
  }
`)},h4=function(){var t=parseInt(document.body.getAttribute(Kh)||"0",10);return isFinite(t)?t:0},Zme=function(){x.useEffect(function(){return document.body.setAttribute(Kh,(h4()+1).toString()),function(){var t=h4()-1;t<=0?document.body.removeAttribute(Kh):document.body.setAttribute(Kh,t.toString())}},[])},epe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Zme();var a=x.useMemo(function(){return Xme(s)},[s]);return x.createElement(Qme,{styles:Jme(a,!e,s,r?"":"!important")})},a2=!1;if(typeof window<"u")try{var T0=Object.defineProperty({},"passive",{get:function(){return a2=!0,!0}});window.addEventListener("test",T0,T0),window.removeEventListener("test",T0,T0)}catch{a2=!1}var Qf=a2?{passive:!1}:!1,tpe=function(t){return t.tagName==="TEXTAREA"},rW=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!tpe(t)&&r[e]==="visible")},rpe=function(t){return rW(t,"overflowY")},npe=function(t){return rW(t,"overflowX")},m4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=nW(t,n);if(s){var a=sW(t,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},spe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ape=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},nW=function(t,e){return t==="v"?rpe(e):npe(e)},sW=function(t,e){return t==="v"?spe(e):ape(e)},ope=function(t,e){return t==="h"&&e==="rtl"?-1:1},ipe=function(t,e,r,n,s){var a=ope(t,window.getComputedStyle(e).direction),i=a*n,l=r.target,c=e.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var h=sW(t,l),p=h[0],g=h[1],v=h[2],b=g-v-a*p;(p||b)&&nW(t,l)&&(f+=b,m+=p);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},P0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},p4=function(t){return[t.deltaX,t.deltaY]},g4=function(t){return t&&"current"in t?t.current:t},lpe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cpe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},upe=0,Jf=[];function dpe(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(upe++)[0],a=x.useState(tW)[0],i=x.useRef(t);x.useEffect(function(){i.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=pP([t.lockRef.current],(t.shards||[]).map(g4),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var b=P0(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-b[0],N="deltaY"in g?g.deltaY:y[1]-b[1],j,_=g.target,S=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in g&&S==="h"&&_.type==="range")return!1;var C=m4(S,_);if(!C)return!0;if(C?j=S:(j=S==="v"?"h":"v",C=m4(S,_)),!C)return!1;if(!n.current&&"changedTouches"in g&&(w||N)&&(n.current=j),!j)return!0;var k=n.current||j;return ipe(k,v,g,k==="h"?w:N)},[]),c=x.useCallback(function(g){var v=g;if(!(!Jf.length||Jf[Jf.length-1]!==a)){var b="deltaY"in v?p4(v):P0(v),y=e.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&lpe(j.delta,b)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(g4).filter(Boolean).filter(function(j){return j.contains(v.target)}),N=w.length>0?l(v,w[0]):!i.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,b,y){var w={name:g,delta:v,target:b,should:y,shadowParent:fpe(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),d=x.useCallback(function(g){r.current=P0(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,p4(g),g.target,l(g,t.lockRef.current))},[]),m=x.useCallback(function(g){u(g.type,P0(g),g.target,l(g,t.lockRef.current))},[]);x.useEffect(function(){return Jf.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Qf),document.addEventListener("touchmove",c,Qf),document.addEventListener("touchstart",d,Qf),function(){Jf=Jf.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Qf),document.removeEventListener("touchmove",c,Qf),document.removeEventListener("touchstart",d,Qf)}},[]);var h=t.removeScrollBar,p=t.inert;return x.createElement(x.Fragment,null,p?x.createElement(a,{styles:cpe(s)}):null,h?x.createElement(epe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fpe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const hpe=zme(eW,dpe);var Ny=x.forwardRef(function(t,e){return x.createElement(yN,So({},t,{ref:e,sideCar:hpe}))});Ny.classNames=yN.classNames;var o2=["Enter"," "],mpe=["ArrowDown","PageUp","Home"],aW=["ArrowUp","PageDown","End"],ppe=[...mpe,...aW],gpe={ltr:[...o2,"ArrowRight"],rtl:[...o2,"ArrowLeft"]},vpe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_y="Menu",[Zv,xpe,ype]=dy(_y),[Pf,bN]=Ms(_y,[ype,Iu,vN]),wN=Iu(),oW=vN(),[bpe,Mf]=Pf(_y),[wpe,Sy]=Pf(_y),iW=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=t,l=wN(e),[c,u]=x.useState(null),d=x.useRef(!1),f=ln(a),m=Dp(s);return x.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),o.jsx(oN,{...l,children:o.jsx(bpe,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(wpe,{scope:e,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};iW.displayName=_y;var jpe="MenuAnchor",SP=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=wN(r);return o.jsx(xy,{...s,...n,ref:e})});SP.displayName=jpe;var CP="MenuPortal",[Npe,lW]=Pf(CP,{forceMount:void 0}),cW=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=Mf(CP,e);return o.jsx(Npe,{scope:e,forceMount:r,children:o.jsx(ys,{present:r||a.open,children:o.jsx(Ep,{asChild:!0,container:s,children:n})})})};cW.displayName=CP;var Do="MenuContent",[_pe,EP]=Pf(Do),uW=x.forwardRef((t,e)=>{const r=lW(Do,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=Mf(Do,t.__scopeMenu),i=Sy(Do,t.__scopeMenu);return o.jsx(Zv.Provider,{scope:t.__scopeMenu,children:o.jsx(ys,{present:n||a.open,children:o.jsx(Zv.Slot,{scope:t.__scopeMenu,children:i.modal?o.jsx(Spe,{...s,ref:e}):o.jsx(Cpe,{...s,ref:e})})})})}),Spe=x.forwardRef((t,e)=>{const r=Mf(Do,t.__scopeMenu),n=x.useRef(null),s=Ot(e,n);return x.useEffect(()=>{const a=n.current;if(a)return xN(a)},[]),o.jsx(kP,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cpe=x.forwardRef((t,e)=>{const r=Mf(Do,t.__scopeMenu);return o.jsx(kP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Epe=rf("MenuContent.ScrollLock"),kP=x.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:p,...g}=t,v=Mf(Do,r),b=Sy(Do,r),y=wN(r),w=oW(r),N=xpe(r),[j,_]=x.useState(null),S=x.useRef(null),C=Ot(e,S,v.onContentChange),k=x.useRef(0),A=x.useRef(""),O=x.useRef(0),P=x.useRef(null),R=x.useRef("right"),I=x.useRef(0),$=p?Ny:x.Fragment,B=p?{as:Epe,allowPinchZoom:!0}:void 0,L=T=>{var pe,Ue;const q=A.current+T,Z=N().filter(ce=>!ce.disabled),M=document.activeElement,W=(pe=Z.find(ce=>ce.ref.current===M))==null?void 0:pe.textValue,re=Z.map(ce=>ce.textValue),se=Fpe(re,q,W),je=(Ue=Z.find(ce=>ce.textValue===se))==null?void 0:Ue.ref.current;(function ce(we){A.current=we,window.clearTimeout(k.current),we!==""&&(k.current=window.setTimeout(()=>ce(""),1e3))})(q),je&&setTimeout(()=>je.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),gN();const E=x.useCallback(T=>{var Z,M;return R.current===((Z=P.current)==null?void 0:Z.side)&&zpe(T,(M=P.current)==null?void 0:M.area)},[]);return o.jsx(_pe,{scope:r,searchRef:A,onItemEnter:x.useCallback(T=>{E(T)&&T.preventDefault()},[E]),onItemLeave:x.useCallback(T=>{var q;E(T)||((q=S.current)==null||q.focus(),_(null))},[E]),onTriggerLeave:x.useCallback(T=>{E(T)&&T.preventDefault()},[E]),pointerGraceTimerRef:O,onPointerGraceIntentChange:x.useCallback(T=>{P.current=T},[]),children:o.jsx($,{...B,children:o.jsx(wy,{asChild:!0,trapped:s,onMountAutoFocus:Ee(a,T=>{var q;T.preventDefault(),(q=S.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Of,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:o.jsx(X9,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:Ee(c,T=>{b.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(iN,{role:"menu","aria-orientation":"vertical","data-state":CW(v.open),"data-radix-menu-content":"",dir:b.dir,...y,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:Ee(g.onKeyDown,T=>{const Z=T.target.closest("[data-radix-menu-content]")===T.currentTarget,M=T.ctrlKey||T.altKey||T.metaKey,W=T.key.length===1;Z&&(T.key==="Tab"&&T.preventDefault(),!M&&W&&L(T.key));const re=S.current;if(T.target!==re||!ppe.includes(T.key))return;T.preventDefault();const je=N().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);aW.includes(T.key)&&je.reverse(),$pe(je)}),onBlur:Ee(t.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(k.current),A.current="")}),onPointerMove:Ee(t.onPointerMove,ex(T=>{const q=T.target,Z=I.current!==T.clientX;if(T.currentTarget.contains(q)&&Z){const M=T.clientX>I.current?"right":"left";R.current=M,I.current=T.clientX}}))})})})})})})});uW.displayName=Do;var kpe="MenuGroup",AP=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(ct.div,{role:"group",...n,ref:e})});AP.displayName=kpe;var Ape="MenuLabel",dW=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(ct.div,{...n,ref:e})});dW.displayName=Ape;var jw="MenuItem",v4="menu.itemSelect",jN=x.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=x.useRef(null),i=Sy(jw,t.__scopeMenu),l=EP(jw,t.__scopeMenu),c=Ot(e,a),u=x.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const m=new CustomEvent(v4,{bubbles:!0,cancelable:!0});f.addEventListener(v4,h=>n==null?void 0:n(h),{once:!0}),BT(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(fW,{...s,ref:c,disabled:r,onClick:Ee(t.onClick,d),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),u.current=!0},onPointerUp:Ee(t.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Ee(t.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||o2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jN.displayName=jw;var fW=x.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,i=EP(jw,r),l=oW(r),c=x.useRef(null),u=Ot(e,c),[d,f]=x.useState(!1),[m,h]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&h((p.textContent??"").trim())},[a.children]),o.jsx(Zv.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:o.jsx(Q9,{asChild:!0,...l,focusable:!n,children:o.jsx(ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ee(t.onPointerMove,ex(p=>{n?i.onItemLeave(p):(i.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,ex(p=>i.onItemLeave(p))),onFocus:Ee(t.onFocus,()=>f(!0)),onBlur:Ee(t.onBlur,()=>f(!1))})})})}),Ope="MenuCheckboxItem",hW=x.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return o.jsx(xW,{scope:t.__scopeMenu,checked:r,children:o.jsx(jN,{role:"menuitemcheckbox","aria-checked":Nw(r)?"mixed":r,...s,ref:e,"data-state":TP(r),onSelect:Ee(s.onSelect,()=>n==null?void 0:n(Nw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});hW.displayName=Ope;var mW="MenuRadioGroup",[Tpe,Ppe]=Pf(mW,{value:void 0,onValueChange:()=>{}}),pW=x.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=ln(n);return o.jsx(Tpe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:o.jsx(AP,{...s,ref:e})})});pW.displayName=mW;var gW="MenuRadioItem",vW=x.forwardRef((t,e)=>{const{value:r,...n}=t,s=Ppe(gW,t.__scopeMenu),a=r===s.value;return o.jsx(xW,{scope:t.__scopeMenu,checked:a,children:o.jsx(jN,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":TP(a),onSelect:Ee(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});vW.displayName=gW;var OP="MenuItemIndicator",[xW,Mpe]=Pf(OP,{checked:!1}),yW=x.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=Mpe(OP,r);return o.jsx(ys,{present:n||Nw(a.checked)||a.checked===!0,children:o.jsx(ct.span,{...s,ref:e,"data-state":TP(a.checked)})})});yW.displayName=OP;var Rpe="MenuSeparator",bW=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});bW.displayName=Rpe;var Dpe="MenuArrow",wW=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=wN(r);return o.jsx(lN,{...s,...n,ref:e})});wW.displayName=Dpe;var Ipe="MenuSub",[LZe,jW]=Pf(Ipe),Mg="MenuSubTrigger",NW=x.forwardRef((t,e)=>{const r=Mf(Mg,t.__scopeMenu),n=Sy(Mg,t.__scopeMenu),s=jW(Mg,t.__scopeMenu),a=EP(Mg,t.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(SP,{asChild:!0,...u,children:o.jsx(fW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":CW(r.open),...t,ref:al(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,ex(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(t.onPointerLeave,ex(f=>{var h,p;d();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const g=(p=r.content)==null?void 0:p.dataset.side,v=g==="right",b=v?-5:5,y=m[v?"left":"right"],w=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,f=>{var h;const m=a.searchRef.current!=="";t.disabled||m&&f.key===" "||gpe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});NW.displayName=Mg;var _W="MenuSubContent",SW=x.forwardRef((t,e)=>{const r=lW(Do,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=Mf(Do,t.__scopeMenu),i=Sy(Do,t.__scopeMenu),l=jW(_W,t.__scopeMenu),c=x.useRef(null),u=Ot(e,c);return o.jsx(Zv.Provider,{scope:t.__scopeMenu,children:o.jsx(ys,{present:n||a.open,children:o.jsx(Zv.Slot,{scope:t.__scopeMenu,children:o.jsx(kP,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ee(t.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=vpe[i.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});SW.displayName=_W;function CW(t){return t?"open":"closed"}function Nw(t){return t==="indeterminate"}function TP(t){return Nw(t)?"indeterminate":t?"checked":"unchecked"}function $pe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Lpe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Fpe(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let i=Lpe(t,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Bpe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,i=e.length-1;a<e.length;i=a++){const l=e[a],c=e[i],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function zpe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Bpe(r,e)}function ex(t){return e=>e.pointerType==="mouse"?t(e):void 0}var EW=iW,kW=SP,AW=cW,OW=uW,TW=AP,PW=dW,MW=jN,RW=hW,DW=pW,IW=vW,$W=yW,LW=bW,FW=wW,BW=NW,zW=SW,NN="DropdownMenu",[Vpe]=Ms(NN,[bN]),pa=bN(),[Upe,VW]=Vpe(NN),UW=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,c=pa(e),u=x.useRef(null),[d,f]=oo({prop:s,defaultProp:a??!1,onChange:i,caller:NN});return o.jsx(Upe,{scope:e,triggerId:gs(),triggerRef:u,contentId:gs(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(EW,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};UW.displayName=NN;var qW="DropdownMenuTrigger",WW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=VW(qW,r),i=pa(r);return o.jsx(kW,{asChild:!0,...i,children:o.jsx(ct.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:al(e,a.triggerRef),onPointerDown:Ee(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ee(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});WW.displayName=qW;var qpe="DropdownMenuPortal",HW=t=>{const{__scopeDropdownMenu:e,...r}=t,n=pa(e);return o.jsx(AW,{...n,...r})};HW.displayName=qpe;var KW="DropdownMenuContent",GW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=VW(KW,r),a=pa(r),i=x.useRef(!1);return o.jsx(OW,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GW.displayName=KW;var Wpe="DropdownMenuGroup",Hpe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(TW,{...s,...n,ref:e})});Hpe.displayName=Wpe;var Kpe="DropdownMenuLabel",YW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(PW,{...s,...n,ref:e})});YW.displayName=Kpe;var Gpe="DropdownMenuItem",XW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(MW,{...s,...n,ref:e})});XW.displayName=Gpe;var Ype="DropdownMenuCheckboxItem",QW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(RW,{...s,...n,ref:e})});QW.displayName=Ype;var Xpe="DropdownMenuRadioGroup",Qpe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(DW,{...s,...n,ref:e})});Qpe.displayName=Xpe;var Jpe="DropdownMenuRadioItem",JW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(IW,{...s,...n,ref:e})});JW.displayName=Jpe;var Zpe="DropdownMenuItemIndicator",ZW=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx($W,{...s,...n,ref:e})});ZW.displayName=Zpe;var ege="DropdownMenuSeparator",eH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(LW,{...s,...n,ref:e})});eH.displayName=ege;var tge="DropdownMenuArrow",rge=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(FW,{...s,...n,ref:e})});rge.displayName=tge;var nge="DropdownMenuSubTrigger",tH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(BW,{...s,...n,ref:e})});tH.displayName=nge;var sge="DropdownMenuSubContent",rH=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pa(r);return o.jsx(zW,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rH.displayName=sge;var age=UW,oge=WW,ige=HW,nH=GW,sH=YW,aH=XW,oH=QW,iH=JW,lH=ZW,cH=eH,uH=tH,dH=rH;const Cy=age,Ey=oge,lge=x.forwardRef(({className:t,inset:e,children:r,...n},s)=>o.jsxs(uH,{ref:s,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,o.jsx(Du,{className:"ml-auto h-4 w-4"})]}));lge.displayName=uH.displayName;const cge=x.forwardRef(({className:t,...e},r)=>o.jsx(dH,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));cge.displayName=dH.displayName;const Ip=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(ige,{children:o.jsx(nH,{ref:n,sideOffset:e,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ip.displayName=nH.displayName;const el=x.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(aH,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));el.displayName=aH.displayName;const fH=x.forwardRef(({className:t,children:e,checked:r,...n},s)=>o.jsxs(oH,{ref:s,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lH,{children:o.jsx(Or,{className:"h-4 w-4"})})}),e]}));fH.displayName=oH.displayName;const uge=x.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(iH,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lH,{children:o.jsx(wU,{className:"h-2 w-2 fill-current"})})}),e]}));uge.displayName=iH.displayName;const _N=x.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(sH,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));_N.displayName=sH.displayName;const Vd=x.forwardRef(({className:t,...e},r)=>o.jsx(cH,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));Vd.displayName=cH.displayName;function hH(t,e=[]){let r=[];function n(a,i){const l=x.createContext(i);l.displayName=a+"Context";const c=r.length;r=[...r,i];const u=f=>{var b;const{scope:m,children:h,...p}=f,g=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,v=x.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:v,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,p=x.useContext(h);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,dge(s,...e)]}function dge(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var fge=Symbol.for("react.lazy"),_w=M1[" use ".trim().toString()];function hge(t){return typeof t=="object"&&t!==null&&"then"in t}function mH(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===fge&&"_payload"in t&&hge(t._payload)}function pH(t){const e=mge(t),r=x.forwardRef((n,s)=>{let{children:a,...i}=n;mH(a)&&typeof _w=="function"&&(a=_w(a._payload));const l=x.Children.toArray(a),c=l.find(gge);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...i,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(e,{...i,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}var gH=pH("Slot");function mge(t){const e=x.forwardRef((r,n)=>{let{children:s,...a}=r;if(mH(s)&&typeof _w=="function"&&(s=_w(s._payload)),x.isValidElement(s)){const i=xge(s),l=vge(a,s.props);return s.type!==x.Fragment&&(l.ref=n?al(n,i):i),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pge=Symbol("radix.slottable");function gge(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pge}function vge(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function xge(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var yge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ga=yge.reduce((t,e)=>{const r=pH(`Primitive.${e}`),n=x.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),vH={exports:{}},xH={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=x;function bge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wge=typeof Object.is=="function"?Object.is:bge,jge=Cm.useState,Nge=Cm.useEffect,_ge=Cm.useLayoutEffect,Sge=Cm.useDebugValue;function Cge(t,e){var r=e(),n=jge({inst:{value:r,getSnapshot:e}}),s=n[0].inst,a=n[1];return _ge(function(){s.value=r,s.getSnapshot=e,JS(s)&&a({inst:s})},[t,r,e]),Nge(function(){return JS(s)&&a({inst:s}),t(function(){JS(s)&&a({inst:s})})},[t]),Sge(r),r}function JS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wge(t,r)}catch{return!0}}function Ege(t,e){return e()}var kge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ege:Cge;xH.useSyncExternalStore=Cm.useSyncExternalStore!==void 0?Cm.useSyncExternalStore:kge;vH.exports=xH;var SN=vH.exports;function Age(){return SN.useSyncExternalStore(Oge,()=>!0,()=>!1)}function Oge(){return()=>{}}var PP="Avatar",[Tge]=hH(PP),[Pge,yH]=Tge(PP),bH=x.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,a]=x.useState("idle");return o.jsx(Pge,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(ga.span,{...n,ref:e})})});bH.displayName=PP;var wH="AvatarImage",jH=x.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=t,i=yH(wH,r),l=Mge(n,a),c=ln(u=>{s(u),i.onImageLoadingStatusChange(u)});return Mn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ga.img,{...a,ref:e,src:n}):null});jH.displayName=wH;var NH="AvatarFallback",_H=x.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,a=yH(NH,r),[i,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(ga.span,{...s,ref:e}):null});_H.displayName=NH;function x4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Mge(t,{referrerPolicy:e,crossOrigin:r}){const n=Age(),s=x.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=x.useState(()=>x4(a,t));return Mn(()=>{l(x4(a,t))},[a,t]),Mn(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,e]),i}var SH=bH,CH=jH,EH=_H;const kH=x.forwardRef(({className:t,...e},r)=>o.jsx(SH,{ref:r,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));kH.displayName=SH.displayName;const AH=x.forwardRef(({className:t,...e},r)=>o.jsx(CH,{ref:r,className:Ne("aspect-square h-full w-full",t),...e}));AH.displayName=CH.displayName;const OH=x.forwardRef(({className:t,...e},r)=>o.jsx(EH,{ref:r,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));OH.displayName=EH.displayName;function MP({avatarUrl:t,name:e,className:r}){const n=e.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return o.jsxs(kH,{className:Ne("border-2 border-border",r),children:[t&&o.jsx(AH,{src:t,alt:e,className:"object-cover object-center w-full h-full"}),o.jsx(OH,{className:"bg-primary text-primary-foreground font-semibold",children:n})]})}const Rge=Tf.cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:t,variant:e,...r}){return o.jsx("div",{className:Ne(Rge({variant:e}),t),...r})}function Dge(){const{profile:t,userRole:e,signOut:r}=Fr(),n=Uo(),s=async()=>{await r(),n("/auth")};if(!t)return null;const a={admin:"Administrador",manager:"Gerente",user:"Usurio"};return o.jsxs(Cy,{children:[o.jsx(Ey,{asChild:!0,children:o.jsxs("button",{className:"flex items-center gap-3 hover:opacity-80 transition-opacity rounded-xl p-2 hover:bg-accent",children:[o.jsx(MP,{avatarUrl:t.avatar_url,name:t.nome_completo,className:"h-9 w-9"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("p",{className:"text-sm font-medium",children:t.nome_completo}),e&&o.jsx(Ge,{variant:"secondary",className:"text-xs mt-1",children:a[e]})]})]})}),o.jsxs(Ip,{align:"end",className:"w-56 rounded-xl",children:[o.jsx(_N,{children:"Minha Conta"}),o.jsx(Vd,{}),o.jsxs(el,{onClick:()=>n("/perfil"),className:"rounded-lg",children:[o.jsx(Fie,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Configuraes"})]}),o.jsx(Vd,{}),o.jsxs(el,{onClick:s,className:"rounded-lg text-destructive",children:[o.jsx(Aie,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Sair"})]})]})]})}function Ige(){const[t,e]=x.useState([]),[r,n]=x.useState(0),{user:s}=Fr();return x.useEffect(()=>{if(!s)return;(async()=>{const{data:d,error:f}=await X.from("notifications").select("*").order("created_at",{ascending:!1}).limit(50);if(f){console.error("Error fetching notifications:",f);return}const m=d.map(h=>({id:h.id,type:h.type,title:h.title,message:h.message,timestamp:new Date(h.created_at),read:h.read,link:h.link,priority:h.priority}));e(m),n(m.filter(h=>!h.read).length)})();const u=X.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},d=>{if(d.eventType==="INSERT"){const f=d.new,m={id:f.id,type:f.type,title:f.title,message:f.message,timestamp:new Date(f.created_at),read:f.read,link:f.link,priority:f.priority};e(h=>[m,...h]),n(h=>h+1),m.priority==="high"&&Be.toast(m.title,{description:m.message})}else d.eventType==="UPDATE"?(e(f=>f.map(m=>m.id===d.new.id?{...m,read:d.new.read}:m)),n(f=>d.old.read===!1&&d.new.read===!0?Math.max(0,f-1):f)):d.eventType==="DELETE"&&e(f=>{var p;const m=f.filter(g=>g.id!==d.old.id);return((p=f.find(g=>g.id===d.old.id))==null?void 0:p.read)===!1&&n(g=>Math.max(0,g-1)),m})}).subscribe();return()=>{X.removeChannel(u)}},[s]),{notifications:t,unreadCount:r,markAsRead:async c=>{e(d=>d.map(f=>f.id===c?{...f,read:!0}:f)),n(d=>Math.max(0,d-1));const{error:u}=await X.from("notifications").update({read:!0}).eq("id",c);u&&console.error("Error marking notification as read:",u)},markAllAsRead:async()=>{e(u=>u.map(d=>({...d,read:!0}))),n(0);const{error:c}=await X.from("notifications").update({read:!0}).eq("user_id",s==null?void 0:s.id).eq("read",!1);c&&console.error("Error marking all as read:",c)},removeNotification:async c=>{const u=t.find(f=>f.id===c);e(f=>f.filter(m=>m.id!==c)),u&&!u.read&&n(f=>Math.max(0,f-1));const{error:d}=await X.from("notifications").delete().eq("id",c);d&&console.error("Error deleting notification:",d)}}}const tx=Tf.cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const i=n?gH:"button";return o.jsx(i,{className:Ne(tx({variant:e,size:r,className:t})),ref:a,...s})});U.displayName="Button";const ne=x.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ne.displayName="Card";const Oe=x.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ne("flex flex-col space-y-1.5 p-6",t),...e}));Oe.displayName="CardHeader";const Te=x.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:Ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));Te.displayName="CardTitle";const An=x.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:Ne("text-sm text-muted-foreground",t),...e}));An.displayName="CardDescription";const he=x.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ne("p-6 pt-0",t),...e}));he.displayName="CardContent";const TH=x.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ne("flex items-center p-6 pt-0",t),...e}));TH.displayName="CardFooter";function $ge(){const{notifications:t,unreadCount:e,markAsRead:r,markAllAsRead:n,removeNotification:s}=Ige(),[a,i]=x.useState(!1),l=d=>{switch(d){case"appointment":return Yt;case"payment":return Zr;case"client":return ca;case"project":return hy;case"system":return _n;default:return TS}},c=(d,f)=>{if(f==="high")return"text-red-600 bg-red-500/10";if(f==="medium")return"text-orange-600 bg-orange-500/10";switch(d){case"appointment":return"text-blue-600 bg-blue-500/10";case"payment":return"text-green-600 bg-green-500/10";case"client":return"text-purple-600 bg-purple-500/10";case"project":return"text-indigo-600 bg-indigo-500/10";case"system":return"text-cyan-600 bg-cyan-500/10";default:return"text-gray-600 bg-gray-500/10"}},u=d=>{const m=new Date().getTime()-d.getTime(),h=Math.floor(m/(1e3*60)),p=Math.floor(m/(1e3*60*60)),g=Math.floor(m/(1e3*60*60*24));return h<1?"Agora":h<60?`${h}min`:p<24?`${p}h`:`${g}d`};return o.jsxs(Cy,{open:a,onOpenChange:i,children:[o.jsx(Ey,{asChild:!0,children:o.jsxs(U,{variant:"ghost",size:"icon",className:"rounded-xl relative",children:[e>0?o.jsx(uie,{className:"w-5 h-5 text-primary"}):o.jsx(TS,{className:"w-5 h-5"}),e>0&&o.jsx(Ge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:e>9?"9+":e})]})}),o.jsx(Ip,{align:"end",className:"w-96 p-0 rounded-3xl border-0 shadow-2xl bg-background/95 backdrop-blur-xl",sideOffset:8,children:o.jsxs(ne,{className:"border-0 shadow-none bg-transparent",children:[o.jsx(Oe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-lg",children:"Notificaes"}),o.jsxs("div",{className:"flex items-center gap-2",children:[e>0&&o.jsxs(U,{variant:"ghost",size:"sm",onClick:n,className:"h-7 px-2 text-xs rounded-xl",children:[o.jsx(mi,{className:"w-3 h-3 mr-1"}),"Marcar todas"]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})]})}),o.jsxs(he,{className:"space-y-2 max-h-80 overflow-y-auto",children:[t.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(TS,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]}):t.slice(0,6).map(d=>{const f=l(d.type),m=c(d.type,d.priority);return o.jsx("div",{className:`p-3 rounded-2xl border transition-all hover:shadow-sm cursor-pointer ${d.read?"bg-muted/20 border-muted/30":"bg-background border-primary/20 shadow-sm"}`,onClick:()=>r(d.id),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`p-1.5 rounded-xl ${m} flex-shrink-0`,children:o.jsx(f,{className:"w-3 h-3"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h4",{className:`font-medium text-xs truncate ${d.read?"text-muted-foreground":"text-foreground"}`,children:d.title}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:u(d.timestamp)}),o.jsx(U,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),s(d.id)},className:"h-4 w-4 p-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ju,{className:"w-3 h-3"})})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d.message}),!d.read&&o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"})]})]})},d.id)}),t.length>6&&o.jsx("div",{className:"text-center pt-2",children:o.jsx(U,{variant:"ghost",size:"sm",className:"text-xs rounded-xl",children:"Ver todas as notificaes"})})]})]})})]})}const PH=x.createContext(void 0);function Lge({children:t}){const e=Ai(),[r,n]=x.useState(()=>localStorage.getItem("theme")??"system"),[s,a]=x.useState(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[i,l]=x.useState(()=>{const p=localStorage.getItem("colorTheme"),g=["default","ocean","sunset","forest","purple","rose","black"],v="black",b=p??v;return g.includes(b)?b:v}),c=x.useMemo(()=>r==="system"?s:r,[r,s]);x.useEffect(()=>{var v;const p=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");if(!p)return;const g=b=>a(b.matches?"dark":"light");return a(p.matches?"dark":"light"),r==="system"&&((v=p.addEventListener)==null||v.call(p,"change",g)),()=>{var b;return(b=p.removeEventListener)==null?void 0:b.call(p,"change",g)}},[r]),x.useEffect(()=>{const p=window.document.documentElement;p.classList.remove("light","dark"),p.classList.remove("theme-noxus","theme-ocean","theme-sunset","theme-forest","theme-purple","theme-rose","theme-black","theme-custom"),p.classList.add(c),p.style.setProperty("color-scheme",c),i!=="default"&&p.classList.add(`theme-${i}`),p.style.removeProperty("--primary"),p.style.removeProperty("--primary-foreground"),localStorage.setItem("theme",r),localStorage.setItem("colorTheme",i)},[c,r,i]),x.useEffect(()=>{const p=window.document.documentElement;p.style.removeProperty("--primary"),p.style.removeProperty("--accent"),p.style.removeProperty("--ring"),p.style.removeProperty("--primary-foreground")},[e.pathname]);const u=()=>{n(p=>p==="light"?"dark":"light")},d=p=>{n(p)},{user:f,profile:m}=Fr();x.useEffect(()=>{const p=["default","ocean","sunset","forest","purple","rose","black"],g=m==null?void 0:m.color_theme;g&&p.includes(g)&&g!==i?l(g):f&&!g&&dd&&X.from("profiles").update({color_theme:"black"}).eq("id",f.id)},[m==null?void 0:m.color_theme,f]);const h=p=>{l(p),f&&dd&&X.from("profiles").update({color_theme:p}).eq("id",f.id)};return o.jsx(PH.Provider,{value:{theme:r,colorTheme:i,toggleTheme:u,setTheme:d,setColorTheme:h},children:t})}function of(){const t=x.useContext(PH);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const MH=x.createContext(void 0);function Fge({children:t}){const[e,r]=x.useState(()=>localStorage.getItem("studioName")||"NOXUS"),[n,s]=x.useState(()=>localStorage.getItem("studioLogoUrl")||""),[a,i]=x.useState(()=>localStorage.getItem("studioNameUrl")||""),l=d=>{r(d),localStorage.setItem("studioName",d)},c=d=>{s(d),localStorage.setItem("studioLogoUrl",d)},u=d=>{i(d),d?localStorage.setItem("studioNameUrl",d):localStorage.removeItem("studioNameUrl")};return x.useEffect(()=>{const d=f=>{f.key==="studioName"&&r(f.newValue||"NOXUS"),f.key==="studioLogoUrl"&&s(f.newValue||""),f.key==="studioNameUrl"&&i(f.newValue||"")};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]),o.jsx(MH.Provider,{value:{studioName:e,setStudioName:l,logoUrl:n,setLogoUrl:c,studioNameUrl:a,setStudioNameUrl:u},children:t})}function RP(){const t=x.useContext(MH);if(t===void 0)throw new Error("useBrandingContext must be used within a BrandingProvider");return t}function Bge(){const{theme:t,toggleTheme:e}=of(),{studioName:r,logoUrl:n,studioNameUrl:s}=RP();return o.jsxs("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-xl px-6 flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3 group",children:o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex items-center gap-2 relative",children:[o.jsx("div",{className:"relative",children:o.jsx(Ll,{to:"/",children:n?o.jsx("img",{src:n,alt:"Logo",className:"h-8 w-auto object-contain max-w-[150px]"}):o.jsx(Qi,{className:"w-6 h-6 text-primary"})})}),o.jsx("div",{className:"relative min-h-[32px] flex items-center",children:s?o.jsx("div",{className:"relative",children:o.jsx(Ll,{to:"/",children:o.jsx("img",{src:s,alt:r,className:"h-8 w-auto object-contain max-w-[200px]"})})}):o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Ll,{to:"/",children:o.jsx("h1",{className:"tracking-tight text-foreground text-2xl font-black uppercase tracking-wide",style:{fontFamily:"'Montserrat', 'Oswald', 'Impact', sans-serif",letterSpacing:"0.05em"},children:r})})})})]})})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TU,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(_P,{checked:t==="dark",onCheckedChange:e,className:"data-[state=checked]:bg-primary"}),o.jsx(EU,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsx($ge,{}),o.jsx(Dge,{})]})]})}const RH=x.createContext(void 0);function zge({children:t}){const[e,r]=x.useState(()=>localStorage.getItem("navigation-type")||"dock"),[n,s]=x.useState(()=>(localStorage.setItem("navigation-visible","true"),!0)),a=l=>{r(l),localStorage.setItem("navigation-type",l)},i=l=>{s(!0),localStorage.setItem("navigation-visible","true")};return o.jsx(RH.Provider,{value:{navigationType:e,setNavigationType:a,isNavigationVisible:n,setIsNavigationVisible:i},children:t})}function DP(){const t=x.useContext(RH);if(!t)throw new Error("useNavigation must be used within NavigationProvider");return t}const y4=[{icon:wu,label:"Dashboard",path:"/noxus"},{icon:ca,label:"Clientes",path:"/clientes"},{icon:hy,label:"Projetos",path:"/projetos"},{icon:Yt,label:"Agendamentos",path:"/agendamentos"},{icon:nf,label:"Marketing",path:"/marketing"},{icon:Ma,label:"Estoque",path:"/estoque"},{icon:Zr,label:"Financeiro Tattoo",path:"/financeiro"}];function b4(){const t=Ai(),{isNavigationVisible:e}=DP(),[r,n]=x.useState({x:0,y:0}),[s,a]=x.useState(!1),i=x.useRef(null),l=d=>{if(i.current){const f=i.current.getBoundingClientRect();n({x:d.clientX-f.left,y:d.clientY-f.top})}},c=d=>{if(!s)return 1;const f=60,m=d*f+f/2,h=Math.abs(r.x-m),p=120;if(h>p)return 1;const g=1+.3*(1-h/p);return Math.max(1,Math.min(1.3,g))},u=()=>s?1+(Math.max(...y4.map((f,m)=>c(m)))-1)*.2:1;return o.jsx("div",{className:e?"fixed bottom-6 left-1/2 -translate-x-1/2 z-50":"relative",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-foreground/10 via-foreground/20 to-foreground/10 blur-2xl rounded-full transition-transform duration-200 ease-out",style:{transform:`scale(${u()})`}}),o.jsx("div",{ref:i,className:"relative bg-background/90 backdrop-blur-3xl border border-foreground/20 rounded-full shadow-2xl px-4 py-3 transition-transform duration-200 ease-out",style:{transform:`scale(${u()})`},onMouseMove:l,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:o.jsx(lP,{children:o.jsx("div",{className:"flex items-center gap-2",children:y4.map((d,f)=>{const m=t.pathname===d.path,h=d.icon,p=c(f);return o.jsxs(jq,{children:[o.jsx(Nq,{asChild:!0,children:o.jsx(Ll,{to:d.path,children:o.jsxs("div",{className:`
                            relative p-2.5 rounded-full transition-all duration-200 ease-out group
                            ${m?"bg-primary/30 backdrop-blur-xl border border-primary/40 text-primary shadow-2xl shadow-primary/30":"bg-foreground/15 backdrop-blur-md border border-foreground/25 hover:bg-foreground/25 hover:border-foreground/45 hover:shadow-xl hover:shadow-foreground/20 active:scale-95"}
                          `,style:{transform:`scale(${p})`,zIndex:Math.round(p*10)},children:[o.jsx(h,{className:`w-4 h-4 transition-all duration-300 ${m?"drop-shadow-lg text-primary":"text-foreground/90 group-hover:text-foreground group-hover:drop-shadow-md"}`}),m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-primary/80 rounded-full shadow-lg shadow-primary/30"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-primary/60 rounded-full animate-pulse"})]})]})})}),o.jsx(cP,{side:"top",className:"rounded-2xl bg-card/95 backdrop-blur-xl border-border/50",children:o.jsx("p",{className:"font-medium text-sm",children:d.label})})]},d.path)})})})})]})})}const Vge=[{icon:_U,label:"Dashboard",path:"/"},{icon:ca,label:"Clientes",path:"/clientes"},{icon:hy,label:"Projetos",path:"/projetos"},{icon:Yt,label:"Agendamentos",path:"/agendamentos"},{icon:Zr,label:"Financeiro",path:"/tattoo/financeiro"},{icon:Zr,label:"Financeiro Tattoo",path:"/financeiro"},{icon:lw,label:"Conhecimento",path:"/conhecimento"}];function Uge(){const t=Ai(),{theme:e,toggleTheme:r}=of(),{studioName:n,logoUrl:s,studioNameUrl:a}=RP();return o.jsxs("aside",{className:"w-52 h-screen bg-card border-r border-border flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center gap-3",children:[s?o.jsx("img",{src:s,alt:"Logo",className:"w-10 h-10 object-contain"}):o.jsx(Qi,{className:"w-10 h-10 text-primary"}),o.jsxs("div",{children:[a?o.jsx("img",{src:a,alt:n,className:"h-6 w-auto object-contain max-w-[120px]"}):o.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:n}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestor para Tatuadores"})]})]}),o.jsx("nav",{className:"flex-1 p-4 space-y-1",children:Vge.map(i=>{const l=t.pathname===i.path,c=i.icon;return o.jsx(Ll,{to:i.path,children:o.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-colors ${l?"bg-primary text-primary-foreground":"hover:bg-secondary text-foreground"}`,children:[o.jsx(c,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:i.label})]})},i.path)})}),o.jsx("div",{className:"p-4 border-t border-border",children:o.jsxs(U,{variant:"ghost",size:"sm",onClick:r,className:"w-full justify-start gap-3 rounded-xl",children:[e==="light"?o.jsx(EU,{className:"w-5 h-5"}):o.jsx(TU,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:e==="light"?"Modo Escuro":"Modo Claro"})]})})]})}var CN="Dialog",[DH,IH]=Ms(CN),[qge,Oi]=DH(CN),$H=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=t,l=x.useRef(null),c=x.useRef(null),[u,d]=oo({prop:n,defaultProp:s??!1,onChange:a,caller:CN});return o.jsx(qge,{scope:e,triggerRef:l,contentRef:c,contentId:gs(),titleId:gs(),descriptionId:gs(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};$H.displayName=CN;var LH="DialogTrigger",FH=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Oi(LH,r),a=Ot(e,s.triggerRef);return o.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LP(s.open),...n,ref:a,onClick:Ee(t.onClick,s.onOpenToggle)})});FH.displayName=LH;var IP="DialogPortal",[Wge,BH]=DH(IP,{forceMount:void 0}),zH=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=Oi(IP,e);return o.jsx(Wge,{scope:e,forceMount:r,children:x.Children.map(n,i=>o.jsx(ys,{present:r||a.open,children:o.jsx(Ep,{asChild:!0,container:s,children:i})}))})};zH.displayName=IP;var Sw="DialogOverlay",VH=x.forwardRef((t,e)=>{const r=BH(Sw,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=Oi(Sw,t.__scopeDialog);return a.modal?o.jsx(ys,{present:n||a.open,children:o.jsx(Kge,{...s,ref:e})}):null});VH.displayName=Sw;var Hge=rf("DialogOverlay.RemoveScroll"),Kge=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Oi(Sw,r);return o.jsx(Ny,{as:Hge,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ct.div,{"data-state":LP(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),lf="DialogContent",UH=x.forwardRef((t,e)=>{const r=BH(lf,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=Oi(lf,t.__scopeDialog);return o.jsx(ys,{present:n||a.open,children:a.modal?o.jsx(Gge,{...s,ref:e}):o.jsx(Yge,{...s,ref:e})})});UH.displayName=lf;var Gge=x.forwardRef((t,e)=>{const r=Oi(lf,t.__scopeDialog),n=x.useRef(null),s=Ot(e,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return xN(a)},[]),o.jsx(qH,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,a=>a.preventDefault())})}),Yge=x.forwardRef((t,e)=>{const r=Oi(lf,t.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return o.jsx(qH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),qH=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=t,l=Oi(lf,r),c=x.useRef(null),u=Ot(e,c);return gN(),o.jsxs(o.Fragment,{children:[o.jsx(wy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Of,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":LP(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Qge,{titleId:l.titleId}),o.jsx(Zge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$P="DialogTitle",WH=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Oi($P,r);return o.jsx(ct.h2,{id:s.titleId,...n,ref:e})});WH.displayName=$P;var HH="DialogDescription",KH=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Oi(HH,r);return o.jsx(ct.p,{id:s.descriptionId,...n,ref:e})});KH.displayName=HH;var GH="DialogClose",YH=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Oi(GH,r);return o.jsx(ct.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});YH.displayName=GH;function LP(t){return t?"open":"closed"}var XH="DialogTitleWarning",[Xge,QH]=hoe(XH,{contentName:lf,titleName:$P,docsSlug:"dialog"}),Qge=({titleId:t})=>{const e=QH(XH),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Jge="DialogDescriptionWarning",Zge=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QH(Jge).contentName}}.`;return x.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},FP=$H,JH=FH,BP=zH,EN=VH,kN=UH,zP=WH,VP=KH,UP=YH;const fr=FP,Ks=JH,eve=BP,ZH=x.forwardRef(({className:t,...e},r)=>o.jsx(EN,{ref:r,className:Ne("fixed inset-0 z-40 bg-background/70 backdrop-blur-[2px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ZH.displayName=EN.displayName;const ir=x.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(eve,{children:[o.jsx(ZH,{}),o.jsxs(kN,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(UP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(ju,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ir.displayName=kN.displayName;const lr=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lr.displayName="DialogHeader";const Da=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Da.displayName="DialogFooter";const cr=x.forwardRef(({className:t,...e},r)=>o.jsx(zP,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));cr.displayName=zP.displayName;const ky=x.forwardRef(({className:t,...e},r)=>o.jsx(VP,{ref:r,className:Ne("text-sm text-muted-foreground",t),...e}));ky.displayName=VP.displayName;const de=x.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));de.displayName="Input";var w4;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(w4||(w4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j4;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(j4||(j4={}));var N4;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(N4||(N4={}));var _4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(_4||(_4={}));var S4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(S4||(S4={}));var C4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(C4||(C4={}));var E4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(E4||(E4={}));var nv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(nv||(nv={}));var k4;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(k4||(k4={}));var A4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(A4||(A4={}));var O4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(O4||(O4={}));var T4;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(T4||(T4={}));nv.RECITATION,nv.SAFETY,nv.LANGUAGE;console.warn("VITE_GEMINI_API_KEY is not set. AI chat will be disabled.");async function tve(t){throw new Error("Chave da API Gemini ausente (VITE_GEMINI_API_KEY)")}function Vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Tr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Es(t,e){const r=Vt(t);return isNaN(e)?Tr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function zo(t,e){const r=Vt(t);if(isNaN(e))return Tr(t,NaN);if(!e)return r;const n=r.getDate(),s=Tr(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const qP=6048e5,rve=864e5,WP=6e4,HP=36e5,nve=1e3;let sve={};function Rf(){return sve}function io(t,e){var l,c,u,d;const r=Rf(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Vt(t),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function tc(t){return io(t,{weekStartsOn:1})}function e7(t){const e=Vt(t),r=e.getFullYear(),n=Tr(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=tc(n),a=Tr(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=tc(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function Em(t){const e=Vt(t);return e.setHours(0,0,0,0),e}function km(t){const e=Vt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function pi(t,e){const r=Em(t),n=Em(e),s=+r-km(r),a=+n-km(n);return Math.round((s-a)/rve)}function ave(t){const e=e7(t),r=Tr(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),tc(r)}function i2(t,e){const r=e*7;return Es(t,r)}function ove(t,e){return zo(t,e*12)}function ive(t){let e;return t.forEach(function(r){const n=Vt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function lve(t){let e;return t.forEach(r=>{const n=Vt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Ea(t,e){const r=Em(t),n=Em(e);return+r==+n}function KP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function t7(t){if(!KP(t)&&typeof t!="number")return!1;const e=Vt(t);return!isNaN(Number(e))}function rx(t,e){const r=Vt(t),n=Vt(e),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function cve(t,e,r){const n=io(t,r),s=io(e,r),a=+n-km(n),i=+s-km(s);return Math.round((a-i)/qP)}function P4(t,e){const r=Vt(t),n=Vt(e),s=M4(r,n),a=Math.abs(pi(r,n));r.setDate(r.getDate()-s*a);const i=+(M4(r,n)===-s),l=s*(a-i);return l===0?0:l}function M4(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function ka(t){const e=Vt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Ay(t,e){const r=Vt(t.start),n=Vt(t.end);let s=+r>+n;const a=s?+r:+n,i=s?n:r;i.setHours(0,0,0,0),i.setDate(1);let l=1;const c=[];for(;+i<=a;)c.push(Vt(i)),i.setMonth(i.getMonth()+l);return s?c.reverse():c}function dn(t){const e=Vt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function r7(t){const e=Vt(t),r=Tr(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GP(t,e){var l,c,u,d;const r=Rf(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Vt(t),a=s.getDay(),i=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function n7(t){return GP(t,{weekStartsOn:1})}const uve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dve=(t,e,r)=>{let n;const s=uve[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Gh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pve={date:Gh({formats:fve,defaultWidth:"full"}),time:Gh({formats:hve,defaultWidth:"full"}),dateTime:Gh({formats:mve,defaultWidth:"full"})},gve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vve=(t,e,r,n)=>gve[t];function zi(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[i]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const xve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yve={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_ve=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Sve={ordinalNumber:_ve,era:zi({values:xve,defaultWidth:"wide"}),quarter:zi({values:yve,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zi({values:bve,defaultWidth:"wide"}),day:zi({values:wve,defaultWidth:"wide"}),dayPeriod:zi({values:jve,defaultWidth:"wide",formattingValues:Nve,defaultFormattingWidth:"wide"})};function Vi(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const i=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Eve(l,f=>f.test(i)):Cve(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Cve(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Eve(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function s7(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let i=t.valueCallback?t.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(s.length);return{value:i,rest:l}}}const kve=/^(\d+)(th|st|nd|rd)?/i,Ave=/\d+/i,Ove={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tve={any:[/^b/i,/^(a|c)/i]},Pve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mve={any:[/1/i,/2/i,/3/i,/4/i]},Rve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ive={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$ve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bve={ordinalNumber:s7({matchPattern:kve,parsePattern:Ave,valueCallback:t=>parseInt(t,10)}),era:Vi({matchPatterns:Ove,defaultMatchWidth:"wide",parsePatterns:Tve,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:Pve,defaultMatchWidth:"wide",parsePatterns:Mve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vi({matchPatterns:Rve,defaultMatchWidth:"wide",parsePatterns:Dve,defaultParseWidth:"any"}),day:Vi({matchPatterns:Ive,defaultMatchWidth:"wide",parsePatterns:$ve,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:Lve,defaultMatchWidth:"any",parsePatterns:Fve,defaultParseWidth:"any"})},YP={code:"en-US",formatDistance:dve,formatLong:pve,formatRelative:vve,localize:Sve,match:Bve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zve(t){const e=Vt(t);return pi(e,r7(e))+1}function XP(t){const e=Vt(t),r=+tc(e)-+ave(e);return Math.round(r/qP)+1}function QP(t,e){var d,f,m,h;const r=Vt(t),n=r.getFullYear(),s=Rf(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Tr(t,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=io(i,e),c=Tr(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=io(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Vve(t,e){var l,c,u,d;const r=Rf(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=QP(t,e),a=Tr(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),io(a,e)}function JP(t,e){const r=Vt(t),n=+io(r,e)-+Vve(r,e);return Math.round(n/qP)+1}function _r(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const vc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return _r(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):_r(r+1,2)},d(t,e){return _r(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return _r(t.getHours()%12||12,e.length)},H(t,e){return _r(t.getHours(),e.length)},m(t,e){return _r(t.getMinutes(),e.length)},s(t,e){return _r(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return _r(s,e.length)}},Zf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return vc.y(t,e)},Y:function(t,e,r,n){const s=QP(t,n),a=s>0?s:1-s;if(e==="YY"){const i=a%100;return _r(i,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):_r(a,e.length)},R:function(t,e){const r=e7(t);return _r(r,e.length)},u:function(t,e){const r=t.getFullYear();return _r(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return _r(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return _r(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return vc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return _r(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=JP(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):_r(s,e.length)},I:function(t,e,r){const n=XP(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):_r(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vc.d(t,e)},D:function(t,e,r){const n=zve(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_r(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return _r(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return _r(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return _r(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Zf.noon:n===0?s=Zf.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Zf.evening:n>=12?s=Zf.afternoon:n>=4?s=Zf.morning:s=Zf.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_r(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):_r(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vc.s(t,e)},S:function(t,e){return vc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return I4(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return I4(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+D4(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+D4(n,":");case"zzzz":default:return"GMT"+sd(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return _r(n,e.length)},T:function(t,e,r){const n=t.getTime();return _r(n,e.length)}};function D4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+_r(a,2)}function I4(t,e){return t%60===0?(t>0?"-":"+")+_r(Math.abs(t)/60,2):sd(t,e)}function sd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=_r(Math.trunc(n/60),2),a=_r(n%60,2);return r+s+e+a}const $4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},a7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Uve=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return $4(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",$4(n,e)).replace("{{time}}",a7(s,e))},l2={p:a7,P:Uve},qve=/^D+$/,Wve=/^Y+$/,Hve=["D","DD","YY","YYYY"];function o7(t){return qve.test(t)}function i7(t){return Wve.test(t)}function c2(t,e,r){const n=Kve(t,e,r);if(console.warn(n),Hve.includes(t))throw new RangeError(n)}function Kve(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xve=/^'([^]*?)'?$/,Qve=/''/g,Jve=/[a-zA-Z]/;function Mt(t,e,r){var d,f,m,h,p,g,v,b;const n=Rf(),s=(r==null?void 0:r.locale)??n.locale??YP,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Vt(t);if(!t7(l))throw new RangeError("Invalid time value");let c=e.match(Yve).map(y=>{const w=y[0];if(w==="p"||w==="P"){const N=l2[w];return N(y,s.formatLong)}return y}).join("").match(Gve).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Zve(y)};if(R4[w])return{isToken:!0,value:y};if(w.match(Jve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&i7(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&o7(w))&&c2(w,e,String(t));const N=R4[w[0]];return N(l,w,s.localize,u)}).join("")}function Zve(t){const e=t.match(Xve);return e?e[1].replace(Qve,"'"):t}function exe(t){const e=Vt(t),r=e.getFullYear(),n=e.getMonth(),s=Tr(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function txe(){return Object.assign({},Rf())}function rxe(t){let r=Vt(t).getDay();return r===0&&(r=7),r}function nxe(t){return Math.trunc(+Vt(t)/1e3)}function sxe(t){const e=Vt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function axe(t,e){return cve(sxe(t),dn(t),e)+1}function Yh(t,e){const r=Vt(t),n=Vt(e);return r.getTime()>n.getTime()}function ZP(t,e){const r=Vt(t),n=Vt(e);return+r<+n}function oxe(t,e){const r=e instanceof Date?Tr(e,0):new e(0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}const ixe=10;class l7{constructor(){Ze(this,"subPriority",0)}validate(e,r){return!0}}class lxe extends l7{constructor(e,r,n,s,a){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,a&&(this.subPriority=a)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class cxe extends l7{constructor(){super(...arguments);Ze(this,"priority",ixe);Ze(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:Tr(r,oxe(r,Date))}}class xr{run(e,r,n,s){const a=this.parse(e,r,n,s);return a?{setter:new lxe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,r,n){return!0}}class uxe extends xr{constructor(){super(...arguments);Ze(this,"priority",140);Ze(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const On={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ui={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function cn(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function qi(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(s*HP+a*WP+i*nve),rest:e.slice(r[0].length)}}function c7(t){return cn(On.anyDigitsSigned,t)}function Sn(t,e){switch(t){case 1:return cn(On.singleDigit,e);case 2:return cn(On.twoDigits,e);case 3:return cn(On.threeDigits,e);case 4:return cn(On.fourDigits,e);default:return cn(new RegExp("^\\d{1,"+t+"}"),e)}}function Cw(t,e){switch(t){case 1:return cn(On.singleDigitSigned,e);case 2:return cn(On.twoDigitsSigned,e);case 3:return cn(On.threeDigitsSigned,e);case 4:return cn(On.fourDigitsSigned,e);default:return cn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function eM(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function u7(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const a=n+50,i=Math.trunc(a/100)*100,l=t>=a%100;s=t+i-(l?100:0)}return r?s:1-s}function d7(t){return t%400===0||t%4===0&&t%100!==0}class dxe extends xr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const a=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return Tn(Sn(4,r),a);case"yo":return Tn(s.ordinalNumber(r,{unit:"year"}),a);default:return Tn(Sn(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const a=r.getFullYear();if(s.isTwoDigitYear){const l=u7(s.year,a);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class fxe extends xr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const a=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Tn(Sn(4,r),a);case"Yo":return Tn(s.ordinalNumber(r,{unit:"year"}),a);default:return Tn(Sn(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,a){const i=QP(r,a);if(s.isTwoDigitYear){const c=u7(s.year,i);return r.setFullYear(c,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),io(r,a)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),io(r,a)}}class hxe extends xr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Cw(n==="R"?4:n.length,r)}set(r,n,s){const a=Tr(r,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),tc(a)}}class mxe extends xr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Cw(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class pxe extends xr{constructor(){super(...arguments);Ze(this,"priority",120);Ze(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Sn(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class gxe extends xr{constructor(){super(...arguments);Ze(this,"priority",120);Ze(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Sn(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class vxe extends xr{constructor(){super(...arguments);Ze(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ze(this,"priority",110)}parse(r,n,s){const a=i=>i-1;switch(n){case"M":return Tn(cn(On.month,r),a);case"MM":return Tn(Sn(2,r),a);case"Mo":return Tn(s.ordinalNumber(r,{unit:"month"}),a);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class xxe extends xr{constructor(){super(...arguments);Ze(this,"priority",110);Ze(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const a=i=>i-1;switch(n){case"L":return Tn(cn(On.month,r),a);case"LL":return Tn(Sn(2,r),a);case"Lo":return Tn(s.ordinalNumber(r,{unit:"month"}),a);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function yxe(t,e,r){const n=Vt(t),s=JP(n,r)-e;return n.setDate(n.getDate()-s*7),n}class bxe extends xr{constructor(){super(...arguments);Ze(this,"priority",100);Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return cn(On.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Sn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,a){return io(yxe(r,s,a),a)}}function wxe(t,e){const r=Vt(t),n=XP(r)-e;return r.setDate(r.getDate()-n*7),r}class jxe extends xr{constructor(){super(...arguments);Ze(this,"priority",100);Ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return cn(On.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Sn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return tc(wxe(r,s))}}const Nxe=[31,28,31,30,31,30,31,31,30,31,30,31],_xe=[31,29,31,30,31,30,31,31,30,31,30,31];class Sxe extends xr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"subPriority",1);Ze(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return cn(On.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Sn(n.length,r)}}validate(r,n){const s=r.getFullYear(),a=d7(s),i=r.getMonth();return a?n>=1&&n<=_xe[i]:n>=1&&n<=Nxe[i]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class Cxe extends xr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"subpriority",1);Ze(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return cn(On.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Sn(n.length,r)}}validate(r,n){const s=r.getFullYear();return d7(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function tM(t,e,r){var f,m,h,p;const n=Rf(),s=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=Vt(t),i=a.getDay(),c=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(i+u)%7:(c+u)%7-(i+u)%7;return Es(a,d)}class Exe extends xr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=tM(r,s,a),r.setHours(0,0,0,0),r}}class kxe extends xr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,a){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Tn(Sn(n.length,r),i);case"eo":return Tn(s.ordinalNumber(r,{unit:"day"}),i);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=tM(r,s,a),r.setHours(0,0,0,0),r}}class Axe extends xr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,a){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Tn(Sn(n.length,r),i);case"co":return Tn(s.ordinalNumber(r,{unit:"day"}),i);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=tM(r,s,a),r.setHours(0,0,0,0),r}}function Oxe(t,e){const r=Vt(t),n=rxe(r),s=e-n;return Es(r,s)}class Txe extends xr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const a=i=>i===0?7:i;switch(n){case"i":case"ii":return Sn(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Tn(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Tn(s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Tn(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Tn(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=Oxe(r,s),r.setHours(0,0,0,0),r}}class Pxe extends xr{constructor(){super(...arguments);Ze(this,"priority",80);Ze(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(eM(s),0,0,0),r}}class Mxe extends xr{constructor(){super(...arguments);Ze(this,"priority",80);Ze(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(eM(s),0,0,0),r}}class Rxe extends xr{constructor(){super(...arguments);Ze(this,"priority",80);Ze(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(eM(s),0,0,0),r}}class Dxe extends xr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return cn(On.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Sn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const a=r.getHours()>=12;return a&&s<12?r.setHours(s+12,0,0,0):!a&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class Ixe extends xr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return cn(On.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Sn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class $xe extends xr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return cn(On.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Sn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class Lxe extends xr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return cn(On.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Sn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const a=s<=24?s%24:s;return r.setHours(a,0,0,0),r}}class Fxe extends xr{constructor(){super(...arguments);Ze(this,"priority",60);Ze(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return cn(On.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Sn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class Bxe extends xr{constructor(){super(...arguments);Ze(this,"priority",50);Ze(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return cn(On.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Sn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class zxe extends xr{constructor(){super(...arguments);Ze(this,"priority",30);Ze(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=a=>Math.trunc(a*Math.pow(10,-n.length+3));return Tn(Sn(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class Vxe extends xr{constructor(){super(...arguments);Ze(this,"priority",10);Ze(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return qi(Ui.basicOptionalMinutes,r);case"XX":return qi(Ui.basic,r);case"XXXX":return qi(Ui.basicOptionalSeconds,r);case"XXXXX":return qi(Ui.extendedOptionalSeconds,r);case"XXX":default:return qi(Ui.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Tr(r,r.getTime()-km(r)-s)}}class Uxe extends xr{constructor(){super(...arguments);Ze(this,"priority",10);Ze(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return qi(Ui.basicOptionalMinutes,r);case"xx":return qi(Ui.basic,r);case"xxxx":return qi(Ui.basicOptionalSeconds,r);case"xxxxx":return qi(Ui.extendedOptionalSeconds,r);case"xxx":default:return qi(Ui.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Tr(r,r.getTime()-km(r)-s)}}class qxe extends xr{constructor(){super(...arguments);Ze(this,"priority",40);Ze(this,"incompatibleTokens","*")}parse(r){return c7(r)}set(r,n,s){return[Tr(r,s*1e3),{timestampIsSet:!0}]}}class Wxe extends xr{constructor(){super(...arguments);Ze(this,"priority",20);Ze(this,"incompatibleTokens","*")}parse(r){return c7(r)}set(r,n,s){return[Tr(r,s),{timestampIsSet:!0}]}}const Hxe={G:new uxe,y:new dxe,Y:new fxe,R:new hxe,u:new mxe,Q:new pxe,q:new gxe,M:new vxe,L:new xxe,w:new bxe,I:new jxe,d:new Sxe,D:new Cxe,E:new Exe,e:new kxe,c:new Axe,i:new Txe,a:new Pxe,b:new Mxe,B:new Rxe,h:new Dxe,H:new Ixe,K:new $xe,k:new Lxe,m:new Fxe,s:new Bxe,S:new zxe,X:new Vxe,x:new Uxe,t:new qxe,T:new Wxe},Kxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yxe=/^'([^]*?)'?$/,Xxe=/''/g,Qxe=/\S/,Jxe=/[a-zA-Z]/;function Fl(t,e,r,n){var g,v,b,y;const s=txe(),a=s.locale??YP,i=s.firstWeekContainsDate??((v=(g=s.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=s.weekStartsOn??((y=(b=s.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0;if(e==="")return t===""?Vt(r):Tr(r,NaN);const c={firstWeekContainsDate:i,weekStartsOn:l,locale:a},u=[new cxe],d=e.match(Gxe).map(w=>{const N=w[0];if(N in l2){const j=l2[N];return j(w,a.formatLong)}return w}).join("").match(Kxe),f=[];for(let w of d){i7(w)&&c2(w,e,t),o7(w)&&c2(w,e,t);const N=w[0],j=Hxe[N];if(j){const{incompatibleTokens:_}=j;if(Array.isArray(_)){const C=f.find(k=>_.includes(k.token)||k.token===N);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${w}\` at the same time`)}else if(j.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:N,fullToken:w});const S=j.run(t,w,a.match,c);if(!S)return Tr(r,NaN);u.push(S.setter),t=S.rest}else{if(N.match(Jxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(w==="''"?w="'":N==="'"&&(w=Zxe(w)),t.indexOf(w)===0)t=t.slice(w.length);else return Tr(r,NaN)}}if(t.length>0&&Qxe.test(t))return Tr(r,NaN);const m=u.map(w=>w.priority).sort((w,N)=>N-w).filter((w,N,j)=>j.indexOf(w)===N).map(w=>u.filter(N=>N.priority===w).sort((N,j)=>j.subPriority-N.subPriority)).map(w=>w[0]);let h=Vt(r);if(isNaN(h.getTime()))return Tr(r,NaN);const p={};for(const w of m){if(!w.validate(h,c))return Tr(r,NaN);const N=w.set(h,p,c);Array.isArray(N)?(h=N[0],Object.assign(p,N[1])):h=N}return Tr(r,h)}function Zxe(t){return t.match(Yxe)[1].replace(Xxe,"'")}function rM(t,e){const r=Vt(t),n=Vt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function eye(t,e){const r=Vt(t),n=Vt(e);return r.getFullYear()===n.getFullYear()}function Oo(t,e){return Es(t,-e)}function Ml(t,e){const n=sye(t);let s;if(n.date){const c=aye(n.date,2);s=oye(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,l;if(n.time&&(i=iye(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(l=lye(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+i+l)}const M0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tye=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rye=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function sye(t){const e={},r=t.split(M0.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],M0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(M0.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=M0.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function aye(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function oye(t,e){if(e===null)return new Date(NaN);const r=t.match(tye);if(!r)return new Date(NaN);const n=!!r[4],s=dg(r[1]),a=dg(r[2])-1,i=dg(r[3]),l=dg(r[4]),c=dg(r[5])-1;if(n)return hye(e,l,c)?cye(e,l,c):new Date(NaN);{const u=new Date(0);return!dye(e,a,i)||!fye(e,s)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(s,i)),u)}}function dg(t){return t?parseInt(t):1}function iye(t){const e=t.match(rye);if(!e)return NaN;const r=ZS(e[1]),n=ZS(e[2]),s=ZS(e[3]);return mye(r,n,s)?r*HP+n*WP+s*1e3:NaN}function ZS(t){return t&&parseFloat(t.replace(",","."))||0}function lye(t){if(t==="Z")return 0;const e=t.match(nye);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return pye(n,s)?r*(n*HP+s*WP):NaN}function cye(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,a=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const uye=[31,null,31,30,31,30,31,31,30,31,30,31];function f7(t){return t%400===0||t%4===0&&t%100!==0}function dye(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(uye[e]||(f7(t)?29:28))}function fye(t,e){return e>=1&&e<=(f7(t)?366:365)}function hye(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function mye(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function pye(t,e){return e>=0&&e<=59}function eC(t,e){const r=Vt(t),n=r.getFullYear(),s=r.getDate(),a=Tr(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const i=exe(a);return r.setMonth(e,Math.min(s,i)),r}function L4(t,e){const r=Vt(t);return isNaN(+r)?Tr(t,NaN):(r.setFullYear(e),r)}function Bs(t,e){return zo(t,-e)}function h7(t="30d"){const r=(()=>{const j=new Date;switch(t){case"7d":return Oo(j,7);case"30d":return Oo(j,30);case"3m":return Bs(j,3);case"6m":return Bs(j,6);case"1y":return Bs(j,12);default:return null}})(),s=(()=>{const j=new Date;switch(t){case"7d":return Oo(j,14);case"30d":return Oo(j,60);case"3m":return Bs(j,6);case"6m":return Bs(j,12);case"1y":return Bs(j,24);default:return null}})(),{data:a,isLoading:i}=Cs({queryKey:["projetos",t],queryFn:async()=>{let j=X.from("projetos").select("*, clientes(nome)");r&&(j=j.gte("created_at",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _}}),{data:l,isLoading:c}=Cs({queryKey:["projetos_prev",t],queryFn:async()=>{if(!r||!s)return[];const{data:j,error:_}=await X.from("projetos").select("*, clientes(nome)").gte("created_at",s.toISOString()).lt("created_at",r.toISOString());if(_)throw _;return j||[]}}),{data:u,isLoading:d}=Cs({queryKey:["clientes",t],queryFn:async()=>{let j=X.from("clientes").select("*");r&&(j=j.gte("created_at",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _}}),{data:f,isLoading:m}=Cs({queryKey:["clientes_prev",t],queryFn:async()=>{if(!r||!s)return[];const{data:j,error:_}=await X.from("clientes").select("*").gte("created_at",s.toISOString()).lt("created_at",r.toISOString());if(_)throw _;return j||[]}}),{data:h,isLoading:p}=Cs({queryKey:["transacoes",t],queryFn:async()=>{let j=X.from("transacoes").select("*");r&&(j=j.gte("created_at",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _}}),{data:g,isLoading:v}=Cs({queryKey:["transacoes_prev",t],queryFn:async()=>{if(!r||!s)return[];const{data:j,error:_}=await X.from("transacoes").select("*").gte("created_at",s.toISOString()).lt("created_at",r.toISOString());if(_)throw _;return j||[]}}),{data:b,isLoading:y}=Cs({queryKey:["agendamentos",t],queryFn:async()=>{let j=X.from("agendamentos").select("*");r&&(j=j.gte("created_at",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _}}),{data:w,isLoading:N}=Cs({queryKey:["agendamentos_prev",t],queryFn:async()=>{if(!r||!s)return[];const{data:j,error:_}=await X.from("agendamentos").select("*").gte("created_at",s.toISOString()).lt("created_at",r.toISOString());if(_)throw _;return j||[]}});return{projetos:a||[],prevProjetos:l||[],clientes:u||[],prevClientes:f||[],transacoes:h||[],prevTransacoes:g||[],agendamentos:b||[],prevAgendamentos:w||[],isLoading:i||d||p||y||c||m||v||N}}var AN="Checkbox",[gye]=Ms(AN),[vye,nM]=gye(AN);function xye(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[m,h]=oo({prop:r,defaultProp:s??!1,onChange:c,caller:AN}),[p,g]=x.useState(null),[v,b]=x.useState(null),y=x.useRef(!1),w=p?!!i||!!p.closest("form"):!0,N={checked:m,disabled:a,setChecked:h,control:p,setControl:g,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:uu(s)?!1:s,isFormControl:w,bubbleInput:v,setBubbleInput:b};return o.jsx(vye,{scope:e,...N,children:yye(f)?f(N):n})}var m7="CheckboxTrigger",p7=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:p}=nM(m7,t),g=Ot(s,d),v=x.useRef(c);return x.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const y=()=>f(v.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[a,f]),o.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":uu(c)?"mixed":c,"aria-required":u,"data-state":b7(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:Ee(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ee(r,b=>{f(y=>uu(y)?!0:!y),p&&h&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});p7.displayName=m7;var sM=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(xye,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(p7,{...f,ref:e,__scopeCheckbox:r}),m&&o.jsx(y7,{__scopeCheckbox:r})]})})});sM.displayName=AN;var g7="CheckboxIndicator",v7=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,a=nM(g7,r);return o.jsx(ys,{present:n||uu(a.checked)||a.checked===!0,children:o.jsx(ct.span,{"data-state":b7(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});v7.displayName=g7;var x7="CheckboxBubbleInput",y7=x.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:h}=nM(x7,t),p=Ot(r,h),g=mN(a),v=aN(n);x.useEffect(()=>{const y=m;if(!y)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,_=!s.current;if(g!==a&&j){const S=new Event("click",{bubbles:_});y.indeterminate=uu(a),j.call(y,uu(a)?!1:a),y.dispatchEvent(S)}},[m,g,a,s]);const b=x.useRef(uu(a)?!1:a);return o.jsx(ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:p,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});y7.displayName=x7;function yye(t){return typeof t=="function"}function uu(t){return t==="indeterminate"}function b7(t){return uu(t)?"indeterminate":t?"checked":"unchecked"}const cf=x.forwardRef(({className:t,...e},r)=>o.jsx(sM,{ref:r,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(v7,{className:Ne("flex items-center justify-center text-current"),children:o.jsx(Or,{className:"h-4 w-4"})})}));cf.displayName=sM.displayName;function bye(){const[t,e]=x.useState([{role:"system",content:"Voc  um assistente de IA focado em gerar insights prticos sobre clientes, projetos, agenda e financeiro da Noxus. IMPORTANTE: Sempre responda em portugus brasileiro (pt-BR), usando linguagem clara e profissional."}]),[r,n]=x.useState(""),[s,a]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState(!0),{user:d}=Fr(),{clientes:f,projetos:m,agendamentos:h,transacoes:p,isLoading:g}=h7("30d"),v=x.useRef(null);x.useEffect(()=>{const j=v.current;j&&(j.scrollTop=j.scrollHeight)},[t,s]);function b(){try{const j=E=>String(E||"").toLowerCase(),_=(f||[]).map(E=>E==null?void 0:E.nome).filter(E=>typeof E=="string").slice(0,5),S=(m||[]).map(E=>E==null?void 0:E.titulo).filter(E=>typeof E=="string").slice(0,5),C=(h||[]).slice(0,3).map(E=>`${(E==null?void 0:E.status)||""}`).filter(E=>typeof E=="string"&&E.length>0),k=[`Usurio: ${(d==null?void 0:d.email)||"(no autenticado)"}`,`Clientes (30d): ${(f==null?void 0:f.length)||0}`,`Projetos (30d): ${(m==null?void 0:m.length)||0}`,`Agendamentos (30d): ${(h==null?void 0:h.length)||0}`,`Transaes (30d): ${(p==null?void 0:p.length)||0}`];_.length&&k.push(`Clientes em foco: ${_.join(", ")}`),S.length&&k.push(`Projetos em destaque: ${S.join(", ")}`),C.length&&k.push(`Agenda (amostra): ${C.join(", ")}`);const A=(p||[]).filter(E=>j(E==null?void 0:E.tipo)==="receita").reduce((E,T)=>E+Number((T==null?void 0:T.valor)||0),0),O=(p||[]).filter(E=>j(E==null?void 0:E.tipo)==="despesa").reduce((E,T)=>E+Number((T==null?void 0:T.valor)||0),0),P=A-O,R=(p||[]).filter(E=>j(E==null?void 0:E.tipo)==="receita"&&!!(E!=null&&E.data_liquidacao)).reduce((E,T)=>E+Number((T==null?void 0:T.valor)||0),0),I=(p||[]).filter(E=>j(E==null?void 0:E.tipo)==="receita"&&!(E!=null&&E.data_liquidacao)).reduce((E,T)=>E+Number((T==null?void 0:T.valor)||0),0),$=(p||[]).filter(E=>j(E==null?void 0:E.tipo)==="despesa"&&!!(E!=null&&E.data_liquidacao)).reduce((E,T)=>E+Number((T==null?void 0:T.valor)||0),0),B=(p||[]).filter(E=>j(E==null?void 0:E.tipo)==="despesa"&&!(E!=null&&E.data_liquidacao)).reduce((E,T)=>E+Number((T==null?void 0:T.valor)||0),0);k.push(`Receitas (30d): R$ ${A.toFixed(2)}`,`Despesas (30d): R$ ${O.toFixed(2)}`,`Saldo (30d): R$ ${P.toFixed(2)}`,`Receitas liquidadas: R$ ${R.toFixed(2)} | pendentes: R$ ${I.toFixed(2)}`,`Despesas liquidadas: R$ ${$.toFixed(2)} | pendentes: R$ ${B.toFixed(2)}`);const L=(p||[]).slice().sort((E,T)=>{const q=new Date((E==null?void 0:E.data_vencimento)||(E==null?void 0:E.created_at)||0).getTime();return new Date((T==null?void 0:T.data_vencimento)||(T==null?void 0:T.created_at)||0).getTime()-q}).slice(0,10).map(E=>{const T=new Date((E==null?void 0:E.data_vencimento)||(E==null?void 0:E.created_at)||Date.now()).toLocaleDateString("pt-BR"),q=Number((E==null?void 0:E.valor)||0).toFixed(2),Z=((E==null?void 0:E.tipo)||"-").toString(),M=((E==null?void 0:E.categoria)||"-").toString(),W=((E==null?void 0:E.descricao)||"").toString(),re=E!=null&&E.data_liquidacao?"liquidada":"pendente";return`${T}  ${Z}  R$ ${q}  ${M}  ${re}${W?"  "+W:""}`});return L.length&&(k.push("ltimas transaes (amostra):"),k.push(...L)),k.join(`
`)}catch{return""}}const y=async()=>{const j=r.trim();if(!j||s)return;l(null);const _=[...t,{role:"user",content:j}];e(_),n(""),a(!0);try{const S=t[0],C=c&&!g?b():"",A=[C?{role:"system",content:`${S.content}

Contexto do sistema (30d):
${C}

Use o contexto acima para responder com recomendaes prticas.`}:S,...t.slice(1),{role:"user",content:j}],O=await tve(A);e([..._,O])}catch(S){l((S==null?void 0:S.message)||"Falha ao consultar a IA")}finally{a(!1)}};function w(j){return j.split(/(\*\*.*?\*\*)/g).map((S,C)=>{const k=S.match(/^\*\*(.*?)\*\*$/);return k?o.jsx("strong",{className:"font-semibold",children:k[1]},C):o.jsx("span",{children:S},C)})}function N(j){const _=j.split(`
`).filter(O=>O.trim().length>0),S=[];let C=[];const k=O=>{const P=O.toLowerCase();return/(receita|despesa|financeir|saldo|pagament|faturamento|custo|lucro)/.test(P)?"":/(agenda|agendamento|reuni|calend|prazo|follow-up|confirm)/.test(P)?"":/(oportunidade|crescimento|upsell|tendn|tendenc|meta|expans|converso|conversao|melhora|escala)/.test(P)?"":""},A=()=>{C.length&&(S.push(o.jsx("div",{className:"pl-1 space-y-1",children:C.map((O,P)=>o.jsxs("div",{className:"leading-relaxed flex items-start gap-2",children:[o.jsx("span",{className:"select-none","aria-hidden":!0,children:k(O)}),o.jsx("span",{children:w(O)})]},P))},`list-${S.length}`)),C=[])};for(const O of _){const P=O.trim(),R=P.match(/^([*\-])\s+(.*)$/);if(R){C.push(R[2]);continue}A(),S.push(o.jsx("p",{className:"leading-relaxed",children:w(P)},`p-${S.length}`))}return A(),o.jsx("div",{className:"space-y-2",children:S})}return o.jsxs(ne,{className:"rounded-2xl border border-border/40 bg-background shadow-sm h-full flex flex-col",children:[o.jsx(Oe,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:o.jsx(xU,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-base",children:"Chat de IA (Insights)"}),o.jsx("p",{className:"text-[11px] leading-tight text-muted-foreground",children:"Converse com a IA para obter recomendaes e anlises."})]})]})}),o.jsx(he,{className:"p-4 flex-1 min-h-0 flex flex-col",children:o.jsxs("div",{className:"space-y-4 flex-1 min-h-0 flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[11px] leading-tight text-muted-foreground",children:[o.jsx(cf,{id:"ctx",checked:c,onCheckedChange:j=>u(!!j)}),o.jsx("label",{htmlFor:"ctx",children:"Incluir contexto do sistema (ltimos 30 dias)"}),c&&g&&o.jsx("span",{className:"ml-2",children:"Carregando dados"})]}),o.jsx("div",{ref:v,className:"flex-1 min-h-0 overflow-y-auto rounded-xl border border-border/40 p-3 bg-muted/20",children:t.filter(j=>j.role!=="system").length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:'Faa uma pergunta, por exemplo: "Quais oportunidades de upsell vejo esta semana?"'}):o.jsxs("div",{className:"space-y-3",children:[t.filter(j=>j.role!=="system").map((j,_)=>o.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[85%] px-3 py-2 rounded-2xl text-sm ${j.role==="user"?"bg-primary text-primary-foreground":"bg-background border"}`,children:N(j.content)})},_)),s&&o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[o.jsx(Qi,{className:"w-4 h-4 animate-spin"})," Pensando"]})]})}),i&&o.jsx("div",{className:"text-xs text-red-600",children:i}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 border-t pt-3 mt-2",children:[o.jsx(de,{placeholder:"Digite sua pergunta",value:r,onChange:j=>n(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),y())}}),o.jsxs(U,{onClick:y,disabled:s,className:"gap-2",children:[o.jsx(Lie,{className:"w-4 h-4"}),"Enviar"]})]})]})})]})}function wye(){const[t,e]=x.useState(!1),[r,n]=x.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed right-6 bottom-6 z-50",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`absolute inset-0 rounded-full blur-xl transition-all duration-200 ease-out pointer-events-none -z-10 ${r?"opacity-60 scale-125 bg-primary/25":"opacity-0 scale-100"}`}),o.jsx("button",{type:"button","aria-label":"Abrir chat de IA",onClick:()=>e(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"relative z-10 h-12 w-12 rounded-full shadow-lg border border-border bg-background flex items-center justify-center transition-all duration-200 ease-out hover:scale-125 hover:border-primary/50 hover:shadow-2xl hover:bg-primary/10 active:scale-95",children:o.jsx(xU,{className:"w-6 h-6 text-primary transition-transform duration-200"})})]})}),o.jsx(fr,{open:t,onOpenChange:e,children:o.jsxs(ir,{className:"max-w-lg w-[95vw] sm:w-[520px] md:w-[560px] rounded-2xl h-[80vh] sm:h-[75vh] overflow-hidden fixed right-6 bottom-24 left-auto top-auto translate-x-0 translate-y-0 shadow-2xl origin-bottom-right transition-transform duration-300 ease-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[state=open]:slide-in-from-bottom-4 data-[state=closed]:slide-out-to-bottom-4 flex flex-col",children:[o.jsx(lr,{className:"flex-shrink-0 px-3 py-2",children:o.jsx(cr,{children:"Assistente IA"})}),o.jsx("div",{className:"mt-2 flex-1 min-h-0",children:o.jsx(bye,{})})]})})]})}function ba({children:t}){const{navigationType:e,isNavigationVisible:r}=DP(),[n,s]=x.useState(!1),a=Ai(),l=["/tattoo/financeiro","/carteira"].includes(a.pathname),c=e==="sidebar",u=e==="dock",d=c&&(r||n),f=u&&(r||n);return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[c&&!r&&o.jsx("div",{className:"fixed left-0 top-0 w-8 h-full z-50 bg-transparent",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)}),c&&o.jsx("div",{className:`transition-transform duration-300 ease-in-out ${d?"translate-x-0":"-translate-x-full"}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:o.jsx(Uge,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(Bge,{}),o.jsx("main",{className:"flex-1 overflow-y-auto p-6 pb-24",children:t}),u&&r&&!l&&o.jsx(b4,{}),o.jsx(wye,{})]}),u&&!r&&!l&&o.jsx("div",{className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 transition-all duration-300 ease-in-out ${f?"translate-y-0 opacity-100 scale-100":"translate-y-8 opacity-0 scale-95"}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:o.jsx("div",{className:"bg-background/90 backdrop-blur-xl border border-foreground/20 rounded-full shadow-2xl p-2",children:o.jsx(b4,{})})}),u&&!r&&!l&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-20 z-50 bg-transparent pointer-events-auto",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)})]})}function jye(t){if(!t.isOpen)return null;const e=t.steps[t.stepIndex],r=t.stepIndex===t.steps.length-1;return o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-lg rounded-lg bg-white dark:bg-neutral-900 shadow-2xl ring-1 ring-black/10 dark:ring-white/10",children:[o.jsxs("div",{className:"px-6 py-5",children:[o.jsx("div",{className:"mb-1 text-xs uppercase tracking-wide text-neutral-500",children:"Tour Noxus"}),o.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white",children:e.title}),o.jsx("p",{className:"mt-2 text-neutral-700 dark:text-neutral-300",children:e.description})]}),o.jsxs("div",{className:"flex items-center justify-between border-t border-neutral-200 dark:border-neutral-800 px-6 py-4",children:[o.jsx("button",{className:"text-sm text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200",onClick:t.onSkip,children:"Pular"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"rounded-md border border-neutral-300 dark:border-neutral-700 px-3 py-1.5 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 disabled:opacity-50",onClick:t.onPrev,disabled:t.stepIndex===0,children:"Voltar"}),r?o.jsx("button",{className:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700",onClick:t.onComplete,children:"Concluir"}):o.jsx("button",{className:"rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700",onClick:t.onNext,children:"Prximo"})]})]}),o.jsxs("div",{className:"px-6 pb-4 text-xs text-neutral-500",children:["Etapa ",t.stepIndex+1," de ",t.steps.length]})]})})]})}const R0="noxus:onboarding:completed";function Nye(t){const[e,r]=x.useState(!1),[n,s]=x.useState(0),a=x.useMemo(()=>t,[t]);x.useEffect(()=>{localStorage.getItem(R0)==="true"||r(!0)},[]);const i=x.useCallback(()=>{s(0),r(!0),localStorage.removeItem(R0)},[]),l=x.useCallback(()=>{s(f=>Math.min(f+1,a.length-1))},[a.length]),c=x.useCallback(()=>{s(f=>Math.max(f-1,0))},[]),u=x.useCallback(()=>{r(!1),localStorage.setItem(R0,"true")},[]),d=x.useCallback(()=>{r(!1),localStorage.setItem(R0,"true")},[]);return{isOpen:e,stepIndex:n,steps:a,start:i,next:l,prev:c,skip:u,complete:d}}var ON="Tabs",[_ye]=Ms(ON,[vN]),w7=vN(),[Sye,aM]=_ye(ON),j7=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Dp(l),[f,m]=oo({prop:n,onChange:s,defaultProp:a??"",caller:ON});return o.jsx(Sye,{scope:r,baseId:gs(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:o.jsx(ct.div,{dir:d,"data-orientation":i,...u,ref:e})})});j7.displayName=ON;var N7="TabsList",_7=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=aM(N7,r),i=w7(r);return o.jsx(X9,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(ct.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});_7.displayName=N7;var S7="TabsTrigger",C7=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,i=aM(S7,r),l=w7(r),c=A7(i.baseId,n),u=O7(i.baseId,n),d=n===i.value;return o.jsx(Q9,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Ee(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});C7.displayName=S7;var E7="TabsContent",k7=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=t,l=aM(E7,r),c=A7(l.baseId,n),u=O7(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(ys,{present:s||d,children:({present:m})=>o.jsx(ct.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});k7.displayName=E7;function A7(t,e){return`${t}-trigger-${e}`}function O7(t,e){return`${t}-content-${e}`}var Cye=j7,T7=_7,P7=C7,M7=k7;const va=Cye,Gs=x.forwardRef(({className:t,...e},r)=>o.jsx(T7,{ref:r,className:Ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Gs.displayName=T7.displayName;const Et=x.forwardRef(({className:t,...e},r)=>o.jsx(P7,{ref:r,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Et.displayName=P7.displayName;const kt=x.forwardRef(({className:t,...e},r)=>o.jsx(M7,{ref:r,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));kt.displayName=M7.displayName;function nx(t,[e,r]){return Math.min(r,Math.max(e,t))}var Eye=[" ","Enter","ArrowUp","ArrowDown"],kye=[" ","Enter"],uf="Select",[TN,PN,Aye]=dy(uf),[$p]=Ms(uf,[Aye,Iu]),MN=Iu(),[Oye,Fu]=$p(uf),[Tye,Pye]=$p(uf),R7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:p}=t,g=MN(e),[v,b]=x.useState(null),[y,w]=x.useState(null),[N,j]=x.useState(!1),_=Dp(u),[S,C]=oo({prop:n,defaultProp:s??!1,onChange:a,caller:uf}),[k,A]=oo({prop:i,defaultProp:l,onChange:c,caller:uf}),O=x.useRef(null),P=v?p||!!v.closest("form"):!0,[R,I]=x.useState(new Set),$=Array.from(R).map(B=>B.props.value).join(";");return o.jsx(oN,{...g,children:o.jsxs(Oye,{required:h,scope:e,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:gs(),value:k,onValueChange:A,open:S,onOpenChange:C,dir:_,triggerPointerDownPosRef:O,disabled:m,children:[o.jsx(TN.Provider,{scope:e,children:o.jsx(Tye,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(B=>{I(L=>new Set(L).add(B))},[]),onNativeOptionRemove:x.useCallback(B=>{I(L=>{const E=new Set(L);return E.delete(B),E})},[]),children:r})}),P?o.jsxs(sK,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:B=>A(B.target.value),disabled:m,form:p,children:[k===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},$):null]})})};R7.displayName=uf;var D7="SelectTrigger",I7=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=MN(r),i=Fu(D7,r),l=i.disabled||n,c=Ot(e,i.onTriggerChange),u=PN(r),d=x.useRef("touch"),[f,m,h]=oK(g=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===i.value),y=iK(v,g,b);y!==void 0&&i.onValueChange(y.value)}),p=g=>{l||(i.onOpenChange(!0),h()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(xy,{asChild:!0,...a,children:o.jsx(ct.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aK(i.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:Ee(s.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Ee(s.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&Eye.includes(g.key)&&(p(),g.preventDefault())})})})});I7.displayName=D7;var $7="SelectValue",L7=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=t,c=Fu($7,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ot(e,c.onValueNodeChange);return Mn(()=>{u(d)},[u,d]),o.jsx(ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:aK(c.value)?o.jsx(o.Fragment,{children:i}):a})});L7.displayName=$7;var Mye="SelectIcon",F7=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return o.jsx(ct.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});F7.displayName=Mye;var Rye="SelectPortal",B7=t=>o.jsx(Ep,{asChild:!0,...t});B7.displayName=Rye;var df="SelectContent",z7=x.forwardRef((t,e)=>{const r=Fu(df,t.__scopeSelect),[n,s]=x.useState();if(Mn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Mu.createPortal(o.jsx(V7,{scope:t.__scopeSelect,children:o.jsx(TN.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),a):null}return o.jsx(U7,{...t,ref:e})});z7.displayName=df;var Zo=10,[V7,Bu]=$p(df),Dye="SelectContentImpl",Iye=rf("SelectContent.RemoveScroll"),U7=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v,...b}=t,y=Fu(df,r),[w,N]=x.useState(null),[j,_]=x.useState(null),S=Ot(e,pe=>N(pe)),[C,k]=x.useState(null),[A,O]=x.useState(null),P=PN(r),[R,I]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(w)return xN(w)},[w]),gN();const B=x.useCallback(pe=>{const[Ue,...ce]=P().map(ue=>ue.ref.current),[we]=ce.slice(-1),be=document.activeElement;for(const ue of pe)if(ue===be||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===Ue&&j&&(j.scrollTop=0),ue===we&&j&&(j.scrollTop=j.scrollHeight),ue==null||ue.focus(),document.activeElement!==be))return},[P,j]),L=x.useCallback(()=>B([C,w]),[B,C,w]);x.useEffect(()=>{R&&L()},[R,L]);const{onOpenChange:E,triggerPointerDownPosRef:T}=y;x.useEffect(()=>{if(w){let pe={x:0,y:0};const Ue=we=>{var be,ue;pe={x:Math.abs(Math.round(we.pageX)-(((be=T.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(we.pageY)-(((ue=T.current)==null?void 0:ue.y)??0))}},ce=we=>{pe.x<=10&&pe.y<=10?we.preventDefault():w.contains(we.target)||E(!1),document.removeEventListener("pointermove",Ue),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",ce,{capture:!0})}}},[w,E,T]),x.useEffect(()=>{const pe=()=>E(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[E]);const[q,Z]=oK(pe=>{const Ue=P().filter(be=>!be.disabled),ce=Ue.find(be=>be.ref.current===document.activeElement),we=iK(Ue,pe,ce);we&&setTimeout(()=>we.ref.current.focus())}),M=x.useCallback((pe,Ue,ce)=>{const we=!$.current&&!ce;(y.value!==void 0&&y.value===Ue||we)&&(k(pe),we&&($.current=!0))},[y.value]),W=x.useCallback(()=>w==null?void 0:w.focus(),[w]),re=x.useCallback((pe,Ue,ce)=>{const we=!$.current&&!ce;(y.value!==void 0&&y.value===Ue||we)&&O(pe)},[y.value]),se=n==="popper"?u2:q7,je=se===u2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return o.jsx(V7,{scope:r,content:w,viewport:j,onViewportChange:_,itemRefCallback:M,selectedItem:C,onItemLeave:W,itemTextRefCallback:re,focusSelectedItem:L,selectedItemText:A,position:n,isPositioned:R,searchRef:q,children:o.jsx(Ny,{as:Iye,allowPinchZoom:!0,children:o.jsx(wy,{asChild:!0,trapped:y.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ee(s,pe=>{var Ue;(Ue=y.trigger)==null||Ue.focus({preventScroll:!0}),pe.preventDefault()}),children:o.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(se,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:pe=>pe.preventDefault(),...b,...je,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,pe=>{const Ue=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ue&&pe.key.length===1&&Z(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let we=P().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const be=pe.target,ue=we.indexOf(be);we=we.slice(ue+1)}setTimeout(()=>B(we)),pe.preventDefault()}})})})})})})});U7.displayName=Dye;var $ye="SelectItemAlignedPosition",q7=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=Fu(df,r),i=Bu(df,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Ot(e,S=>d(S)),m=PN(r),h=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=i,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&v&&b){const S=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(a.dir!=="rtl"){const be=A.left-C.left,ue=k.left-be,_t=S.left-ue,ht=S.width+_t,le=Math.max(ht,C.width),Ye=window.innerWidth-Zo,vt=nx(ue,[Zo,Math.max(Zo,Ye-le)]);l.style.minWidth=ht+"px",l.style.left=vt+"px"}else{const be=C.right-A.right,ue=window.innerWidth-k.right-be,_t=window.innerWidth-S.right-ue,ht=S.width+_t,le=Math.max(ht,C.width),Ye=window.innerWidth-Zo,vt=nx(ue,[Zo,Math.max(Zo,Ye-le)]);l.style.minWidth=ht+"px",l.style.right=vt+"px"}const O=m(),P=window.innerHeight-Zo*2,R=g.scrollHeight,I=window.getComputedStyle(u),$=parseInt(I.borderTopWidth,10),B=parseInt(I.paddingTop,10),L=parseInt(I.borderBottomWidth,10),E=parseInt(I.paddingBottom,10),T=$+B+R+E+L,q=Math.min(v.offsetHeight*5,T),Z=window.getComputedStyle(g),M=parseInt(Z.paddingTop,10),W=parseInt(Z.paddingBottom,10),re=S.top+S.height/2-Zo,se=P-re,je=v.offsetHeight/2,pe=v.offsetTop+je,Ue=$+B+pe,ce=T-Ue;if(Ue<=re){const be=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-g.offsetTop-g.offsetHeight,_t=Math.max(se,je+(be?W:0)+ue+L),ht=Ue+_t;l.style.height=ht+"px"}else{const be=O.length>0&&v===O[0].ref.current;l.style.top="0px";const _t=Math.max(re,$+g.offsetTop+(be?M:0)+je)+ce;l.style.height=_t+"px",g.scrollTop=Ue-re+g.offsetTop}l.style.margin=`${Zo}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[m,a.trigger,a.valueNode,l,u,g,v,b,a.dir,n]);Mn(()=>w(),[w]);const[N,j]=x.useState();Mn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(S=>{S&&p.current===!0&&(w(),y==null||y(),p.current=!1)},[w,y]);return o.jsx(Fye,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(ct.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});q7.displayName=$ye;var Lye="SelectPopperPosition",u2=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Zo,...a}=t,i=MN(r);return o.jsx(iN,{...i,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});u2.displayName=Lye;var[Fye,oM]=$p(df,{}),d2="SelectViewport",W7=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=Bu(d2,r),i=oM(d2,r),l=Ot(e,a.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(TN.Slot,{scope:r,children:o.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const p=window.innerHeight-Zo*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(g,v);if(b<p){const y=b+h,w=Math.min(p,y),N=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});W7.displayName=d2;var H7="SelectGroup",[Bye,zye]=$p(H7),Vye=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=gs();return o.jsx(Bye,{scope:r,id:s,children:o.jsx(ct.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Vye.displayName=H7;var K7="SelectLabel",G7=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=zye(K7,r);return o.jsx(ct.div,{id:s.id,...n,ref:e})});G7.displayName=K7;var Ew="SelectItem",[Uye,Y7]=$p(Ew),X7=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=t,l=Fu(Ew,r),c=Bu(Ew,r),u=l.value===n,[d,f]=x.useState(a??""),[m,h]=x.useState(!1),p=Ot(e,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),g=gs(),v=x.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Uye,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:x.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(TN.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(ct.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:p,onFocus:Ee(i.onFocus,()=>h(!0)),onBlur:Ee(i.onBlur,()=>h(!1)),onClick:Ee(i.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Ee(i.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Ee(i.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Ee(i.onPointerMove,y=>{var w;v.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ee(i.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(kye.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});X7.displayName=Ew;var Rg="SelectItemText",Q7=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,i=Fu(Rg,r),l=Bu(Rg,r),c=Y7(Rg,r),u=Pye(Rg,r),[d,f]=x.useState(null),m=Ot(e,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),h=d==null?void 0:d.textContent,p=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Mn(()=>(g(p),()=>v(p)),[g,v,p]),o.jsxs(o.Fragment,{children:[o.jsx(ct.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Mu.createPortal(a.children,i.valueNode):null]})});Q7.displayName=Rg;var J7="SelectItemIndicator",Z7=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Y7(J7,r).isSelected?o.jsx(ct.span,{"aria-hidden":!0,...n,ref:e}):null});Z7.displayName=J7;var f2="SelectScrollUpButton",eK=x.forwardRef((t,e)=>{const r=Bu(f2,t.__scopeSelect),n=oM(f2,t.__scopeSelect),[s,a]=x.useState(!1),i=Ot(e,n.onScrollButtonChange);return Mn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(rK,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});eK.displayName=f2;var h2="SelectScrollDownButton",tK=x.forwardRef((t,e)=>{const r=Bu(h2,t.__scopeSelect),n=oM(h2,t.__scopeSelect),[s,a]=x.useState(!1),i=Ot(e,n.onScrollButtonChange);return Mn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(rK,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tK.displayName=h2;var rK=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=Bu("SelectScrollButton",r),i=x.useRef(null),l=PN(r),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Mn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ct.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),qye="SelectSeparator",nK=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(ct.div,{"aria-hidden":!0,...n,ref:e})});nK.displayName=qye;var m2="SelectArrow",Wye=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=MN(r),a=Fu(m2,r),i=Bu(m2,r);return a.open&&i.position==="popper"?o.jsx(lN,{...s,...n,ref:e}):null});Wye.displayName=m2;var Hye="SelectBubbleInput",sK=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=x.useRef(null),a=Ot(n,s),i=mN(e);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),o.jsx(ct.select,{...r,style:{...G8,...r.style},ref:a,defaultValue:e})});sK.displayName=Hye;function aK(t){return t===""||t===void 0}function oK(t){const e=ln(t),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(i=>{const l=r.current+i;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function iK(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let i=Kye(t,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Kye(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Gye=R7,lK=I7,Yye=L7,Xye=F7,Qye=B7,cK=z7,Jye=W7,uK=G7,dK=X7,Zye=Q7,e0e=Z7,fK=eK,hK=tK,mK=nK;const He=Gye,Ke=Yye,qe=x.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(lK,{ref:n,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(Xye,{asChild:!0,children:o.jsx(qT,{className:"h-4 w-4 opacity-50"})})]}));qe.displayName=lK.displayName;const pK=x.forwardRef(({className:t,...e},r)=>o.jsx(fK,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(mie,{className:"h-4 w-4"})}));pK.displayName=fK.displayName;const gK=x.forwardRef(({className:t,...e},r)=>o.jsx(hK,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(qT,{className:"h-4 w-4"})}));gK.displayName=hK.displayName;const We=x.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>o.jsx(Qye,{children:o.jsxs(cK,{ref:s,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(pK,{}),o.jsx(Jye,{className:Ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(gK,{})]})}));We.displayName=cK.displayName;const t0e=x.forwardRef(({className:t,...e},r)=>o.jsx(uK,{ref:r,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));t0e.displayName=uK.displayName;const Y=x.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(dK,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(e0e,{children:o.jsx(Or,{className:"h-4 w-4"})})}),o.jsx(Zye,{children:e})]}));Y.displayName=dK.displayName;const r0e=x.forwardRef(({className:t,...e},r)=>o.jsx(mK,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));r0e.displayName=mK.displayName;const n0e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},s0e=(t,e,r)=>{let n;const s=n0e[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},a0e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},o0e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},i0e={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l0e={date:Gh({formats:a0e,defaultWidth:"full"}),time:Gh({formats:o0e,defaultWidth:"full"}),dateTime:Gh({formats:i0e,defaultWidth:"full"})},c0e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},u0e=(t,e,r,n)=>{const s=c0e[t];return typeof s=="function"?s(e):s},d0e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},f0e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},h0e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},m0e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},p0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},g0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},v0e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},x0e={ordinalNumber:v0e,era:zi({values:d0e,defaultWidth:"wide"}),quarter:zi({values:f0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zi({values:h0e,defaultWidth:"wide"}),day:zi({values:m0e,defaultWidth:"wide"}),dayPeriod:zi({values:p0e,defaultWidth:"wide",formattingValues:g0e,defaultFormattingWidth:"wide"})},y0e=/^(\d+)[o]?/i,b0e=/\d+/i,w0e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},j0e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},N0e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},_0e={any:[/1/i,/2/i,/3/i,/4/i]},S0e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},C0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},E0e={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},k0e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},A0e={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},O0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},T0e={ordinalNumber:s7({matchPattern:y0e,parsePattern:b0e,valueCallback:t=>parseInt(t,10)}),era:Vi({matchPatterns:w0e,defaultMatchWidth:"wide",parsePatterns:j0e,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:N0e,defaultMatchWidth:"wide",parsePatterns:_0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vi({matchPatterns:S0e,defaultMatchWidth:"wide",parsePatterns:C0e,defaultParseWidth:"any"}),day:Vi({matchPatterns:E0e,defaultMatchWidth:"wide",parsePatterns:k0e,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:A0e,defaultMatchWidth:"any",parsePatterns:O0e,defaultParseWidth:"any"})},Sr={code:"pt-BR",formatDistance:s0e,formatLong:l0e,formatRelative:u0e,localize:x0e,match:T0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function P0e({transacoes:t,clientes:e,projetos:r,agendamentos:n}){const[s,a]=x.useState("revenue"),[i,l]=x.useState(new Date().getFullYear()),[c,u]=x.useState([]),[d,f]=x.useState(!1),m=A=>String(A||"").toLowerCase();x.useEffect(()=>{try{const A=localStorage.getItem("noxus:charts:selectedChart");(A==="revenue"||A==="clients"||A==="projects")&&a(A);const O=localStorage.getItem("noxus:charts:selectedYear");if(O){const R=parseInt(O);Number.isNaN(R)||l(R)}const P=localStorage.getItem("noxus:charts:selectedMonths");if(P){const R=JSON.parse(P);Array.isArray(R)&&u(R)}}catch{}},[]),x.useEffect(()=>{try{localStorage.setItem("noxus:charts:selectedChart",s)}catch{}},[s]),x.useEffect(()=>{try{localStorage.setItem("noxus:charts:selectedYear",String(i))}catch{}},[i]),x.useEffect(()=>{try{localStorage.setItem("noxus:charts:selectedMonths",JSON.stringify(c))}catch{}},[c]);const h=x.useMemo(()=>{const A=new Date(i,0,1),O=new Date(i,11,31);return Ay({start:A,end:O})},[i]),p=x.useMemo(()=>h.map(A=>Mt(A,"MMM",{locale:Sr})),[h]);x.useEffect(()=>{p.length&&u(A=>A.length?A:p.map((O,P)=>P))},[i,p.length]);const g=x.useMemo(()=>{const A=new Date().getFullYear();return[A-2,A-1,A]},[]),v=x.useMemo(()=>{const A=h.map(O=>{const P=dn(O),R=ka(O),I=t.filter($=>m($.tipo)==="receita").filter($=>{const B=new Date($.data_vencimento||$.created_at||$.data);return B>=P&&B<=R}).reduce(($,B)=>$+Number(B.valor||0),0);return{name:Mt(O,"MMM",{locale:Sr}),value:I}});return A.map((O,P)=>{var B;const R=((B=A[P-1])==null?void 0:B.value)??0,I=ka(h[P])>new Date;let $;return I?$=void 0:R>0?$=Number(((O.value-R)/R*100).toFixed(1)):O.value>0?$=100:$=void 0,{...O,change:$}})},[h,t]),b=x.useMemo(()=>{const A=h.map(O=>{const P=dn(O),R=ka(O),I=e.filter($=>{const B=new Date($.created_at||$.data||new Date);return B>=P&&B<=R}).length;return{name:Mt(O,"MMM",{locale:Sr}),value:I}});return A.map((O,P)=>{var B;const R=((B=A[P-1])==null?void 0:B.value)??0,I=ka(h[P])>new Date;let $;return I?$=void 0:R>0?$=Number(((O.value-R)/R*100).toFixed(1)):O.value>0?$=100:$=void 0,{...O,change:$}})},[h,e]),y=x.useMemo(()=>{const A=O=>r.filter(P=>m(P.status)===O).length;return[{name:"Concludos",value:A("concluido")},{name:"Em Andamento",value:A("em_andamento")||A("andamento")},{name:"Planejamento",value:A("planejamento")},{name:"Cancelados",value:A("cancelado")}]},[r]),w=()=>{switch(s){case"revenue":return v;case"clients":return b;case"projects":return y;default:return v}},N=()=>{switch(s){case"revenue":return"Receitas por Perodo";case"clients":return"Crescimento de Clientes";case"projects":return"Performance de Projetos";default:return"Analytics"}},j=x.useMemo(()=>{const A=w();return s==="projects"?A:A.filter((O,P)=>c.includes(P))},[s,c,v,b,y]),_=()=>{const A=j;return A.length?Math.max(0,...A.map(O=>O.value)):0},S=x.useMemo(()=>{var I,$;const A=((I=v[v.length-1])==null?void 0:I.value)??0,O=(($=v[v.length-2])==null?void 0:$.value)??0;if(!O)return"+0%";const P=(A-O)/O*100;return`${P>=0?"+":""}${P.toFixed(1)}%`},[v]),C=x.useMemo(()=>{const A=t.filter(R=>m(R.tipo)==="receita"),O=A.reduce((R,I)=>R+Number(I.valor||0),0),P=A.length?O/A.length:0;return`R$ ${Math.round(P).toLocaleString("pt-BR")}`},[t]),k=x.useMemo(()=>{const A=n.length,O=n.filter(R=>m(R.status)==="concluido").length;return`${A?Math.round(O/A*100):0}%`},[n]);return o.jsxs("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:[o.jsxs(ne,{className:"lg:col-span-2 rounded-3xl border-0 bg-gradient-to-br from-background to-muted/20 shadow-xl",children:[o.jsx(Oe,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-xl font-semibold",children:N()}),o.jsxs("div",{className:"flex gap-2",children:[s!=="projects"&&o.jsxs(He,{value:String(i),onValueChange:A=>l(parseInt(A)),children:[o.jsx(qe,{className:"h-9 w-28",children:o.jsx(Ke,{placeholder:"Ano"})}),o.jsx(We,{children:g.map(A=>o.jsx(Y,{value:String(A),children:A},A))})]}),o.jsx("button",{onClick:()=>a("revenue"),className:`p-2 rounded-xl transition-all ${s==="revenue"?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 hover:bg-muted"}`,children:o.jsx(hie,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>a("clients"),className:`p-2 rounded-xl transition-all ${s==="clients"?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 hover:bg-muted"}`,children:o.jsx(wu,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>a("projects"),className:`p-2 rounded-xl transition-all ${s==="projects"?"bg-primary text-primary-foreground shadow-lg":"bg-muted/50 hover:bg-muted"}`,children:o.jsx(s$,{className:"w-4 h-4"})}),s!=="projects"&&o.jsxs(Cy,{open:d,onOpenChange:f,children:[o.jsx(Ey,{asChild:!0,children:o.jsx("button",{className:"p-2 rounded-xl transition-all bg-muted/50 hover:bg-muted","aria-label":"Filtrar meses",children:o.jsx(Yt,{className:"w-4 h-4"})})}),o.jsxs(Ip,{align:"end",side:"bottom",sideOffset:8,avoidCollisions:!0,collisionPadding:12,className:"max-h-[60vh] overflow-auto",children:[o.jsx(_N,{children:"Meses"}),o.jsx(Vd,{}),p.map((A,O)=>o.jsx(fH,{checked:c.includes(O),onCheckedChange:P=>{u(R=>P?Array.from(new Set([...R,O])).sort((I,$)=>I-$):R.filter(I=>I!==O)),f(!0)},children:A},O)),o.jsx(Vd,{}),o.jsx(el,{onSelect:A=>A.preventDefault(),onClick:()=>{u(p.map((A,O)=>O)),f(!0)},children:"Selecionar todos"}),o.jsx(el,{onSelect:A=>A.preventDefault(),onClick:()=>{u([]),f(!0)},children:"Limpar seleo"}),o.jsx(Vd,{}),o.jsx(el,{onClick:()=>f(!1),children:"Confirmar"})]})]})]})]})}),o.jsx(he,{children:o.jsx("div",{className:"space-y-4",children:j.map(A=>{const O=_(),P=O>0?A.value/O*100:0,R=Math.max(0,Math.min(100,Number.isFinite(P)?P:0)),I=(A.change||0)>=0;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"font-medium",children:A.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold",children:s==="revenue"?`R$ ${A.value.toLocaleString()}`:A.value}),A.change&&o.jsxs("div",{className:`flex items-center gap-1 text-xs ${I?"text-green-500":"text-red-500"}`,children:[I?o.jsx(_n,{className:"w-3 h-3"}):o.jsx(jm,{className:"w-3 h-3"}),Math.abs(A.change),"%"]})]})]}),o.jsx("div",{className:"w-full bg-muted/30 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/80 rounded-full transition-all duration-1000 ease-out",style:{width:`${R}%`}})})]},A.name)})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ne,{className:"rounded-3xl border-0 shadow-sm bg-gradient-to-br from-background to-muted/20",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl",children:o.jsx(_n,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Crescimento Mensal"}),o.jsx("p",{className:"text-2xl font-bold text-primary",children:S})]})]})})}),o.jsx(ne,{className:"rounded-3xl border-0 shadow-sm bg-gradient-to-br from-background to-muted/20",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl",children:o.jsx(wu,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Mdio"}),o.jsx("p",{className:"text-2xl font-bold text-primary",children:C})]})]})})}),o.jsx(ne,{className:"rounded-3xl border-0 shadow-sm bg-gradient-to-br from-background to-muted/20",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl",children:o.jsx(s$,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa Converso"}),o.jsx("p",{className:"text-2xl font-bold text-primary",children:k})]})]})})})]})]})}function M0e({projetos:t,clientes:e,transacoes:r,agendamentos:n,prevProjetos:s=[],prevClientes:a=[],prevTransacoes:i=[],prevAgendamentos:l=[],onOpenMetasTab:c,onCreateMeta:u}){const d=w=>String(w||"").toLowerCase(),f=t.filter(w=>d(w.status)!=="concluido"&&d(w.status)!=="cancelado").length,m=r.filter(w=>d(w.tipo)==="receita").reduce((w,N)=>w+Number(N.valor||0),0),h=n.filter(w=>w.status==="agendado").length,p=(s||[]).filter(w=>d(w.status)!=="concluido"&&d(w.status)!=="cancelado").length,g=(i||[]).filter(w=>d(w.tipo)==="receita").reduce((w,N)=>w+Number(N.valor||0),0),v=(l||[]).filter(w=>w.status==="agendado").length,b=(w,N)=>{if(!N&&w)return{change:100,trend:"up"};if(!N&&!w)return{change:0,trend:"up"};const j=w-N,_=j/N*100;return{change:Math.abs(Number(_.toFixed(1))),trend:j>=0?"up":"down"}},y=[{icon:ca,label:"Total de Clientes",value:e.length.toString(),color:"text-primary",bgColor:"bg-primary/20",...b(e.length,(a||[]).length)},{icon:hy,label:"Projetos Ativos",value:f.toString(),color:"text-primary",bgColor:"bg-primary/20",...b(f,p)},{icon:Yt,label:"Agendamentos",value:h.toString(),color:"text-primary",bgColor:"bg-primary/20",...b(h,v)},{icon:Zr,label:"Receitas Total",value:`R$ ${(m/1e3).toFixed(1)}K`,color:"text-primary",bgColor:"bg-primary/20",...b(m,g)}];return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:y.map((w,N)=>{const j=w.icon,_=w.trend==="up"?cie:iie,S=w.trend==="up";return o.jsxs(ne,{className:"rounded-3xl border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group relative overflow-hidden bg-gradient-to-br from-background to-muted/20",children:[o.jsx("div",{className:`absolute inset-0 opacity-5 ${w.bgColor.replace("/10","")}`}),o.jsxs(he,{className:"p-6 relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`p-3 rounded-2xl ${w.bgColor} group-hover:scale-110 transition-transform duration-300`,children:o.jsx(j,{className:`w-6 h-6 ${w.color}`})}),o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx(_,{className:`w-3 h-3 ${S?"text-green-500":"text-red-500"}`}),o.jsxs("span",{className:S?"text-green-500":"text-red-500",children:[Math.abs(w.change),"%"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:w.label}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-3xl font-bold tracking-tight",children:w.value}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"este ms"})]})]})]})]},w.label)})}),o.jsxs(va,{defaultValue:"analytics",className:"space-y-6",children:[o.jsx(Gs,{className:"rounded-2xl p-1.5 bg-muted/50",children:o.jsxs(Et,{value:"analytics",className:"rounded-xl",children:[o.jsx(wu,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),o.jsx(kt,{value:"analytics",className:"space-y-6",children:o.jsx(P0e,{transacoes:r,clientes:e,projetos:t,agendamentos:n})})]})]})}var R0e=Array.isArray,Ba=R0e,D0e=typeof Qy=="object"&&Qy&&Qy.Object===Object&&Qy,vK=D0e,I0e=vK,$0e=typeof self=="object"&&self&&self.Object===Object&&self,L0e=I0e||$0e||Function("return this")(),pl=L0e,F0e=pl,B0e=F0e.Symbol,Oy=B0e,F4=Oy,xK=Object.prototype,z0e=xK.hasOwnProperty,V0e=xK.toString,fg=F4?F4.toStringTag:void 0;function U0e(t){var e=z0e.call(t,fg),r=t[fg];try{t[fg]=void 0;var n=!0}catch{}var s=V0e.call(t);return n&&(e?t[fg]=r:delete t[fg]),s}var q0e=U0e,W0e=Object.prototype,H0e=W0e.toString;function K0e(t){return H0e.call(t)}var G0e=K0e,B4=Oy,Y0e=q0e,X0e=G0e,Q0e="[object Null]",J0e="[object Undefined]",z4=B4?B4.toStringTag:void 0;function Z0e(t){return t==null?t===void 0?J0e:Q0e:z4&&z4 in Object(t)?Y0e(t):X0e(t)}var lc=Z0e;function ebe(t){return t!=null&&typeof t=="object"}var cc=ebe,tbe=lc,rbe=cc,nbe="[object Symbol]";function sbe(t){return typeof t=="symbol"||rbe(t)&&tbe(t)==nbe}var Lp=sbe,abe=Ba,obe=Lp,ibe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lbe=/^\w*$/;function cbe(t,e){if(abe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||obe(t)?!0:lbe.test(t)||!ibe.test(t)||e!=null&&t in Object(e)}var iM=cbe;function ube(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zu=ube;const Fp=vr(zu);var dbe=lc,fbe=zu,hbe="[object AsyncFunction]",mbe="[object Function]",pbe="[object GeneratorFunction]",gbe="[object Proxy]";function vbe(t){if(!fbe(t))return!1;var e=dbe(t);return e==mbe||e==pbe||e==hbe||e==gbe}var lM=vbe;const Pt=vr(lM);var xbe=pl,ybe=xbe["__core-js_shared__"],bbe=ybe,tC=bbe,V4=function(){var t=/[^.]+$/.exec(tC&&tC.keys&&tC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wbe(t){return!!V4&&V4 in t}var jbe=wbe,Nbe=Function.prototype,_be=Nbe.toString;function Sbe(t){if(t!=null){try{return _be.call(t)}catch{}try{return t+""}catch{}}return""}var yK=Sbe,Cbe=lM,Ebe=jbe,kbe=zu,Abe=yK,Obe=/[\\^$.*+?()[\]{}|]/g,Tbe=/^\[object .+?Constructor\]$/,Pbe=Function.prototype,Mbe=Object.prototype,Rbe=Pbe.toString,Dbe=Mbe.hasOwnProperty,Ibe=RegExp("^"+Rbe.call(Dbe).replace(Obe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $be(t){if(!kbe(t)||Ebe(t))return!1;var e=Cbe(t)?Ibe:Tbe;return e.test(Abe(t))}var Lbe=$be;function Fbe(t,e){return t==null?void 0:t[e]}var Bbe=Fbe,zbe=Lbe,Vbe=Bbe;function Ube(t,e){var r=Vbe(t,e);return zbe(r)?r:void 0}var Df=Ube,qbe=Df,Wbe=qbe(Object,"create"),RN=Wbe,U4=RN;function Hbe(){this.__data__=U4?U4(null):{},this.size=0}var Kbe=Hbe;function Gbe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ybe=Gbe,Xbe=RN,Qbe="__lodash_hash_undefined__",Jbe=Object.prototype,Zbe=Jbe.hasOwnProperty;function ewe(t){var e=this.__data__;if(Xbe){var r=e[t];return r===Qbe?void 0:r}return Zbe.call(e,t)?e[t]:void 0}var twe=ewe,rwe=RN,nwe=Object.prototype,swe=nwe.hasOwnProperty;function awe(t){var e=this.__data__;return rwe?e[t]!==void 0:swe.call(e,t)}var owe=awe,iwe=RN,lwe="__lodash_hash_undefined__";function cwe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=iwe&&e===void 0?lwe:e,this}var uwe=cwe,dwe=Kbe,fwe=Ybe,hwe=twe,mwe=owe,pwe=uwe;function Bp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bp.prototype.clear=dwe;Bp.prototype.delete=fwe;Bp.prototype.get=hwe;Bp.prototype.has=mwe;Bp.prototype.set=pwe;var gwe=Bp;function vwe(){this.__data__=[],this.size=0}var xwe=vwe;function ywe(t,e){return t===e||t!==t&&e!==e}var cM=ywe,bwe=cM;function wwe(t,e){for(var r=t.length;r--;)if(bwe(t[r][0],e))return r;return-1}var DN=wwe,jwe=DN,Nwe=Array.prototype,_we=Nwe.splice;function Swe(t){var e=this.__data__,r=jwe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():_we.call(e,r,1),--this.size,!0}var Cwe=Swe,Ewe=DN;function kwe(t){var e=this.__data__,r=Ewe(e,t);return r<0?void 0:e[r][1]}var Awe=kwe,Owe=DN;function Twe(t){return Owe(this.__data__,t)>-1}var Pwe=Twe,Mwe=DN;function Rwe(t,e){var r=this.__data__,n=Mwe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Dwe=Rwe,Iwe=xwe,$we=Cwe,Lwe=Awe,Fwe=Pwe,Bwe=Dwe;function zp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zp.prototype.clear=Iwe;zp.prototype.delete=$we;zp.prototype.get=Lwe;zp.prototype.has=Fwe;zp.prototype.set=Bwe;var IN=zp,zwe=Df,Vwe=pl,Uwe=zwe(Vwe,"Map"),uM=Uwe,q4=gwe,qwe=IN,Wwe=uM;function Hwe(){this.size=0,this.__data__={hash:new q4,map:new(Wwe||qwe),string:new q4}}var Kwe=Hwe;function Gwe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ywe=Gwe,Xwe=Ywe;function Qwe(t,e){var r=t.__data__;return Xwe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var $N=Qwe,Jwe=$N;function Zwe(t){var e=Jwe(this,t).delete(t);return this.size-=e?1:0,e}var eje=Zwe,tje=$N;function rje(t){return tje(this,t).get(t)}var nje=rje,sje=$N;function aje(t){return sje(this,t).has(t)}var oje=aje,ije=$N;function lje(t,e){var r=ije(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var cje=lje,uje=Kwe,dje=eje,fje=nje,hje=oje,mje=cje;function Vp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vp.prototype.clear=uje;Vp.prototype.delete=dje;Vp.prototype.get=fje;Vp.prototype.has=hje;Vp.prototype.set=mje;var dM=Vp,bK=dM,pje="Expected a function";function fM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(pje);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=t.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(fM.Cache||bK),r}fM.Cache=bK;var wK=fM;const gje=vr(wK);var vje=wK,xje=500;function yje(t){var e=vje(t,function(n){return r.size===xje&&r.clear(),n}),r=e.cache;return e}var bje=yje,wje=bje,jje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nje=/\\(\\)?/g,_je=wje(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jje,function(r,n,s,a){e.push(s?a.replace(Nje,"$1"):n||r)}),e}),Sje=_je;function Cje(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var hM=Cje,W4=Oy,Eje=hM,kje=Ba,Aje=Lp,H4=W4?W4.prototype:void 0,K4=H4?H4.toString:void 0;function jK(t){if(typeof t=="string")return t;if(kje(t))return Eje(t,jK)+"";if(Aje(t))return K4?K4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Oje=jK,Tje=Oje;function Pje(t){return t==null?"":Tje(t)}var NK=Pje,Mje=Ba,Rje=iM,Dje=Sje,Ije=NK;function $je(t,e){return Mje(t)?t:Rje(t,e)?[t]:Dje(Ije(t))}var _K=$je,Lje=Lp;function Fje(t){if(typeof t=="string"||Lje(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var LN=Fje,Bje=_K,zje=LN;function Vje(t,e){e=Bje(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[zje(e[r++])];return r&&r==n?t:void 0}var mM=Vje,Uje=mM;function qje(t,e,r){var n=t==null?void 0:Uje(t,e);return n===void 0?r:n}var SK=qje;const ro=vr(SK);function Wje(t){return t==null}var Hje=Wje;const Lt=vr(Hje);var Kje=lc,Gje=Ba,Yje=cc,Xje="[object String]";function Qje(t){return typeof t=="string"||!Gje(t)&&Yje(t)&&Kje(t)==Xje}var Jje=Qje;const ff=vr(Jje);var CK={exports:{}},Er={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM=Symbol.for("react.element"),gM=Symbol.for("react.portal"),FN=Symbol.for("react.fragment"),BN=Symbol.for("react.strict_mode"),zN=Symbol.for("react.profiler"),VN=Symbol.for("react.provider"),UN=Symbol.for("react.context"),Zje=Symbol.for("react.server_context"),qN=Symbol.for("react.forward_ref"),WN=Symbol.for("react.suspense"),HN=Symbol.for("react.suspense_list"),KN=Symbol.for("react.memo"),GN=Symbol.for("react.lazy"),e1e=Symbol.for("react.offscreen"),EK;EK=Symbol.for("react.module.reference");function qo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pM:switch(t=t.type,t){case FN:case zN:case BN:case WN:case HN:return t;default:switch(t=t&&t.$$typeof,t){case Zje:case UN:case qN:case GN:case KN:case VN:return t;default:return e}}case gM:return e}}}Er.ContextConsumer=UN;Er.ContextProvider=VN;Er.Element=pM;Er.ForwardRef=qN;Er.Fragment=FN;Er.Lazy=GN;Er.Memo=KN;Er.Portal=gM;Er.Profiler=zN;Er.StrictMode=BN;Er.Suspense=WN;Er.SuspenseList=HN;Er.isAsyncMode=function(){return!1};Er.isConcurrentMode=function(){return!1};Er.isContextConsumer=function(t){return qo(t)===UN};Er.isContextProvider=function(t){return qo(t)===VN};Er.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pM};Er.isForwardRef=function(t){return qo(t)===qN};Er.isFragment=function(t){return qo(t)===FN};Er.isLazy=function(t){return qo(t)===GN};Er.isMemo=function(t){return qo(t)===KN};Er.isPortal=function(t){return qo(t)===gM};Er.isProfiler=function(t){return qo(t)===zN};Er.isStrictMode=function(t){return qo(t)===BN};Er.isSuspense=function(t){return qo(t)===WN};Er.isSuspenseList=function(t){return qo(t)===HN};Er.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===FN||t===zN||t===BN||t===WN||t===HN||t===e1e||typeof t=="object"&&t!==null&&(t.$$typeof===GN||t.$$typeof===KN||t.$$typeof===VN||t.$$typeof===UN||t.$$typeof===qN||t.$$typeof===EK||t.getModuleId!==void 0)};Er.typeOf=qo;CK.exports=Er;var t1e=CK.exports,r1e=lc,n1e=cc,s1e="[object Number]";function a1e(t){return typeof t=="number"||n1e(t)&&r1e(t)==s1e}var kK=a1e;const o1e=vr(kK);var i1e=kK;function l1e(t){return i1e(t)&&t!=+t}var c1e=l1e;const Up=vr(c1e);var sa=function(e){return e===0?0:e>0?1:-1},bd=function(e){return ff(e)&&e.indexOf("%")===e.length-1},Ie=function(e){return o1e(e)&&!Up(e)},u1e=function(e){return Lt(e)},rs=function(e){return Ie(e)||ff(e)},d1e=0,If=function(e){var r=++d1e;return"".concat(e||"").concat(r)},aa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(e)&&!ff(e))return n;var a;if(bd(e)){var i=e.indexOf("%");a=r*parseFloat(e.slice(0,i))/100}else a=+e;return Up(a)&&(a=n),s&&a>r&&(a=r),a},Mc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},f1e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},es=function(e,r){return Ie(e)&&Ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function kw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ro(n,e))===r})}var h1e=function(e,r){return Ie(e)&&Ie(r)?e-r:ff(e)&&ff(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Xh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function p2(t){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p2(t)}var m1e=["viewBox","children"],p1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],G4=["points","pathLength"],rC={svg:m1e,polygon:G4,polyline:G4},vM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Aw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!Fp(n))return null;var s={};return Object.keys(n).forEach(function(a){vM.includes(a)&&(s[a]=r||function(i){return n[a](n,i)})}),s},g1e=function(e,r,n){return function(s){return e(r,n,s),null}},hf=function(e,r,n){if(!Fp(e)||p2(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var i=e[a];vM.includes(a)&&typeof i=="function"&&(s||(s={}),s[a]=g1e(i,r,n))}),s},v1e=["children"],x1e=["children"];function Y4(t,e){if(t==null)return{};var r=y1e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g2(t){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g2(t)}var X4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Q4=null,nC=null,xM=function t(e){if(e===Q4&&Array.isArray(nC))return nC;var r=[];return x.Children.forEach(e,function(n){Lt(n)||(t1e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),nC=r,Q4=e,r};function no(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return Wl(s)}):n=[Wl(e)],xM(t).forEach(function(s){var a=ro(s,"type.displayName")||ro(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Wa(t,e){var r=no(t,e);return r&&r[0]}var J4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Ie(n)||n<=0||!Ie(s)||s<=0)},b1e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],w1e=function(e){return e&&e.type&&ff(e.type)&&b1e.indexOf(e.type)>=0},AK=function(e){return e&&g2(e)==="object"&&"clipDot"in e},j1e=function(e,r,n,s){var a,i=(a=rC==null?void 0:rC[s])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Pt(e)&&(s&&i.includes(r)||p1e.includes(r))||n&&vM.includes(r)},xt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(x.isValidElement(e)&&(s=e.props),!Fp(s))return null;var a={};return Object.keys(s).forEach(function(i){var l;j1e((l=s)===null||l===void 0?void 0:l[i],i,r,n)&&(a[i]=s[i])}),a},v2=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Z4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=e[s],i=r[s];if(Array.isArray(a)||Array.isArray(i)){if(!t(a,i))return!1}else if(!Z4(a,i))return!1}return!0},Z4=function(e,r){if(Lt(e)&&Lt(r))return!0;if(!Lt(e)&&!Lt(r)){var n=e.props||{},s=n.children,a=Y4(n,v1e),i=r.props||{},l=i.children,c=Y4(i,x1e);return s&&l?Xh(a,c)&&v2(s,l):!s&&!l?Xh(a,c):!1}return!1},eL=function(e,r){var n=[],s={};return xM(e).forEach(function(a,i){if(w1e(a))n.push(a);else if(a){var l=Wl(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,i);n.push(f),s[l]=!0}}}),n},N1e=function(e){var r=e&&e.type;return r&&X4[r]?X4[r]:null},_1e=function(e,r){return xM(r).indexOf(e)},S1e=["children","width","height","viewBox","className","style","title","desc"];function x2(){return x2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x2.apply(this,arguments)}function C1e(t,e){if(t==null)return{};var r=E1e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y2(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,a=t.className,i=t.style,l=t.title,c=t.desc,u=C1e(t,S1e),d=s||{width:r,height:n,x:0,y:0},f=Wt("recharts-surface",a);return z.createElement("svg",x2({},xt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),e)}var k1e=["children","className"];function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b2.apply(this,arguments)}function A1e(t,e){if(t==null)return{};var r=O1e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sr=z.forwardRef(function(t,e){var r=t.children,n=t.className,s=A1e(t,k1e),a=Wt("recharts-layer",n);return z.createElement("g",b2({className:a},xt(s,!0),{ref:e}),r)}),bi=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function T1e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var P1e=T1e,M1e=P1e;function R1e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:M1e(t,e,r)}var D1e=R1e,I1e="\\ud800-\\udfff",$1e="\\u0300-\\u036f",L1e="\\ufe20-\\ufe2f",F1e="\\u20d0-\\u20ff",B1e=$1e+L1e+F1e,z1e="\\ufe0e\\ufe0f",V1e="\\u200d",U1e=RegExp("["+V1e+I1e+B1e+z1e+"]");function q1e(t){return U1e.test(t)}var OK=q1e;function W1e(t){return t.split("")}var H1e=W1e,TK="\\ud800-\\udfff",K1e="\\u0300-\\u036f",G1e="\\ufe20-\\ufe2f",Y1e="\\u20d0-\\u20ff",X1e=K1e+G1e+Y1e,Q1e="\\ufe0e\\ufe0f",J1e="["+TK+"]",w2="["+X1e+"]",j2="\\ud83c[\\udffb-\\udfff]",Z1e="(?:"+w2+"|"+j2+")",PK="[^"+TK+"]",MK="(?:\\ud83c[\\udde6-\\uddff]){2}",RK="[\\ud800-\\udbff][\\udc00-\\udfff]",eNe="\\u200d",DK=Z1e+"?",IK="["+Q1e+"]?",tNe="(?:"+eNe+"(?:"+[PK,MK,RK].join("|")+")"+IK+DK+")*",rNe=IK+DK+tNe,nNe="(?:"+[PK+w2+"?",w2,MK,RK,J1e].join("|")+")",sNe=RegExp(j2+"(?="+j2+")|"+nNe+rNe,"g");function aNe(t){return t.match(sNe)||[]}var oNe=aNe,iNe=H1e,lNe=OK,cNe=oNe;function uNe(t){return lNe(t)?cNe(t):iNe(t)}var dNe=uNe,fNe=D1e,hNe=OK,mNe=dNe,pNe=NK;function gNe(t){return function(e){e=pNe(e);var r=hNe(e)?mNe(e):void 0,n=r?r[0]:e.charAt(0),s=r?fNe(r,1).join(""):e.slice(1);return n[t]()+s}}var vNe=gNe,xNe=vNe,yNe=xNe("toUpperCase"),bNe=yNe;const YN=vr(bNe);function Ir(t){return function(){return t}}const $K=Math.cos,Ow=Math.sin,Ti=Math.sqrt,Tw=Math.PI,XN=2*Tw,N2=Math.PI,_2=2*N2,ad=1e-6,wNe=_2-ad;function LK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jNe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LK;const r=10**e;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class NNe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LK:jNe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,a,i){this._append`C${+e},${+r},${+n},${+s},${this._x1=+a},${this._y1=+i}`}arcTo(e,r,n,s,a){if(e=+e,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,c=n-e,u=s-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>ad)if(!(Math.abs(f*c-u*d)>ad)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,p=s-l,g=c*c+u*u,v=h*h+p*p,b=Math.sqrt(g),y=Math.sqrt(m),w=a*Math.tan((N2-Math.acos((g+m-v)/(2*b*y)))/2),N=w/y,j=w/b;Math.abs(N-1)>ad&&this._append`L${e+N*d},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*h>d*p)},${this._x1=e+j*c},${this._y1=r+j*u}`}}arc(e,r,n,s,a,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,d=r+c,f=1^i,m=i?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ad||Math.abs(this._y1-d)>ad)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%_2+_2),m>wNe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>ad&&this._append`A${n},${n},0,${+(m>=N2)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function yM(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new NNe(e)}function bM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FK(t){this._context=t}FK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function QN(t){return new FK(t)}function BK(t){return t[0]}function zK(t){return t[1]}function VK(t,e){var r=Ir(!0),n=null,s=QN,a=null,i=yM(l);t=typeof t=="function"?t:t===void 0?BK:Ir(t),e=typeof e=="function"?e:e===void 0?zK:Ir(e);function l(c){var u,d=(c=bM(c)).length,f,m=!1,h;for(n==null&&(a=s(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(f,u,c),+e(f,u,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ir(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ir(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ir(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function D0(t,e,r){var n=null,s=Ir(!0),a=null,i=QN,l=null,c=yM(u);t=typeof t=="function"?t:t===void 0?BK:Ir(+t),e=typeof e=="function"?e:Ir(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zK:Ir(+r);function u(f){var m,h,p,g=(f=bM(f)).length,v,b=!1,y,w=new Array(g),N=new Array(g);for(a==null&&(l=i(y=c())),m=0;m<=g;++m){if(!(m<g&&s(v=f[m],m,f))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(w[p],N[p]);l.lineEnd(),l.areaEnd()}b&&(w[m]=+t(v,m,f),N[m]=+e(v,m,f),l.point(n?+n(v,m,f):w[m],r?+r(v,m,f):N[m]))}if(y)return l=null,y+""||null}function d(){return VK().defined(s).curve(i).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ir(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ir(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ir(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,a!=null&&(l=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=l=null:l=i(a=f),u):a},u}class UK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function _Ne(t){return new UK(t,!0)}function SNe(t){return new UK(t,!1)}const wM={draw(t,e){const r=Ti(e/Tw);t.moveTo(r,0),t.arc(0,0,r,0,XN)}},CNe={draw(t,e){const r=Ti(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},qK=Ti(1/3),ENe=qK*2,kNe={draw(t,e){const r=Ti(e/ENe),n=r*qK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ANe={draw(t,e){const r=Ti(e),n=-r/2;t.rect(n,n,r,r)}},ONe=.8908130915292852,WK=Ow(Tw/10)/Ow(7*Tw/10),TNe=Ow(XN/10)*WK,PNe=-$K(XN/10)*WK,MNe={draw(t,e){const r=Ti(e*ONe),n=TNe*r,s=PNe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let a=1;a<5;++a){const i=XN*a/5,l=$K(i),c=Ow(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},sC=Ti(3),RNe={draw(t,e){const r=-Ti(e/(sC*3));t.moveTo(0,r*2),t.lineTo(-sC*r,-r),t.lineTo(sC*r,-r),t.closePath()}},po=-.5,go=Ti(3)/2,S2=1/Ti(12),DNe=(S2/2+1)*3,INe={draw(t,e){const r=Ti(e/DNe),n=r/2,s=r*S2,a=n,i=r*S2+r,l=-a,c=i;t.moveTo(n,s),t.lineTo(a,i),t.lineTo(l,c),t.lineTo(po*n-go*s,go*n+po*s),t.lineTo(po*a-go*i,go*a+po*i),t.lineTo(po*l-go*c,go*l+po*c),t.lineTo(po*n+go*s,po*s-go*n),t.lineTo(po*a+go*i,po*i-go*a),t.lineTo(po*l+go*c,po*c-go*l),t.closePath()}};function $Ne(t,e){let r=null,n=yM(s);t=typeof t=="function"?t:Ir(t||wM),e=typeof e=="function"?e:Ir(e===void 0?64:+e);function s(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ir(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ir(+a),s):e},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Pw(){}function Mw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function HK(t){this._context=t}HK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LNe(t){return new HK(t)}function KK(t){this._context=t}KK.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FNe(t){return new KK(t)}function GK(t){this._context=t}GK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BNe(t){return new GK(t)}function YK(t){this._context=t}YK.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zNe(t){return new YK(t)}function tL(t){return t<0?-1:1}function rL(t,e,r){var n=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(n||s<0&&-0),i=(r-t._y1)/(s||n<0&&-0),l=(a*s+i*n)/(n+s);return(tL(a)+tL(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function nL(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function aC(t,e,r){var n=t._x0,s=t._y0,a=t._x1,i=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,s+l*e,a-l,i-l*r,a,i)}function Rw(t){this._context=t}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aC(this,this._t0,nL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,aC(this,nL(this,r=rL(this,t,e)),r);break;default:aC(this,this._t0,r=rL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function XK(t){this._context=new QK(t)}(XK.prototype=Object.create(Rw.prototype)).point=function(t,e){Rw.prototype.point.call(this,e,t)};function QK(t){this._context=t}QK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,a){this._context.bezierCurveTo(e,t,n,r,a,s)}};function VNe(t){return new Rw(t)}function UNe(t){return new XK(t)}function JK(t){this._context=t}JK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=sL(t),s=sL(e),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sL(t){var e,r=t.length-1,n,s=new Array(r),a=new Array(r),i=new Array(r);for(s[0]=0,a[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,a[e]=4,i[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,a[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/a[e-1],a[e]-=n,i[e]-=n*i[e-1];for(s[r-1]=i[r-1]/a[r-1],e=r-2;e>=0;--e)s[e]=(i[e]-s[e+1])/a[e];for(a[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function qNe(t){return new JK(t)}function JN(t,e){this._context=t,this._t=e}JN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function WNe(t){return new JN(t,.5)}function HNe(t){return new JN(t,0)}function KNe(t){return new JN(t,1)}function Am(t,e){if((i=t.length)>1)for(var r=1,n,s,a=t[e[0]],i,l=a.length;r<i;++r)for(s=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function C2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function GNe(t,e){return t[e]}function YNe(t){const e=[];return e.key=t,e}function XNe(){var t=Ir([]),e=C2,r=Am,n=GNe;function s(a){var i=Array.from(t.apply(this,arguments),YNe),l,c=i.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,a)]).data=f;for(l=0,d=bM(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ir(Array.from(a)),s):t},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ir(+a),s):n},s.order=function(a){return arguments.length?(e=a==null?C2:typeof a=="function"?a:Ir(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(r=a??Am,s):r},s}function QNe(t,e){if((n=t.length)>0){for(var r,n,s=0,a=t[0].length,i;s<a;++s){for(i=r=0;r<n;++r)i+=t[r][s][1]||0;if(i)for(r=0;r<n;++r)t[r][s][1]/=i}Am(t,e)}}function JNe(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,a=n.length;r<a;++r){for(var i=0,l=0;i<s;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Am(t,e)}}function ZNe(t,e){if(!(!((i=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,a,i;n<a;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var g=t[e[p]],v=g[n][1]||0,b=g[n-1][1]||0;h+=v-b}c+=f,u+=h*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Am(t,e)}}function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}var e_e=["type","size","sizeType"];function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E2.apply(this,arguments)}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){t_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t_e(t,e,r){return e=r_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r_e(t){var e=n_e(t,"string");return sx(e)=="symbol"?e:e+""}function n_e(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_e(t,e){if(t==null)return{};var r=a_e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ZK={symbolCircle:wM,symbolCross:CNe,symbolDiamond:kNe,symbolSquare:ANe,symbolStar:MNe,symbolTriangle:RNe,symbolWye:INe},o_e=Math.PI/180,i_e=function(e){var r="symbol".concat(YN(e));return ZK[r]||wM},l_e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*o_e;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},c_e=function(e,r){ZK["symbol".concat(YN(e))]=r},jM=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,a=s===void 0?64:s,i=e.sizeType,l=i===void 0?"area":i,c=s_e(e,e_e),u=oL(oL({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=i_e(n),b=$Ne().type(v).size(l_e(a,l,n));return b()},f=u.className,m=u.cx,h=u.cy,p=xt(u,!0);return m===+m&&h===+h&&a===+a?z.createElement("path",E2({},p,{className:Wt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};jM.registerSymbol=c_e;function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k2.apply(this,arguments)}function iL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function u_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(r),!0).forEach(function(n){ax(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tG(n.key),n)}}function h_e(t,e,r){return e&&f_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_e(t,e,r){return e=Dw(e),p_e(t,eG()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function p_e(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g_e(t)}function g_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eG=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function v_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},A2(t,e)}function ax(t,e,r){return e=tG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=x_e(t,"string");return Om(e)=="symbol"?e:e+""}function x_e(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vo=32,NM=function(t){function e(){return d_e(this,e),m_e(this,e,arguments)}return v_e(e,t),h_e(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=vo/2,i=vo/6,l=vo/3,c=n.inactive?s:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:vo,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(vo,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vo/8,"h").concat(vo,"v").concat(vo*3/4,"h").concat(-vo,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=u_e({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(jM,{fill:c,cx:a,cy:a,size:vo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,i=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:vo,height:vo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,p){var g=h.formatter||c,v=Wt(ax(ax({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=Pt(h.value)?null:h.value;bi(!Pt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return z.createElement("li",k2({className:v,style:f,key:"legend-item-".concat(p)},hf(n.props,h,p)),z.createElement(y2,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,h,p):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,i=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);ax(NM,"displayName","Legend");ax(NM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var y_e=IN;function b_e(){this.__data__=new y_e,this.size=0}var w_e=b_e;function j_e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var N_e=j_e;function __e(t){return this.__data__.get(t)}var S_e=__e;function C_e(t){return this.__data__.has(t)}var E_e=C_e,k_e=IN,A_e=uM,O_e=dM,T_e=200;function P_e(t,e){var r=this.__data__;if(r instanceof k_e){var n=r.__data__;if(!A_e||n.length<T_e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new O_e(n)}return r.set(t,e),this.size=r.size,this}var M_e=P_e,R_e=IN,D_e=w_e,I_e=N_e,$_e=S_e,L_e=E_e,F_e=M_e;function qp(t){var e=this.__data__=new R_e(t);this.size=e.size}qp.prototype.clear=D_e;qp.prototype.delete=I_e;qp.prototype.get=$_e;qp.prototype.has=L_e;qp.prototype.set=F_e;var rG=qp,B_e="__lodash_hash_undefined__";function z_e(t){return this.__data__.set(t,B_e),this}var V_e=z_e;function U_e(t){return this.__data__.has(t)}var q_e=U_e,W_e=dM,H_e=V_e,K_e=q_e;function Iw(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new W_e;++e<r;)this.add(t[e])}Iw.prototype.add=Iw.prototype.push=H_e;Iw.prototype.has=K_e;var nG=Iw;function G_e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var sG=G_e;function Y_e(t,e){return t.has(e)}var aG=Y_e,X_e=nG,Q_e=sG,J_e=aG,Z_e=1,eSe=2;function tSe(t,e,r,n,s,a){var i=r&Z_e,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&eSe?new X_e:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var p=t[f],g=e[f];if(n)var v=i?n(g,p,f,e,t,a):n(p,g,f,t,e,a);if(v!==void 0){if(v)continue;m=!1;break}if(h){if(!Q_e(e,function(b,y){if(!J_e(h,y)&&(p===b||s(p,b,r,n,a)))return h.push(y)})){m=!1;break}}else if(!(p===g||s(p,g,r,n,a))){m=!1;break}}return a.delete(t),a.delete(e),m}var oG=tSe,rSe=pl,nSe=rSe.Uint8Array,sSe=nSe;function aSe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var oSe=aSe;function iSe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _M=iSe,lL=Oy,cL=sSe,lSe=cM,cSe=oG,uSe=oSe,dSe=_M,fSe=1,hSe=2,mSe="[object Boolean]",pSe="[object Date]",gSe="[object Error]",vSe="[object Map]",xSe="[object Number]",ySe="[object RegExp]",bSe="[object Set]",wSe="[object String]",jSe="[object Symbol]",NSe="[object ArrayBuffer]",_Se="[object DataView]",uL=lL?lL.prototype:void 0,oC=uL?uL.valueOf:void 0;function SSe(t,e,r,n,s,a,i){switch(r){case _Se:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case NSe:return!(t.byteLength!=e.byteLength||!a(new cL(t),new cL(e)));case mSe:case pSe:case xSe:return lSe(+t,+e);case gSe:return t.name==e.name&&t.message==e.message;case ySe:case wSe:return t==e+"";case vSe:var l=uSe;case bSe:var c=n&fSe;if(l||(l=dSe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=hSe,i.set(t,e);var d=cSe(l(t),l(e),n,s,a,i);return i.delete(t),d;case jSe:if(oC)return oC.call(t)==oC.call(e)}return!1}var CSe=SSe;function ESe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var iG=ESe,kSe=iG,ASe=Ba;function OSe(t,e,r){var n=e(t);return ASe(t)?n:kSe(n,r(t))}var TSe=OSe;function PSe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[s++]=i)}return a}var MSe=PSe;function RSe(){return[]}var DSe=RSe,ISe=MSe,$Se=DSe,LSe=Object.prototype,FSe=LSe.propertyIsEnumerable,dL=Object.getOwnPropertySymbols,BSe=dL?function(t){return t==null?[]:(t=Object(t),ISe(dL(t),function(e){return FSe.call(t,e)}))}:$Se,zSe=BSe;function VSe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var USe=VSe,qSe=lc,WSe=cc,HSe="[object Arguments]";function KSe(t){return WSe(t)&&qSe(t)==HSe}var GSe=KSe,fL=GSe,YSe=cc,lG=Object.prototype,XSe=lG.hasOwnProperty,QSe=lG.propertyIsEnumerable,JSe=fL(function(){return arguments}())?fL:function(t){return YSe(t)&&XSe.call(t,"callee")&&!QSe.call(t,"callee")},SM=JSe,$w={exports:{}};function ZSe(){return!1}var eCe=ZSe;$w.exports;(function(t,e){var r=pl,n=eCe,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})($w,$w.exports);var cG=$w.exports,tCe=9007199254740991,rCe=/^(?:0|[1-9]\d*)$/;function nCe(t,e){var r=typeof t;return e=e??tCe,!!e&&(r=="number"||r!="symbol"&&rCe.test(t))&&t>-1&&t%1==0&&t<e}var CM=nCe,sCe=9007199254740991;function aCe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sCe}var EM=aCe,oCe=lc,iCe=EM,lCe=cc,cCe="[object Arguments]",uCe="[object Array]",dCe="[object Boolean]",fCe="[object Date]",hCe="[object Error]",mCe="[object Function]",pCe="[object Map]",gCe="[object Number]",vCe="[object Object]",xCe="[object RegExp]",yCe="[object Set]",bCe="[object String]",wCe="[object WeakMap]",jCe="[object ArrayBuffer]",NCe="[object DataView]",_Ce="[object Float32Array]",SCe="[object Float64Array]",CCe="[object Int8Array]",ECe="[object Int16Array]",kCe="[object Int32Array]",ACe="[object Uint8Array]",OCe="[object Uint8ClampedArray]",TCe="[object Uint16Array]",PCe="[object Uint32Array]",Wr={};Wr[_Ce]=Wr[SCe]=Wr[CCe]=Wr[ECe]=Wr[kCe]=Wr[ACe]=Wr[OCe]=Wr[TCe]=Wr[PCe]=!0;Wr[cCe]=Wr[uCe]=Wr[jCe]=Wr[dCe]=Wr[NCe]=Wr[fCe]=Wr[hCe]=Wr[mCe]=Wr[pCe]=Wr[gCe]=Wr[vCe]=Wr[xCe]=Wr[yCe]=Wr[bCe]=Wr[wCe]=!1;function MCe(t){return lCe(t)&&iCe(t.length)&&!!Wr[oCe(t)]}var RCe=MCe;function DCe(t){return function(e){return t(e)}}var uG=DCe,Lw={exports:{}};Lw.exports;(function(t,e){var r=vK,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(Lw,Lw.exports);var ICe=Lw.exports,$Ce=RCe,LCe=uG,hL=ICe,mL=hL&&hL.isTypedArray,FCe=mL?LCe(mL):$Ce,dG=FCe,BCe=USe,zCe=SM,VCe=Ba,UCe=cG,qCe=CM,WCe=dG,HCe=Object.prototype,KCe=HCe.hasOwnProperty;function GCe(t,e){var r=VCe(t),n=!r&&zCe(t),s=!r&&!n&&UCe(t),a=!r&&!n&&!s&&WCe(t),i=r||n||s||a,l=i?BCe(t.length,String):[],c=l.length;for(var u in t)(e||KCe.call(t,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qCe(u,c)))&&l.push(u);return l}var YCe=GCe,XCe=Object.prototype;function QCe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||XCe;return t===r}var JCe=QCe;function ZCe(t,e){return function(r){return t(e(r))}}var fG=ZCe,eEe=fG,tEe=eEe(Object.keys,Object),rEe=tEe,nEe=JCe,sEe=rEe,aEe=Object.prototype,oEe=aEe.hasOwnProperty;function iEe(t){if(!nEe(t))return sEe(t);var e=[];for(var r in Object(t))oEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var lEe=iEe,cEe=lM,uEe=EM;function dEe(t){return t!=null&&uEe(t.length)&&!cEe(t)}var Ty=dEe,fEe=YCe,hEe=lEe,mEe=Ty;function pEe(t){return mEe(t)?fEe(t):hEe(t)}var ZN=pEe,gEe=TSe,vEe=zSe,xEe=ZN;function yEe(t){return gEe(t,xEe,vEe)}var bEe=yEe,pL=bEe,wEe=1,jEe=Object.prototype,NEe=jEe.hasOwnProperty;function _Ee(t,e,r,n,s,a){var i=r&wEe,l=pL(t),c=l.length,u=pL(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:NEe.call(e,m)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=i;++f<c;){m=l[f];var b=t[m],y=e[m];if(n)var w=i?n(y,b,m,e,t,a):n(b,y,m,t,e,a);if(!(w===void 0?b===y||s(b,y,r,n,a):w)){g=!1;break}v||(v=m=="constructor")}if(g&&!v){var N=t.constructor,j=e.constructor;N!=j&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(g=!1)}return a.delete(t),a.delete(e),g}var SEe=_Ee,CEe=Df,EEe=pl,kEe=CEe(EEe,"DataView"),AEe=kEe,OEe=Df,TEe=pl,PEe=OEe(TEe,"Promise"),MEe=PEe,REe=Df,DEe=pl,IEe=REe(DEe,"Set"),hG=IEe,$Ee=Df,LEe=pl,FEe=$Ee(LEe,"WeakMap"),BEe=FEe,O2=AEe,T2=uM,P2=MEe,M2=hG,R2=BEe,mG=lc,Wp=yK,gL="[object Map]",zEe="[object Object]",vL="[object Promise]",xL="[object Set]",yL="[object WeakMap]",bL="[object DataView]",VEe=Wp(O2),UEe=Wp(T2),qEe=Wp(P2),WEe=Wp(M2),HEe=Wp(R2),od=mG;(O2&&od(new O2(new ArrayBuffer(1)))!=bL||T2&&od(new T2)!=gL||P2&&od(P2.resolve())!=vL||M2&&od(new M2)!=xL||R2&&od(new R2)!=yL)&&(od=function(t){var e=mG(t),r=e==zEe?t.constructor:void 0,n=r?Wp(r):"";if(n)switch(n){case VEe:return bL;case UEe:return gL;case qEe:return vL;case WEe:return xL;case HEe:return yL}return e});var KEe=od,iC=rG,GEe=oG,YEe=CSe,XEe=SEe,wL=KEe,jL=Ba,NL=cG,QEe=dG,JEe=1,_L="[object Arguments]",SL="[object Array]",I0="[object Object]",ZEe=Object.prototype,CL=ZEe.hasOwnProperty;function eke(t,e,r,n,s,a){var i=jL(t),l=jL(e),c=i?SL:wL(t),u=l?SL:wL(e);c=c==_L?I0:c,u=u==_L?I0:u;var d=c==I0,f=u==I0,m=c==u;if(m&&NL(t)){if(!NL(e))return!1;i=!0,d=!1}if(m&&!d)return a||(a=new iC),i||QEe(t)?GEe(t,e,r,n,s,a):YEe(t,e,c,r,n,s,a);if(!(r&JEe)){var h=d&&CL.call(t,"__wrapped__"),p=f&&CL.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,v=p?e.value():e;return a||(a=new iC),s(g,v,r,n,a)}}return m?(a||(a=new iC),XEe(t,e,r,n,s,a)):!1}var tke=eke,rke=tke,EL=cc;function pG(t,e,r,n,s){return t===e?!0:t==null||e==null||!EL(t)&&!EL(e)?t!==t&&e!==e:rke(t,e,r,n,pG,s)}var kM=pG,nke=rG,ske=kM,ake=1,oke=2;function ike(t,e,r,n){var s=r.length,a=s,i=!n;if(t==null)return!a;for(t=Object(t);s--;){var l=r[s];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=r[s];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new nke;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?ske(d,u,ake|oke,n,f):m))return!1}}return!0}var lke=ike,cke=zu;function uke(t){return t===t&&!cke(t)}var gG=uke,dke=gG,fke=ZN;function hke(t){for(var e=fke(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,dke(s)]}return e}var mke=hke;function pke(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var vG=pke,gke=lke,vke=mke,xke=vG;function yke(t){var e=vke(t);return e.length==1&&e[0][2]?xke(e[0][0],e[0][1]):function(r){return r===t||gke(r,t,e)}}var bke=yke;function wke(t,e){return t!=null&&e in Object(t)}var jke=wke,Nke=_K,_ke=SM,Ske=Ba,Cke=CM,Eke=EM,kke=LN;function Ake(t,e,r){e=Nke(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var i=kke(e[n]);if(!(a=t!=null&&r(t,i)))break;t=t[i]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&Eke(s)&&Cke(i,s)&&(Ske(t)||_ke(t)))}var Oke=Ake,Tke=jke,Pke=Oke;function Mke(t,e){return t!=null&&Pke(t,e,Tke)}var Rke=Mke,Dke=kM,Ike=SK,$ke=Rke,Lke=iM,Fke=gG,Bke=vG,zke=LN,Vke=1,Uke=2;function qke(t,e){return Lke(t)&&Fke(e)?Bke(zke(t),e):function(r){var n=Ike(r,t);return n===void 0&&n===e?$ke(r,t):Dke(e,n,Vke|Uke)}}var Wke=qke;function Hke(t){return t}var Hp=Hke;function Kke(t){return function(e){return e==null?void 0:e[t]}}var Gke=Kke,Yke=mM;function Xke(t){return function(e){return Yke(e,t)}}var Qke=Xke,Jke=Gke,Zke=Qke,e2e=iM,t2e=LN;function r2e(t){return e2e(t)?Jke(t2e(t)):Zke(t)}var n2e=r2e,s2e=bke,a2e=Wke,o2e=Hp,i2e=Ba,l2e=n2e;function c2e(t){return typeof t=="function"?t:t==null?o2e:typeof t=="object"?i2e(t)?a2e(t[0],t[1]):s2e(t):l2e(t)}var gl=c2e;function u2e(t,e,r,n){for(var s=t.length,a=r+(n?1:-1);n?a--:++a<s;)if(e(t[a],a,t))return a;return-1}var xG=u2e;function d2e(t){return t!==t}var f2e=d2e;function h2e(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var m2e=h2e,p2e=xG,g2e=f2e,v2e=m2e;function x2e(t,e,r){return e===e?v2e(t,e,r):p2e(t,g2e,r)}var y2e=x2e,b2e=y2e;function w2e(t,e){var r=t==null?0:t.length;return!!r&&b2e(t,e,0)>-1}var j2e=w2e;function N2e(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var _2e=N2e;function S2e(){}var C2e=S2e,lC=hG,E2e=C2e,k2e=_M,A2e=1/0,O2e=lC&&1/k2e(new lC([,-0]))[1]==A2e?function(t){return new lC(t)}:E2e,T2e=O2e,P2e=nG,M2e=j2e,R2e=_2e,D2e=aG,I2e=T2e,$2e=_M,L2e=200;function F2e(t,e,r){var n=-1,s=M2e,a=t.length,i=!0,l=[],c=l;if(r)i=!1,s=R2e;else if(a>=L2e){var u=e?null:I2e(t);if(u)return $2e(u);i=!1,s=D2e,c=new P2e}else c=e?[]:l;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var B2e=F2e,z2e=gl,V2e=B2e;function U2e(t,e){return t&&t.length?V2e(t,z2e(e)):[]}var q2e=U2e;const kL=vr(q2e);function yG(t,e,r){return e===!0?kL(t,r):Pt(e)?kL(t,e):t}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}var W2e=["ref"];function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){e_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wG(n.key),n)}}function K2e(t,e,r){return e&&OL(t.prototype,e),r&&OL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G2e(t,e,r){return e=Fw(e),Y2e(t,bG()?Reflect.construct(e,r||[],Fw(t).constructor):e.apply(t,r))}function Y2e(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X2e(t)}function X2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!t})()}function Fw(t){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(t)}function Q2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D2(t,e)}function D2(t,e){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D2(t,e)}function e_(t,e,r){return e=wG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wG(t){var e=J2e(t,"string");return Tm(e)=="symbol"?e:e+""}function J2e(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z2e(t,e){if(t==null)return{};var r=eAe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tAe(t){return t.value}function rAe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=Z2e(e,W2e);return z.createElement(NM,r)}var TL=1,Ia=function(t){function e(){var r;H2e(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=G2e(this,e,[].concat(s)),e_(r,"lastBoundingBox",{width:-1,height:-1}),r}return Q2e(e,t),K2e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>TL||Math.abs(s.height-this.lastBoundingBox.height)>TL)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,i=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bl(bl({},f),m)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,i=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=bl(bl({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},rAe(a,bl(bl({},this.props),{},{payload:yG(d,u,tAe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=bl(bl({},this.defaultProps),n.props),i=a.layout;return i==="vertical"&&Ie(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);e_(Ia,"displayName","Legend");e_(Ia,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var PL=Oy,nAe=SM,sAe=Ba,ML=PL?PL.isConcatSpreadable:void 0;function aAe(t){return sAe(t)||nAe(t)||!!(ML&&t&&t[ML])}var oAe=aAe,iAe=iG,lAe=oAe;function jG(t,e,r,n,s){var a=-1,i=t.length;for(r||(r=lAe),s||(s=[]);++a<i;){var l=t[a];e>0&&r(l)?e>1?jG(l,e-1,r,n,s):iAe(s,l):n||(s[s.length]=l)}return s}var NG=jG;function cAe(t){return function(e,r,n){for(var s=-1,a=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var uAe=cAe,dAe=uAe,fAe=dAe(),hAe=fAe,mAe=hAe,pAe=ZN;function gAe(t,e){return t&&mAe(t,e,pAe)}var _G=gAe,vAe=Ty;function xAe(t,e){return function(r,n){if(r==null)return r;if(!vAe(r))return t(r,n);for(var s=r.length,a=e?s:-1,i=Object(r);(e?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var yAe=xAe,bAe=_G,wAe=yAe,jAe=wAe(bAe),AM=jAe,NAe=AM,_Ae=Ty;function SAe(t,e){var r=-1,n=_Ae(t)?Array(t.length):[];return NAe(t,function(s,a,i){n[++r]=e(s,a,i)}),n}var SG=SAe;function CAe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var EAe=CAe,RL=Lp;function kAe(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,a=RL(t),i=e!==void 0,l=e===null,c=e===e,u=RL(e);if(!l&&!u&&!a&&t>e||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&t<e||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var AAe=kAe,OAe=AAe;function TAe(t,e,r){for(var n=-1,s=t.criteria,a=e.criteria,i=s.length,l=r.length;++n<i;){var c=OAe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var PAe=TAe,cC=hM,MAe=mM,RAe=gl,DAe=SG,IAe=EAe,$Ae=uG,LAe=PAe,FAe=Hp,BAe=Ba;function zAe(t,e,r){e.length?e=cC(e,function(a){return BAe(a)?function(i){return MAe(i,a.length===1?a[0]:a)}:a}):e=[FAe];var n=-1;e=cC(e,$Ae(RAe));var s=DAe(t,function(a,i,l){var c=cC(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return IAe(s,function(a,i){return LAe(a,i,r)})}var VAe=zAe;function UAe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var qAe=UAe,WAe=qAe,DL=Math.max;function HAe(t,e,r){return e=DL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=DL(n.length-e,0),i=Array(a);++s<a;)i[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(i),WAe(t,this,l)}}var KAe=HAe;function GAe(t){return function(){return t}}var YAe=GAe,XAe=Df,QAe=function(){try{var t=XAe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),CG=QAe,JAe=YAe,IL=CG,ZAe=Hp,eOe=IL?function(t,e){return IL(t,"toString",{configurable:!0,enumerable:!1,value:JAe(e),writable:!0})}:ZAe,tOe=eOe,rOe=800,nOe=16,sOe=Date.now;function aOe(t){var e=0,r=0;return function(){var n=sOe(),s=nOe-(n-r);if(r=n,s>0){if(++e>=rOe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oOe=aOe,iOe=tOe,lOe=oOe,cOe=lOe(iOe),uOe=cOe,dOe=Hp,fOe=KAe,hOe=uOe;function mOe(t,e){return hOe(fOe(t,e,dOe),t+"")}var pOe=mOe,gOe=cM,vOe=Ty,xOe=CM,yOe=zu;function bOe(t,e,r){if(!yOe(r))return!1;var n=typeof e;return(n=="number"?vOe(r)&&xOe(e,r.length):n=="string"&&e in r)?gOe(r[e],t):!1}var t_=bOe,wOe=NG,jOe=VAe,NOe=pOe,$L=t_,_Oe=NOe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&$L(t,e[0],e[1])?e=[]:r>2&&$L(e[0],e[1],e[2])&&(e=[e[0]]),jOe(t,wOe(e,1),[])}),SOe=_Oe;const OM=vr(SOe);function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I2.apply(this,arguments)}function COe(t,e){return OOe(t)||AOe(t,e)||kOe(t,e)||EOe()}function EOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kOe(t,e){if(t){if(typeof t=="string")return LL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(t,e)}}function LL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function OOe(t){if(Array.isArray(t))return t}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function uC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){TOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TOe(t,e,r){return e=POe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function POe(t){var e=MOe(t,"string");return ox(e)=="symbol"?e:e+""}function MOe(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ROe(t){return Array.isArray(t)&&rs(t[0])&&rs(t[1])?t.join(" ~ "):t}var DOe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,a=s===void 0?{}:s,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var P={padding:0,margin:0},R=(m?OM(d,m):d).map(function(I,$){if(I.type==="none")return null;var B=uC({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),L=I.formatter||f||ROe,E=I.value,T=I.name,q=E,Z=T;if(L&&q!=null&&Z!=null){var M=L(E,T,I,$,d);if(Array.isArray(M)){var W=COe(M,2);q=W[0],Z=W[1]}else q=M}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:B},rs(Z)?z.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,rs(Z)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},q),z.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},N=uC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=uC({margin:0},u),_=!Lt(g),S=_?g:"",C=Wt("recharts-default-tooltip",h),k=Wt("recharts-tooltip-label",p);_&&v&&d!==void 0&&d!==null&&(S=v(g,d));var A=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",I2({className:C,style:N},A),z.createElement("p",{className:k,style:j},z.isValidElement(S)?S:"".concat(S)),w())};function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function $0(t,e,r){return e=IOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IOe(t){var e=$Oe(t,"string");return ix(e)=="symbol"?e:e+""}function $Oe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg="recharts-tooltip-wrapper",LOe={visibility:"hidden"};function FOe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Wt(hg,$0($0($0($0({},"".concat(hg,"-right"),Ie(r)&&e&&Ie(e.x)&&r>=e.x),"".concat(hg,"-left"),Ie(r)&&e&&Ie(e.x)&&r<e.x),"".concat(hg,"-bottom"),Ie(n)&&e&&Ie(e.y)&&n>=e.y),"".concat(hg,"-top"),Ie(n)&&e&&Ie(e.y)&&n<e.y))}function BL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Ie(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function BOe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function zOe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,a=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=BL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=BL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=BOe({translateX:d,translateY:f,useTranslate3d:l})):u=LOe,{cssProperties:u,cssClasses:FOe({translateX:d,translateY:f,coordinate:r})}}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function VL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){L2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kG(n.key),n)}}function qOe(t,e,r){return e&&UOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WOe(t,e,r){return e=Bw(e),HOe(t,EG()?Reflect.construct(e,r||[],Bw(t).constructor):e.apply(t,r))}function HOe(t,e){if(e&&(Pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(t)}function KOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EG=function(){return!!t})()}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(t)}function GOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$2(t,e)}function L2(t,e,r){return e=kG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kG(t){var e=YOe(t,"string");return Pm(e)=="symbol"?e:e+""}function YOe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UL=1,XOe=function(t){function e(){var r;VOe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=WOe(this,e,[].concat(s)),L2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L2(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return GOe(e,t),qOe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>UL||Math.abs(n.height-this.state.lastBoundingBox.height)>UL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,m=s.isAnimationActive,h=s.offset,p=s.position,g=s.reverseDirection,v=s.useTranslate3d,b=s.viewBox,y=s.wrapperStyle,w=zOe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),N=w.cssClasses,j=w.cssProperties,_=VL(VL({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:N,style:_,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),QOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vu={isSsr:QOe()};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function WL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){TM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OG(n.key),n)}}function eTe(t,e,r){return e&&ZOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tTe(t,e,r){return e=zw(e),rTe(t,AG()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function rTe(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nTe(t)}function nTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function sTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F2(t,e)}function F2(t,e){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F2(t,e)}function TM(t,e,r){return e=OG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OG(t){var e=aTe(t,"string");return Mm(e)=="symbol"?e:e+""}function aTe(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oTe(t){return t.dataKey}function iTe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(DOe,e)}var Gr=function(t){function e(){return JOe(this,e),tTe(this,e,arguments)}return sTe(e,t),eTe(e,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,m=s.isAnimationActive,h=s.offset,p=s.payload,g=s.payloadUniqBy,v=s.position,b=s.reverseDirection,y=s.useTranslate3d,w=s.viewBox,N=s.wrapperStyle,j=p??[];f&&j.length&&(j=yG(p.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,oTe));var _=j.length>0;return z.createElement(XOe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:_,offset:h,position:v,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:N},iTe(u,WL(WL({},this.props),{},{payload:j})))}}])}(x.PureComponent);TM(Gr,"displayName","Tooltip");TM(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lTe=pl,cTe=function(){return lTe.Date.now()},uTe=cTe,dTe=/\s/;function fTe(t){for(var e=t.length;e--&&dTe.test(t.charAt(e)););return e}var hTe=fTe,mTe=hTe,pTe=/^\s+/;function gTe(t){return t&&t.slice(0,mTe(t)+1).replace(pTe,"")}var vTe=gTe,xTe=vTe,HL=zu,yTe=Lp,KL=NaN,bTe=/^[-+]0x[0-9a-f]+$/i,wTe=/^0b[01]+$/i,jTe=/^0o[0-7]+$/i,NTe=parseInt;function _Te(t){if(typeof t=="number")return t;if(yTe(t))return KL;if(HL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xTe(t);var r=wTe.test(t);return r||jTe.test(t)?NTe(t.slice(2),r?2:8):bTe.test(t)?KL:+t}var TG=_Te,STe=zu,dC=uTe,GL=TG,CTe="Expected a function",ETe=Math.max,kTe=Math.min;function ATe(t,e,r){var n,s,a,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(CTe);e=GL(e)||0,STe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?ETe(GL(r.maxWait)||0,e):a,m="trailing"in r?!!r.trailing:m);function h(_){var S=n,C=s;return n=s=void 0,u=_,i=t.apply(C,S),i}function p(_){return u=_,l=setTimeout(b,e),d?h(_):i}function g(_){var S=_-c,C=_-u,k=e-S;return f?kTe(k,a-C):k}function v(_){var S=_-c,C=_-u;return c===void 0||S>=e||S<0||f&&C>=a}function b(){var _=dC();if(v(_))return y(_);l=setTimeout(b,g(_))}function y(_){return l=void 0,m&&n?h(_):(n=s=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?i:y(dC())}function j(){var _=dC(),S=v(_);if(n=arguments,s=this,c=_,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(b,e),h(c)}return l===void 0&&(l=setTimeout(b,e)),i}return j.cancel=w,j.flush=N,j}var OTe=ATe,TTe=OTe,PTe=zu,MTe="Expected a function";function RTe(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(MTe);return PTe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),TTe(t,e,{leading:n,maxWait:e,trailing:s})}var DTe=RTe;const PG=vr(DTe);function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function L0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){ITe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ITe(t,e,r){return e=$Te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Te(t){var e=LTe(t,"string");return lx(e)=="symbol"?e:e+""}function LTe(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FTe(t,e){return UTe(t)||VTe(t,e)||zTe(t,e)||BTe()}function BTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(t,e){if(t){if(typeof t=="string")return XL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XL(t,e)}}function XL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function UTe(t){if(Array.isArray(t))return t}var Vs=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=t.width,i=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,p=t.debounce,g=p===void 0?0:p,v=t.id,b=t.className,y=t.onResize,w=t.style,N=w===void 0?{}:w,j=x.useRef(null),_=x.useRef();_.current=y,x.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=x.useState({containerWidth:s.width,containerHeight:s.height}),C=FTe(S,2),k=C[0],A=C[1],O=x.useCallback(function(R,I){A(function($){var B=Math.round(R),L=Math.round(I);return $.containerWidth===B&&$.containerHeight===L?$:{containerWidth:B,containerHeight:L}})},[]);x.useEffect(function(){var R=function(T){var q,Z=T[0].contentRect,M=Z.width,W=Z.height;O(M,W),(q=_.current)===null||q===void 0||q.call(_,M,W)};g>0&&(R=PG(R,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(R),$=j.current.getBoundingClientRect(),B=$.width,L=$.height;return O(B,L),I.observe(j.current),function(){I.disconnect()}},[O,g]);var P=x.useMemo(function(){var R=k.containerWidth,I=k.containerHeight;if(R<0||I<0)return null;bi(bd(i)||bd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=bd(i)?R:i,B=bd(c)?I:c;r&&r>0&&($?B=$/r:B&&($=B*r),m&&B>m&&(B=m)),bi($>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,B,i,c,d,f,r);var L=!Array.isArray(h)&&Wl(h.type).endsWith("Chart");return z.Children.map(h,function(E){return z.isValidElement(E)?x.cloneElement(E,L0({width:$,height:B},L?{style:L0({height:"100%",width:"100%",maxHeight:B,maxWidth:$},E.props.style)}:{})):E})},[r,h,c,m,f,d,k,i]);return z.createElement("div",{id:v?"".concat(v):void 0,className:Wt("recharts-responsive-container",b),style:L0(L0({},N),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:j},P)}),wi=function(e){return null};wi.displayName="Cell";function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){qTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qTe(t,e,r){return e=WTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WTe(t){var e=HTe(t,"string");return cx(e)=="symbol"?e:e+""}function HTe(t,e){if(cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eh={widthCache:{},cacheCount:0},KTe=2e3,GTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JL="recharts_measurement_span";function YTe(t){var e=B2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var sv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vu.isSsr)return{width:0,height:0};var n=YTe(r),s=JSON.stringify({text:e,copyStyle:n});if(eh.widthCache[s])return eh.widthCache[s];try{var a=document.getElementById(JL);a||(a=document.createElement("span"),a.setAttribute("id",JL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=B2(B2({},GTe),n);Object.assign(a.style,i),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return eh.widthCache[s]=c,++eh.cacheCount>KTe&&(eh.cacheCount=0,eh.widthCache={}),c}catch{return{width:0,height:0}}},XTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function Vw(t,e){return ePe(t)||ZTe(t,e)||JTe(t,e)||QTe()}function QTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(t,e){if(t){if(typeof t=="string")return ZL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZL(t,e)}}function ZL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function ePe(t){if(Array.isArray(t))return t}function tPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nPe(n.key),n)}}function rPe(t,e,r){return e&&e3(t.prototype,e),r&&e3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nPe(t){var e=sPe(t,"string");return ux(e)=="symbol"?e:e+""}function sPe(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iPe=Object.keys(MG),Ph="NaN";function lPe(t,e){return t*MG[e]}var F0=function(){function t(e,r){tPe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!aPe.test(r)&&(this.num=NaN,this.unit=""),iPe.includes(r)&&(this.num=lPe(e,r),this.unit="px")}return rPe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=oPe.exec(r))!==null&&n!==void 0?n:[],a=Vw(s,3),i=a[1],l=a[2];return new t(parseFloat(i),l??"")}}])}();function RG(t){if(t.includes(Ph))return Ph;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=t3.exec(e))!==null&&r!==void 0?r:[],s=Vw(n,4),a=s[1],i=s[2],l=s[3],c=F0.parse(a??""),u=F0.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ph;e=e.replace(t3,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=r3.exec(e))!==null&&f!==void 0?f:[],h=Vw(m,4),p=h[1],g=h[2],v=h[3],b=F0.parse(p??""),y=F0.parse(v??""),w=g==="+"?b.add(y):b.subtract(y);if(w.isNaN())return Ph;e=e.replace(r3,w.toString())}return e}var n3=/\(([^()]*)\)/;function cPe(t){for(var e=t;e.includes("(");){var r=n3.exec(e),n=Vw(r,2),s=n[1];e=e.replace(n3,RG(s))}return e}function uPe(t){var e=t.replace(/\s+/g,"");return e=cPe(e),e=RG(e),e}function dPe(t){try{return uPe(t)}catch{return Ph}}function fC(t){var e=dPe(t.slice(5,-1));return e===Ph?"":e}var fPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hPe=["dx","dy","angle","className","breakAll"];function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z2.apply(this,arguments)}function s3(t,e){if(t==null)return{};var r=mPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a3(t,e){return xPe(t)||vPe(t,e)||gPe(t,e)||pPe()}function pPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(t,e){if(t){if(typeof t=="string")return o3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o3(t,e)}}function o3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function xPe(t){if(Array.isArray(t))return t}var DG=/[ \f\n\r\t\v\u2028\u2029]+/,IG=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var a=[];Lt(r)||(n?a=r.toString().split(""):a=r.toString().split(DG));var i=a.map(function(c){return{word:c,width:sv(c,s).width}}),l=n?0:sv("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},yPe=function(e,r,n,s,a){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Ie(i),f=l,m=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(B,L){var E=L.word,T=L.width,q=B[B.length-1];if(q&&(s==null||a||q.width+T+n<Number(s)))q.words.push(E),q.width+=T+n;else{var Z={words:[E],width:T};B.push(Z)}return B},[])},h=m(r),p=function($){return $.reduce(function(B,L){return B.width>L.width?B:L})};if(!d)return h;for(var g="",v=function($){var B=f.slice(0,$),L=IG({breakAll:u,style:c,children:B+g}).wordsWithComputedWidth,E=m(L),T=E.length>i||p(E).width>Number(s);return[T,E]},b=0,y=f.length-1,w=0,N;b<=y&&w<=f.length-1;){var j=Math.floor((b+y)/2),_=j-1,S=v(_),C=a3(S,2),k=C[0],A=C[1],O=v(j),P=a3(O,1),R=P[0];if(!k&&!R&&(b=j+1),k&&R&&(y=j-1),!k&&R){N=A;break}w++}return N||h},i3=function(e){var r=Lt(e)?[]:e.toString().split(DG);return[{words:r}]},bPe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,a=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!Vu.isSsr){var c,u,d=IG({breakAll:i,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return i3(s);return yPe({breakAll:i,children:s,maxLines:l,style:a},c,u,r,n)}return i3(s)},l3="#808080",mf=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,p=e.verticalAnchor,g=p===void 0?"end":p,v=e.fill,b=v===void 0?l3:v,y=s3(e,fPe),w=x.useMemo(function(){return bPe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,j=y.dy,_=y.angle,S=y.className,C=y.breakAll,k=s3(y,hPe);if(!rs(n)||!rs(a))return null;var A=n+(Ie(N)?N:0),O=a+(Ie(j)?j:0),P;switch(g){case"start":P=fC("calc(".concat(u,")"));break;case"middle":P=fC("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=fC("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(f){var I=w[0].width,$=y.width;R.push("scale(".concat((Ie($)?$/I:1)/I,")"))}return _&&R.push("rotate(".concat(_,", ").concat(A,", ").concat(O,")")),R.length&&(k.transform=R.join(" ")),z.createElement("text",z2({},xt(k,!0),{x:A,y:O,className:Wt("recharts-text",S),textAnchor:h,fill:b.includes("url")?l3:b}),w.map(function(B,L){var E=B.words.join(C?"":" ");return z.createElement("tspan",{x:A,dy:L===0?P:l,key:"".concat(E,"-").concat(L)},E)}))};function du(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PM(t){let e,r,n;t.length!==2?(e=du,r=(l,c)=>du(t(l),c),n=(l,c)=>t(l)-c):(e=t===du||t===wPe?t:jPe,r=t,n=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:i,right:a}}function jPe(){return 0}function $G(t){return t===null?NaN:+t}function*NPe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const _Pe=PM(du),Py=_Pe.right;PM($G).center;class c3 extends Map{constructor(e,r=EPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(u3(this,e))}has(e){return super.has(u3(this,e))}set(e,r){return super.set(SPe(this,e),r)}delete(e){return super.delete(CPe(this,e))}}function u3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function SPe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function CPe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function EPe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kPe(t=du){if(t===du)return LG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function LG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const APe=Math.sqrt(50),OPe=Math.sqrt(10),TPe=Math.sqrt(2);function Uw(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),i=a>=APe?10:a>=OPe?5:a>=TPe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Uw(t,e,r*2):[l,c,u]}function V2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,a,i]=n?Uw(e,t,r):Uw(t,e,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(a-u)/-i;else for(let u=0;u<l;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(s+u)/-i;else for(let u=0;u<l;++u)c[u]=(s+u)*i;return c}function U2(t,e,r){return e=+e,t=+t,r=+r,Uw(t,e,r)[2]}function q2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?U2(e,t,r):U2(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function d3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function f3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FG(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?LG:kPe(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),p=Math.min(n,Math.floor(e+(c-u)*f/c+m));FG(t,e,h,p,s)}const a=t[e];let i=r,l=n;for(mg(t,r,e),s(t[n],a)>0&&mg(t,r,n);i<l;){for(mg(t,i,l),++i,--l;s(t[i],a)<0;)++i;for(;s(t[l],a)>0;)--l}s(t[r],a)===0?mg(t,r,l):(++l,mg(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function mg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function PPe(t,e,r){if(t=Float64Array.from(NPe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return f3(t);if(e>=1)return d3(t);var n,s=(n-1)*e,a=Math.floor(s),i=d3(FG(t,a).subarray(0,a+1)),l=f3(t.subarray(a+1));return i+(l-i)*(s-a)}}function MPe(t,e,r=$G){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,a=Math.floor(s),i=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return i+(l-i)*(s-a)}}function RPe(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(s);++n<s;)a[n]=t+n*r;return a}function Wo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function uc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const W2=Symbol("implicit");function MM(){var t=new c3,e=[],r=[],n=W2;function s(a){let i=t.get(a);if(i===void 0){if(n!==W2)return n;t.set(a,i=e.push(a)-1)}return r[i%r.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new c3;for(const i of a)t.has(i)||t.set(i,e.push(i)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return MM(e,r).unknown(n)},Wo.apply(s,arguments),s}function dx(){var t=MM().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,a,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=s<n,p=h?s:n,g=h?n:s;a=(g-p)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),p+=(g-p-a*(m-c))*d,i=a*(1-c),l&&(p=Math.round(p),i=Math.round(i));var v=RPe(m).map(function(b){return p+a*b});return r(h?v.reverse():v)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,s]=m,n=+n,s=+s,f()):[n,s]},t.rangeRound=function(m){return[n,s]=m,n=+n,s=+s,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return dx(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Wo.apply(f(),arguments)}function BG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return BG(e())},t}function av(){return BG(dx.apply(null,arguments).paddingInner(1))}function RM(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function zG(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function My(){}var fx=.7,qw=1/fx,Qh="\\s*([+-]?\\d+)\\s*",hx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DPe=/^#([0-9a-f]{3,8})$/,IPe=new RegExp(`^rgb\\(${Qh},${Qh},${Qh}\\)$`),$Pe=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),LPe=new RegExp(`^rgba\\(${Qh},${Qh},${Qh},${hx}\\)$`),FPe=new RegExp(`^rgba\\(${tl},${tl},${tl},${hx}\\)$`),BPe=new RegExp(`^hsl\\(${hx},${tl},${tl}\\)$`),zPe=new RegExp(`^hsla\\(${hx},${tl},${tl},${hx}\\)$`),h3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RM(My,mx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:m3,formatHex:m3,formatHex8:VPe,formatHsl:UPe,formatRgb:p3,toString:p3});function m3(){return this.rgb().formatHex()}function VPe(){return this.rgb().formatHex8()}function UPe(){return VG(this).formatHsl()}function p3(){return this.rgb().formatRgb()}function mx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=DPe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?g3(e):r===3?new Aa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?B0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?B0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=IPe.exec(t))?new Aa(e[1],e[2],e[3],1):(e=$Pe.exec(t))?new Aa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LPe.exec(t))?B0(e[1],e[2],e[3],e[4]):(e=FPe.exec(t))?B0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BPe.exec(t))?y3(e[1],e[2]/100,e[3]/100,1):(e=zPe.exec(t))?y3(e[1],e[2]/100,e[3]/100,e[4]):h3.hasOwnProperty(t)?g3(h3[t]):t==="transparent"?new Aa(NaN,NaN,NaN,0):null}function g3(t){return new Aa(t>>16&255,t>>8&255,t&255,1)}function B0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Aa(t,e,r,n)}function qPe(t){return t instanceof My||(t=mx(t)),t?(t=t.rgb(),new Aa(t.r,t.g,t.b,t.opacity)):new Aa}function H2(t,e,r,n){return arguments.length===1?qPe(t):new Aa(t,e,r,n??1)}function Aa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}RM(Aa,H2,zG(My,{brighter(t){return t=t==null?qw:Math.pow(qw,t),new Aa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fx:Math.pow(fx,t),new Aa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Aa(Ud(this.r),Ud(this.g),Ud(this.b),Ww(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v3,formatHex:v3,formatHex8:WPe,formatRgb:x3,toString:x3}));function v3(){return`#${wd(this.r)}${wd(this.g)}${wd(this.b)}`}function WPe(){return`#${wd(this.r)}${wd(this.g)}${wd(this.b)}${wd((isNaN(this.opacity)?1:this.opacity)*255)}`}function x3(){const t=Ww(this.opacity);return`${t===1?"rgb(":"rgba("}${Ud(this.r)}, ${Ud(this.g)}, ${Ud(this.b)}${t===1?")":`, ${t})`}`}function Ww(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ud(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wd(t){return t=Ud(t),(t<16?"0":"")+t.toString(16)}function y3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ci(t,e,r,n)}function VG(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);if(t instanceof My||(t=mx(t)),!t)return new ci;if(t instanceof ci)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),i=NaN,l=a-s,c=(a+s)/2;return l?(e===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new ci(i,l,c,t.opacity)}function HPe(t,e,r,n){return arguments.length===1?VG(t):new ci(t,e,r,n??1)}function ci(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}RM(ci,HPe,zG(My,{brighter(t){return t=t==null?qw:Math.pow(qw,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fx:Math.pow(fx,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Aa(hC(t>=240?t-240:t+120,s,n),hC(t,s,n),hC(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new ci(b3(this.h),z0(this.s),z0(this.l),Ww(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ww(this.opacity);return`${t===1?"hsl(":"hsla("}${b3(this.h)}, ${z0(this.s)*100}%, ${z0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function b3(t){return t=(t||0)%360,t<0?t+360:t}function z0(t){return Math.max(0,Math.min(1,t||0))}function hC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const DM=t=>()=>t;function KPe(t,e){return function(r){return t+r*e}}function GPe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function YPe(t){return(t=+t)==1?UG:function(e,r){return r-e?GPe(e,r,t):DM(isNaN(e)?r:e)}}function UG(t,e){var r=e-t;return r?KPe(t,r):DM(isNaN(t)?e:t)}const w3=function t(e){var r=YPe(e);function n(s,a){var i=r((s=H2(s)).r,(a=H2(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=UG(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=t,n}(1);function XPe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function QPe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JPe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)s[i]=Kp(t[i],e[i]);for(;i<r;++i)a[i]=e[i];return function(l){for(i=0;i<n;++i)a[i]=s[i](l);return a}}function ZPe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Hw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function eMe(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Kp(t[s],e[s]):n[s]=e[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var K2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mC=new RegExp(K2.source,"g");function tMe(t){return function(){return t}}function rMe(t){return function(e){return t(e)+""}}function nMe(t,e){var r=K2.lastIndex=mC.lastIndex=0,n,s,a,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=K2.exec(t))&&(s=mC.exec(e));)(a=s.index)>r&&(a=e.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:Hw(n,s)})),r=mC.lastIndex;return r<e.length&&(a=e.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?rMe(c[0].x):tMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Kp(t,e){var r=typeof e,n;return e==null||r==="boolean"?DM(e):(r==="number"?Hw:r==="string"?(n=mx(e))?(e=n,w3):nMe:e instanceof mx?w3:e instanceof Date?ZPe:QPe(e)?XPe:Array.isArray(e)?JPe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eMe:Hw)(t,e)}function IM(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function sMe(t,e){e===void 0&&(e=t,t=Kp);for(var r=0,n=e.length-1,s=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(s,s=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[l](i-l)}}function aMe(t){return function(){return t}}function Kw(t){return+t}var j3=[0,1];function oa(t){return t}function G2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:aMe(isNaN(e)?NaN:.5)}function oMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iMe(t,e,r){var n=t[0],s=t[1],a=e[0],i=e[1];return s<n?(n=G2(s,n),a=r(i,a)):(n=G2(n,s),a=r(a,i)),function(l){return a(n(l))}}function lMe(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),a=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)s[i]=G2(t[i],t[i+1]),a[i]=r(e[i],e[i+1]);return function(l){var c=Py(t,l,1,n)-1;return a[c](s[c](l))}}function Ry(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r_(){var t=j3,e=j3,r=Kp,n,s,a,i=oa,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==oa&&(i=oMe(t[0],t[m-1])),l=m>2?lMe:iMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(s((u||(u=l(e,t.map(n),Hw)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,Kw),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=IM,d()},f.clamp=function(m){return arguments.length?(i=m?!0:oa,d()):i!==oa},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,h){return n=m,s=h,d()}}function $M(){return r_()(oa,oa)}function cMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Rm(t){return t=Gw(Math.abs(t)),t?t[1]:NaN}function uMe(t,e){return function(r,n){for(var s=r.length,a=[],i=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return a.reverse().join(e)}}function dMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var fMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function px(t){if(!(e=fMe.exec(t)))throw new Error("invalid format: "+t);var e;return new LM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}px.prototype=LM.prototype;function LM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hMe(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var qG;function mMe(t,e){var r=Gw(t,e);if(!r)return t+"";var n=r[0],s=r[1],a=s-(qG=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Gw(t,Math.max(0,e+a-1))[0]}function N3(t,e){var r=Gw(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const _3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>N3(t*100,e),r:N3,s:mMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function S3(t){return t}var C3=Array.prototype.map,E3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pMe(t){var e=t.grouping===void 0||t.thousands===void 0?S3:uMe(C3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?S3:dMe(C3.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=px(f);var m=f.fill,h=f.align,p=f.sign,g=f.symbol,v=f.zero,b=f.width,y=f.comma,w=f.precision,N=f.trim,j=f.type;j==="n"?(y=!0,j="g"):_3[j]||(w===void 0&&(w=12),N=!0,j="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=g==="$"?n:/[%p]/.test(j)?i:"",C=_3[j],k=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(O){var P=_,R=S,I,$,B;if(j==="c")R=C(O)+R,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),w),N&&(O=hMe(O)),L&&+O==0&&p!=="+"&&(L=!1),P=(L?p==="("?p:l:p==="-"||p==="("?"":p)+P,R=(j==="s"?E3[8+qG/3]:"")+R+(L&&p==="("?")":""),k){for(I=-1,$=O.length;++I<$;)if(B=O.charCodeAt(I),48>B||B>57){R=(B===46?s+O.slice(I+1):O.slice(I))+R,O=O.slice(0,I);break}}}y&&!v&&(O=e(O,1/0));var E=P.length+O.length+R.length,T=E<b?new Array(b-E+1).join(m):"";switch(y&&v&&(O=e(T+O,T.length?b-R.length:1/0),T=""),h){case"<":O=P+O+R+T;break;case"=":O=P+T+O+R;break;case"^":O=T.slice(0,E=T.length>>1)+P+O+R+T.slice(E);break;default:O=T+P+O+R;break}return a(O)}return A.toString=function(){return f+""},A}function d(f,m){var h=u((f=px(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Rm(m)/3)))*3,g=Math.pow(10,-p),v=E3[8+p/3];return function(b){return h(g*b)+v}}return{format:u,formatPrefix:d}}var V0,FM,WG;gMe({thousands:",",grouping:[3],currency:["$",""]});function gMe(t){return V0=pMe(t),FM=V0.format,WG=V0.formatPrefix,V0}function vMe(t){return Math.max(0,-Rm(Math.abs(t)))}function xMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rm(e)/3)))*3-Rm(Math.abs(t)))}function yMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rm(e)-Rm(t))+1}function HG(t,e,r,n){var s=q2(t,e,r),a;switch(n=px(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=xMe(s,i))&&(n.precision=a),WG(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yMe(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=vMe(s))&&(n.precision=a-(n.type==="%")*2);break}}return FM(n)}function Uu(t){var e=t.domain;return t.ticks=function(r){var n=e();return V2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return HG(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,a=n.length-1,i=n[s],l=n[a],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=U2(i,l,r),u===c)return n[s]=i,n[a]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Yw(){var t=$M();return t.copy=function(){return Ry(t,Yw())},Wo.apply(t,arguments),Uu(t)}function KG(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Kw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return KG(t).unknown(e)},t=arguments.length?Array.from(t,Kw):[0,1],Uu(r)}function GG(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],a=t[n],i;return a<s&&(i=r,r=n,n=i,i=s,s=a,a=i),t[r]=e.floor(s),t[n]=e.ceil(a),t}function k3(t){return Math.log(t)}function A3(t){return Math.exp(t)}function bMe(t){return-Math.log(-t)}function wMe(t){return-Math.exp(-t)}function jMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NMe(t){return t===10?jMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _Me(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function O3(t){return(e,r)=>-t(-e,r)}function BM(t){const e=t(k3,A3),r=e.domain;let n=10,s,a;function i(){return s=_Me(n),a=NMe(n),r()[0]<0?(s=O3(s),a=O3(a),t(bMe,wMe)):t(k3,A3),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=s(u),h=s(d),p,g;const v=l==null?10:+l;let b=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(g=m<0?p/a(-m):p*a(m),!(g<u)){if(g>d)break;b.push(g)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(g=m>0?p/a(-m):p*a(m),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=V2(u,d,v))}else b=V2(m,h,Math.min(h-m,v)).map(a);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=px(c)).precision==null&&(c.trim=!0),c=FM(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(GG(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function YG(){const t=BM(r_()).domain([1,10]);return t.copy=()=>Ry(t,YG()).base(t.base()),Wo.apply(t,arguments),t}function T3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zM(t){var e=1,r=t(T3(e),P3(e));return r.constant=function(n){return arguments.length?t(T3(e=+n),P3(e)):e},Uu(r)}function XG(){var t=zM(r_());return t.copy=function(){return Ry(t,XG()).constant(t.constant())},Wo.apply(t,arguments)}function M3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function SMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function CMe(t){return t<0?-t*t:t*t}function VM(t){var e=t(oa,oa),r=1;function n(){return r===1?t(oa,oa):r===.5?t(SMe,CMe):t(M3(r),M3(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},Uu(e)}function UM(){var t=VM(r_());return t.copy=function(){return Ry(t,UM()).exponent(t.exponent())},Wo.apply(t,arguments),t}function EMe(){return UM.apply(null,arguments).exponent(.5)}function R3(t){return Math.sign(t)*t*t}function kMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function QG(){var t=$M(),e=[0,1],r=!1,n;function s(a){var i=kMe(t(a));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(a){return t.invert(R3(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,Kw)).map(R3)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return QG(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wo.apply(s,arguments),Uu(s)}function JG(){var t=[],e=[],r=[],n;function s(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=MPe(t,i/l);return a}function a(i){return i==null||isNaN(i=+i)?n:e[Py(r,i)]}return a.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(du),s()},a.range=function(i){return arguments.length?(e=Array.from(i),s()):e.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return JG().domain(t).range(e).unknown(n)},Wo.apply(a,arguments)}function ZG(){var t=0,e=1,r=1,n=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[Py(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return ZG().domain([t,e]).range(s).unknown(a)},Wo.apply(Uu(i),arguments)}function eY(){var t=[.5],e=[0,1],r,n=1;function s(a){return a!=null&&a<=a?e[Py(t,a,0,n)]:r}return s.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var i=e.indexOf(a);return[t[i-1],t[i]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return eY().domain(t).range(e).unknown(r)},Wo.apply(s,arguments)}const pC=new Date,gC=new Date;function ls(t,e,r,n){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const i=s(a),l=s.ceil(a);return a-i<l-a?i:l},s.offset=(a,i)=>(e(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<i);return c},s.filter=a=>ls(i=>{if(i>=i)for(;t(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!a(i););else for(;--l>=0;)for(;e(i,1),!a(i););}),r&&(s.count=(a,i)=>(pC.setTime(+a),gC.setTime(+i),t(pC),t(gC),Math.floor(r(pC,gC))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?i=>n(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const Xw=ls(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ls(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Xw);Xw.range;const Bl=1e3,To=Bl*60,zl=To*60,rc=zl*24,qM=rc*7,D3=rc*30,vC=rc*365,jd=ls(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bl)},(t,e)=>(e-t)/Bl,t=>t.getUTCSeconds());jd.range;const WM=ls(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getMinutes());WM.range;const HM=ls(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCMinutes());HM.range;const KM=ls(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bl-t.getMinutes()*To)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getHours());KM.range;const GM=ls(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getUTCHours());GM.range;const Dy=ls(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/rc,t=>t.getDate()-1);Dy.range;const n_=ls(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rc,t=>t.getUTCDate()-1);n_.range;const tY=ls(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rc,t=>Math.floor(t/rc));tY.range;function $f(t){return ls(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*To)/qM)}const s_=$f(0),Qw=$f(1),AMe=$f(2),OMe=$f(3),Dm=$f(4),TMe=$f(5),PMe=$f(6);s_.range;Qw.range;AMe.range;OMe.range;Dm.range;TMe.range;PMe.range;function Lf(t){return ls(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/qM)}const a_=Lf(0),Jw=Lf(1),MMe=Lf(2),RMe=Lf(3),Im=Lf(4),DMe=Lf(5),IMe=Lf(6);a_.range;Jw.range;MMe.range;RMe.range;Im.range;DMe.range;IMe.range;const YM=ls(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YM.range;const XM=ls(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XM.range;const nc=ls(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());nc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ls(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});nc.range;const sc=ls(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ls(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});sc.range;function rY(t,e,r,n,s,a){const i=[[jd,1,Bl],[jd,5,5*Bl],[jd,15,15*Bl],[jd,30,30*Bl],[a,1,To],[a,5,5*To],[a,15,15*To],[a,30,30*To],[s,1,zl],[s,3,3*zl],[s,6,6*zl],[s,12,12*zl],[n,1,rc],[n,2,2*rc],[r,1,qM],[e,1,D3],[e,3,3*D3],[t,1,vC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=PM(([,,v])=>v).right(i,m);if(h===i.length)return t.every(q2(u/vC,d/vC,f));if(h===0)return Xw.every(Math.max(q2(u,d,f),1));const[p,g]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return p.every(g)}return[l,c]}const[$Me,LMe]=rY(sc,XM,a_,tY,GM,HM),[FMe,BMe]=rY(nc,YM,s_,Dy,KM,WM);function xC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function zMe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,a=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=gg(s),d=vg(s),f=gg(a),m=vg(a),h=gg(i),p=vg(i),g=gg(l),v=vg(l),b=gg(c),y=vg(c),w={a:L,A:E,b:T,B:q,c:null,d:z3,e:z3,f:uRe,g:bRe,G:jRe,H:iRe,I:lRe,j:cRe,L:nY,m:dRe,M:fRe,p:Z,q:M,Q:q3,s:W3,S:hRe,u:mRe,U:pRe,V:gRe,w:vRe,W:xRe,x:null,X:null,y:yRe,Y:wRe,Z:NRe,"%":U3},N={a:W,A:re,b:se,B:je,c:null,d:V3,e:V3,f:ERe,g:$Re,G:FRe,H:_Re,I:SRe,j:CRe,L:aY,m:kRe,M:ARe,p:pe,q:Ue,Q:q3,s:W3,S:ORe,u:TRe,U:PRe,V:MRe,w:RRe,W:DRe,x:null,X:null,y:IRe,Y:LRe,Z:BRe,"%":U3},j={a:A,A:O,b:P,B:R,c:I,d:F3,e:F3,f:nRe,g:L3,G:$3,H:B3,I:B3,j:ZMe,L:rRe,m:JMe,M:eRe,p:k,q:QMe,Q:aRe,s:oRe,S:tRe,u:HMe,U:KMe,V:GMe,w:WMe,W:YMe,x:$,X:B,y:L3,Y:$3,Z:XMe,"%":sRe};w.x=_(r,w),w.X=_(n,w),w.c=_(e,w),N.x=_(r,N),N.X=_(n,N),N.c=_(e,N);function _(ce,we){return function(be){var ue=[],_t=-1,ht=0,le=ce.length,Ye,vt,Rt;for(be instanceof Date||(be=new Date(+be));++_t<le;)ce.charCodeAt(_t)===37&&(ue.push(ce.slice(ht,_t)),(vt=I3[Ye=ce.charAt(++_t)])!=null?Ye=ce.charAt(++_t):vt=Ye==="e"?" ":"0",(Rt=we[Ye])&&(Ye=Rt(be,vt)),ue.push(Ye),ht=_t+1);return ue.push(ce.slice(ht,_t)),ue.join("")}}function S(ce,we){return function(be){var ue=pg(1900,void 0,1),_t=C(ue,ce,be+="",0),ht,le;if(_t!=be.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(we&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(ht=yC(pg(ue.y,0,1)),le=ht.getUTCDay(),ht=le>4||le===0?Jw.ceil(ht):Jw(ht),ht=n_.offset(ht,(ue.V-1)*7),ue.y=ht.getUTCFullYear(),ue.m=ht.getUTCMonth(),ue.d=ht.getUTCDate()+(ue.w+6)%7):(ht=xC(pg(ue.y,0,1)),le=ht.getDay(),ht=le>4||le===0?Qw.ceil(ht):Qw(ht),ht=Dy.offset(ht,(ue.V-1)*7),ue.y=ht.getFullYear(),ue.m=ht.getMonth(),ue.d=ht.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),le="Z"in ue?yC(pg(ue.y,0,1)).getUTCDay():xC(pg(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(le+5)%7:ue.w+ue.U*7-(le+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,yC(ue)):xC(ue)}}function C(ce,we,be,ue){for(var _t=0,ht=we.length,le=be.length,Ye,vt;_t<ht;){if(ue>=le)return-1;if(Ye=we.charCodeAt(_t++),Ye===37){if(Ye=we.charAt(_t++),vt=j[Ye in I3?we.charAt(_t++):Ye],!vt||(ue=vt(ce,be,ue))<0)return-1}else if(Ye!=be.charCodeAt(ue++))return-1}return ue}function k(ce,we,be){var ue=u.exec(we.slice(be));return ue?(ce.p=d.get(ue[0].toLowerCase()),be+ue[0].length):-1}function A(ce,we,be){var ue=h.exec(we.slice(be));return ue?(ce.w=p.get(ue[0].toLowerCase()),be+ue[0].length):-1}function O(ce,we,be){var ue=f.exec(we.slice(be));return ue?(ce.w=m.get(ue[0].toLowerCase()),be+ue[0].length):-1}function P(ce,we,be){var ue=b.exec(we.slice(be));return ue?(ce.m=y.get(ue[0].toLowerCase()),be+ue[0].length):-1}function R(ce,we,be){var ue=g.exec(we.slice(be));return ue?(ce.m=v.get(ue[0].toLowerCase()),be+ue[0].length):-1}function I(ce,we,be){return C(ce,e,we,be)}function $(ce,we,be){return C(ce,r,we,be)}function B(ce,we,be){return C(ce,n,we,be)}function L(ce){return i[ce.getDay()]}function E(ce){return a[ce.getDay()]}function T(ce){return c[ce.getMonth()]}function q(ce){return l[ce.getMonth()]}function Z(ce){return s[+(ce.getHours()>=12)]}function M(ce){return 1+~~(ce.getMonth()/3)}function W(ce){return i[ce.getUTCDay()]}function re(ce){return a[ce.getUTCDay()]}function se(ce){return c[ce.getUTCMonth()]}function je(ce){return l[ce.getUTCMonth()]}function pe(ce){return s[+(ce.getUTCHours()>=12)]}function Ue(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var we=_(ce+="",w);return we.toString=function(){return ce},we},parse:function(ce){var we=S(ce+="",!1);return we.toString=function(){return ce},we},utcFormat:function(ce){var we=_(ce+="",N);return we.toString=function(){return ce},we},utcParse:function(ce){var we=S(ce+="",!0);return we.toString=function(){return ce},we}}}var I3={"-":"",_:" ",0:"0"},bs=/^\s*\d+/,VMe=/^%/,UMe=/[\\^$*+?|[\]().{}]/g;function gr(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(e)+s:s)}function qMe(t){return t.replace(UMe,"\\$&")}function gg(t){return new RegExp("^(?:"+t.map(qMe).join("|")+")","i")}function vg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function WMe(t,e,r){var n=bs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function HMe(t,e,r){var n=bs.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function KMe(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function GMe(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function YMe(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function $3(t,e,r){var n=bs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function L3(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XMe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QMe(t,e,r){var n=bs.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function JMe(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function F3(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ZMe(t,e,r){var n=bs.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function B3(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function eRe(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function tRe(t,e,r){var n=bs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function rRe(t,e,r){var n=bs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function nRe(t,e,r){var n=bs.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sRe(t,e,r){var n=VMe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function aRe(t,e,r){var n=bs.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function oRe(t,e,r){var n=bs.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function z3(t,e){return gr(t.getDate(),e,2)}function iRe(t,e){return gr(t.getHours(),e,2)}function lRe(t,e){return gr(t.getHours()%12||12,e,2)}function cRe(t,e){return gr(1+Dy.count(nc(t),t),e,3)}function nY(t,e){return gr(t.getMilliseconds(),e,3)}function uRe(t,e){return nY(t,e)+"000"}function dRe(t,e){return gr(t.getMonth()+1,e,2)}function fRe(t,e){return gr(t.getMinutes(),e,2)}function hRe(t,e){return gr(t.getSeconds(),e,2)}function mRe(t){var e=t.getDay();return e===0?7:e}function pRe(t,e){return gr(s_.count(nc(t)-1,t),e,2)}function sY(t){var e=t.getDay();return e>=4||e===0?Dm(t):Dm.ceil(t)}function gRe(t,e){return t=sY(t),gr(Dm.count(nc(t),t)+(nc(t).getDay()===4),e,2)}function vRe(t){return t.getDay()}function xRe(t,e){return gr(Qw.count(nc(t)-1,t),e,2)}function yRe(t,e){return gr(t.getFullYear()%100,e,2)}function bRe(t,e){return t=sY(t),gr(t.getFullYear()%100,e,2)}function wRe(t,e){return gr(t.getFullYear()%1e4,e,4)}function jRe(t,e){var r=t.getDay();return t=r>=4||r===0?Dm(t):Dm.ceil(t),gr(t.getFullYear()%1e4,e,4)}function NRe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gr(e/60|0,"0",2)+gr(e%60,"0",2)}function V3(t,e){return gr(t.getUTCDate(),e,2)}function _Re(t,e){return gr(t.getUTCHours(),e,2)}function SRe(t,e){return gr(t.getUTCHours()%12||12,e,2)}function CRe(t,e){return gr(1+n_.count(sc(t),t),e,3)}function aY(t,e){return gr(t.getUTCMilliseconds(),e,3)}function ERe(t,e){return aY(t,e)+"000"}function kRe(t,e){return gr(t.getUTCMonth()+1,e,2)}function ARe(t,e){return gr(t.getUTCMinutes(),e,2)}function ORe(t,e){return gr(t.getUTCSeconds(),e,2)}function TRe(t){var e=t.getUTCDay();return e===0?7:e}function PRe(t,e){return gr(a_.count(sc(t)-1,t),e,2)}function oY(t){var e=t.getUTCDay();return e>=4||e===0?Im(t):Im.ceil(t)}function MRe(t,e){return t=oY(t),gr(Im.count(sc(t),t)+(sc(t).getUTCDay()===4),e,2)}function RRe(t){return t.getUTCDay()}function DRe(t,e){return gr(Jw.count(sc(t)-1,t),e,2)}function IRe(t,e){return gr(t.getUTCFullYear()%100,e,2)}function $Re(t,e){return t=oY(t),gr(t.getUTCFullYear()%100,e,2)}function LRe(t,e){return gr(t.getUTCFullYear()%1e4,e,4)}function FRe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Im(t):Im.ceil(t),gr(t.getUTCFullYear()%1e4,e,4)}function BRe(){return"+0000"}function U3(){return"%"}function q3(t){return+t}function W3(t){return Math.floor(+t/1e3)}var th,iY,lY;zRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zRe(t){return th=zMe(t),iY=th.format,th.parse,lY=th.utcFormat,th.utcParse,th}function VRe(t){return new Date(t)}function URe(t){return t instanceof Date?+t:+new Date(+t)}function QM(t,e,r,n,s,a,i,l,c,u){var d=$M(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),N=u("%Y");function j(_){return(c(_)<_?h:l(_)<_?p:i(_)<_?g:a(_)<_?v:n(_)<_?s(_)<_?b:y:r(_)<_?w:N)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?m(Array.from(_,URe)):m().map(VRe)},d.ticks=function(_){var S=m();return t(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?j:u(S)},d.nice=function(_){var S=m();return(!_||typeof _.range!="function")&&(_=e(S[0],S[S.length-1],_??10)),_?m(GG(S,_)):d},d.copy=function(){return Ry(d,QM(t,e,r,n,s,a,i,l,c,u))},d}function qRe(){return Wo.apply(QM(FMe,BMe,nc,YM,s_,Dy,KM,WM,jd,iY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WRe(){return Wo.apply(QM($Me,LMe,sc,XM,a_,n_,GM,HM,jd,lY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function o_(){var t=0,e=1,r,n,s,a,i=oa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,i=f(h,p),u):[i(0),i(1)]}}return u.range=d(Kp),u.rangeRound=d(IM),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),s=r===n?0:1/(n-r),u}}function qu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cY(){var t=Uu(o_()(oa));return t.copy=function(){return qu(t,cY())},uc.apply(t,arguments)}function uY(){var t=BM(o_()).domain([1,10]);return t.copy=function(){return qu(t,uY()).base(t.base())},uc.apply(t,arguments)}function dY(){var t=zM(o_());return t.copy=function(){return qu(t,dY()).constant(t.constant())},uc.apply(t,arguments)}function JM(){var t=VM(o_());return t.copy=function(){return qu(t,JM()).exponent(t.exponent())},uc.apply(t,arguments)}function HRe(){return JM.apply(null,arguments).exponent(.5)}function fY(){var t=[],e=oa;function r(n){if(n!=null&&!isNaN(n=+n))return e((Py(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(du),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>PPe(t,a/n))},r.copy=function(){return fY(e).domain(t)},uc.apply(r,arguments)}function i_(){var t=0,e=.5,r=1,n=1,s,a,i,l,c,u=oa,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-a)*(n*g<n*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,s=d(t=+t),a=d(e=+e),i=d(r=+r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,u=sMe(g,[b,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(Kp),h.rangeRound=p(IM),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,s=g(t),a=g(e),i=g(r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,h}}function hY(){var t=Uu(i_()(oa));return t.copy=function(){return qu(t,hY())},uc.apply(t,arguments)}function mY(){var t=BM(i_()).domain([.1,1,10]);return t.copy=function(){return qu(t,mY()).base(t.base())},uc.apply(t,arguments)}function pY(){var t=zM(i_());return t.copy=function(){return qu(t,pY()).constant(t.constant())},uc.apply(t,arguments)}function ZM(){var t=VM(i_());return t.copy=function(){return qu(t,ZM()).exponent(t.exponent())},uc.apply(t,arguments)}function KRe(){return ZM.apply(null,arguments).exponent(.5)}const H3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dx,scaleDiverging:hY,scaleDivergingLog:mY,scaleDivergingPow:ZM,scaleDivergingSqrt:KRe,scaleDivergingSymlog:pY,scaleIdentity:KG,scaleImplicit:W2,scaleLinear:Yw,scaleLog:YG,scaleOrdinal:MM,scalePoint:av,scalePow:UM,scaleQuantile:JG,scaleQuantize:ZG,scaleRadial:QG,scaleSequential:cY,scaleSequentialLog:uY,scaleSequentialPow:JM,scaleSequentialQuantile:fY,scaleSequentialSqrt:HRe,scaleSequentialSymlog:dY,scaleSqrt:EMe,scaleSymlog:XG,scaleThreshold:eY,scaleTime:qRe,scaleUtc:WRe,tickFormat:HG},Symbol.toStringTag,{value:"Module"}));var GRe=Lp;function YRe(t,e,r){for(var n=-1,s=t.length;++n<s;){var a=t[n],i=e(a);if(i!=null&&(l===void 0?i===i&&!GRe(i):r(i,l)))var l=i,c=a}return c}var l_=YRe;function XRe(t,e){return t>e}var gY=XRe,QRe=l_,JRe=gY,ZRe=Hp;function eDe(t){return t&&t.length?QRe(t,ZRe,JRe):void 0}var tDe=eDe;const Kc=vr(tDe);function rDe(t,e){return t<e}var vY=rDe,nDe=l_,sDe=vY,aDe=Hp;function oDe(t){return t&&t.length?nDe(t,aDe,sDe):void 0}var iDe=oDe;const c_=vr(iDe);var lDe=hM,cDe=gl,uDe=SG,dDe=Ba;function fDe(t,e){var r=dDe(t)?lDe:uDe;return r(t,cDe(e))}var hDe=fDe,mDe=NG,pDe=hDe;function gDe(t,e){return mDe(pDe(t,e),1)}var vDe=gDe;const xDe=vr(vDe);var yDe=kM;function bDe(t,e){return yDe(t,e)}var wDe=bDe;const pf=vr(wDe);var Gp=1e9,jDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tR,Qr=!0,Vo="[DecimalError] ",qd=Vo+"Invalid argument: ",eR=Vo+"Exponent out of range: ",Yp=Math.floor,id=Math.pow,NDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,ds=1e7,Kr=7,xY=9007199254740991,Zw=Yp(xY/Kr),it={};it.absoluteValue=it.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};it.comparedTo=it.cmp=function(t){var e,r,n,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};it.decimalPlaces=it.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Kr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};it.dividedBy=it.div=function(t){return Hl(this,new this.constructor(t))};it.dividedToIntegerBy=it.idiv=function(t){var e=this,r=e.constructor;return Mr(Hl(e,new r(t),0,1),r.precision)};it.equals=it.eq=function(t){return!this.cmp(t)};it.exponent=function(){return zn(this)};it.greaterThan=it.gt=function(t){return this.cmp(t)>0};it.greaterThanOrEqualTo=it.gte=function(t){return this.cmp(t)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(t){return this.cmp(t)<0};it.lessThanOrEqualTo=it.lte=function(t){return this.cmp(t)<1};it.logarithm=it.log=function(t){var e,r=this,n=r.constructor,s=n.precision,a=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Xa))throw Error(Vo+"NaN");if(r.s<1)throw Error(Vo+(r.s?"NaN":"-Infinity"));return r.eq(Xa)?new n(0):(Qr=!1,e=Hl(gx(r,a),gx(t,a),a),Qr=!0,Mr(e,s))};it.minus=it.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wY(e,t):yY(e,(t.s=-t.s,t))};it.modulo=it.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Vo+"NaN");return r.s?(Qr=!1,e=Hl(r,t,0,1).times(t),Qr=!0,r.minus(e)):Mr(new n(r),s)};it.naturalExponential=it.exp=function(){return bY(this)};it.naturalLogarithm=it.ln=function(){return gx(this)};it.negated=it.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};it.plus=it.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yY(e,t):wY(e,(t.s=-t.s,t))};it.precision=it.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qd+t);if(e=zn(s)+1,n=s.d.length-1,r=n*Kr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};it.squareRoot=it.sqrt=function(){var t,e,r,n,s,a,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vo+"NaN")}for(t=zn(l),Qr=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Ki(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Yp((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=i=r+3;;)if(a=n,n=a.plus(Hl(l,a,i+2)).times(.5),Ki(a.d).slice(0,i)===(e=Ki(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),s==i&&e=="4999"){if(Mr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;i+=4}return Qr=!0,Mr(n,r)};it.times=it.mul=function(t){var e,r,n,s,a,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(a=m,m=h,h=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=a[s]+h[n]*m[s-n-1]+e,a[s--]=l%ds|0,e=l/ds|0;a[s]=(a[s]+e)%ds|0}for(;!a[--i];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Qr?Mr(t,f.precision):t};it.toDecimalPlaces=it.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(il(t,0,Gp),e===void 0?e=n.rounding:il(e,0,8),Mr(r,t+zn(r)+1,e))};it.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=gf(n,!0):(il(t,0,Gp),e===void 0?e=s.rounding:il(e,0,8),n=Mr(new s(n),t+1,e),r=gf(n,!0,t+1)),r};it.toFixed=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?gf(s):(il(t,0,Gp),e===void 0?e=a.rounding:il(e,0,8),n=Mr(new a(s),t+zn(s)+1,e),r=gf(n.abs(),!1,t+zn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};it.toInteger=it.toint=function(){var t=this,e=t.constructor;return Mr(new e(t),zn(t)+1,e.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(t){var e,r,n,s,a,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Xa);if(l=new c(l),!l.s){if(t.s<1)throw Error(Vo+"Infinity");return l}if(l.eq(Xa))return l;if(n=c.precision,t.eq(Xa))return Mr(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,a=l.s,i){if((r=d<0?-d:d)<=xY){for(s=new c(Xa),e=Math.ceil(n/Kr+4),Qr=!1;r%2&&(s=s.times(l),G3(s.d,e)),r=Yp(r/2),r!==0;)l=l.times(l),G3(l.d,e);return Qr=!0,t.s<0?new c(Xa).div(s):Mr(s,n)}}else if(a<0)throw Error(Vo+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Qr=!1,s=t.times(gx(l,n+u)),Qr=!0,s=bY(s),s.s=a,s};it.toPrecision=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?(r=zn(s),n=gf(s,r<=a.toExpNeg||r>=a.toExpPos)):(il(t,1,Gp),e===void 0?e=a.rounding:il(e,0,8),s=Mr(new a(s),t,e),r=zn(s),n=gf(s,t<=r||r<=a.toExpNeg,t)),n};it.toSignificantDigits=it.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(il(t,1,Gp),e===void 0?e=n.rounding:il(e,0,8)),Mr(new n(r),t,e)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),r=t.constructor;return gf(t,e<=r.toExpNeg||e>=r.toExpPos)};function yY(t,e){var r,n,s,a,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Qr?Mr(e,f):e;if(c=t.d,u=e.d,i=t.e,s=e.e,c=c.slice(),a=i-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=i,l=c.length),i=Math.ceil(f/Kr),l=i>l?i+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/ds|0,c[a]%=ds;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Qr?Mr(e,f):e}function il(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qd+t)}function Ki(t){var e,r,n,s=t.length-1,a="",i=t[0];if(s>0){for(a+=i,e=1;e<s;e++)n=t[e]+"",r=Kr-n.length,r&&(a+=Sc(r)),a+=n;i=t[e],n=i+"",r=Kr-n.length,r&&(a+=Sc(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var Hl=function(){function t(n,s){var a,i=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+i,n[l]=a%ds|0,i=a/ds|0;return i&&n.unshift(i),n}function e(n,s,a,i){var l,c;if(a!=i)c=a>i?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var i=0;a--;)n[a]-=i,i=n[a]<s[a]?1:0,n[a]=i*ds+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,i){var l,c,u,d,f,m,h,p,g,v,b,y,w,N,j,_,S,C,k=n.constructor,A=n.s==s.s?1:-1,O=n.d,P=s.d;if(!n.s)return new k(n);if(!s.s)throw Error(Vo+"Division by zero");for(c=n.e-s.e,S=P.length,j=O.length,h=new k(A),p=h.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,a==null?y=a=k.precision:i?y=a+(zn(n)-zn(s))+1:y=a,y<0)return new k(0);if(y=y/Kr+2|0,u=0,S==1)for(d=0,P=P[0],y++;(u<j||d)&&y--;u++)w=d*ds+(O[u]||0),p[u]=w/P|0,d=w%P|0;else{for(d=ds/(P[0]+1)|0,d>1&&(P=t(P,d),O=t(O,d),S=P.length,j=O.length),N=S,g=O.slice(0,S),v=g.length;v<S;)g[v++]=0;C=P.slice(),C.unshift(0),_=P[0],P[1]>=ds/2&&++_;do d=0,l=e(P,g,S,v),l<0?(b=g[0],S!=v&&(b=b*ds+(g[1]||0)),d=b/_|0,d>1?(d>=ds&&(d=ds-1),f=t(P,d),m=f.length,v=g.length,l=e(f,g,m,v),l==1&&(d--,r(f,S<m?C:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=e(P,g,S,v),l<1&&(d++,r(g,S<v?C:P,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=O[N]||0:(g=[O[N]],v=1);while((N++<j||g[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=c,Mr(h,i?a+zn(h)+1:a)}}();function bY(t,e){var r,n,s,a,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(zn(t)>16)throw Error(eR+zn(t));if(!t.s)return new d(Xa);for(Qr=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(id(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(Xa),d.precision=l;;){if(s=Mr(s.times(t),l),r=r.times(++c),i=a.plus(Hl(s,r,l)),Ki(i.d).slice(0,l)===Ki(a.d).slice(0,l)){for(;u--;)a=Mr(a.times(a),l);return d.precision=f,e==null?(Qr=!0,Mr(a,f)):a}a=i}}function zn(t){for(var e=t.e*Kr,r=t.d[0];r>=10;r/=10)e++;return e}function bC(t,e,r){if(e>t.LN10.sd())throw Qr=!0,r&&(t.precision=r),Error(Vo+"LN10 precision limit exceeded");return Mr(new t(t.LN10),e)}function Sc(t){for(var e="";t--;)e+="0";return e}function gx(t,e){var r,n,s,a,i,l,c,u,d,f=1,m=10,h=t,p=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error(Vo+(h.s?"NaN":"-Infinity"));if(h.eq(Xa))return new g(0);if(e==null?(Qr=!1,u=v):u=e,h.eq(10))return e==null&&(Qr=!0),bC(g,u);if(u+=m,g.precision=u,r=Ki(p),n=r.charAt(0),a=zn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ki(h.d),n=r.charAt(0),f++;a=zn(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return c=bC(g,u+2,v).times(a+""),h=gx(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,e==null?(Qr=!0,Mr(h,v)):h;for(l=i=h=Hl(h.minus(Xa),h.plus(Xa),u),d=Mr(h.times(h),u),s=3;;){if(i=Mr(i.times(d),u),c=l.plus(Hl(i,new g(s),u)),Ki(c.d).slice(0,u)===Ki(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(bC(g,u+2,v).times(a+""))),l=Hl(l,new g(f),u),g.precision=v,e==null?(Qr=!0,Mr(l,v)):l;l=c,s+=2}}function K3(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Yp(r/Kr),t.d=[],n=(r+1)%Kr,r<0&&(n+=Kr),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Kr;n<s;)t.d.push(+e.slice(n,n+=Kr));e=e.slice(n),n=Kr-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Qr&&(t.e>Zw||t.e<-Zw))throw Error(eR+r)}else t.s=0,t.e=0,t.d=[0];return t}function Mr(t,e,r){var n,s,a,i,l,c,u,d,f=t.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=e-i,n<0)n+=Kr,s=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Kr),a=f.length,d>=a)return t;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=Kr,s=n-Kr+i}if(r!==void 0&&(a=id(10,i-s-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/id(10,i-s):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=zn(t),f.length=1,e=e-a-1,f[0]=id(10,(Kr-e%Kr)%Kr),t.e=Yp(-e/Kr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=id(10,Kr-n),f[d]=s>0?(u/id(10,i-s)%id(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==ds&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=ds)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Qr&&(t.e>Zw||t.e<-Zw))throw Error(eR+zn(t));return t}function wY(t,e){var r,n,s,a,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Qr?Mr(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(h/Kr),l)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>i;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=ds-1;--c[a],c[s]+=ds}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Qr?Mr(e,h):e):new m(0)}function gf(t,e,r){var n,s=zn(t),a=Ki(t.d),i=a.length;return e?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+Sc(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Sc(-s-1)+a,r&&(n=r-i)>0&&(a+=Sc(n))):s>=i?(a+=Sc(s+1-i),r&&(n=r-s-1)>0&&(a=a+"."+Sc(n))):((n=s+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(a+="."),a+=Sc(n))),t.s<0?"-"+a:a}function G3(t,e){if(t.length>e)return t.length=e,!0}function jY(t){var e,r,n;function s(a){var i=this;if(!(i instanceof s))return new s(a);if(i.constructor=s,a instanceof s){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qd+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return K3(i,a.toString())}else if(typeof a!="string")throw Error(qd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,NDe.test(a))K3(i,a);else throw Error(qd+a)}if(s.prototype=it,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=jY,s.config=s.set=_De,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function _De(t){if(!t||typeof t!="object")throw Error(Vo+"Object expected");var e,r,n,s=["precision",1,Gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Yp(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(qd+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qd+r+": "+n);return this}var tR=jY(jDe);Xa=new tR(1);const Ar=tR;function SDe(t){return ADe(t)||kDe(t)||EDe(t)||CDe()}function CDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EDe(t,e){if(t){if(typeof t=="string")return Y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y2(t,e)}}function kDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ADe(t){if(Array.isArray(t))return Y2(t)}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ODe=function(e){return e},NY={},_Y=function(e){return e===NY},Y3=function(e){return function r(){return arguments.length===0||arguments.length===1&&_Y(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},TDe=function t(e,r){return e===1?r:Y3(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(function(l){return l!==NY}).length;return i>=e?r.apply(void 0,s):t(e-i,Y3(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return _Y(f)?c.shift():f});return r.apply(void 0,SDe(d).concat(c))}))})},u_=function(e){return TDe(e.length,e)},X2=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},PDe=u_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),MDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ODe;var s=r.reverse(),a=s[0],i=s.slice(1);return function(){return i.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Q2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SY=function(e){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function RDe(t){var e;return t===0?e=1:e=Math.floor(new Ar(t).abs().log(10).toNumber())+1,e}function DDe(t,e,r){for(var n=new Ar(t),s=0,a=[];n.lt(e)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var IDe=u_(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),$De=u_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),LDe=u_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const d_={rangeStep:DDe,getDigitCount:RDe,interpolateNumber:IDe,uninterpolateNumber:$De,uninterpolateTruncation:LDe};function J2(t){return zDe(t)||BDe(t)||CY(t)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zDe(t){if(Array.isArray(t))return Z2(t)}function vx(t,e){return qDe(t)||UDe(t,e)||CY(t,e)||VDe()}function VDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CY(t,e){if(t){if(typeof t=="string")return Z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z2(t,e)}}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UDe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,a=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw a}}return r}}function qDe(t){if(Array.isArray(t))return t}function EY(t){var e=vx(t,2),r=e[0],n=e[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function kY(t,e,r){if(t.lte(0))return new Ar(0);var n=d_.getDigitCount(t.toNumber()),s=new Ar(10).pow(n),a=t.div(s),i=n!==1?.05:.1,l=new Ar(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=l.mul(s);return e?c:new Ar(Math.ceil(c))}function WDe(t,e,r){var n=1,s=new Ar(t);if(!s.isint()&&r){var a=Math.abs(t);a<1?(n=new Ar(10).pow(d_.getDigitCount(t)-1),s=new Ar(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Ar(Math.floor(t)))}else t===0?s=new Ar(Math.floor((e-1)/2)):r||(s=new Ar(Math.floor(t)));var i=Math.floor((e-1)/2),l=MDe(PDe(function(c){return s.add(new Ar(c-i).mul(n)).toNumber()}),X2);return l(0,e)}function AY(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var a=kY(new Ar(e).sub(t).div(r-1),n,s),i;t<=0&&e>=0?i=new Ar(0):(i=new Ar(t).add(e).div(2),i=i.sub(new Ar(i).mod(a)));var l=Math.ceil(i.sub(t).div(a).toNumber()),c=Math.ceil(new Ar(e).sub(i).div(a).toNumber()),u=l+c+1;return u>r?AY(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:i.sub(new Ar(l).mul(a)),tickMax:i.add(new Ar(c).mul(a))})}function HDe(t){var e=vx(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),l=EY([r,n]),c=vx(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(J2(X2(0,s-1).map(function(){return 1/0}))):[].concat(J2(X2(0,s-1).map(function(){return-1/0})),[d]);return r>n?Q2(f):f}if(u===d)return WDe(u,s,a);var m=AY(u,d,i,a),h=m.step,p=m.tickMin,g=m.tickMax,v=d_.rangeStep(p,g.add(new Ar(.1).mul(h)),h);return r>n?Q2(v):v}function KDe(t,e){var r=vx(t,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=EY([n,s]),l=vx(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(e,2),f=kY(new Ar(u).sub(c).div(d-1),a,0),m=[].concat(J2(d_.rangeStep(new Ar(c),new Ar(u).sub(new Ar(.99).mul(f)),f)),[u]);return n>s?Q2(m):m}var GDe=SY(HDe),YDe=SY(KDe),XDe="Invariant failed";function vf(t,e){throw new Error(XDe)}var QDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function ej(){return ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ej.apply(this,arguments)}function JDe(t,e){return rIe(t)||tIe(t,e)||eIe(t,e)||ZDe()}function ZDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eIe(t,e){if(t){if(typeof t=="string")return X3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X3(t,e)}}function X3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function rIe(t){if(Array.isArray(t))return t}function nIe(t,e){if(t==null)return{};var r=sIe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PY(n.key),n)}}function iIe(t,e,r){return e&&oIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lIe(t,e,r){return e=tj(e),cIe(t,OY()?Reflect.construct(e,r||[],tj(t).constructor):e.apply(t,r))}function cIe(t,e){if(e&&($m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uIe(t)}function uIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OY=function(){return!!t})()}function tj(t){return tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tj(t)}function dIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eA(t,e)}function TY(t,e,r){return e=PY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PY(t){var e=fIe(t,"string");return $m(e)=="symbol"?e:e+""}function fIe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iy=function(t){function e(){return aIe(this,e),lIe(this,e,arguments)}return dIe(e,t),iIe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=nIe(n,QDe),h=xt(m,!1);this.props.direction==="x"&&d.type!=="number"&&vf();var p=c.map(function(g){var v=u(g,l),b=v.x,y=v.y,w=v.value,N=v.errorVal;if(!N)return null;var j=[],_,S;if(Array.isArray(N)){var C=JDe(N,2);_=C[0],S=C[1]}else _=S=N;if(a==="vertical"){var k=d.scale,A=y+s,O=A+i,P=A-i,R=k(w-_),I=k(w+S);j.push({x1:I,y1:O,x2:I,y2:P}),j.push({x1:R,y1:A,x2:I,y2:A}),j.push({x1:R,y1:O,x2:R,y2:P})}else if(a==="horizontal"){var $=f.scale,B=b+s,L=B-i,E=B+i,T=$(w-_),q=$(w+S);j.push({x1:L,y1:q,x2:E,y2:q}),j.push({x1:B,y1:T,x2:B,y2:q}),j.push({x1:L,y1:T,x2:E,y2:T})}return z.createElement(sr,ej({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},h),j.map(function(Z){return z.createElement("line",ej({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return z.createElement(sr,{className:"recharts-errorBars"},p)}}])}(z.Component);TY(Iy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TY(Iy,"displayName","ErrorBar");function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){hIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hIe(t,e,r){return e=mIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mIe(t){var e=pIe(t,"string");return xx(e)=="symbol"?e:e+""}function pIe(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MY=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,i=Wa(r,Ia);if(!i)return null;var l=Ia.defaultProps,c=l!==void 0?Qu(Qu({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(g){return{type:i.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?Qu(Qu({},m),f.props):{},p=h.dataKey,g=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:p,type:c.iconType||v||"square",color:rR(f),value:g||p,payload:h}}),Qu(Qu(Qu({},c),Ia.getWithHeight(i,s)),{},{payload:u,item:i})};function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function J3(t){return yIe(t)||xIe(t)||vIe(t)||gIe()}function gIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vIe(t,e){if(t){if(typeof t=="string")return tA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(t,e)}}function xIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yIe(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(r),!0).forEach(function(n){Jh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jh(t,e,r){return e=bIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bIe(t){var e=wIe(t,"string");return yx(e)=="symbol"?e:e+""}function wIe(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e,r){return Lt(t)||Lt(e)?r:rs(e)?ro(t,e,r):Pt(e)?e(t):r}function ov(t,e,r,n){var s=xDe(t,function(l){return kn(l,e)});if(r==="number"){var a=s.filter(function(l){return Ie(l)||parseFloat(l)});return a.length?[c_(a),Kc(a)]:[1/0,-1/0]}var i=n?s.filter(function(l){return!Lt(l)}):s;return i.map(function(l){return rs(l)||l instanceof Date?l:""})}var jIe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,m=u>=l-1?s[0].coordinate:s[u+1].coordinate,h=void 0;if(sa(f-d)!==sa(m-f)){var p=[];if(sa(m-f)===sa(c[1]-c[0])){h=m;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{h=d;var v=m+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){i=s[u].index;break}}else{var y=Math.min(d,m),w=Math.max(d,m);if(e>(y+f)/2&&e<=(w+f)/2){i=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){i=n[N].index;break}return i},rR=function(e){var r,n=e,s=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xn(xn({},e.type.defaultProps),e.props):e.props,i=a.stroke,l=a.fill,c;switch(s){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},NIe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var i={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],g=p.items,v=p.cateAxisId,b=g.filter(function(S){return Wl(S.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?xn(xn({},y),b[0].props):b[0].props,N=w.barSize,j=w[v];i[j]||(i[j]=[]);var _=Lt(N)?r:N;i[j].push({item:b[0],stackList:b.slice(1),barSize:Lt(_)?void 0:aa(_,n,0)})}}return i},_Ie=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,a=e.sizeList,i=a===void 0?[]:a,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=aa(r,s,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=s/c,p=i.reduce(function(N,j){return N+j.barSize||0},0);p+=(c-1)*u,p>=s&&(p-=(c-1)*u,u=0),p>=s&&h>0&&(m=!0,h*=.9,p=c*h);var g=(s-p)/2>>0,v={offset:g-u,size:0};d=i.reduce(function(N,j){var _={item:j.item,position:{offset:v.offset+v.size+u,size:m?h:j.barSize}},S=[].concat(J3(N),[_]);return v=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){S.push({item:C,position:v})}),S},f)}else{var b=aa(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var y=(s-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=i.reduce(function(N,j,_){var S=[].concat(J3(N),[{item:j.item,position:{offset:b+(y+u)*_+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return d},SIe=function(e,r,n,s){var a=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=MY({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&h!=="center"&&Ie(e[h]))return xn(xn({},e),{},Jh({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&p!=="middle"&&Ie(e[p]))return xn(xn({},e),{},Jh({},p,e[p]+(m||0)))}return e},CIe=function(e,r,n){return Lt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},RY=function(e,r,n,s,a){var i=r.props.children,l=no(i,Iy).filter(function(u){return CIe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=kn(d,n);if(Lt(f))return u;var m=Array.isArray(f)?[c_(f),Kc(f)]:[f,f],h=c.reduce(function(p,g){var v=kn(d,g,0),b=m[0]-Math.abs(Array.isArray(v)?v[0]:v),y=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},EIe=function(e,r,n,s,a){var i=r.map(function(l){return RY(e,l,n,a,s)}).filter(function(l){return!Lt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},DY=function(e,r,n,s,a){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&RY(e,c,u,s)||ov(e,u,n,a)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},IY=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},$Y=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var a,i,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(i=!0),c.coordinate});return a||l.push(r),i||l.push(n),l},Vl=function(e,r,n){if(!e)return null;var s=e.scale,a=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?sa(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:s(m)+u,value:f,offset:u}});return d.filter(function(f){return!Up(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:s(f)+u,value:f,index:m,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,m){return{coordinate:s(f)+u,value:a?a[f]:f,index:m,offset:u}})},wC=new WeakMap,U0=function(e,r){if(typeof r!="function")return e;wC.has(e)||wC.set(e,new WeakMap);var n=wC.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},LY=function(e,r,n){var s=e.scale,a=e.type,i=e.layout,l=e.axisType;if(s==="auto")return i==="radial"&&l==="radiusAxis"?{scale:dx(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Yw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:av(),realScaleType:"point"}:a==="category"?{scale:dx(),realScaleType:"band"}:{scale:Yw(),realScaleType:"linear"};if(ff(s)){var c="scale".concat(YN(s));return{scale:(H3[c]||av)(),realScaleType:H3[c]?c:"point"}}return Pt(s)?{scale:s}:{scale:av(),realScaleType:"point"}},e5=1e-4,FY=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),a=Math.min(s[0],s[1])-e5,i=Math.max(s[0],s[1])+e5,l=e(r[0]),c=e(r[n-1]);(l<a||l>i||c<a||c>i)&&e.domain([r[0],r[n-1]])}},kIe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},AIe=function(e,r){if(!r||r.length!==2||!Ie(r[0])||!Ie(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ie(e[0])||e[0]<n)&&(a[0]=n),(!Ie(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},OIe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,i=0,l=0;l<r;++l){var c=Up(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},TIe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,i=0;i<r;++i){var l=Up(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=a,e[i][n][1]=a+l,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},PIe={sign:OIe,expand:QNe,none:Am,silhouette:JNe,wiggle:ZNe,positive:TIe},MIe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),a=PIe[n],i=XNe().keys(s).value(function(l,c){return+kn(l,c,0)}).order(C2).offset(a);return i(e)},RIe=function(e,r,n,s,a,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?xn(xn({},m.type.defaultProps),m.props):m.props,g=p.stackId,v=p.hide;if(v)return f;var b=p[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(rs(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[If("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[m]};return xn(xn({},f),{},Jh({},b,y))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,v){var b=h.stackGroups[v];return xn(xn({},g),{},Jh({},v,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:MIe(e,b.items,a)}))},p)}return xn(xn({},f),{},Jh({},m,h))},d)},BY=function(e,r){var n=r.realScaleType,s=r.type,a=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=GDe(u,a,l);return e.domain([c_(d),Kc(d)]),{niceTicks:d}}if(a&&s==="number"){var f=e.domain(),m=YDe(f,a,l);return{niceTicks:m}}return null};function rj(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,a=t.index,i=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Lt(s[e.dataKey])){var l=kw(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=kn(s,Lt(i)?e.dataKey:i);return Lt(c)?null:e.scale(c)}var t5=function(e){var r=e.axis,n=e.ticks,s=e.offset,a=e.bandSize,i=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=kn(i,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-a/2+s},DIe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},IIe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xn(xn({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(rs(a)){var i=r[a];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},$Ie=function(e){return e.reduce(function(r,n){return[c_(n.concat([r[0]]).filter(Ie)),Kc(n.concat([r[1]]).filter(Ie))]},[1/0,-1/0])},zY=function(e,r,n){return Object.keys(e).reduce(function(s,a){var i=e[a],l=i.stackedData,c=l.reduce(function(u,d){var f=$Ie(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},r5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rA=function(e,r,n){if(Pt(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Ie(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(r5.test(e[0])){var a=+r5.exec(e[0])[1];s[0]=r[0]-a}else Pt(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Ie(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(n5.test(e[1])){var i=+n5.exec(e[1])[1];s[1]=r[1]+i}else Pt(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},nj=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var a=OM(r,function(f){return f.coordinate}),i=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},s5=function(e,r,n){return!e||!e.length||pf(e,ro(n,"type.defaultProps.domain"))?r:e},VY=function(e,r){var n=e.type.defaultProps?xn(xn({},e.type.defaultProps),e.props):e.props,s=n.dataKey,a=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return xn(xn({},xt(e,!1)),{},{dataKey:s,unit:i,formatter:l,name:a||s,color:rR(e),value:kn(r,s),type:c,payload:r,chartType:u,hide:d})};function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){UY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UY(t,e,r){return e=LIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LIe(t){var e=FIe(t,"string");return bx(e)=="symbol"?e:e+""}function FIe(t,e){if(bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BIe(t,e){return qIe(t)||UIe(t,e)||VIe(t,e)||zIe()}function zIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VIe(t,e){if(t){if(typeof t=="string")return o5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o5(t,e)}}function o5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function qIe(t){if(Array.isArray(t))return t}var sj=Math.PI/180,WIe=function(e){return e*180/Math.PI},Lr=function(e,r,n,s){return{x:e+Math.cos(-sj*s)*n,y:r+Math.sin(-sj*s)*n}},qY=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},HIe=function(e,r,n,s,a){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=aa(e.cx,i,i/2),f=aa(e.cy,l,l/2),m=qY(i,l,n),h=aa(e.innerRadius,m,0),p=aa(e.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(v,b){var y=r[b],w=y.domain,N=y.reversed,j;if(Lt(y.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[h,p]),N&&(j=[j[1],j[0]]);else{j=y.range;var _=j,S=BIe(_,2);c=S[0],u=S[1]}var C=LY(y,a),k=C.realScaleType,A=C.scale;A.domain(w).range(j),FY(A);var O=BY(A,Ol(Ol({},y),{},{realScaleType:k})),P=Ol(Ol(Ol({},y),O),{},{range:j,radius:p,realScaleType:k,scale:A,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return Ol(Ol({},v),{},UY({},b,P))},{})},KIe=function(e,r){var n=e.x,s=e.y,a=r.x,i=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-i,2))},GIe=function(e,r){var n=e.x,s=e.y,a=r.cx,i=r.cy,l=KIe({x:n,y:s},{x:a,y:i});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:l,angle:WIe(u),angleInRadian:u}},YIe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:r-i*360,endAngle:n-i*360}},XIe=function(e,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(a,i);return e+l*360},i5=function(e,r){var n=e.x,s=e.y,a=GIe({x:n,y:s},r),i=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=YIe(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?Ol(Ol({},r),{},{radius:i,angle:XIe(h,r)}):null},WY=function(e){return!x.isValidElement(e)&&!Pt(e)&&typeof e!="boolean"?e.className:""};function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}var QIe=["offset"];function JIe(t){return r$e(t)||t$e(t)||e$e(t)||ZIe()}function ZIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(t,e){if(t){if(typeof t=="string")return nA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nA(t,e)}}function t$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r$e(t){if(Array.isArray(t))return nA(t)}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n$e(t,e){if(t==null)return{};var r=s$e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){a$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$e(t,e,r){return e=o$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$e(t){var e=i$e(t,"string");return wx(e)=="symbol"?e:e+""}function i$e(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jx.apply(this,arguments)}var l$e=function(e){var r=e.value,n=e.formatter,s=Lt(e.children)?r:e.children;return Pt(n)?n(s):s},c$e=function(e,r){var n=sa(r-e),s=Math.min(Math.abs(r-e),360);return n*s},u$e=function(e,r,n){var s=e.position,a=e.viewBox,i=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+m)/2,b=c$e(h,p),y=b>=0?1:-1,w,N;s==="insideStart"?(w=h+y*i,N=g):s==="insideEnd"?(w=p-y*i,N=!g):s==="end"&&(w=p+y*i,N=g),N=b<=0?N:!N;var j=Lr(u,d,v,w),_=Lr(u,d,v,w+(N?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(_.x,",").concat(_.y),C=Lt(e.id)?If("recharts-radial-line-"):e.id;return z.createElement("text",jx({},n,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:C,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(C)},r))},d$e=function(e){var r=e.viewBox,n=e.offset,s=e.position,a=r,i=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(s==="outside"){var h=Lr(i,l,u+n,m),p=h.x,g=h.y;return{x:p,y:g,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Lr(i,l,v,m),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},f$e=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,a=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*s,h=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*s,b=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:h};return Xn(Xn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return Xn(Xn({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Xn(Xn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var _={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Xn(Xn({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?Xn({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?Xn({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideTop"?Xn({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},S):a==="insideBottom"?Xn({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},S):a==="insideTopLeft"?Xn({x:l+v,y:c+m,textAnchor:y,verticalAnchor:p},S):a==="insideTopRight"?Xn({x:l+u-v,y:c+m,textAnchor:b,verticalAnchor:p},S):a==="insideBottomLeft"?Xn({x:l+v,y:c+d-m,textAnchor:y,verticalAnchor:h},S):a==="insideBottomRight"?Xn({x:l+u-v,y:c+d-m,textAnchor:b,verticalAnchor:h},S):Fp(a)&&(Ie(a.x)||bd(a.x))&&(Ie(a.y)||bd(a.y))?Xn({x:l+aa(a.x,u),y:c+aa(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):Xn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},h$e=function(e){return"cx"in e&&Ie(e.cx)};function hs(t){var e=t.offset,r=e===void 0?5:e,n=n$e(t,QIe),s=Xn({offset:r},n),a=s.viewBox,i=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,m=s.textBreakAll;if(!a||Lt(l)&&Lt(c)&&!x.isValidElement(u)&&!Pt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var h;if(Pt(u)){if(h=x.createElement(u,s),x.isValidElement(h))return h}else h=l$e(s);var p=h$e(a),g=xt(s,!0);if(p&&(i==="insideStart"||i==="insideEnd"||i==="end"))return u$e(s,h,g);var v=p?d$e(s):f$e(s);return z.createElement(mf,jx({className:Wt("recharts-label",f)},g,v,{breakAll:m}),h)}hs.displayName="Label";var HY=function(e){var r=e.cx,n=e.cy,s=e.angle,a=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,p=e.left,g=e.width,v=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ie(g)&&Ie(v)){if(Ie(f)&&Ie(m))return{x:f,y:m,width:g,height:v};if(Ie(h)&&Ie(p))return{x:h,y:p,width:g,height:v}}return Ie(f)&&Ie(m)?{x:f,y:m,width:0,height:0}:Ie(r)&&Ie(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},m$e=function(e,r){return e?e===!0?z.createElement(hs,{key:"label-implicit",viewBox:r}):rs(e)?z.createElement(hs,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===hs?x.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(hs,{key:"label-implicit",content:e,viewBox:r}):Pt(e)?z.createElement(hs,{key:"label-implicit",content:e,viewBox:r}):Fp(e)?z.createElement(hs,jx({viewBox:r},e,{key:"label-implicit"})):null:null},p$e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=HY(e),i=no(s,hs).map(function(c,u){return x.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return i;var l=m$e(e.label,r||a);return[l].concat(JIe(i))};hs.parseViewBox=HY;hs.renderCallByParent=p$e;function g$e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var v$e=g$e;const x$e=vr(v$e);function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}var y$e=["valueAccessor"],b$e=["data","dataKey","clockWise","id","textBreakAll"];function w$e(t){return S$e(t)||_$e(t)||N$e(t)||j$e()}function j$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$e(t,e){if(t){if(typeof t=="string")return sA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(t,e)}}function _$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S$e(t){if(Array.isArray(t))return sA(t)}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aj.apply(this,arguments)}function c5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function u5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(r),!0).forEach(function(n){C$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C$e(t,e,r){return e=E$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$e(t){var e=k$e(t,"string");return Nx(e)=="symbol"?e:e+""}function k$e(t,e){if(Nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d5(t,e){if(t==null)return{};var r=A$e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var O$e=function(e){return Array.isArray(e.value)?x$e(e.value):e.value};function rl(t){var e=t.valueAccessor,r=e===void 0?O$e:e,n=d5(t,y$e),s=n.data,a=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=d5(n,b$e);return!s||!s.length?null:z.createElement(sr,{className:"recharts-label-list"},s.map(function(d,f){var m=Lt(a)?r(d,f):kn(d&&d.payload,a),h=Lt(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(hs,aj({},xt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:hs.parseViewBox(Lt(i)?d:u5(u5({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}rl.displayName="LabelList";function T$e(t,e){return t?t===!0?z.createElement(rl,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Pt(t)?z.createElement(rl,{key:"labelList-implicit",data:e,content:t}):Fp(t)?z.createElement(rl,aj({data:e},t,{key:"labelList-implicit"})):null:null}function P$e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=no(n,rl).map(function(i,l){return x.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var a=T$e(t.label,e);return[a].concat(w$e(s))}rl.renderCallByParent=P$e;function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aA.apply(this,arguments)}function f5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function h5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(r),!0).forEach(function(n){M$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M$e(t,e,r){return e=R$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R$e(t){var e=D$e(t,"string");return _x(e)=="symbol"?e:e+""}function D$e(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I$e=function(e,r){var n=sa(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},q0=function(e){var r=e.cx,n=e.cy,s=e.radius,a=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/sj,m=u?a:a+i*f,h=Lr(r,n,d,m),p=Lr(r,n,s,m),g=u?a-i*f:a,v=Lr(r,n,d*Math.cos(f*sj),g);return{center:h,circleTangency:p,lineTangency:v,theta:f}},KY=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,i=e.startAngle,l=e.endAngle,c=I$e(i,l),u=i+c,d=Lr(r,n,a,i),f=Lr(r,n,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var h=Lr(r,n,s,i),p=Lr(r,n,s,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},$$e=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=sa(d-u),m=q0({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,g=m.theta,v=q0({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),b=v.circleTangency,y=v.lineTangency,w=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(N<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):KY({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var _=q0({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=_.circleTangency,C=_.lineTangency,k=_.theta,A=q0({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),O=A.circleTangency,P=A.lineTangency,R=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-k-R;if(I<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},L$e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GY=function(e){var r=h5(h5({},L$e),e),n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<a||d===f)return null;var h=Wt("recharts-sector",m),p=i-a,g=aa(l,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=$$e({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=KY({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),z.createElement("path",aA({},xt(r,!0),{className:h,d:v,role:"img"}))};function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oA.apply(this,arguments)}function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function p5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){F$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F$e(t,e,r){return e=B$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B$e(t){var e=z$e(t,"string");return Sx(e)=="symbol"?e:e+""}function z$e(t,e){if(Sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g5={curveBasisClosed:FNe,curveBasisOpen:BNe,curveBasis:LNe,curveBumpX:_Ne,curveBumpY:SNe,curveLinearClosed:zNe,curveLinear:QN,curveMonotoneX:VNe,curveMonotoneY:UNe,curveNatural:qNe,curveStep:WNe,curveStepAfter:KNe,curveStepBefore:HNe},W0=function(e){return e.x===+e.x&&e.y===+e.y},xg=function(e){return e.x},yg=function(e){return e.y},V$e=function(e,r){if(Pt(e))return e;var n="curve".concat(YN(e));return(n==="curveMonotone"||n==="curveBump")&&r?g5["".concat(n).concat(r==="vertical"?"Y":"X")]:g5[n]||QN},U$e=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,a=s===void 0?[]:s,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=V$e(n,l),f=u?a.filter(function(g){return W0(g)}):a,m;if(Array.isArray(i)){var h=u?i.filter(function(g){return W0(g)}):i,p=f.map(function(g,v){return p5(p5({},g),{},{base:h[v]})});return l==="vertical"?m=D0().y(yg).x1(xg).x0(function(g){return g.base.x}):m=D0().x(xg).y1(yg).y0(function(g){return g.base.y}),m.defined(W0).curve(d),m(p)}return l==="vertical"&&Ie(i)?m=D0().y(yg).x1(xg).x0(i):Ie(i)?m=D0().x(xg).y1(yg).y0(i):m=VK().x(xg).y(yg),m.defined(W0).curve(d),m(f)},Wd=function(e){var r=e.className,n=e.points,s=e.path,a=e.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?U$e(e):s;return x.createElement("path",oA({},xt(e,!1),Aw(e),{className:Wt("recharts-curve",r),d:i,ref:a}))},YY={exports:{}},q$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W$e=q$e,H$e=W$e;function XY(){}function QY(){}QY.resetWarningCache=XY;var K$e=function(){function t(n,s,a,i,l,c){if(c!==H$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QY,resetWarningCache:XY};return r.PropTypes=r,r};YY.exports=K$e();var G$e=YY.exports;const yr=vr(G$e);var Y$e=Object.getOwnPropertyNames,X$e=Object.getOwnPropertySymbols,Q$e=Object.prototype.hasOwnProperty;function v5(t,e){return function(n,s,a){return t(n,s,a)&&e(n,s,a)}}function H0(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var a=s.cache,i=a.get(r),l=a.get(n);if(i&&l)return i===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,s);return a.delete(r),a.delete(n),c}}function J$e(t){return t!=null?t[Symbol.toStringTag]:void 0}function x5(t){return Y$e(t).concat(X$e(t))}var Z$e=Object.hasOwn||function(t,e){return Q$e.call(t,e)};function Ff(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var e4e="__v",t4e="__o",r4e="_owner",y5=Object.getOwnPropertyDescriptor,b5=Object.keys;function n4e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function s4e(t,e){return Ff(t.getTime(),e.getTime())}function a4e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function o4e(t,e){return t===e}function w5(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),a=t.entries(),i,l,c=0;(i=a.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var i4e=Ff;function l4e(t,e,r){var n=b5(t),s=n.length;if(b5(e).length!==s)return!1;for(;s-- >0;)if(!JY(t,e,r,n[s]))return!1;return!0}function bg(t,e,r){var n=x5(t),s=n.length;if(x5(e).length!==s)return!1;for(var a,i,l;s-- >0;)if(a=n[s],!JY(t,e,r,a)||(i=y5(t,a),l=y5(e,a),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function c4e(t,e){return Ff(t.valueOf(),e.valueOf())}function u4e(t,e){return t.source===e.source&&t.flags===e.flags}function j5(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),a=t.values(),i,l;(i=a.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function d4e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function f4e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function JY(t,e,r,n){return(n===r4e||n===t4e||n===e4e)&&(t.$$typeof||e.$$typeof)?!0:Z$e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var h4e="[object Arguments]",m4e="[object Boolean]",p4e="[object Date]",g4e="[object Error]",v4e="[object Map]",x4e="[object Number]",y4e="[object Object]",b4e="[object RegExp]",w4e="[object Set]",j4e="[object String]",N4e="[object URL]",_4e=Array.isArray,N5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_5=Object.assign,S4e=Object.prototype.toString.call.bind(Object.prototype.toString);function C4e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,a=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual,h=t.unknownTagComparators;return function(g,v,b){if(g===v)return!0;if(g==null||v==null)return!1;var y=typeof g;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?i(g,v,b):y==="function"?s(g,v,b):!1;var w=g.constructor;if(w!==v.constructor)return!1;if(w===Object)return l(g,v,b);if(_4e(g))return e(g,v,b);if(N5!=null&&N5(g))return f(g,v,b);if(w===Date)return r(g,v,b);if(w===RegExp)return u(g,v,b);if(w===Map)return a(g,v,b);if(w===Set)return d(g,v,b);var N=S4e(g);if(N===p4e)return r(g,v,b);if(N===b4e)return u(g,v,b);if(N===v4e)return a(g,v,b);if(N===w4e)return d(g,v,b);if(N===y4e)return typeof g.then!="function"&&typeof v.then!="function"&&l(g,v,b);if(N===N4e)return m(g,v,b);if(N===g4e)return n(g,v,b);if(N===h4e)return l(g,v,b);if(N===m4e||N===x4e||N===j4e)return c(g,v,b);if(h){var j=h[N];if(!j){var _=J$e(g);_&&(j=h[_])}if(j)return j(g,v,b)}return!1}}function E4e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?bg:n4e,areDatesEqual:s4e,areErrorsEqual:a4e,areFunctionsEqual:o4e,areMapsEqual:n?v5(w5,bg):w5,areNumbersEqual:i4e,areObjectsEqual:n?bg:l4e,arePrimitiveWrappersEqual:c4e,areRegExpsEqual:u4e,areSetsEqual:n?v5(j5,bg):j5,areTypedArraysEqual:n?bg:d4e,areUrlsEqual:f4e,unknownTagComparators:void 0};if(r&&(s=_5({},s,r(s))),e){var a=H0(s.areArraysEqual),i=H0(s.areMapsEqual),l=H0(s.areObjectsEqual),c=H0(s.areSetsEqual);s=_5({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return s}function k4e(t){return function(e,r,n,s,a,i,l){return t(e,r,l)}}function A4e(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,a=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:s,meta:h,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var i={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,i)}}var O4e=Wu();Wu({strict:!0});Wu({circular:!0});Wu({circular:!0,strict:!0});Wu({createInternalComparator:function(){return Ff}});Wu({strict:!0,createInternalComparator:function(){return Ff}});Wu({circular:!0,createInternalComparator:function(){return Ff}});Wu({circular:!0,createInternalComparator:function(){return Ff},strict:!0});function Wu(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,a=t.strict,i=a===void 0?!1:a,l=E4e(t),c=C4e(l),u=n?n(c):k4e(c);return A4e({circular:r,comparator:c,createState:s,equals:u,strict:i})}function T4e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function S5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>e?(t(a),r=-1):T4e(s)};requestAnimationFrame(n)}function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}function P4e(t){return I4e(t)||D4e(t)||R4e(t)||M4e()}function M4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4e(t,e){if(t){if(typeof t=="string")return C5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C5(t,e)}}function C5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I4e(t){if(Array.isArray(t))return t}function $4e(){var t={},e=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var i=a,l=P4e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){S5(s.bind(null,u),c);return}s(c),S5(s.bind(null,u));return}iA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function E5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function k5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(r),!0).forEach(function(n){ZY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e,r){return e=L4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4e(t){var e=F4e(t,"string");return Cx(e)==="symbol"?e:String(e)}function F4e(t,e){if(Cx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B4e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},z4e=function(e){return e},V4e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},iv=function(e,r){return Object.keys(r).reduce(function(n,s){return k5(k5({},n),{},ZY({},s,e(s,r[s])))},{})},A5=function(e,r,n){return e.map(function(s){return"".concat(V4e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function U4e(t,e){return H4e(t)||W4e(t,e)||eX(t,e)||q4e()}function q4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function H4e(t){if(Array.isArray(t))return t}function K4e(t){return X4e(t)||Y4e(t)||eX(t)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(t,e){if(t){if(typeof t=="string")return lA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(t,e)}}function Y4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X4e(t){if(Array.isArray(t))return lA(t)}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var oj=1e-4,tX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},rX=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},O5=function(e,r){return function(n){var s=tX(e,r);return rX(s,n)}},Q4e=function(e,r){return function(n){var s=tX(e,r),a=[].concat(K4e(s.map(function(i,l){return i*l}).slice(1)),[0]);return rX(a,n)}},T5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],a=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,i=1,l=1;break;case"ease":s=.25,a=.1,i=.25,l=1;break;case"ease-in":s=.42,a=0,i=1,l=1;break;case"ease-out":s=.42,a=0,i=.58,l=1;break;case"ease-in-out":s=0,a=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=U4e(u,4);s=d[0],a=d[1],i=d[2],l=d[3]}}}var f=O5(s,i),m=O5(a,l),h=Q4e(s,i),p=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,w=y,N=0;N<8;++N){var j=f(w)-y,_=h(w);if(Math.abs(j-y)<oj||_<oj)return m(w);w=p(w-j/_)}return m(w)};return g.isStepper=!1,g},J4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,a=s===void 0?8:s,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,p=m*a,g=m+(h-p)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<oj&&Math.abs(g)<oj?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},Z4e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return T5(s);case"spring":return J4e();default:if(s.split("(")[0]==="cubic-bezier")return T5(s)}return typeof s=="function"?s:null};function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}function P5(t){return rLe(t)||tLe(t)||nX(t)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rLe(t){if(Array.isArray(t))return uA(t)}function M5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(r),!0).forEach(function(n){cA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cA(t,e,r){return e=nLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nLe(t){var e=sLe(t,"string");return Ex(e)==="symbol"?e:String(e)}function sLe(t,e){if(Ex(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ex(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aLe(t,e){return lLe(t)||iLe(t,e)||nX(t,e)||oLe()}function oLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nX(t,e){if(t){if(typeof t=="string")return uA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(t,e)}}function uA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function lLe(t){if(Array.isArray(t))return t}var ij=function(e,r,n){return e+(r-e)*n},dA=function(e){var r=e.from,n=e.to;return r!==n},cLe=function t(e,r,n){var s=iv(function(a,i){if(dA(i)){var l=e(i.from,i.to,i.velocity),c=aLe(l,2),u=c[0],d=c[1];return Ns(Ns({},i),{},{from:u,velocity:d})}return i},r);return n<1?iv(function(a,i){return dA(i)?Ns(Ns({},i),{},{velocity:ij(i.velocity,s[a].velocity,n),from:ij(i.from,s[a].from,n)}):i},r):t(e,s,n-1)};const uLe=function(t,e,r,n,s){var a=B4e(t,e),i=a.reduce(function(v,b){return Ns(Ns({},v),{},cA({},b,[t[b],e[b]]))},{}),l=a.reduce(function(v,b){return Ns(Ns({},v),{},cA({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return iv(function(b,y){return y.from},l)},h=function(){return!Object.values(l).filter(dA).length},p=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=cLe(r,l,w),s(Ns(Ns(Ns({},t),e),m())),u=b,h()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var y=(b-d)/n,w=iv(function(j,_){return ij.apply(void 0,P5(_).concat([r(y)]))},i);if(s(Ns(Ns(Ns({},t),e),w)),y<1)c=requestAnimationFrame(f);else{var N=iv(function(j,_){return ij.apply(void 0,P5(_).concat([r(1)]))},i);s(Ns(Ns(Ns({},t),e),N))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}var dLe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fLe(t,e){if(t==null)return{};var r=hLe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hLe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function jC(t){return vLe(t)||gLe(t)||pLe(t)||mLe()}function mLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pLe(t,e){if(t){if(typeof t=="string")return fA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(t,e)}}function gLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vLe(t){if(Array.isArray(t))return fA(t)}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(r),!0).forEach(function(n){Dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dg(t,e,r){return e=sX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sX(n.key),n)}}function bLe(t,e,r){return e&&yLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sX(t){var e=wLe(t,"string");return Lm(e)==="symbol"?e:String(e)}function wLe(t,e){if(Lm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hA(t,e)}function NLe(t){var e=_Le();return function(){var n=lj(t),s;if(e){var a=lj(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return mA(this,s)}}function mA(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pA(t)}function pA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lj(t){return lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lj(t)}var Ei=function(t){jLe(r,t);var e=NLe(r);function r(n,s){var a;xLe(this,r),a=e.call(this,n,s);var i=a.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(pA(a)),a.changeStyle=a.changeStyle.bind(pA(a)),!l||h<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),mA(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},mA(a);a.state={style:c?Dg({},c,u):u}}else a.state={style:{}};return a}return bLe(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,i=s.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,i=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!i){var h={style:c?Dg({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(O4e(s.to,d)&&s.canBegin&&s.isActive)){var p=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:s.to;if(this.state&&m){var v={style:c?Dg({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(Xo(Xo({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,i=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,m=s.onAnimationStart,h=uLe(i,l,Z4e(u),c,this.changeStyle),p=function(){a.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,i=s.steps,l=s.begin,c=s.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(g,v,b){if(b===0)return g;var y=v.duration,w=v.easing,N=w===void 0?"ease":w,j=v.style,_=v.properties,S=v.onAnimationEnd,C=b>0?i[b-1]:v,k=_||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(jC(g),[a.runJSAnimation.bind(a,{from:C.style,to:j,duration:y,easing:N}),y]);var A=A5(k,y,N),O=Xo(Xo(Xo({},C.style),j),{},{transition:A});return[].concat(jC(g),[O,y,S]).filter(z4e)};return this.manager.start([c].concat(jC(i.reduce(h,[d,Math.max(m,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=$4e());var a=s.begin,i=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,m=s.steps,h=s.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var g=l?Dg({},l,c):c,v=A5(Object.keys(g),i,u);p.start([d,a,Xo(Xo({},g),{},{transition:v}),i,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=fLe(s,dLe),u=x.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||i<=0)return a;var f=function(h){var p=h.props,g=p.style,v=g===void 0?{}:g,b=p.className,y=x.cloneElement(h,Xo(Xo({},c),{},{style:Xo(Xo({},v),d),className:b}));return y};return u===1?f(x.Children.only(a)):z.createElement("div",null,x.Children.map(a,function(m){return f(m)}))}}]),r}(x.PureComponent);Ei.displayName="Animate";Ei.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ei.propTypes={from:yr.oneOfType([yr.object,yr.string]),to:yr.oneOfType([yr.object,yr.string]),attributeName:yr.string,duration:yr.number,begin:yr.number,easing:yr.oneOfType([yr.string,yr.func]),steps:yr.arrayOf(yr.shape({duration:yr.number.isRequired,style:yr.object.isRequired,easing:yr.oneOfType([yr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yr.func]),properties:yr.arrayOf("string"),onAnimationEnd:yr.func})),children:yr.oneOfType([yr.node,yr.func]),isActive:yr.bool,canBegin:yr.bool,onAnimationEnd:yr.func,shouldReAnimate:yr.bool,onAnimationStart:yr.func,onAnimationReStart:yr.func};function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cj.apply(this,arguments)}function SLe(t,e){return ALe(t)||kLe(t,e)||ELe(t,e)||CLe()}function CLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(t,e){if(t){if(typeof t=="string")return D5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D5(t,e)}}function D5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function ALe(t){if(Array.isArray(t))return t}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){OLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OLe(t,e,r){return e=TLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TLe(t){var e=PLe(t,"string");return kx(e)=="symbol"?e:e+""}function PLe(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L5=function(e,r,n,s,a){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=a[m]>i?i:a[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+s)),d+="L ".concat(e+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);d="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+s-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+s,`
            L `).concat(e+c*p,",").concat(r+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},MLe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,a=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&s>=f&&s<=m}return!1},RLe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nR=function(e){var r=$5($5({},RLe),e),n=x.useRef(),s=x.useState(-1),a=SLe(s,2),i=a[0],l=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Wt("recharts-rectangle",h);return y?z.createElement(Ei,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(N){var j=N.width,_=N.height,S=N.x,C=N.y;return z.createElement(Ei,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:p},z.createElement("path",cj({},xt(r,!0),{className:w,d:L5(S,C,j,_,m),ref:n})))}):z.createElement("path",cj({},xt(r,!0),{className:w,d:L5(c,u,d,f,m)}))},DLe=["points","className","baseLinePoints","connectNulls"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function ILe(t,e){if(t==null)return{};var r=$Le(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Le(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F5(t){return zLe(t)||BLe(t)||FLe(t)||LLe()}function LLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FLe(t,e){if(t){if(typeof t=="string")return gA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(t,e)}}function BLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zLe(t){if(Array.isArray(t))return gA(t)}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B5=function(e){return e&&e.x===+e.x&&e.y===+e.y},VLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){B5(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),B5(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lv=function(e,r){var n=VLe(e);r&&(n=[n.reduce(function(a,i){return[].concat(F5(a),F5(i))},[])]);var s=n.map(function(a){return a.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},ULe=function(e,r,n){var s=lv(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(lv(r.reverse(),n).slice(1))},qLe=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,a=e.connectNulls,i=ILe(e,DLe);if(!r||!r.length)return null;var l=Wt("recharts-polygon",n);if(s&&s.length){var c=i.stroke&&i.stroke!=="none",u=ULe(r,s,a);return z.createElement("g",{className:l},z.createElement("path",Mh({},xt(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?z.createElement("path",Mh({},xt(i,!0),{fill:"none",d:lv(r,a)})):null,c?z.createElement("path",Mh({},xt(i,!0),{fill:"none",d:lv(s,a)})):null)}var d=lv(r,a);return z.createElement("path",Mh({},xt(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(this,arguments)}var $y=function(e){var r=e.cx,n=e.cy,s=e.r,a=e.className,i=Wt("recharts-dot",a);return r===+r&&n===+n&&s===+s?x.createElement("circle",vA({},xt(e,!1),Aw(e),{className:i,cx:r,cy:n,r:s})):null};function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}var WLe=["x","y","top","left","width","height","className"];function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function HLe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(r),!0).forEach(function(n){KLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KLe(t,e,r){return e=GLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GLe(t){var e=YLe(t,"string");return Ax(e)=="symbol"?e:e+""}function YLe(t,e){if(Ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XLe(t,e){if(t==null)return{};var r=QLe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var JLe=function(e,r,n,s,a,i){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},ZLe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,p=e.className,g=XLe(e,WLe),v=HLe({x:n,y:a,top:l,left:u,width:f,height:h},g);return!Ie(n)||!Ie(a)||!Ie(f)||!Ie(h)||!Ie(l)||!Ie(u)?null:z.createElement("path",xA({},xt(v,!0),{className:Wt("recharts-cross",p),d:JLe(n,a,f,h,l,u)}))},e3e=l_,t3e=gY,r3e=gl;function n3e(t,e){return t&&t.length?e3e(t,r3e(e),t3e):void 0}var s3e=n3e;const a3e=vr(s3e);var o3e=l_,i3e=gl,l3e=vY;function c3e(t,e){return t&&t.length?o3e(t,i3e(e),l3e):void 0}var u3e=c3e;const d3e=vr(u3e);var f3e=["cx","cy","angle","ticks","axisLine"],h3e=["ticks","tick","angle","tickFormatter","stroke"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cv.apply(this,arguments)}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ju(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){f_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5(t,e){if(t==null)return{};var r=m3e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oX(n.key),n)}}function g3e(t,e,r){return e&&q5(t.prototype,e),r&&q5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v3e(t,e,r){return e=uj(e),x3e(t,aX()?Reflect.construct(e,r||[],uj(t).constructor):e.apply(t,r))}function x3e(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y3e(t)}function y3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aX=function(){return!!t})()}function uj(t){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uj(t)}function b3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yA(t,e)}function f_(t,e,r){return e=oX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oX(t){var e=w3e(t,"string");return Fm(e)=="symbol"?e:e+""}function w3e(t,e){if(Fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h_=function(t){function e(){return p3e(this,e),v3e(this,e,arguments)}return b3e(e,t),g3e(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,i=a.angle,l=a.cx,c=a.cy;return Lr(l,c,s,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,i=n.angle,l=n.ticks,c=a3e(l,function(d){return d.coordinate||0}),u=d3e(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=U5(n,f3e),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Lr(s,a,d[0],i),m=Lr(s,a,d[1],i),h=Ju(Ju(Ju({},xt(u,!1)),{},{fill:"none"},xt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return z.createElement("line",cv({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,i=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=U5(s,h3e),f=this.getTickTextAnchor(),m=xt(d,!1),h=xt(i,!1),p=a.map(function(g,v){var b=n.getTickValueCoord(g),y=Ju(Ju(Ju(Ju({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:v},b),{},{payload:g});return z.createElement(sr,cv({className:Wt("recharts-polar-radius-axis-tick",WY(i)),key:"tick-".concat(g.coordinate)},hf(n.props,g,v)),e.renderTickItem(i,y,c?c(g.value,v):g.value))});return z.createElement(sr,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,i=n.tick;return!s||!s.length?null:z.createElement(sr,{className:Wt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),i&&this.renderTicks(),hs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,s):Pt(n)?i=n(s):i=z.createElement(mf,cv({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),i}}])}(x.PureComponent);f_(h_,"displayName","PolarRadiusAxis");f_(h_,"axisType","radiusAxis");f_(h_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){m_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lX(n.key),n)}}function N3e(t,e,r){return e&&H5(t.prototype,e),r&&H5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _3e(t,e,r){return e=dj(e),S3e(t,iX()?Reflect.construct(e,r||[],dj(t).constructor):e.apply(t,r))}function S3e(t,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C3e(t)}function C3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function dj(t){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dj(t)}function E3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bA(t,e)}function bA(t,e){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bA(t,e)}function m_(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=k3e(t,"string");return Bm(e)=="symbol"?e:e+""}function k3e(t,e){if(Bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A3e=Math.PI/180,K5=1e-5,p_=function(t){function e(){return j3e(this,e),_3e(this,e,arguments)}return E3e(e,t),N3e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,i=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Lr(a,i,l,n.coordinate),m=Lr(a,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*A3e),i;return a>K5?i=s==="outer"?"start":"end":a<-K5?i=s==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=Zu(Zu({},xt(this.props,!1)),{},{fill:"none"},xt(l,!1));if(c==="circle")return z.createElement($y,fd({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:i}));var d=this.props.ticks,f=d.map(function(m){return Lr(s,a,i,m.coordinate)});return z.createElement(qLe,fd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,i=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=xt(this.props,!1),f=xt(i,!1),m=Zu(Zu({},d),{},{fill:"none"},xt(l,!1)),h=a.map(function(p,g){var v=n.getTickLineCoord(p),b=n.getTickTextAnchor(p),y=Zu(Zu(Zu({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return z.createElement(sr,fd({className:Wt("recharts-polar-angle-axis-tick",WY(i)),key:"tick-".concat(p.coordinate)},hf(n.props,p,g)),l&&z.createElement("line",fd({className:"recharts-polar-angle-axis-tick-line"},m,v)),i&&e.renderTickItem(i,y,c?c(p.value,g):p.value))});return z.createElement(sr,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,i=n.axisLine;return a<=0||!s||!s.length?null:z.createElement(sr,{className:Wt("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var i;return z.isValidElement(n)?i=z.cloneElement(n,s):Pt(n)?i=n(s):i=z.createElement(mf,fd({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),i}}])}(x.PureComponent);m_(p_,"displayName","PolarAngleAxis");m_(p_,"axisType","angleAxis");m_(p_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var O3e=fG,T3e=O3e(Object.getPrototypeOf,Object),P3e=T3e,M3e=lc,R3e=P3e,D3e=cc,I3e="[object Object]",$3e=Function.prototype,L3e=Object.prototype,cX=$3e.toString,F3e=L3e.hasOwnProperty,B3e=cX.call(Object);function z3e(t){if(!D3e(t)||M3e(t)!=I3e)return!1;var e=R3e(t);if(e===null)return!0;var r=F3e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&cX.call(r)==B3e}var V3e=z3e;const U3e=vr(V3e);var q3e=lc,W3e=cc,H3e="[object Boolean]";function K3e(t){return t===!0||t===!1||W3e(t)&&q3e(t)==H3e}var G3e=K3e;const Y3e=vr(G3e);function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fj.apply(this,arguments)}function X3e(t,e){return e5e(t)||Z3e(t,e)||J3e(t,e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3e(t,e){if(t){if(typeof t=="string")return G5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G5(t,e)}}function G5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function e5e(t){if(Array.isArray(t))return t}function Y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function X5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(r),!0).forEach(function(n){t5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t5e(t,e,r){return e=r5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r5e(t){var e=n5e(t,"string");return Ox(e)=="symbol"?e:e+""}function n5e(t,e){if(Ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q5=function(e,r,n,s,a){var i=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+a),l+="L ".concat(e+n-i/2-s,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},s5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a5e=function(e){var r=X5(X5({},s5e),e),n=x.useRef(),s=x.useState(-1),a=X3e(s,2),i=a[0],l=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var y=Wt("recharts-trapezoid",h);return b?z.createElement(Ei,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(w){var N=w.upperWidth,j=w.lowerWidth,_=w.height,S=w.x,C=w.y;return z.createElement(Ei,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},z.createElement("path",fj({},xt(r,!0),{className:y,d:Q5(S,C,N,j,_),ref:n})))}):z.createElement("g",null,z.createElement("path",fj({},xt(r,!0),{className:y,d:Q5(c,u,d,f,m)})))},o5e=["option","shapeType","propTransformer","activeClassName","isActive"];function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}function i5e(t,e){if(t==null)return{};var r=l5e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(r),!0).forEach(function(n){c5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c5e(t,e,r){return e=u5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u5e(t){var e=d5e(t,"string");return Tx(e)=="symbol"?e:e+""}function d5e(t,e){if(Tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f5e(t,e){return hj(hj({},e),t)}function h5e(t,e){return t==="symbols"}function Z5(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(nR,r);case"trapezoid":return z.createElement(a5e,r);case"sector":return z.createElement(GY,r);case"symbols":if(h5e(e))return z.createElement(jM,r);break;default:return null}}function m5e(t){return x.isValidElement(t)?t.props:t}function uX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?f5e:n,a=t.activeClassName,i=a===void 0?"recharts-active-shape":a,l=t.isActive,c=i5e(t,o5e),u;if(x.isValidElement(e))u=x.cloneElement(e,hj(hj({},c),m5e(e)));else if(Pt(e))u=e(c);else if(U3e(e)&&!Y3e(e)){var d=s(e,c);u=z.createElement(Z5,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(Z5,{shapeType:r,elementProps:f})}return l?z.createElement(sr,{className:i},u):u}function g_(t,e){return e!=null&&"trapezoids"in t.props}function v_(t,e){return e!=null&&"sectors"in t.props}function Px(t,e){return e!=null&&"points"in t.props}function p5e(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&a}function g5e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function v5e(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function x5e(t,e){var r;return g_(t,e)?r=p5e:v_(t,e)?r=g5e:Px(t,e)&&(r=v5e),r}function y5e(t,e){var r;return g_(t,e)?r="trapezoids":v_(t,e)?r="sectors":Px(t,e)&&(r="points"),r}function b5e(t,e){if(g_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(v_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Px(t,e)?e.payload:{}}function w5e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=y5e(r,e),a=b5e(r,e),i=n.filter(function(c,u){var d=pf(a,c),f=r.props[s].filter(function(p){var g=x5e(r,e);return g(p,e)}),m=r.props[s].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Ab;function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rh.apply(this,arguments)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){Eo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fX(n.key),n)}}function N5e(t,e,r){return e&&tF(t.prototype,e),r&&tF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _5e(t,e,r){return e=mj(e),S5e(t,dX()?Reflect.construct(e,r||[],mj(t).constructor):e.apply(t,r))}function S5e(t,e){if(e&&(zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C5e(t)}function C5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!t})()}function mj(t){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mj(t)}function E5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wA(t,e)}function Eo(t,e,r){return e=fX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fX(t){var e=k5e(t,"string");return zm(e)=="symbol"?e:e+""}function k5e(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ho=function(t){function e(r){var n;return j5e(this,e),n=_5e(this,e,[r]),Eo(n,"pieRef",null),Eo(n,"sectorRefs",[]),Eo(n,"id",If("recharts-pie-")),Eo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pt(s)&&s()}),Eo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return E5e(e,t),N5e(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=xt(this.props,!1),f=xt(i,!1),m=xt(l,!1),h=i&&i.offsetRadius||20,p=n.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,y=Lr(g.cx,g.cy,g.outerRadius+h,b),w=Dr(Dr(Dr(Dr({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(y.x,g.cx)},y),N=Dr(Dr(Dr(Dr({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[Lr(g.cx,g.cy,g.outerRadius,b),y]}),j=c;return Lt(c)&&Lt(u)?j="value":Lt(c)&&(j=u),z.createElement(sr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(i,w,kn(g,j)))});return z.createElement(sr,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,i=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),m=c&&s.hasActiveIndex()?c:null,h=f?i:m,p=Dr(Dr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return z.createElement(sr,Rh({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},hf(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(uX,Rh({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,i=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return z.createElement(Ei,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],b=a&&a[0],y=b.startAngle;return a.forEach(function(w,N){var j=m&&m[N],_=N>0?ro(w,"paddingAngle",0):0;if(j){var S=es(j.endAngle-j.startAngle,w.endAngle-w.startAngle),C=Dr(Dr({},w),{},{startAngle:y+_,endAngle:y+S(g)+_});v.push(C),y=C.endAngle}else{var k=w.endAngle,A=w.startAngle,O=es(0,k-A),P=O(g),R=Dr(Dr({},w),{},{startAngle:y+_,endAngle:y+P+_});v.push(R),y=R.endAngle}}),z.createElement(sr,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var i=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[i].focus(),s.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,i=this.state.prevSectors;return a&&s&&s.length&&(!i||!pf(i,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,i=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,m=s.outerRadius,h=s.isAnimationActive,p=this.state.isAnimationFinished;if(a||!i||!i.length||!Ie(u)||!Ie(d)||!Ie(f)||!Ie(m))return null;var g=Wt("recharts-pie",l);return z.createElement(sr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(i),hs.renderCallByParent(this.props,null,!1),(!h||p)&&rl.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(z.isValidElement(n))return z.cloneElement(n,s);if(Pt(n))return n(s);var i=Wt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Wd,Rh({},s,{key:a,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,s,a){if(z.isValidElement(n))return z.cloneElement(n,s);var i=a;if(Pt(n)&&(i=n(s),z.isValidElement(i)))return i;var l=Wt("recharts-pie-label-text",typeof n!="boolean"&&!Pt(n)?n.className:"");return z.createElement(mf,Rh({},s,{alignmentBaseline:"middle",className:l}),i)}}])}(x.PureComponent);Ab=ho;Eo(ho,"displayName","Pie");Eo(ho,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Eo(ho,"parseDeltaAngle",function(t,e){var r=sa(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Eo(ho,"getRealPieData",function(t){var e=t.data,r=t.children,n=xt(t,!1),s=no(r,wi);return e&&e.length?e.map(function(a,i){return Dr(Dr(Dr({payload:a},n),a),s&&s[i]&&s[i].props)}):s&&s.length?s.map(function(a){return Dr(Dr({},n),a.props)}):[]});Eo(ho,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,a=e.height,i=qY(s,a),l=n+aa(t.cx,s,s/2),c=r+aa(t.cy,a,a/2),u=aa(t.innerRadius,i,0),d=aa(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Eo(ho,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Dr(Dr({},e.type.defaultProps),e.props):e.props,s=Ab.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=Ab.parseCoordinateOfPie(n,r),g=Ab.parseDeltaAngle(i,l),v=Math.abs(g),b=u;Lt(u)&&Lt(f)?(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Lt(u)&&(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=s.filter(function(C){return kn(C,b,0)!==0}).length,w=(v>=360?y:y-1)*c,N=v-y*h-w,j=s.reduce(function(C,k){var A=kn(k,b,0);return C+(Ie(A)?A:0)},0),_;if(j>0){var S;_=s.map(function(C,k){var A=kn(C,b,0),O=kn(C,d,k),P=(Ie(A)?A:0)/j,R;k?R=S.endAngle+sa(g)*c*(A!==0?1:0):R=i;var I=R+sa(g)*((A!==0?h:0)+P*N),$=(R+I)/2,B=(p.innerRadius+p.outerRadius)/2,L=[{name:O,value:A,payload:C,dataKey:b,type:m}],E=Lr(p.cx,p.cy,B,$);return S=Dr(Dr(Dr({percent:P,cornerRadius:a,name:O,tooltipPayload:L,midAngle:$,middleRadius:B,tooltipPosition:E},C),p),{},{value:kn(C,b),startAngle:R,endAngle:I,payload:C,paddingAngle:sa(g)*c}),S})}return Dr(Dr({},p),{},{sectors:_,data:s})});var A5e=Math.ceil,O5e=Math.max;function T5e(t,e,r,n){for(var s=-1,a=O5e(A5e((e-t)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=t,t+=r;return i}var P5e=T5e,M5e=TG,rF=1/0,R5e=17976931348623157e292;function D5e(t){if(!t)return t===0?t:0;if(t=M5e(t),t===rF||t===-rF){var e=t<0?-1:1;return e*R5e}return t===t?t:0}var hX=D5e,I5e=P5e,$5e=t_,NC=hX;function L5e(t){return function(e,r,n){return n&&typeof n!="number"&&$5e(e,r,n)&&(r=n=void 0),e=NC(e),r===void 0?(r=e,e=0):r=NC(r),n=n===void 0?e<r?1:-1:NC(n),I5e(e,r,n,t)}}var F5e=L5e,B5e=F5e,z5e=B5e(),V5e=z5e;const pj=vr(V5e);function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){mX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mX(t,e,r){return e=U5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5e(t){var e=q5e(t,"string");return Mx(e)=="symbol"?e:e+""}function q5e(t,e){if(Mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W5e=["Webkit","Moz","O","ms"],H5e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=W5e.reduce(function(a,i){return sF(sF({},a),{},mX({},i+n,r))},{});return s[e]=r,s};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function gj(){return gj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gj.apply(this,arguments)}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _C(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){Ua(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gX(n.key),n)}}function G5e(t,e,r){return e&&oF(t.prototype,e),r&&oF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y5e(t,e,r){return e=vj(e),X5e(t,pX()?Reflect.construct(e,r||[],vj(t).constructor):e.apply(t,r))}function X5e(t,e){if(e&&(Vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function vj(t){return vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vj(t)}function J5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jA(t,e)}function Ua(t,e,r){return e=gX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gX(t){var e=Z5e(t,"string");return Vm(e)=="symbol"?e:e+""}function Z5e(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eFe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,a=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=av().domain(pj(0,c)).range([a,a+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},iF=function(e){return e.changedTouches&&!!e.changedTouches.length},Um=function(t){function e(r){var n;return K5e(this,e),n=Y5e(this,e,[r]),Ua(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Ua(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Ua(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,i=s.onDragEnd,l=s.startIndex;i==null||i({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Ua(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ua(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ua(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ua(n,"handleSlideDragStart",function(s){var a=iF(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return J5e(e,t),G5e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),m=Math.max(s,a),h=e.getIndexInRange(i,f),p=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,i=s.tickFormatter,l=s.dataKey,c=kn(a[n],l,n);return Pt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,i=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-i):g<0&&(g=Math.max(g,u-i,u-l));var v=this.getIndex({startX:i+g,endX:l+g});(v.startIndex!==m||v.endIndex!==h)&&p&&p(v),this.setState({startX:i+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=iF(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,i=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+m-h-u):y<0&&(y=Math.max(y,f-u)),b[i]=u+y;var w=this.getIndex(b),N=w.startIndex,j=w.endIndex,_=function(){var C=v.length-1;return i==="startX"&&(l>c?N%g===0:j%g===0)||l<c&&j===C||i==="endX"&&(l>c?j%g===0:N%g===0)||l>c&&j===C};this.setState(Ua(Ua({},i,u+y),"brushMoveStartX",n.pageX),function(){p&&_()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];s==="startX"&&h>=u||s==="endX"&&h<=c||this.setState(Ua({},s,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?z.cloneElement(f,{x:s,y:a,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),y=_C(_C({},xt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=h||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=p[v])===null||i===void 0?void 0:i.name);return z.createElement(sr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,y))}},{key:"renderSlide",value:function(n,s){var a=this.props,i=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return z.createElement(sr,{className:"recharts-brush-texts"},z.createElement(mf,gj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},p),this.getTextOfTick(s)),z.createElement(mf,gj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,g=m.isTextActive,v=m.isSlideMoving,b=m.isTravellerMoving,y=m.isTravellerFocused;if(!s||!s.length||!Ie(l)||!Ie(c)||!Ie(u)||!Ie(d)||u<=0||d<=0)return null;var w=Wt("recharts-brush",a),N=z.Children.count(i)===1,j=H5e("userSelect","none");return z.createElement(sr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:s,y:a,width:i,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return z.isValidElement(n)?a=z.cloneElement(n,s):Pt(n)?a=n(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return _C({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},a&&a.length?eFe({data:a,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+i-c]);var m=s.scale.domain().map(function(h){return s.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,i=0,l=a-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>s?l=c:i=c}return s>=n[l]?l:i}}])}(x.PureComponent);Ua(Um,"displayName","Brush");Ua(Um,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tFe=AM;function rFe(t,e){var r;return tFe(t,function(n,s,a){return r=e(n,s,a),!r}),!!r}var nFe=rFe,sFe=sG,aFe=gl,oFe=nFe,iFe=Ba,lFe=t_;function cFe(t,e,r){var n=iFe(t)?sFe:oFe;return r&&lFe(t,e,r)&&(e=void 0),n(t,aFe(e))}var uFe=cFe;const dFe=vr(uFe);var nl=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},lF=CG;function fFe(t,e,r){e=="__proto__"&&lF?lF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var hFe=fFe,mFe=hFe,pFe=_G,gFe=gl;function vFe(t,e){var r={};return e=gFe(e),pFe(t,function(n,s,a){mFe(r,s,e(n,s,a))}),r}var xFe=vFe;const yFe=vr(xFe);function bFe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var wFe=bFe,jFe=AM;function NFe(t,e){var r=!0;return jFe(t,function(n,s,a){return r=!!e(n,s,a),r}),r}var _Fe=NFe,SFe=wFe,CFe=_Fe,EFe=gl,kFe=Ba,AFe=t_;function OFe(t,e,r){var n=kFe(t)?SFe:CFe;return r&&AFe(t,e,r)&&(e=void 0),n(t,EFe(e))}var TFe=OFe;const vX=vr(TFe);var PFe=["x","y"];function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NA.apply(this,arguments)}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){MFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MFe(t,e,r){return e=RFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RFe(t){var e=DFe(t,"string");return Rx(e)=="symbol"?e:e+""}function DFe(t,e){if(Rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IFe(t,e){if(t==null)return{};var r=$Fe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Fe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LFe(t,e){var r=t.x,n=t.y,s=IFe(t,PFe),a="".concat(r),i=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),f="".concat(e.width||s.width),m=parseInt(f,10);return wg(wg(wg(wg(wg({},e),s),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function uF(t){return z.createElement(uX,NA({shapeType:"rectangle",propTransformer:LFe,activeClassName:"recharts-active-bar"},t))}var FFe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var a=Ie(n)||u1e(n);return a?e(n,s):(a||vf(),r)}},BFe=["value","background"],xX;function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function zFe(t,e){if(t==null)return{};var r=VFe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xj(){return xj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xj.apply(this,arguments)}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){Gc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bX(n.key),n)}}function qFe(t,e,r){return e&&fF(t.prototype,e),r&&fF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WFe(t,e,r){return e=yj(e),HFe(t,yX()?Reflect.construct(e,r||[],yj(t).constructor):e.apply(t,r))}function HFe(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(t)}function KFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yX=function(){return!!t})()}function yj(t){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yj(t)}function GFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_A(t,e)}function Gc(t,e,r){return e=bX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bX(t){var e=YFe(t,"string");return qm(e)=="symbol"?e:e+""}function YFe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lo=function(t){function e(){var r;UFe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=WFe(this,e,[].concat(s)),Gc(r,"state",{isAnimationFinished:!1}),Gc(r,"id",If("recharts-bar-")),Gc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Gc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return GFe(e,t),qFe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,i=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=xt(this.props,!1);return n&&n.map(function(f,m){var h=m===c,p=h?u:i,g=In(In(In({},d),f),{},{isActive:h,option:p,index:m,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return z.createElement(sr,xj({className:"recharts-bar-rectangle"},hf(s.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),z.createElement(uF,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,i=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state.prevData;return z.createElement(Ei,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,g=a.map(function(v,b){var y=m&&m[b];if(y){var w=es(y.x,v.x),N=es(y.y,v.y),j=es(y.width,v.width),_=es(y.height,v.height);return In(In({},v),{},{x:w(p),y:N(p),width:j(p),height:_(p)})}if(i==="horizontal"){var S=es(0,v.height),C=S(p);return In(In({},v),{},{y:v.y+v.height-C,height:C})}var k=es(0,v.width),A=k(p);return In(In({},v),{},{width:A})});return z.createElement(sr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,i=this.state.prevData;return a&&s&&s.length&&(!i||!pf(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,i=s.dataKey,l=s.activeIndex,c=xt(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=zFe(u,BFe);if(!f)return null;var h=In(In(In(In(In({},m),{},{fill:"#eee"},f),c),hf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(uF,xj({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=no(d,Iy);if(!f)return null;var m=u==="vertical"?i[0].height/2:i[0].width/2,h=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:kn(v,b)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return z.createElement(sr,p,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,h=n.isAnimationActive,p=n.background,g=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=Wt("recharts-bar",i),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=y||w,j=Lt(g)?this.id:g;return z.createElement(sr,{className:b},y||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(j)},z.createElement("rect",{x:y?u:u-f/2,y:w?d:d-m/2,width:y?f:f*2,height:w?m:m*2}))):null,z.createElement(sr,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!h||v)&&rl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);xX=lo;Gc(lo,"displayName","Bar");Gc(lo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gc(lo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,a=t.xAxis,i=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=kIe(n,r);if(!h)return null;var p=e.layout,g=r.type.defaultProps,v=g!==void 0?In(In({},g),r.props):r.props,b=v.dataKey,y=v.children,w=v.minPointSize,N=p==="horizontal"?i:a,j=u?N.scale.domain():null,_=DIe({numericAxis:N}),S=no(y,wi),C=f.map(function(k,A){var O,P,R,I,$,B;u?O=AIe(u[d+A],j):(O=kn(k,b),Array.isArray(O)||(O=[_,O]));var L=FFe(w,xX.defaultProps.minPointSize)(O[1],A);if(p==="horizontal"){var E,T=[i.scale(O[0]),i.scale(O[1])],q=T[0],Z=T[1];P=t5({axis:a,ticks:l,bandSize:s,offset:h.offset,entry:k,index:A}),R=(E=Z??q)!==null&&E!==void 0?E:void 0,I=h.size;var M=q-Z;if($=Number.isNaN(M)?0:M,B={x:P,y:i.y,width:I,height:i.height},Math.abs(L)>0&&Math.abs($)<Math.abs(L)){var W=sa($||L)*(Math.abs(L)-Math.abs($));R-=W,$+=W}}else{var re=[a.scale(O[0]),a.scale(O[1])],se=re[0],je=re[1];if(P=se,R=t5({axis:i,ticks:c,bandSize:s,offset:h.offset,entry:k,index:A}),I=je-se,$=h.size,B={x:a.x,y:R,width:a.width,height:$},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var pe=sa(I||L)*(Math.abs(L)-Math.abs(I));I+=pe}}return In(In(In({},k),{},{x:P,y:R,width:I,height:$,value:u?O:O[1],payload:k,background:B},S&&S[A]&&S[A].props),{},{tooltipPayload:[VY(r,k)],tooltipPosition:{x:P+I/2,y:R+$/2}})});return In({data:C,layout:p},m)});function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}function XFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wX(n.key),n)}}function QFe(t,e,r){return e&&hF(t.prototype,e),r&&hF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){x_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x_(t,e,r){return e=wX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wX(t){var e=JFe(t,"string");return Dx(e)=="symbol"?e:e+""}function JFe(t,e){if(Dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sR=function(e,r,n,s,a){var i=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Wa(u,lo);return d.reduce(function(h,p){var g=r[p],v=g.orientation,b=g.domain,y=g.padding,w=y===void 0?{}:y,N=g.mirror,j=g.reversed,_="".concat(v).concat(N?"Mirror":""),S,C,k,A,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=b[1]-b[0],R=1/0,I=g.categoricalDomain.sort(h1e);if(I.forEach(function(re,se){se>0&&(R=Math.min((re||0)-(I[se-1]||0),R))}),Number.isFinite(R)){var $=R/P,B=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=$*B/2),g.padding==="no-gap"){var L=aa(e.barCategoryGap,$*B),E=$*B/2;S=E-L-(E-L)/B*L}}}s==="xAxis"?C=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:s==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:C=g.range,j&&(C=[C[1],C[0]]);var T=LY(g,a,m),q=T.scale,Z=T.realScaleType;q.domain(b).range(C),FY(q);var M=BY(q,oi(oi({},g),{},{realScaleType:Z}));s==="xAxis"?(O=v==="top"&&!N||v==="bottom"&&N,k=n.left,A=f[_]-O*g.height):s==="yAxis"&&(O=v==="left"&&!N||v==="right"&&N,k=f[_]-O*g.width,A=n.top);var W=oi(oi(oi({},g),M),{},{realScaleType:Z,x:k,y:A,scale:q,width:s==="xAxis"?n.width:g.width,height:s==="yAxis"?n.height:g.height});return W.bandSize=nj(W,M),!g.hide&&s==="xAxis"?f[_]+=(O?-1:1)*W.height:g.hide||(f[_]+=(O?-1:1)*W.width),oi(oi({},h),{},x_({},p,W))},{})},jX=function(e,r){var n=e.x,s=e.y,a=r.x,i=r.y;return{x:Math.min(n,a),y:Math.min(s,i),width:Math.abs(a-n),height:Math.abs(i-s)}},ZFe=function(e){var r=e.x1,n=e.y1,s=e.x2,a=e.y2;return jX({x:r,y:n},{x:s,y:a})},NX=function(){function t(e){XFe(this,t),this.scale=e}return QFe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();x_(NX,"EPS",1e-4);var aR=function(e){var r=Object.keys(e).reduce(function(n,s){return oi(oi({},n),{},x_({},s,NX.create(e[s])))},{});return oi(oi({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,l=a.position;return yFe(s,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(s){return vX(s,function(a,i){return r[i].isInRange(a)})}})};function eBe(t){return(t%180+180)%180}var tBe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=eBe(s),i=a*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},rBe=gl,nBe=Ty,sBe=ZN;function aBe(t){return function(e,r,n){var s=Object(e);if(!nBe(e)){var a=rBe(r);e=sBe(e),r=function(l){return a(s[l],l,s)}}var i=t(e,r,n);return i>-1?s[a?e[i]:i]:void 0}}var oBe=aBe,iBe=hX;function lBe(t){var e=iBe(t),r=e%1;return e===e?r?e-r:e:0}var cBe=lBe,uBe=xG,dBe=gl,fBe=cBe,hBe=Math.max;function mBe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:fBe(r);return s<0&&(s=hBe(n+s,0)),uBe(t,dBe(e),s)}var pBe=mBe,gBe=oBe,vBe=pBe,xBe=gBe(vBe),yBe=xBe;const bBe=vr(yBe);var wBe=gje(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),oR=x.createContext(void 0),iR=x.createContext(void 0),_X=x.createContext(void 0),SX=x.createContext({}),CX=x.createContext(void 0),EX=x.createContext(0),kX=x.createContext(0),pF=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=wBe(a);return z.createElement(oR.Provider,{value:n},z.createElement(iR.Provider,{value:s},z.createElement(SX.Provider,{value:a},z.createElement(_X.Provider,{value:d},z.createElement(CX.Provider,{value:i},z.createElement(EX.Provider,{value:u},z.createElement(kX.Provider,{value:c},l)))))))},jBe=function(){return x.useContext(CX)},AX=function(e){var r=x.useContext(oR);r==null&&vf();var n=r[e];return n==null&&vf(),n},NBe=function(){var e=x.useContext(oR);return Mc(e)},_Be=function(){var e=x.useContext(iR),r=bBe(e,function(n){return vX(n.domain,Number.isFinite)});return r||Mc(e)},OX=function(e){var r=x.useContext(iR);r==null&&vf();var n=r[e];return n==null&&vf(),n},SBe=function(){var e=x.useContext(_X);return e},CBe=function(){return x.useContext(SX)},lR=function(){return x.useContext(kX)},cR=function(){return x.useContext(EX)};function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function EBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PX(n.key),n)}}function ABe(t,e,r){return e&&kBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OBe(t,e,r){return e=bj(e),TBe(t,TX()?Reflect.construct(e,r||[],bj(t).constructor):e.apply(t,r))}function TBe(t,e){if(e&&(Wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PBe(t)}function PBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!t})()}function bj(t){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bj(t)}function MBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SA(t,e)}function SA(t,e){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SA(t,e)}function gF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(r),!0).forEach(function(n){uR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uR(t,e,r){return e=PX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PX(t){var e=RBe(t,"string");return Wm(e)=="symbol"?e:e+""}function RBe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DBe(t,e){return FBe(t)||LBe(t,e)||$Be(t,e)||IBe()}function IBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Be(t,e){if(t){if(typeof t=="string")return xF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xF(t,e)}}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function FBe(t){if(Array.isArray(t))return t}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CA.apply(this,arguments)}var BBe=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Pt(e)?n=e(r):n=z.createElement("line",CA({},r,{className:"recharts-reference-line-line"})),n},zBe=function(e,r,n,s,a,i,l,c,u){var d=a.x,f=a.y,m=a.width,h=a.height;if(n){var p=u.y,g=e.y.apply(p,{position:i});if(nl(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var b=u.x,y=e.x.apply(b,{position:i});if(nl(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(s){var N=u.segment,j=N.map(function(_){return e.apply(_,{position:i})});return nl(u,"discard")&&dFe(j,function(_){return!e.isInRange(_)})?null:j}return null};function VBe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,a=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=jBe(),d=AX(s),f=OX(a),m=SBe();if(!u||!m)return null;bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=aR({x:d.scale,y:f.scale}),p=rs(e),g=rs(r),v=n&&n.length===2,b=zBe(h,p,g,v,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var y=DBe(b,2),w=y[0],N=w.x,j=w.y,_=y[1],S=_.x,C=_.y,k=nl(t,"hidden")?"url(#".concat(u,")"):void 0,A=vF(vF({clipPath:k},xt(t,!0)),{},{x1:N,y1:j,x2:S,y2:C});return z.createElement(sr,{className:Wt("recharts-reference-line",l)},BBe(i,A),hs.renderCallByParent(t,ZFe({x1:N,y1:j,x2:S,y2:C})))}var dR=function(t){function e(){return EBe(this,e),OBe(this,e,arguments)}return MBe(e,t),ABe(e,[{key:"render",value:function(){return z.createElement(VBe,this.props)}}])}(z.Component);uR(dR,"displayName","ReferenceLine");uR(dR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EA.apply(this,arguments)}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){y_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function WBe(t,e,r){return e&&qBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HBe(t,e,r){return e=wj(e),KBe(t,MX()?Reflect.construct(e,r||[],wj(t).constructor):e.apply(t,r))}function KBe(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GBe(t)}function GBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function wj(t){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wj(t)}function YBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kA(t,e)}function y_(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=XBe(t,"string");return Hm(e)=="symbol"?e:e+""}function XBe(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QBe=function(e){var r=e.x,n=e.y,s=e.xAxis,a=e.yAxis,i=aR({x:s.scale,y:a.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return nl(e,"discard")&&!i.isInRange(l)?null:l},b_=function(t){function e(){return UBe(this,e),HBe(this,e,arguments)}return YBe(e,t),WBe(e,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=rs(s),d=rs(a);if(bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=QBe(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,g=p.shape,v=p.className,b=nl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=bF(bF({clipPath:b},xt(this.props,!0)),{},{cx:m,cy:h});return z.createElement(sr,{className:Wt("recharts-reference-dot",v)},e.renderDot(g,y),hs.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(z.Component);y_(b_,"displayName","ReferenceDot");y_(b_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y_(b_,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Pt(t)?r=t(e):r=z.createElement($y,EA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AA.apply(this,arguments)}function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){w_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IX(n.key),n)}}function eze(t,e,r){return e&&ZBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tze(t,e,r){return e=jj(e),rze(t,DX()?Reflect.construct(e,r||[],jj(t).constructor):e.apply(t,r))}function rze(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nze(t)}function nze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!t})()}function jj(t){return jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jj(t)}function sze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},OA(t,e)}function w_(t,e,r){return e=IX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IX(t){var e=aze(t,"string");return Km(e)=="symbol"?e:e+""}function aze(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oze=function(e,r,n,s,a){var i=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=aR({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(u,{position:"end"}):m.y.rangeMax};return nl(a,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:jX(h,p)},j_=function(t){function e(){return JBe(this,e),tze(this,e,arguments)}return sze(e,t),eze(e,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=rs(s),m=rs(a),h=rs(i),p=rs(l),g=this.props.shape;if(!f&&!m&&!h&&!p&&!g)return null;var v=oze(f,m,h,p,this.props);if(!v&&!g)return null;var b=nl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(sr,{className:Wt("recharts-reference-area",c)},e.renderRect(g,jF(jF({clipPath:b},xt(this.props,!0)),v)),hs.renderCallByParent(this.props,v))}}])}(z.Component);w_(j_,"displayName","ReferenceArea");w_(j_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});w_(j_,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Pt(t)?r=t(e):r=z.createElement(nR,AA({},e,{className:"recharts-reference-area-rect"})),r});function $X(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function ize(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return tBe(n,r)}function lze(t,e,r){var n=r==="width",s=t.x,a=t.y,i=t.width,l=t.height;return e===1?{start:n?s:a,end:n?s+i:a+l}:{start:n?s+i:a+l,end:n?s:a}}function Nj(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-s)<=0}function cze(t,e){return $X(t,e+1)}function uze(t,e,r,n,s){for(var a=(n||[]).slice(),i=e.start,l=e.end,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:$X(n,u)};var g=c,v,b=function(){return v===void 0&&(v=r(p,g)),v},y=p.coordinate,w=c===0||Nj(t,y,b,d,l);w||(c=0,d=i,u+=1),w&&(d=y+t*(b()/2+s),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){dze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dze(t,e,r){return e=fze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fze(t){var e=hze(t,"string");return Ix(e)=="symbol"?e:e+""}function hze(t,e){if(Ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mze(t,e,r,n,s){for(var a=(n||[]).slice(),i=a.length,l=e.start,c=e.end,u=function(m){var h=a[m],p,g=function(){return p===void 0&&(p=r(h,m)),p};if(m===i-1){var v=t*(h.coordinate+t*g()/2-c);a[m]=h=$s($s({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[m]=h=$s($s({},h),{},{tickCoord:h.coordinate});var b=Nj(t,h.tickCoord,g,l,c);b&&(c=h.tickCoord-t*(g()/2+s),a[m]=$s($s({},h),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return a}function pze(t,e,r,n,s,a){var i=(n||[]).slice(),l=i.length,c=e.start,u=e.end;if(a){var d=n[l-1],f=r(d,l-1),m=t*(d.coordinate+t*f/2-u);i[l-1]=d=$s($s({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var h=Nj(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+s),i[l-1]=$s($s({},d),{},{isShow:!0}))}for(var p=a?l-1:l,g=function(y){var w=i[y],N,j=function(){return N===void 0&&(N=r(w,y)),N};if(y===0){var _=t*(w.coordinate-t*j()/2-c);i[y]=w=$s($s({},w),{},{tickCoord:_<0?w.coordinate-_*t:w.coordinate})}else i[y]=w=$s($s({},w),{},{tickCoord:w.coordinate});var S=Nj(t,w.tickCoord,j,c,u);S&&(c=w.tickCoord+t*(j()/2+s),i[y]=$s($s({},w),{},{isShow:!0}))},v=0;v<p;v++)g(v);return i}function fR(t,e,r){var n=t.tick,s=t.ticks,a=t.viewBox,i=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!s||!s.length||!n)return[];if(Ie(c)||Vu.isSsr)return cze(s,typeof c=="number"&&Ie(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",p=d&&h==="width"?sv(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,N){var j=Pt(u)?u(w.value,N):w.value;return h==="width"?ize(sv(j,{fontSize:e,letterSpacing:r}),p,f):sv(j,{fontSize:e,letterSpacing:r})[h]},v=s.length>=2?sa(s[1].coordinate-s[0].coordinate):1,b=lze(a,v,h);return c==="equidistantPreserveStart"?uze(v,b,g,s,i):(c==="preserveStart"||c==="preserveStartEnd"?m=pze(v,b,g,s,i,c==="preserveStartEnd"):m=mze(v,b,g,s,i),m.filter(function(y){return y.isShow}))}var gze=["viewBox"],vze=["viewBox"],xze=["ticks"];function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dh.apply(this,arguments)}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){hR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SC(t,e){if(t==null)return{};var r=yze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function wze(t,e,r){return e&&SF(t.prototype,e),r&&SF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jze(t,e,r){return e=_j(e),Nze(t,LX()?Reflect.construct(e,r||[],_j(t).constructor):e.apply(t,r))}function Nze(t,e){if(e&&(Gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ze(t)}function _ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function _j(t){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_j(t)}function Sze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TA(t,e)}function hR(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=Cze(t,"string");return Gm(e)=="symbol"?e:e+""}function Cze(t,e){if(Gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xp=function(t){function e(r){var n;return bze(this,e),n=jze(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sze(e,t),wze(e,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,i=SC(n,gze),l=this.props,c=l.viewBox,u=SC(l,vze);return!Xh(a,c)||!Xh(i,u)||!Xh(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,i=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,m=s.tickMargin,h,p,g,v,b,y,w=f?-1:1,N=n.tickSize||d,j=Ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=p=n.coordinate,v=i+ +!f*c,g=v-w*N,y=g-w*m,b=j;break;case"left":g=v=n.coordinate,p=a+ +!f*l,h=p-w*N,b=h-w*m,y=j;break;case"right":g=v=n.coordinate,p=a+ +f*l,h=p+w*N,b=h+w*m,y=j;break;default:h=p=n.coordinate,v=i+ +f*c,g=v+w*N,y=g+w*m,b=j;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i;switch(s){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Gn(Gn(Gn({},xt(this.props,!1)),xt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Gn(Gn({},f),{},{x1:s,y1:a+m*l,x2:s+i,y2:a+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=Gn(Gn({},f),{},{x1:s+h*i,y1:a,x2:s+h*i,y2:a+l})}return z.createElement("line",Dh({},f,{className:Wt("recharts-cartesian-axis-line",ro(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=fR(Gn(Gn({},this.props),{},{ticks:n}),s,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=xt(this.props,!1),b=xt(d,!1),y=Gn(Gn({},v),{},{fill:"none"},xt(c,!1)),w=h.map(function(N,j){var _=i.getTickLineCoord(N),S=_.line,C=_.tick,k=Gn(Gn(Gn(Gn({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),C),{},{index:j,payload:N,visibleTicksCount:h.length,tickFormatter:f});return z.createElement(sr,Dh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},hf(i.props,N,j)),c&&z.createElement("line",Dh({},y,S,{className:Wt("recharts-cartesian-axis-tick-line",ro(c,"className"))})),d&&e.renderTickItem(d,k,"".concat(Pt(f)?f(N.value,j):N.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,i=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,m=f.ticks,h=SC(f,xze),p=m;return Pt(c)&&(p=m&&m.length>0?c(this.props):c(h)),i<=0||l<=0||!p||!p.length?null:z.createElement(sr,{className:Wt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),hs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var i,l=Wt(s.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?i=z.cloneElement(n,Gn(Gn({},s),{},{className:l})):Pt(n)?i=n(Gn(Gn({},s),{},{className:l})):i=z.createElement(mf,Dh({},s,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(x.Component);hR(Xp,"displayName","CartesianAxis");hR(Xp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eze=["x1","y1","x2","y2","key"],kze=["offset"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){Aze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aze(t,e,r){return e=Oze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oze(t){var e=Tze(t,"string");return xf(e)=="symbol"?e:e+""}function Tze(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function EF(t,e){if(t==null)return{};var r=Pze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mze=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,a=e.y,i=e.width,l=e.height,c=e.ry;return z.createElement("rect",{x:s,y:a,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BX(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Pt(t))r=t(e);else{var n=e.x1,s=e.y1,a=e.x2,i=e.y2,l=e.key,c=EF(e,Eze),u=xt(c,!1);u.offset;var d=EF(u,kze);r=z.createElement("line",Nd({},d,{x1:n,y1:s,x2:a,y2:i,fill:"none",key:l}))}return r}function Rze(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=zs(zs({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return BX(s,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Dze(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,a=t.verticalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(l,c){var u=zs(zs({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return BX(s,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Ize(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,a=t.width,i=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(m){return Math.round(m+s-s)}).sort(function(m,h){return m-h});s!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var p=!d[h+1],g=p?s+i-m:d[h+1]-m;if(g<=0)return null;var v=h%e.length;return z.createElement("rect",{key:"react-".concat(h),y:m,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $ze(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,a=t.x,i=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var p=!d[h+1],g=p?a+l-m:d[h+1]-m;if(g<=0)return null;var v=h%n.length;return z.createElement("rect",{key:"react-".concat(h),x:m,y:i,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Lze=function(e,r){var n=e.xAxis,s=e.width,a=e.height,i=e.offset;return $Y(fR(zs(zs(zs({},Xp.defaultProps),n),{},{ticks:Vl(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,r)},Fze=function(e,r){var n=e.yAxis,s=e.width,a=e.height,i=e.offset;return $Y(fR(zs(zs(zs({},Xp.defaultProps),n),{},{ticks:Vl(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,r)},rh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Po(t){var e,r,n,s,a,i,l=lR(),c=cR(),u=CBe(),d=zs(zs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:rh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:rh.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:rh.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:rh.vertical,verticalFill:(i=t.verticalFill)!==null&&i!==void 0?i:rh.verticalFill,x:Ie(t.x)?t.x:u.left,y:Ie(t.y)?t.y:u.top,width:Ie(t.width)?t.width:u.width,height:Ie(t.height)?t.height:u.height}),f=d.x,m=d.y,h=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,y=NBe(),w=_Be();if(!Ie(h)||h<=0||!Ie(p)||p<=0||!Ie(f)||f!==+f||!Ie(m)||m!==+m)return null;var N=d.verticalCoordinatesGenerator||Lze,j=d.horizontalCoordinatesGenerator||Fze,_=d.horizontalPoints,S=d.verticalPoints;if((!_||!_.length)&&Pt(j)){var C=v&&v.length,k=j({yAxis:w?zs(zs({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:g);bi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xf(k),"]")),Array.isArray(k)&&(_=k)}if((!S||!S.length)&&Pt(N)){var A=b&&b.length,O=N({xAxis:y?zs(zs({},y),{},{ticks:A?b:y.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);bi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xf(O),"]")),Array.isArray(O)&&(S=O)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Mze,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(Rze,Nd({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:w})),z.createElement(Dze,Nd({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:w})),z.createElement(Ize,Nd({},d,{horizontalPoints:_})),z.createElement($ze,Nd({},d,{verticalPoints:S})))}Po.displayName="CartesianGrid";var Bze=["type","layout","connectNulls","ref"],zze=["key"];function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function kF(t,e){if(t==null)return{};var r=Vze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uv.apply(this,arguments)}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){ii(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nh(t){return Hze(t)||Wze(t)||qze(t)||Uze()}function Uze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qze(t,e){if(t){if(typeof t=="string")return PA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(t,e)}}function Wze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hze(t){if(Array.isArray(t))return PA(t)}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VX(n.key),n)}}function Gze(t,e,r){return e&&OF(t.prototype,e),r&&OF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yze(t,e,r){return e=Sj(e),Xze(t,zX()?Reflect.construct(e,r||[],Sj(t).constructor):e.apply(t,r))}function Xze(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qze(t)}function Qze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zX=function(){return!!t})()}function Sj(t){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sj(t)}function Jze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MA(t,e)}function ii(t,e,r){return e=VX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VX(t){var e=Zze(t,"string");return Ym(e)=="symbol"?e:e+""}function Zze(t,e){if(Ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ll=function(t){function e(){var r;Kze(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Yze(this,e,[].concat(s)),ii(r,"state",{isAnimationFinished:!0,totalLength:0}),ii(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),ii(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/u),f=i%u,m=l-i,h=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){h=[].concat(nh(c.slice(0,p)),[f-g]);break}var v=h.length%2===0?[0,m]:[m];return[].concat(nh(e.repeat(c,d)),nh(h),v).map(function(b){return"".concat(b,"px")}).join(", ")}),ii(r,"id",If("recharts-line-")),ii(r,"pathRef",function(i){r.mainCurve=i}),ii(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ii(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Jze(e,t),Gze(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=no(d,Iy);if(!f)return null;var m=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:kn(g.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(s,")"):null};return z.createElement(sr,h,f.map(function(p){return z.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,s,a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=xt(this.props,!1),m=xt(c,!0),h=u.map(function(g,v){var b=Va(Va(Va({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return z.createElement(sr,uv({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(n,s,a,i){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=kF(l,Bze),m=Va(Va(Va({},xt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return z.createElement(Wd,uv({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,m=i.animationEasing,h=i.animationId,p=i.animateNewValues,g=i.width,v=i.height,b=this.state,y=b.prevPoints,w=b.totalLength;return z.createElement(Ei,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(y){var _=y.length/l.length,S=l.map(function(P,R){var I=Math.floor(R*_);if(y[I]){var $=y[I],B=es($.x,P.x),L=es($.y,P.y);return Va(Va({},P),{},{x:B(j),y:L(j)})}if(p){var E=es(g*2,P.x),T=es(v/2,P.y);return Va(Va({},P),{},{x:E(j),y:T(j)})}return Va(Va({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(S,n,s)}var C=es(0,w),k=C(j),A;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});A=a.getStrokeDasharray(k,w,O)}else A=a.generateSimpleStrokeDasharray(w,k);return a.renderCurveStatically(l,n,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,s){var a=this.props,i=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&i&&i.length&&(!u&&d>0||!pf(u,i))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(i,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,i=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,m=s.left,h=s.width,p=s.height,g=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Wt("recharts-line",c),N=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,_=N||j,S=Lt(v)?this.id:v,C=(n=xt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=C.r,A=k===void 0?3:k,O=C.strokeWidth,P=O===void 0?2:O,R=AK(i)?i:{},I=R.clipDot,$=I===void 0?!0:I,B=A*2+P;return z.createElement(sr,{className:w},N||j?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:N?m:m-h/2,y:j?f:f-p/2,width:N?h:h*2,height:j?p:p*2})),!$&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:m-B/2,y:f-B/2,width:h+B,height:p+B}))):null,!y&&this.renderCurve(_,S),this.renderErrorBar(_,S),(y||i)&&this.renderDots(_,$,S),(!g||b)&&rl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(nh(n),[0]):n,i=[],l=0;l<s;++l)i=[].concat(nh(i),nh(a));return i}},{key:"renderDotItem",value:function(n,s){var a;if(z.isValidElement(n))a=z.cloneElement(n,s);else if(Pt(n))a=n(s);else{var i=s.key,l=kF(s,zze),c=Wt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=z.createElement($y,uv({key:i},l,{className:c}))}return a}}])}(x.PureComponent);ii(ll,"displayName","Line");ii(ll,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ii(ll,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,i=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(m,h){var p=kn(m,i);return d==="horizontal"?{x:rj({axis:r,ticks:s,bandSize:l,entry:m,index:h}),y:Lt(p)?null:n.scale(p),value:p,payload:m}:{x:Lt(p)?null:r.scale(p),y:rj({axis:n,ticks:a,bandSize:l,entry:m,index:h}),value:p,payload:m}});return Va({points:f,layout:d},u)});var e6e=["layout","type","stroke","connectNulls","isRange","ref"],t6e=["key"],UX;function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function qX(t,e){if(t==null)return{};var r=r6e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){Gi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HX(n.key),n)}}function s6e(t,e,r){return e&&PF(t.prototype,e),r&&PF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a6e(t,e,r){return e=Cj(e),o6e(t,WX()?Reflect.construct(e,r||[],Cj(t).constructor):e.apply(t,r))}function o6e(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i6e(t)}function i6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WX=function(){return!!t})()}function Cj(t){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cj(t)}function l6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RA(t,e)}function Gi(t,e,r){return e=HX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HX(t){var e=c6e(t,"string");return Xm(e)=="symbol"?e:e+""}function c6e(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cl=function(t){function e(){var r;n6e(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=a6e(this,e,[].concat(s)),Gi(r,"state",{isAnimationFinished:!0}),Gi(r,"id",If("recharts-area-")),Gi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pt(i)&&i()}),Gi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pt(i)&&i()}),r}return l6e(e,t),s6e(e,[{key:"renderDots",value:function(n,s,a){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=xt(this.props,!1),h=xt(u,!0),p=d.map(function(v,b){var y=wc(wc(wc({key:"dot-".concat(b),r:3},m),h),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return z.createElement(sr,_d({className:"recharts-area-dots"},g),p)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,a=s.baseLine,i=s.points,l=s.strokeWidth,c=i[0].x,u=i[i.length-1].x,d=n*Math.abs(c-u),f=Kc(i.map(function(m){return m.y||0}));return Ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Kc(a.map(function(m){return m.y||0})),f)),Ie(f)?z.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,a=s.baseLine,i=s.points,l=s.strokeWidth,c=i[0].y,u=i[i.length-1].y,d=n*Math.abs(c-u),f=Kc(i.map(function(m){return m.x||0}));return Ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Kc(a.map(function(m){return m.x||0})),f)),Ie(f)?z.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,a,i){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=qX(l,e6e);return z.createElement(sr,{clipPath:a?"url(#clipPath-".concat(i,")"):null},z.createElement(Wd,_d({},xt(h,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&z.createElement(Wd,_d({},xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&m&&z.createElement(Wd,_d({},xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var a=this,i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,m=i.animationEasing,h=i.animationId,p=this.state,g=p.prevPoints,v=p.prevBaseLine;return z.createElement(Ei,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(g){var w=g.length/l.length,N=l.map(function(C,k){var A=Math.floor(k*w);if(g[A]){var O=g[A],P=es(O.x,C.x),R=es(O.y,C.y);return wc(wc({},C),{},{x:P(y),y:R(y)})}return C}),j;if(Ie(c)&&typeof c=="number"){var _=es(v,c);j=_(y)}else if(Lt(c)||Up(c)){var S=es(v,0);j=S(y)}else j=c.map(function(C,k){var A=Math.floor(k*w);if(v[A]){var O=v[A],P=es(O.x,C.x),R=es(O.y,C.y);return wc(wc({},C),{},{x:P(y),y:R(y)})}return C});return a.renderAreaStatically(N,j,n,s)}return z.createElement(sr,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(y))),z.createElement(sr,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var a=this.props,i=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&i&&i.length&&(!d&&m>0||!pf(d,i)||!pf(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(i,l,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,i=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,m=s.yAxis,h=s.width,p=s.height,g=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Wt("recharts-area",c),N=f&&f.allowDataOverflow,j=m&&m.allowDataOverflow,_=N||j,S=Lt(v)?this.id:v,C=(n=xt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=C.r,A=k===void 0?3:k,O=C.strokeWidth,P=O===void 0?2:O,R=AK(i)?i:{},I=R.clipDot,$=I===void 0?!0:I,B=A*2+P;return z.createElement(sr,{className:w},N||j?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:N?d:d-h/2,y:j?u:u-p/2,width:N?h:h*2,height:j?p:p*2})),!$&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:d-B/2,y:u-B/2,width:h+B,height:p+B}))):null,y?null:this.renderArea(_,S),(i||y)&&this.renderDots(_,$,S),(!g||b)&&rl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);UX=cl;Gi(cl,"displayName","Area");Gi(cl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gi(cl,"getBaseValue",function(t,e,r,n){var s=t.layout,a=t.baseValue,i=e.props.baseValue,l=i??a;if(Ie(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Gi(cl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=e.layout,p=u&&u.length,g=UX.getBaseValue(e,r,n,s),v=h==="horizontal",b=!1,y=f.map(function(N,j){var _;p?_=u[d+j]:(_=kn(N,c),Array.isArray(_)?b=!0:_=[g,_]);var S=_[1]==null||p&&kn(N,c)==null;return v?{x:rj({axis:n,ticks:a,bandSize:l,entry:N,index:j}),y:S?null:s.scale(_[1]),value:_,payload:N}:{x:S?null:n.scale(_[1]),y:rj({axis:s,ticks:i,bandSize:l,entry:N,index:j}),value:_,payload:N}}),w;return p||b?w=y.map(function(N){var j=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:j!=null&&N.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:N.y}}):w=v?s.scale(g):n.scale(g),wc({points:y,baseLine:w,layout:h,isRange:b},m)});Gi(cl,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Pt(t))r=t(e);else{var n=Wt("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,a=qX(e,t6e);r=z.createElement($y,_d({},a,{key:s,className:n}))}return r});function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function u6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YX(n.key),n)}}function f6e(t,e,r){return e&&d6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h6e(t,e,r){return e=Ej(e),m6e(t,KX()?Reflect.construct(e,r||[],Ej(t).constructor):e.apply(t,r))}function m6e(t,e){if(e&&(Qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p6e(t)}function p6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!t})()}function Ej(t){return Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ej(t)}function g6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},DA(t,e)}function GX(t,e,r){return e=YX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YX(t){var e=v6e(t,"string");return Qm(e)=="symbol"?e:e+""}function v6e(t,e){if(Qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IA.apply(this,arguments)}function x6e(t){var e=t.xAxisId,r=lR(),n=cR(),s=AX(e);return s==null?null:x.createElement(Xp,IA({},s,{className:Wt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Vl(i,!0)}}))}var Us=function(t){function e(){return u6e(this,e),h6e(this,e,arguments)}return g6e(e,t),f6e(e,[{key:"render",value:function(){return x.createElement(x6e,this.props)}}])}(x.Component);GX(Us,"displayName","XAxis");GX(Us,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JX(n.key),n)}}function w6e(t,e,r){return e&&b6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j6e(t,e,r){return e=kj(e),N6e(t,XX()?Reflect.construct(e,r||[],kj(t).constructor):e.apply(t,r))}function N6e(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _6e(t)}function _6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XX=function(){return!!t})()}function kj(t){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kj(t)}function S6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$A(t,e)}function QX(t,e,r){return e=JX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JX(t){var e=C6e(t,"string");return Jm(e)=="symbol"?e:e+""}function C6e(t,e){if(Jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LA.apply(this,arguments)}var E6e=function(e){var r=e.yAxisId,n=lR(),s=cR(),a=OX(r);return a==null?null:x.createElement(Xp,LA({},a,{className:Wt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Vl(l,!0)}}))},qs=function(t){function e(){return y6e(this,e),j6e(this,e,arguments)}return S6e(e,t),w6e(e,[{key:"render",value:function(){return x.createElement(E6e,this.props)}}])}(x.Component);QX(qs,"displayName","YAxis");QX(qs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MF(t){return T6e(t)||O6e(t)||A6e(t)||k6e()}function k6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A6e(t,e){if(t){if(typeof t=="string")return FA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(t,e)}}function O6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T6e(t){if(Array.isArray(t))return FA(t)}function FA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BA=function(e,r,n,s,a){var i=no(e,dR),l=no(e,b_),c=[].concat(MF(i),MF(l)),u=no(e,j_),d="".concat(s,"Id"),f=s[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[d]===n&&nl(v.props,"extendDomain")&&Ie(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(g,v){if(v.props[d]===n&&nl(v.props,"extendDomain")&&Ie(v.props[h])&&Ie(v.props[p])){var b=v.props[h],y=v.props[p];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},m)}return a&&a.length&&(m=a.reduce(function(g,v){return Ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},ZX={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,p),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var N=v.length,j;for(w=0;w<N;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,m);break;default:if(!y)for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var g=0,v=[],b=p.length;g<b;g++)(p[g].fn!==d||m&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[h]=v.length===1?v[0]:v:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(ZX);var P6e=ZX.exports;const M6e=vr(P6e);var CC=new M6e,EC="recharts.syncMouseEvents";function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}function R6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eQ(n.key),n)}}function I6e(t,e,r){return e&&D6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kC(t,e,r){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQ(t){var e=$6e(t,"string");return $x(e)=="symbol"?e:e+""}function $6e(t,e){if($x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L6e=function(){function t(){R6e(this,t),kC(this,"activeIndex",0),kC(this,"coordinateList",[]),kC(this,"layout","horizontal")}return I6e(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,i=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function F6e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Ie(n)&&Ie(s))return!0}return!1}function B6e(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function tQ(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,a=t.endAngle,i=Lr(e,r,n,s),l=Lr(e,r,n,a);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:a}}function z6e(t,e,r){var n,s,a,i;if(t==="horizontal")n=e.x,a=n,s=r.top,i=r.top+r.height;else if(t==="vertical")s=e.y,i=s,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Lr(l,c,u,f),h=Lr(l,c,d,f);n=m.x,s=m.y,a=h.x,i=h.y}else return tQ(e);return[{x:n,y:s},{x:a,y:i}]}function Lx(t){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){V6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V6e(t,e,r){return e=U6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U6e(t){var e=q6e(t,"string");return Lx(e)=="symbol"?e:e+""}function q6e(t,e){if(Lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W6e(t){var e,r,n=t.element,s=t.tooltipEventType,a=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!i||m!=="ScatterChart"&&s!=="axis")return null;var p,g=Wd;if(m==="ScatterChart")p=i,g=ZLe;else if(m==="BarChart")p=B6e(f,i,c,d),g=nR;else if(f==="radial"){var v=tQ(i),b=v.cx,y=v.cy,w=v.radius,N=v.startAngle,j=v.endAngle;p={cx:b,cy:y,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},g=GY}else p={points:z6e(f,i,c)},g=Wd;var _=K0(K0(K0(K0({stroke:"#ccc",pointerEvents:"none"},c),p),xt(h,!1)),{},{payload:l,payloadIndex:u,className:Wt("recharts-tooltip-cursor",h.className)});return x.isValidElement(h)?x.cloneElement(h,_):x.createElement(g,_)}var H6e=["item"],K6e=["children","className","width","height","style","compact","title","desc"];function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ih.apply(this,arguments)}function DF(t,e){return X6e(t)||Y6e(t,e)||nQ(t,e)||G6e()}function G6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function X6e(t){if(Array.isArray(t))return t}function IF(t,e){if(t==null)return{};var r=Q6e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sQ(n.key),n)}}function eVe(t,e,r){return e&&Z6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tVe(t,e,r){return e=Aj(e),rVe(t,rQ()?Reflect.construct(e,r||[],Aj(t).constructor):e.apply(t,r))}function rVe(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nVe(t)}function nVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!t})()}function Aj(t){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aj(t)}function sVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zA(t,e)}function ep(t){return iVe(t)||oVe(t)||nQ(t)||aVe()}function aVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(t,e){if(t){if(typeof t=="string")return VA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(t,e)}}function oVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iVe(t){if(Array.isArray(t))return VA(t)}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){Tt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tt(t,e,r){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sQ(t){var e=lVe(t,"string");return Zm(e)=="symbol"?e:e+""}function lVe(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cVe={xAxis:["bottom","top"],yAxis:["left","right"]},uVe={width:"100%",height:"100%"},aQ={x:0,y:0};function G0(t){return t}var dVe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},fVe=function(e,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,l=s.radius;return xe(xe(xe({},s),Lr(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,u=s.angle;return xe(xe(xe({},s),Lr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return aQ},N_=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ep(l),ep(u)):l},[]);return i.length>0?i:e&&e.length&&Ie(s)&&Ie(a)?e.slice(s,a+1):[]};function oQ(t){return t==="number"?[0,"auto"]:void 0}var UA=function(e,r,n,s){var a=e.graphicalItems,i=e.tooltipAxis,l=N_(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=kw(h,i.dataKey,s)}else m=f&&f[n]||l[n];return m?[].concat(ep(c),[VY(u,m)]):c},[])},LF=function(e,r,n,s){var a=s||{x:e.chartX,y:e.chartY},i=dVe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=jIe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=UA(e,r,d,f),h=fVe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},hVe=function(e,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=IY(d,a);return n.reduce(function(p,g){var v,b=g.type.defaultProps!==void 0?xe(xe({},g.type.defaultProps),g.props):g.props,y=b.type,w=b.dataKey,N=b.allowDataOverflow,j=b.allowDuplicatedCategory,_=b.scale,S=b.ticks,C=b.includeHidden,k=b[i];if(p[k])return p;var A=N_(e.data,{graphicalItems:s.filter(function(M){var W,re=i in M.props?M.props[i]:(W=M.type.defaultProps)===null||W===void 0?void 0:W[i];return re===k}),dataStartIndex:c,dataEndIndex:u}),O=A.length,P,R,I;F6e(b.domain,N,y)&&(P=rA(b.domain,null,N),h&&(y==="number"||_!=="auto")&&(I=ov(A,w,"category")));var $=oQ(y);if(!P||P.length===0){var B,L=(B=b.domain)!==null&&B!==void 0?B:$;if(w){if(P=ov(A,w,y),y==="category"&&h){var E=f1e(P);j&&E?(R=P,P=pj(0,O)):j||(P=s5(L,P,g).reduce(function(M,W){return M.indexOf(W)>=0?M:[].concat(ep(M),[W])},[]))}else if(y==="category")j?P=P.filter(function(M){return M!==""&&!Lt(M)}):P=s5(L,P,g).reduce(function(M,W){return M.indexOf(W)>=0||W===""||Lt(W)?M:[].concat(ep(M),[W])},[]);else if(y==="number"){var T=EIe(A,s.filter(function(M){var W,re,se=i in M.props?M.props[i]:(W=M.type.defaultProps)===null||W===void 0?void 0:W[i],je="hide"in M.props?M.props.hide:(re=M.type.defaultProps)===null||re===void 0?void 0:re.hide;return se===k&&(C||!je)}),w,a,d);T&&(P=T)}h&&(y==="number"||_!=="auto")&&(I=ov(A,w,"category"))}else h?P=pj(0,O):l&&l[k]&&l[k].hasStack&&y==="number"?P=m==="expand"?[0,1]:zY(l[k].stackGroups,c,u):P=DY(A,s.filter(function(M){var W=i in M.props?M.props[i]:M.type.defaultProps[i],re="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return W===k&&(C||!re)}),y,d,!0);if(y==="number")P=BA(f,P,k,a,S),L&&(P=rA(L,P,N));else if(y==="category"&&L){var q=L,Z=P.every(function(M){return q.indexOf(M)>=0});Z&&(P=q)}}return xe(xe({},p),{},Tt({},k,xe(xe({},b),{},{axisType:a,domain:P,categoricalDomain:I,duplicateDomain:R,originalDomain:(v=b.domain)!==null&&v!==void 0?v:$,isCategorical:h,layout:d})))},{})},mVe=function(e,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=N_(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=IY(d,a),g=-1;return n.reduce(function(v,b){var y=b.type.defaultProps!==void 0?xe(xe({},b.type.defaultProps),b.props):b.props,w=y[i],N=oQ("number");if(!v[w]){g++;var j;return p?j=pj(0,h):l&&l[w]&&l[w].hasStack?(j=zY(l[w].stackGroups,c,u),j=BA(f,j,w,a)):(j=rA(N,DY(m,n.filter(function(_){var S,C,k=i in _.props?_.props[i]:(S=_.type.defaultProps)===null||S===void 0?void 0:S[i],A="hide"in _.props?_.props.hide:(C=_.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===w&&!A}),"number",d),s.defaultProps.allowDataOverflow),j=BA(f,j,w,a)),xe(xe({},v),{},Tt({},w,xe(xe({axisType:a},s.defaultProps),{},{hide:!0,orientation:ro(cVe,"".concat(a,".").concat(g%2),null),domain:j,originalDomain:N,isCategorical:p,layout:d})))}return v},{})},pVe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(s,"Id"),m=no(d,a),h={};return m&&m.length?h=hVe(e,{axes:m,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=mVe(e,{Axis:a,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},gVe=function(e){var r=Mc(e),n=Vl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:OM(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:nj(r,n)}},FF=function(e){var r=e.children,n=e.defaultShowTooltip,s=Wa(r,Um),a=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},vVe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Wl(r&&r.type);return n&&n.indexOf("Bar")>=0})},BF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xVe=function(e,r){var n=e.props,s=e.graphicalItems,a=e.xAxisMap,i=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=Wa(f,Um),p=Wa(f,Ia),g=Object.keys(c).reduce(function(j,_){var S=c[_],C=S.orientation;return!S.mirror&&!S.hide?xe(xe({},j),{},Tt({},C,j[C]+S.width)):j},{left:m.left||0,right:m.right||0}),v=Object.keys(i).reduce(function(j,_){var S=i[_],C=S.orientation;return!S.mirror&&!S.hide?xe(xe({},j),{},Tt({},C,ro(j,"".concat(C))+S.height)):j},{top:m.top||0,bottom:m.bottom||0}),b=xe(xe({},v),g),y=b.bottom;h&&(b.bottom+=h.props.height||Um.defaultProps.height),p&&r&&(b=SIe(b,s,n,r));var w=u-b.left-b.right,N=d-b.top-b.bottom;return xe(xe({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(N,0)})},yVe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},__=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,y){var w=y.graphicalItems,N=y.stackGroups,j=y.offset,_=y.updateId,S=y.dataStartIndex,C=y.dataEndIndex,k=b.barSize,A=b.layout,O=b.barGap,P=b.barCategoryGap,R=b.maxBarSize,I=BF(A),$=I.numericAxisName,B=I.cateAxisName,L=vVe(w),E=[];return w.forEach(function(T,q){var Z=N_(b.data,{graphicalItems:[T],dataStartIndex:S,dataEndIndex:C}),M=T.type.defaultProps!==void 0?xe(xe({},T.type.defaultProps),T.props):T.props,W=M.dataKey,re=M.maxBarSize,se=M["".concat($,"Id")],je=M["".concat(B,"Id")],pe={},Ue=c.reduce(function(D,K){var H=y["".concat(K.axisType,"Map")],J=M["".concat(K.axisType,"Id")];H&&H[J]||K.axisType==="zAxis"||vf();var ae=H[J];return xe(xe({},D),{},Tt(Tt({},K.axisType,ae),"".concat(K.axisType,"Ticks"),Vl(ae)))},pe),ce=Ue[B],we=Ue["".concat(B,"Ticks")],be=N&&N[se]&&N[se].hasStack&&IIe(T,N[se].stackGroups),ue=Wl(T.type).indexOf("Bar")>=0,_t=nj(ce,we),ht=[],le=L&&NIe({barSize:k,stackGroups:N,totalSize:yVe(Ue,B)});if(ue){var Ye,vt,Rt=Lt(re)?R:re,Jt=(Ye=(vt=nj(ce,we,!0))!==null&&vt!==void 0?vt:Rt)!==null&&Ye!==void 0?Ye:0;ht=_Ie({barGap:O,barCategoryGap:P,bandSize:Jt!==_t?Jt:_t,sizeList:le[je],maxBarSize:Rt}),Jt!==_t&&(ht=ht.map(function(D){return xe(xe({},D),{},{position:xe(xe({},D.position),{},{offset:D.position.offset-Jt/2})})}))}var G=T&&T.type&&T.type.getComposedData;G&&E.push({props:xe(xe({},G(xe(xe({},Ue),{},{displayedData:Z,props:b,dataKey:W,item:T,bandSize:_t,barPosition:ht,offset:j,stackedData:be,layout:A,dataStartIndex:S,dataEndIndex:C}))),{},Tt(Tt(Tt({key:T.key||"item-".concat(q)},$,Ue[$]),B,Ue[B]),"animationId",_)),childIndex:_1e(T,b.children),item:T})}),E},h=function(b,y){var w=b.props,N=b.dataStartIndex,j=b.dataEndIndex,_=b.updateId;if(!J4({props:w}))return null;var S=w.children,C=w.layout,k=w.stackOffset,A=w.data,O=w.reverseStackOrder,P=BF(C),R=P.numericAxisName,I=P.cateAxisName,$=no(S,n),B=RIe(A,$,"".concat(R,"Id"),"".concat(I,"Id"),k,O),L=c.reduce(function(M,W){var re="".concat(W.axisType,"Map");return xe(xe({},M),{},Tt({},re,pVe(w,xe(xe({},W),{},{graphicalItems:$,stackGroups:W.axisType===R&&B,dataStartIndex:N,dataEndIndex:j}))))},{}),E=xVe(xe(xe({},L),{},{props:w,graphicalItems:$}),y==null?void 0:y.legendBBox);Object.keys(L).forEach(function(M){L[M]=d(w,L[M],E,M.replace("Map",""),r)});var T=L["".concat(I,"Map")],q=gVe(T),Z=m(w,xe(xe({},L),{},{dataStartIndex:N,dataEndIndex:j,updateId:_,graphicalItems:$,stackGroups:B,offset:E}));return xe(xe({formattedGraphicalItems:Z,graphicalItems:$,offset:E,stackGroups:B},q),L)},p=function(v){function b(y){var w,N,j;return J6e(this,b),j=tVe(this,b,[y]),Tt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Tt(j,"accessibilityManager",new L6e),Tt(j,"handleLegendBBoxUpdate",function(_){if(_){var S=j.state,C=S.dataStartIndex,k=S.dataEndIndex,A=S.updateId;j.setState(xe({legendBBox:_},h({props:j.props,dataStartIndex:C,dataEndIndex:k,updateId:A},xe(xe({},j.state),{},{legendBBox:_}))))}}),Tt(j,"handleReceiveSyncEvent",function(_,S,C){if(j.props.syncId===_){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Tt(j,"handleBrushChange",function(_){var S=_.startIndex,C=_.endIndex;if(S!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return xe({dataStartIndex:S,dataEndIndex:C},h({props:j.props,dataStartIndex:S,dataEndIndex:C,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),Tt(j,"handleMouseEnter",function(_){var S=j.getMouseInfo(_);if(S){var C=xe(xe({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseEnter;Pt(k)&&k(C,_)}}),Tt(j,"triggeredAfterMouseMove",function(_){var S=j.getMouseInfo(_),C=S?xe(xe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseMove;Pt(k)&&k(C,_)}),Tt(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Tt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Tt(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),Tt(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseLeave;Pt(C)&&C(S,_)}),Tt(j,"handleOuterEvent",function(_){var S=N1e(_),C=ro(j.props,"".concat(S));if(S&&Pt(C)){var k,A;/.*touch.*/i.test(S)?A=j.getMouseInfo(_.changedTouches[0]):A=j.getMouseInfo(_),C((k=A)!==null&&k!==void 0?k:{},_)}}),Tt(j,"handleClick",function(_){var S=j.getMouseInfo(_);if(S){var C=xe(xe({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var k=j.props.onClick;Pt(k)&&k(C,_)}}),Tt(j,"handleMouseDown",function(_){var S=j.props.onMouseDown;if(Pt(S)){var C=j.getMouseInfo(_);S(C,_)}}),Tt(j,"handleMouseUp",function(_){var S=j.props.onMouseUp;if(Pt(S)){var C=j.getMouseInfo(_);S(C,_)}}),Tt(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Tt(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),Tt(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),Tt(j,"handleDoubleClick",function(_){var S=j.props.onDoubleClick;if(Pt(S)){var C=j.getMouseInfo(_);S(C,_)}}),Tt(j,"handleContextMenu",function(_){var S=j.props.onContextMenu;if(Pt(S)){var C=j.getMouseInfo(_);S(C,_)}}),Tt(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&CC.emit(EC,j.props.syncId,_,j.eventEmitterSymbol)}),Tt(j,"applySyncEvent",function(_){var S=j.props,C=S.layout,k=S.syncMethod,A=j.state.updateId,O=_.dataStartIndex,P=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(xe({dataStartIndex:O,dataEndIndex:P},h({props:j.props,dataStartIndex:O,dataEndIndex:P,updateId:A},j.state)));else if(_.activeTooltipIndex!==void 0){var R=_.chartX,I=_.chartY,$=_.activeTooltipIndex,B=j.state,L=B.offset,E=B.tooltipTicks;if(!L)return;if(typeof k=="function")$=k(E,_);else if(k==="value"){$=-1;for(var T=0;T<E.length;T++)if(E[T].value===_.activeLabel){$=T;break}}var q=xe(xe({},L),{},{x:L.left,y:L.top}),Z=Math.min(R,q.x+q.width),M=Math.min(I,q.y+q.height),W=E[$]&&E[$].value,re=UA(j.state,j.props.data,$),se=E[$]?{x:C==="horizontal"?E[$].coordinate:Z,y:C==="horizontal"?M:E[$].coordinate}:aQ;j.setState(xe(xe({},_),{},{activeLabel:W,activeCoordinate:se,activePayload:re,activeTooltipIndex:$}))}else j.setState(_)}),Tt(j,"renderCursor",function(_){var S,C=j.state,k=C.isTooltipActive,A=C.activeCoordinate,O=C.activePayload,P=C.offset,R=C.activeTooltipIndex,I=C.tooltipAxisBandSize,$=j.getTooltipEventType(),B=(S=_.props.active)!==null&&S!==void 0?S:k,L=j.props.layout,E=_.key||"_recharts-cursor";return z.createElement(W6e,{key:E,activeCoordinate:A,activePayload:O,activeTooltipIndex:R,chartName:r,element:_,isActive:B,layout:L,offset:P,tooltipAxisBandSize:I,tooltipEventType:$})}),Tt(j,"renderPolarAxis",function(_,S,C){var k=ro(_,"type.axisType"),A=ro(j.state,"".concat(k,"Map")),O=_.type.defaultProps,P=O!==void 0?xe(xe({},O),_.props):_.props,R=A&&A[P["".concat(k,"Id")]];return x.cloneElement(_,xe(xe({},R),{},{className:Wt(k,R.className),key:_.key||"".concat(S,"-").concat(C),ticks:Vl(R,!0)}))}),Tt(j,"renderPolarGrid",function(_){var S=_.props,C=S.radialLines,k=S.polarAngles,A=S.polarRadius,O=j.state,P=O.radiusAxisMap,R=O.angleAxisMap,I=Mc(P),$=Mc(R),B=$.cx,L=$.cy,E=$.innerRadius,T=$.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(k)?k:Vl($,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(A)?A:Vl(I,!0).map(function(q){return q.coordinate}),cx:B,cy:L,innerRadius:E,outerRadius:T,key:_.key||"polar-grid",radialLines:C})}),Tt(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,S=j.props,C=S.children,k=S.width,A=S.height,O=j.props.margin||{},P=k-(O.left||0)-(O.right||0),R=MY({children:C,formattedGraphicalItems:_,legendWidth:P,legendContent:u});if(!R)return null;var I=R.item,$=IF(R,H6e);return x.cloneElement(I,xe(xe({},$),{},{chartWidth:k,chartHeight:A,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Tt(j,"renderTooltip",function(){var _,S=j.props,C=S.children,k=S.accessibilityLayer,A=Wa(C,Gr);if(!A)return null;var O=j.state,P=O.isTooltipActive,R=O.activeCoordinate,I=O.activePayload,$=O.activeLabel,B=O.offset,L=(_=A.props.active)!==null&&_!==void 0?_:P;return x.cloneElement(A,{viewBox:xe(xe({},B),{},{x:B.left,y:B.top}),active:L,label:$,payload:L?I:[],coordinate:R,accessibilityLayer:k})}),Tt(j,"renderBrush",function(_){var S=j.props,C=S.margin,k=S.data,A=j.state,O=A.offset,P=A.dataStartIndex,R=A.dataEndIndex,I=A.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:U0(j.handleBrushChange,_.props.onChange),data:k,x:Ie(_.props.x)?_.props.x:O.left,y:Ie(_.props.y)?_.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Ie(_.props.width)?_.props.width:O.width,startIndex:P,endIndex:R,updateId:"brush-".concat(I)})}),Tt(j,"renderReferenceElement",function(_,S,C){if(!_)return null;var k=j,A=k.clipPathId,O=j.state,P=O.xAxisMap,R=O.yAxisMap,I=O.offset,$=_.type.defaultProps||{},B=_.props,L=B.xAxisId,E=L===void 0?$.xAxisId:L,T=B.yAxisId,q=T===void 0?$.yAxisId:T;return x.cloneElement(_,{key:_.key||"".concat(S,"-").concat(C),xAxis:P[E],yAxis:R[q],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),Tt(j,"renderActivePoints",function(_){var S=_.item,C=_.activePoint,k=_.basePoint,A=_.childIndex,O=_.isRange,P=[],R=S.props.key,I=S.item.type.defaultProps!==void 0?xe(xe({},S.item.type.defaultProps),S.item.props):S.item.props,$=I.activeDot,B=I.dataKey,L=xe(xe({index:A,dataKey:B,cx:C.x,cy:C.y,r:4,fill:rR(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},xt($,!1)),Aw($));return P.push(b.renderActiveDot($,L,"".concat(R,"-activePoint-").concat(A))),k?P.push(b.renderActiveDot($,xe(xe({},L),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(A))):O&&P.push(null),P}),Tt(j,"renderGraphicChild",function(_,S,C){var k=j.filterFormatItem(_,S,C);if(!k)return null;var A=j.getTooltipEventType(),O=j.state,P=O.isTooltipActive,R=O.tooltipAxis,I=O.activeTooltipIndex,$=O.activeLabel,B=j.props.children,L=Wa(B,Gr),E=k.props,T=E.points,q=E.isRange,Z=E.baseLine,M=k.item.type.defaultProps!==void 0?xe(xe({},k.item.type.defaultProps),k.item.props):k.item.props,W=M.activeDot,re=M.hide,se=M.activeBar,je=M.activeShape,pe=!!(!re&&P&&L&&(W||se||je)),Ue={};A!=="axis"&&L&&L.props.trigger==="click"?Ue={onClick:U0(j.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(Ue={onMouseLeave:U0(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:U0(j.handleItemMouseEnter,_.props.onMouseEnter)});var ce=x.cloneElement(_,xe(xe({},k.props),Ue));function we(K){return typeof R.dataKey=="function"?R.dataKey(K.payload):null}if(pe)if(I>=0){var be,ue;if(R.dataKey&&!R.allowDuplicatedCategory){var _t=typeof R.dataKey=="function"?we:"payload.".concat(R.dataKey.toString());be=kw(T,_t,$),ue=q&&Z&&kw(Z,_t,$)}else be=T==null?void 0:T[I],ue=q&&Z&&Z[I];if(je||se){var ht=_.props.activeIndex!==void 0?_.props.activeIndex:I;return[x.cloneElement(_,xe(xe(xe({},k.props),Ue),{},{activeIndex:ht})),null,null]}if(!Lt(be))return[ce].concat(ep(j.renderActivePoints({item:k,activePoint:be,basePoint:ue,childIndex:I,isRange:q})))}else{var le,Ye=(le=j.getItemByXY(j.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:ce},vt=Ye.graphicalItem,Rt=vt.item,Jt=Rt===void 0?_:Rt,G=vt.childIndex,D=xe(xe(xe({},k.props),Ue),{},{activeIndex:G});return[x.cloneElement(Jt,D),null,null]}return q?[ce,null,null]:[ce,null]}),Tt(j,"renderCustomized",function(_,S,C){return x.cloneElement(_,xe(xe({key:"recharts-customized-".concat(C)},j.props),j.state))}),Tt(j,"renderMap",{CartesianGrid:{handler:G0,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:G0},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:G0},YAxis:{handler:G0},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:If("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=PG(j.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return sVe(b,v),eVe(b,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,j=w.data,_=w.height,S=w.layout,C=Wa(N,Gr);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=UA(this.state,j,k,A),P=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+_)/2,I=S==="horizontal",$=I?{x:P,y:R}:{y:P,x:R},B=this.state.formattedGraphicalItems.find(function(E){var T=E.item;return T.type.name==="Scatter"});B&&($=xe(xe({},$),B.props.points[k].tooltipPosition),O=B.props.points[k].tooltipPayload);var L={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:A,activePayload:O,activeCoordinate:$};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){v2([Wa(w.children,Gr)],[Wa(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Wa(this.props.children,Gr);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),_=XTe(j),S={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},C=j.width/N.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,C);if(!k)return null;var A=this.state,O=A.xAxisMap,P=A.yAxisMap,R=this.getTooltipEventType(),I=LF(this.state,this.props.data,this.props.layout,k);if(R!=="axis"&&O&&P){var $=Mc(O).scale,B=Mc(P).scale,L=$&&$.invert?$.invert(S.chartX):null,E=B&&B.invert?B.invert(S.chartY):null;return xe(xe({},S),{},{xValue:L,yValue:E},I)}return I?xe(xe({},S),I):null}},{key:"inRange",value:function(w,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=w/j,C=N/j;if(_==="horizontal"||_==="vertical"){var k=this.state.offset,A=S>=k.left&&S<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return A?{x:S,y:C}:null}var O=this.state,P=O.angleAxisMap,R=O.radiusAxisMap;if(P&&R){var I=Mc(P);return i5({x:S,y:C},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),j=Wa(w,Gr),_={};j&&N==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Aw(this.props,this.handleOuterEvent);return xe(xe({},S),_)}},{key:"addListener",value:function(){CC.on(EC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){CC.removeListener(EC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,j){for(var _=this.state.formattedGraphicalItems,S=0,C=_.length;S<C;S++){var k=_[S];if(k.item===w||k.props.key===w.key||N===Wl(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,j=N.left,_=N.top,S=N.height,C=N.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:j,y:_,height:S,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,j){var _=DF(j,2),S=_[0],C=_[1];return xe(xe({},N),{},Tt({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,j){var _=DF(j,2),S=_[0],C=_[1];return xe(xe({},N),{},Tt({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,j=N.formattedGraphicalItems,_=N.activeItem;if(j&&j.length)for(var S=0,C=j.length;S<C;S++){var k=j[S],A=k.props,O=k.item,P=O.type.defaultProps!==void 0?xe(xe({},O.type.defaultProps),O.props):O.props,R=Wl(O.type);if(R==="Bar"){var I=(A.data||[]).find(function(E){return MLe(w,E)});if(I)return{graphicalItem:k,payload:I}}else if(R==="RadialBar"){var $=(A.data||[]).find(function(E){return i5(w,E)});if($)return{graphicalItem:k,payload:$}}else if(g_(k,_)||v_(k,_)||Px(k,_)){var B=w5e({graphicalItem:k,activeTooltipItem:_,itemData:P.data}),L=P.activeIndex===void 0?B:P.activeIndex;return{graphicalItem:xe(xe({},k),{},{childIndex:L}),payload:Px(k,_)?P.data[B]:k.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!J4(this))return null;var N=this.props,j=N.children,_=N.className,S=N.width,C=N.height,k=N.style,A=N.compact,O=N.title,P=N.desc,R=IF(N,K6e),I=xt(R,!1);if(A)return z.createElement(pF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(y2,Ih({},I,{width:S,height:C,title:O,desc:P}),this.renderClipPath(),eL(j,this.renderMap)));if(this.props.accessibilityLayer){var $,B;I.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,I.role=(B=this.props.role)!==null&&B!==void 0?B:"application",I.onKeyDown=function(E){w.accessibilityManager.keyboardEvent(E)},I.onFocus=function(){w.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return z.createElement(pF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Ih({className:Wt("recharts-wrapper",_),style:xe({position:"relative",cursor:"default",width:S,height:C},k)},L,{ref:function(T){w.container=T}}),z.createElement(y2,Ih({},I,{width:S,height:C,title:O,desc:P,style:uVe}),this.renderClipPath(),eL(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Tt(p,"displayName",r),Tt(p,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Tt(p,"getDerivedStateFromProps",function(v,b){var y=v.dataKey,w=v.data,N=v.children,j=v.width,_=v.height,S=v.layout,C=v.stackOffset,k=v.margin,A=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var P=FF(v);return xe(xe(xe({},P),{},{updateId:0},h(xe(xe({props:v},P),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:_,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:N})}if(y!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||_!==b.prevHeight||S!==b.prevLayout||C!==b.prevStackOffset||!Xh(k,b.prevMargin)){var R=FF(v),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=xe(xe({},LF(b,w,S)),{},{updateId:b.updateId+1}),B=xe(xe(xe({},R),I),$);return xe(xe(xe({},B),h(xe({props:v},B),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:_,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:N})}if(!v2(N,b.prevChildren)){var L,E,T,q,Z=Wa(N,Um),M=Z&&(L=(E=Z.props)===null||E===void 0?void 0:E.startIndex)!==null&&L!==void 0?L:A,W=Z&&(T=(q=Z.props)===null||q===void 0?void 0:q.endIndex)!==null&&T!==void 0?T:O,re=M!==A||W!==O,se=!Lt(w),je=se&&!re?b.updateId:b.updateId+1;return xe(xe({updateId:je},h(xe(xe({props:v},b),{},{updateId:je,dataStartIndex:M,dataEndIndex:W}),b)),{},{prevChildren:N,dataStartIndex:M,dataEndIndex:W})}return null}),Tt(p,"renderActiveDot",function(v,b,y){var w;return x.isValidElement(v)?w=x.cloneElement(v,b):Pt(v)?w=v(b):w=z.createElement($y,b),z.createElement(sr,{className:"recharts-active-dot",key:y},w)});var g=x.forwardRef(function(b,y){return z.createElement(p,Ih({},b,{ref:y}))});return g.displayName=p.displayName,g},mR=__({chartName:"LineChart",GraphicalChild:ll,axisComponents:[{axisType:"xAxis",AxisComp:Us},{axisType:"yAxis",AxisComp:qs}],formatAxisMap:sR}),tp=__({chartName:"BarChart",GraphicalChild:lo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Us},{axisType:"yAxis",AxisComp:qs}],formatAxisMap:sR}),Ly=__({chartName:"PieChart",GraphicalChild:ho,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:p_},{axisType:"radiusAxis",AxisComp:h_}],formatAxisMap:HIe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),iQ=__({chartName:"AreaChart",GraphicalChild:cl,axisComponents:[{axisType:"xAxis",AxisComp:Us},{axisType:"yAxis",AxisComp:qs}],formatAxisMap:sR});function bVe({projetos:t}){const{primaryColor:e,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const m=document.documentElement,p=getComputedStyle(m).getPropertyValue("--projects").trim()||getComputedStyle(m).getPropertyValue("--primary").trim(),g=p?`hsl(${p})`:"hsl(220 90% 50%)",v=p?`hsl(${p} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:g,primaryFade:v}},[]),n=x.useMemo(()=>{const h=e.replace(/hsl\(|\)/g,"").split(/\s+/),p=Number(h[0]),g=Number((h[1]||"0").replace("%","")),v=Number((h[2]||"0").replace("%",""));return{h:p,s:g,l:v}},[e]),s=(m,h,p,g)=>g!=null?`hsl(${m} ${h}% ${p}% / ${g})`:`hsl(${m} ${h}% ${p}%)`,a=m=>{const h=[],{h:p,s:g}=n,v=[30,40,50,60,70];for(let b=0;b<Math.max(m,1);b++){const y=v[b%v.length];h.push({solid:s(p,g,y),fade:s(p,g,y,.8)})}return h},i=t.reduce((m,h)=>(m[h.status]=(m[h.status]||0)+1,m),{}),l=[{name:"Planejamento",value:i.planejamento||0,color:"#3b82f6"},{name:"Em Andamento",value:i["em-andamento"]||0,color:"#8b5cf6"},{name:"Concludo",value:i.concluido||0,color:"#10b981"},{name:"Cancelado",value:i.cancelado||0,color:"#ef4444"}],u=Ay({start:Bs(new Date,5),end:new Date}).map(m=>{const h=dn(m),p=ka(m),g=t.filter(b=>{const y=new Date(b.created_at);return y>=h&&y<=p}).length,v=t.filter(b=>{const y=new Date(b.updated_at);return b.status==="concluido"&&y>=h&&y<=p}).length;return{mes:Mt(m,"MMM",{locale:Sr}),criados:g,concluidos:v}}),d=t.reduce((m,h)=>{var g;const p=((g=h.clientes)==null?void 0:g.nome)||"Sem cliente";return m[p]=(m[p]||0)+1,m},{}),f=Object.entries(d).map(([m,h])=>({nome:m,projetos:Number(h)})).sort((m,h)=>Number(h.projetos)-Number(m.projetos)).slice(0,5);return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-lg font-semibold",children:"Projetos por Status"})}),o.jsx(he,{children:o.jsx(Vs,{width:"100%",height:200,children:o.jsxs(Ly,{children:[o.jsx(ho,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percent:h})=>`${m}: ${(h*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(()=>{const m=a(l.length);return l.map((h,p)=>o.jsx(wi,{fill:m[p].solid},`cell-${p}`))})()}),o.jsx(Gr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}})]})})})]}),o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-lg font-semibold",children:"Top 5 Clientes"})}),o.jsx(he,{children:o.jsx(Vs,{width:"100%",height:200,children:o.jsxs(tp,{data:f,layout:"vertical",children:[o.jsx(Po,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Us,{type:"number",className:"text-xs"}),o.jsx(qs,{dataKey:"nome",type:"category",className:"text-xs",width:100}),o.jsx(Gr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),o.jsx(lo,{dataKey:"projetos",radius:[0,8,8,0],children:(()=>{const m=a(f.length);return f.map((h,p)=>o.jsx(wi,{fill:m[p].solid},`cell-${p}`))})()})]})})})]}),o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm md:col-span-2",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-lg font-semibold",children:"Timeline de Projetos"})}),o.jsx(he,{children:o.jsx(Vs,{width:"100%",height:200,children:o.jsx(mR,{data:u,children:(()=>{const m=a(2);return o.jsxs(o.Fragment,{children:[o.jsx(Po,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Us,{dataKey:"mes",className:"text-xs"}),o.jsx(qs,{className:"text-xs"}),o.jsx(Gr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),o.jsx(Ia,{}),o.jsx(ll,{type:"monotone",dataKey:"criados",stroke:m[0].solid,strokeWidth:2,name:"Criados"}),o.jsx(ll,{type:"monotone",dataKey:"concluidos",stroke:m[1].solid,strokeWidth:2,name:"Concludos"})]})})()})})})]})]})}function wVe({transacoes:t}){const e={receita:"#10b981",despesa:"#f43f5e",pagas:"#10b981",pendentes:"#f59e0b",palette:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#06b6d4","#ec4899","#6366f1"]},r=h=>String(h||"").toLowerCase(),s=Ay({start:Bs(new Date,5),end:new Date}).map(h=>{const p=dn(h),g=ka(h),v=t.filter(y=>r(y.tipo)==="receita"&&new Date(y.data_vencimento||y.created_at||y.data)>=p&&new Date(y.data_vencimento||y.created_at||y.data)<=g).reduce((y,w)=>y+Number(w.valor),0),b=t.filter(y=>r(y.tipo)==="despesa"&&new Date(y.data_vencimento||y.created_at||y.data)>=p&&new Date(y.data_vencimento||y.created_at||y.data)<=g).reduce((y,w)=>y+Number(w.valor),0);return{mes:Mt(h,"MMM",{locale:Sr}).toUpperCase(),receita:v,despesas:b,lucro:v-b}}),a=t.reduce((h,p)=>{const g=p.categoria||"Outros";return h[g]=(h[g]||0)+Number(p.valor),h},{}),i=Object.entries(a).map(([h,p])=>({name:h,value:p})).sort((h,p)=>p.value-h.value),l=t.filter(h=>r(h.tipo)==="despesa").reduce((h,p)=>{const g=p.categoria||"Outros";return h[g]=(h[g]||0)+Number(p.valor),h},{}),c=Object.entries(l).map(([h,p])=>({name:h,value:p})).sort((h,p)=>p.value-h.value).slice(0,5),u=t.filter(h=>h.data_liquidacao).reduce((h,p)=>h+Number(p.valor),0),d=t.filter(h=>!h.data_liquidacao).reduce((h,p)=>h+Number(p.valor),0),f=[{name:"Pagas",value:u,color:e.pagas},{name:"Pendentes",value:d,color:e.pendentes}],m=({active:h,payload:p,label:g})=>h&&p&&p.length?o.jsxs("div",{className:"bg-background/95 backdrop-blur-sm border border-border p-3 rounded-xl shadow-xl",children:[o.jsx("p",{className:"font-medium mb-2",children:g}),p.map((v,b)=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color||v.fill}}),o.jsxs("span",{className:"text-muted-foreground capitalize",children:[v.name,":"]}),o.jsx("span",{className:"font-semibold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v.value)})]},b))]}):null;return o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(ne,{className:"rounded-3xl border border-border/50 shadow-sm md:col-span-2 bg-gradient-to-br from-card to-muted/20",children:[o.jsxs(Oe,{children:[o.jsx(Te,{className:"text-lg font-semibold flex items-center gap-2",children:"Fluxo de Caixa"}),o.jsx(An,{children:"Evoluo de receitas e despesas nos ltimos 6 meses"})]}),o.jsx(he,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Vs,{width:"100%",height:"100%",children:o.jsxs(iQ,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorReceita",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:e.receita,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:e.receita,stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorDespesa",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:e.despesa,stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:e.despesa,stopOpacity:0})]})]}),o.jsx(Po,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),o.jsx(Us,{dataKey:"mes",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},dy:10}),o.jsx(qs,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:h=>`R$${h/1e3}k`}),o.jsx(Gr,{content:o.jsx(m,{}),cursor:{stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"4 4"}}),o.jsx(Ia,{iconType:"circle",wrapperStyle:{paddingTop:"20px"}}),o.jsx(cl,{type:"monotone",dataKey:"receita",name:"Receitas",stroke:e.receita,strokeWidth:3,fillOpacity:1,fill:"url(#colorReceita)"}),o.jsx(cl,{type:"monotone",dataKey:"despesas",name:"Despesas",stroke:e.despesa,strokeWidth:3,fillOpacity:1,fill:"url(#colorDespesa)"})]})})})})]}),o.jsxs(ne,{className:"rounded-3xl border border-border/50 shadow-sm",children:[o.jsxs(Oe,{children:[o.jsx(Te,{className:"text-lg font-semibold",children:"Distribuio Financeira"}),o.jsx(An,{children:"Movimentao por categoria"})]}),o.jsx(he,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Vs,{width:"100%",height:"100%",children:o.jsxs(Ly,{children:[o.jsx(ho,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((h,p)=>o.jsx(wi,{fill:e.palette[p%e.palette.length],strokeWidth:0},`cell-${p}`))}),o.jsx(Gr,{content:o.jsx(m,{})}),o.jsx(Ia,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",formatter:(h,p)=>o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:h})})]})})})})]}),o.jsxs(ne,{className:"rounded-3xl border border-border/50 shadow-sm",children:[o.jsxs(Oe,{children:[o.jsx(Te,{className:"text-lg font-semibold",children:"Top 5 Despesas"}),o.jsx(An,{children:"Onde voc mais gasta"})]}),o.jsx(he,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Vs,{width:"100%",height:"100%",children:o.jsxs(tp,{layout:"vertical",data:c,margin:{top:5,right:30,left:40,bottom:5},children:[o.jsx(Po,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),o.jsx(Us,{type:"number",hide:!0}),o.jsx(qs,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,width:100,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),o.jsx(Gr,{content:o.jsx(m,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),o.jsx(lo,{dataKey:"value",name:"Valor",radius:[0,4,4,0],children:c.map((h,p)=>o.jsx(wi,{fill:e.despesa,fillOpacity:.8-p*.1},`cell-${p}`))})]})})})})]}),o.jsxs(ne,{className:"rounded-3xl border border-border/50 shadow-sm md:col-span-2 lg:col-span-2",children:[o.jsxs(Oe,{children:[o.jsx(Te,{className:"text-lg font-semibold",children:"Status de Pagamento"}),o.jsx(An,{children:"Comparativo entre transaes pagas e pendentes"})]}),o.jsx(he,{children:o.jsx("div",{className:"h-[250px] w-full",children:o.jsx(Vs,{width:"100%",height:"100%",children:o.jsxs(tp,{data:f,layout:"vertical",margin:{left:20},children:[o.jsx(Po,{strokeDasharray:"3 3",horizontal:!1,stroke:"hsl(var(--border))",opacity:.4}),o.jsx(Us,{type:"number",hide:!0}),o.jsx(qs,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:14,fontWeight:500}}),o.jsx(Gr,{content:o.jsx(m,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),o.jsx(lo,{dataKey:"value",radius:[0,8,8,0],barSize:40,children:f.map((h,p)=>o.jsx(wi,{fill:h.color},`cell-${p}`))})]})})})})]})]})}function jVe({clientes:t}){const{primaryColor:e,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const c=document.documentElement,d=getComputedStyle(c).getPropertyValue("--clients").trim()||getComputedStyle(c).getPropertyValue("--primary").trim(),f=d?`hsl(${d})`:"hsl(220 90% 50%)",m=d?`hsl(${d} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:f,primaryFade:m}},[]),n=x.useMemo(()=>{const u=e.replace(/hsl\(|\)/g,"").split(/\s+/),d=Number(u[0]),f=Number((u[1]||"0").replace("%","")),m=Number((u[2]||"0").replace("%",""));return{h:d,s:f,l:m}},[e]),s=(c,u,d)=>`hsl(${c} ${u}% ${d}%)`,a=c=>{const{h:u,s:d}=n,f=[30,40,50,60,70],m=[];for(let h=0;h<Math.max(c,1);h++){const p=f[h%f.length];m.push(s(u,d,p))}return m},l=Ay({start:Bs(new Date,5),end:new Date}).map(c=>{const u=ka(c),d=t.filter(m=>new Date(m.created_at)<=u).length,f=t.filter(m=>{const h=new Date(m.created_at);return h>=dn(c)&&h<=u}).length;return{mes:Mt(c,"MMM",{locale:Sr}),total:d,novos:f}});return o.jsxs("div",{className:"grid gap-4",children:[o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-lg font-semibold",children:"Crescimento de Clientes"})}),o.jsx(he,{children:o.jsx(Vs,{width:"100%",height:200,children:o.jsxs(mR,{data:l,children:[o.jsx(Po,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Us,{dataKey:"mes",className:"text-xs"}),o.jsx(qs,{className:"text-xs"}),o.jsx(Gr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),o.jsx(Ia,{}),(()=>{const c=a(2);return o.jsxs(o.Fragment,{children:[o.jsx(ll,{type:"monotone",dataKey:"total",stroke:c[0],strokeWidth:2,name:"Total de Clientes"}),o.jsx(ll,{type:"monotone",dataKey:"novos",stroke:c[1],strokeWidth:2,name:"Novos Clientes"})]})})()]})})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm font-medium text-muted-foreground",children:"Total de Clientes"})}),o.jsx(he,{children:o.jsx("div",{className:"text-3xl font-bold",children:t.length})})]}),o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm font-medium text-muted-foreground",children:"Novos (30 dias)"})}),o.jsx(he,{children:o.jsx("div",{className:"text-3xl font-bold",children:t.filter(c=>new Date(c.created_at)>=Bs(new Date,1)).length})})]}),o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm font-medium text-muted-foreground",children:"Com Email"})}),o.jsx(he,{children:o.jsx("div",{className:"text-3xl font-bold",children:t.filter(c=>c.email).length})})]})]})]})}function NVe({agendamentos:t}){const{primaryColor:e,primaryFade:r}=x.useMemo(()=>{if(typeof window>"u")return{primaryColor:"hsl(220 90% 50%)",primaryFade:"hsl(220 90% 50% / 0.5)"};const d=document.documentElement,m=getComputedStyle(d).getPropertyValue("--schedules").trim()||getComputedStyle(d).getPropertyValue("--primary").trim(),h=m?`hsl(${m})`:"hsl(220 90% 50%)",p=m?`hsl(${m} / 0.5)`:"hsl(220 90% 50% / 0.5)";return{primaryColor:h,primaryFade:p}},[]),n=x.useMemo(()=>{const f=e.replace(/hsl\(|\)/g,"").split(/\s+/),m=Number(f[0]),h=Number((f[1]||"0").replace("%","")),p=Number((f[2]||"0").replace("%",""));return{h:m,s:h,l:p}},[e]),s=(d,f,m,h)=>h!=null?`hsl(${d} ${f}% ${m}% / ${h})`:`hsl(${d} ${f}% ${m}%)`,a=d=>{const f=[],{h:m,s:h}=n,p=[30,40,50,60,70];for(let g=0;g<Math.max(d,1);g++){const v=p[g%p.length];f.push({solid:s(m,h,v),fade:s(m,h,v,.8)})}return f},i=t.reduce((d,f)=>(d[f.status]=(d[f.status]||0)+1,d),{}),l=[{name:"Agendado",value:i.agendado||0,color:"#3b82f6"},{name:"Concludo",value:i.concluido||0,color:"#10b981"},{name:"Cancelado",value:i.cancelado||0,color:"#ef4444"}],u=Ay({start:Bs(new Date,5),end:new Date}).map(d=>{const f=dn(d),m=ka(d),h=t.filter(g=>{const v=new Date(g.data);return v>=f&&v<=m}).length,p=t.filter(g=>{const v=new Date(g.data);return g.status==="concluido"&&v>=f&&v<=m}).length;return{mes:Mt(d,"MMM",{locale:Sr}),agendados:h,concluidos:p}});return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-lg font-semibold",children:"Status dos Agendamentos"})}),o.jsx(he,{children:o.jsx(Vs,{width:"100%",height:200,children:o.jsxs(Ly,{children:[o.jsx(ho,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percent:f})=>`${d}: ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(()=>{const d=a(l.length);return l.map((f,m)=>o.jsx(wi,{fill:d[m].solid},`cell-${m}`))})()}),o.jsx(Gr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}})]})})})]}),o.jsxs(ne,{className:"rounded-3xl border-0 shadow-sm",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-lg font-semibold",children:"Agendamentos ao Longo do Tempo"})}),o.jsx(he,{children:o.jsx(Vs,{width:"100%",height:200,children:o.jsxs(tp,{data:u,children:[o.jsx(Po,{strokeDasharray:"3 3",className:"stroke-muted"}),o.jsx(Us,{dataKey:"mes",className:"text-xs"}),o.jsx(qs,{className:"text-xs"}),o.jsx(Gr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"1rem"}}),o.jsx(Ia,{}),(()=>{const d=a(2);return o.jsxs(o.Fragment,{children:[o.jsx(lo,{dataKey:"agendados",fill:d[0].solid,radius:[8,8,0,0],name:"Agendados"}),o.jsx(lo,{dataKey:"concluidos",fill:d[1].solid,radius:[8,8,0,0],name:"Concludos"})]})})()]})})})]})]})}var pR="Progress",gR=100,[_Ve]=hH(pR),[SVe,CVe]=_Ve(pR),lQ=x.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=EVe,...i}=t;(s||s===0)&&!zF(s)&&console.error(kVe(`${s}`,"Progress"));const l=zF(s)?s:gR;n!==null&&!VF(n,l)&&console.error(AVe(`${n}`,"Progress"));const c=VF(n,l)?n:null,u=Oj(c)?a(c,l):void 0;return o.jsx(SVe,{scope:r,value:c,max:l,children:o.jsx(ga.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Oj(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":dQ(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});lQ.displayName=pR;var cQ="ProgressIndicator",uQ=x.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=CVe(cQ,r);return o.jsx(ga.div,{"data-state":dQ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});uQ.displayName=cQ;function EVe(t,e){return`${Math.round(t/e*100)}%`}function dQ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Oj(t){return typeof t=="number"}function zF(t){return Oj(t)&&!isNaN(t)&&t>0}function VF(t,e){return Oj(t)&&!isNaN(t)&&t<=e&&t>=0}function kVe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gR}\`.`}function AVe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fQ=lQ,OVe=uQ;const fu=x.forwardRef(({className:t,value:e,...r},n)=>o.jsx(fQ,{ref:n,className:Ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:o.jsx(OVe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));fu.displayName=fQ.displayName;function hQ(){const[t,e]=x.useState([]),[r,n]=x.useState(null),[s,a]=x.useState(!0),[i,l]=x.useState(null),{user:c}=Fr(),u=x.useCallback(async()=>{if(!c){e([]),a(!1);return}try{a(!0),l(null);const{data:N,error:j}=await X.from("metas").select("*").eq("user_id",c.id).order("created_at",{ascending:!1});if(j)throw j;const _=(N==null?void 0:N.map(S=>({...S,percentual_progresso:S.valor_meta>0?Math.min(S.valor_atual/S.valor_meta*100,100):0,status_calculado:S.status,dias_restantes:Math.ceil((new Date(S.data_fim).getTime()-new Date().getTime())/(1e3*60*60*24)),nivel_progresso:S.valor_meta>0&&S.valor_atual/S.valor_meta*100>=100?"concluida":"em_andamento"})))||[];e(_),d(_)}catch(N){console.error("Erro ao buscar metas:",N),l("Erro ao carregar metas"),Be.toast.error("Erro ao carregar metas.")}finally{a(!1)}},[c]),d=N=>{const j={total:N.length,ativas:N.filter(_=>_.status==="ativa").length,concluidas:N.filter(_=>_.status==="concluida"||_.percentual_progresso>=100).length,vencidas:N.filter(_=>_.status_calculado==="vencida").length,proximasVencimento:N.filter(_=>_.status_calculado==="proxima_vencimento").length,progressoMedio:N.length>0?N.reduce((_,S)=>_+S.percentual_progresso,0)/N.length:0,metasPorCategoria:{},metasPorPrioridade:{}};N.forEach(_=>{j.metasPorCategoria[_.categoria]=(j.metasPorCategoria[_.categoria]||0)+1,j.metasPorPrioridade[_.prioridade]=(j.metasPorPrioridade[_.prioridade]||0)+1}),n(j)},f=async N=>{if(!c)return Be.toast.error("Usurio no autenticado"),null;try{const{data:j,error:_}=await X.from("metas").insert([{...N,user_id:c.id,prioridade:N.prioridade||"media",cor:N.cor||"#8B5CF6"}]).select().single();if(_)throw _;return Be.toast.success("Meta criada com sucesso!"),await u(),j}catch(j){return console.error("Erro ao criar meta:",j),Be.toast.error("Erro ao criar meta"),null}},m=async(N,j)=>{try{const{error:_}=await X.from("metas").update(j).eq("id",N).eq("user_id",c==null?void 0:c.id);if(_)throw _;return Be.toast.success("Meta atualizada com sucesso!"),await u(),!0}catch(_){return console.error("Erro ao atualizar meta:",_),Be.toast.error("Erro ao atualizar meta"),!1}},h=async(N,j,_)=>{try{const{error:S}=await X.from("metas").update({valor_atual:j}).eq("id",N).eq("user_id",c==null?void 0:c.id);if(S)throw S;return Be.toast.success("Progresso atualizado com sucesso!"),await u(),!0}catch(S){return console.error("Erro ao atualizar progresso:",S),Be.toast.error("Erro ao atualizar progresso"),!1}},p=async N=>{try{const{error:j}=await X.from("metas").delete().eq("id",N).eq("user_id",c==null?void 0:c.id);if(j)throw j;return Be.toast.success("Meta excluda com sucesso!"),await u(),!0}catch(j){return console.error("Erro ao deletar meta:",j),Be.toast.error("Erro ao deletar meta"),!1}},g=async N=>{try{const{data:j,error:_}=await X.from("meta_progresso").select("*").eq("meta_id",N).eq("user_id",c==null?void 0:c.id).order("data_registro",{ascending:!1});if(_)throw _;return j||[]}catch(j){return console.error("Erro ao buscar histrico:",j),[]}},v=N=>t.filter(j=>j.categoria===N),b=N=>t.filter(j=>j.status===N),y=(N=7)=>t.filter(j=>j.status==="ativa"&&j.dias_restantes<=N&&j.dias_restantes>=0),w=()=>t.filter(N=>N.status_calculado==="vencida");return x.useEffect(()=>{u()},[u]),{metas:t,metasStats:r,isLoading:s,error:i,createMeta:f,updateMeta:m,updateProgresso:h,deleteMeta:p,fetchMetas:u,fetchProgressoHistorico:g,getMetasPorCategoria:v,getMetasPorStatus:b,getMetasProximasVencimento:y,getMetasVencidas:w,calculateStats:d}}function TVe({onCreateMeta:t,onEditMeta:e}){const{metas:r,metasStats:n,isLoading:s,deleteMeta:a}=hQ(),[i,l]=x.useState(""),[c,u]=x.useState("all"),[d,f]=x.useState("all"),[m,h]=x.useState("all"),p=r.filter(w=>{var C;const N=w.titulo.toLowerCase().includes(i.toLowerCase())||((C=w.descricao)==null?void 0:C.toLowerCase().includes(i.toLowerCase())),j=c==="all"||w.categoria===c,_=d==="all"||w.status===d,S=m==="all"||w.prioridade===m;return N&&j&&_&&S}),g=w=>{switch(w){case"financeiro":return"";case"clientes":return"";case"projetos":return"";case"vendas":return"";case"pessoal":return"";case"operacional":return"";default:return""}},v=w=>{switch(w){case"critica":return"bg-red-500 text-white";case"alta":return"bg-orange-500 text-white";case"media":return"bg-blue-500 text-white";case"baixa":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},b=w=>w.percentual_progresso>=100?"text-green-500":w.status_calculado==="vencida"?"text-red-500":w.status_calculado==="proxima_vencimento"?"text-orange-500":"text-blue-500",y=async w=>{confirm("Tem certeza que deseja excluir esta meta?")&&await a(w)};return s?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[...Array(4)].map((w,N)=>o.jsx(Co,{className:"h-24 rounded-xl"},N))}),o.jsx(Co,{className:"h-96 rounded-xl"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20",children:o.jsx(Ro,{className:"w-5 h-5 text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Metas"}),o.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.total)||0})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-green-500/10 to-green-600/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-xl bg-green-500/20",children:o.jsx(wk,{className:"w-5 h-5 text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Concludas"}),o.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.concluidas)||0})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-orange-500/10 to-orange-600/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-xl bg-orange-500/20",children:o.jsx(ra,{className:"w-5 h-5 text-orange-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Prx. Vencimento"}),o.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.proximasVencimento)||0})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-600/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-xl bg-purple-500/20",children:o.jsx(_n,{className:"w-5 h-5 text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso Mdio"}),o.jsxs("p",{className:"text-2xl font-bold",children:[(n==null?void 0:n.progressoMedio.toFixed(0))||0,"%"]})]})]})})})]}),o.jsxs(ne,{className:"rounded-xl",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(Ro,{className:"w-5 h-5"}),"Gerenciar Metas"]}),o.jsxs(U,{onClick:t,className:"rounded-xl gap-2",children:[o.jsx(en,{className:"w-4 h-4"}),"Nova Meta"]})]})}),o.jsxs(he,{children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(ic,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar metas por ttulo ou descrio...",value:i,onChange:w=>l(w.target.value),className:"pl-12 pr-4 py-3 rounded-2xl border-2 border-muted/50 focus:border-primary/50 transition-all duration-200 text-base bg-background/50 backdrop-blur-sm"})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ap,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Filtros"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Categoria"}),o.jsxs(He,{value:c,onValueChange:u,children:[o.jsx(qe,{className:"rounded-xl border-2 border-muted/50 hover:border-muted transition-colors bg-background/50 backdrop-blur-sm",children:o.jsx(Ke,{placeholder:"Todas categorias"})}),o.jsxs(We,{className:"rounded-xl border-2",children:[o.jsx(Y,{value:"all",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"}),"Todas categorias"]})}),o.jsx(Y,{value:"financeiro",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),"Financeiro"]})}),o.jsx(Y,{value:"clientes",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),"Clientes"]})}),o.jsx(Y,{value:"projetos",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),"Projetos"]})}),o.jsx(Y,{value:"vendas",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),"Vendas"]})}),o.jsx(Y,{value:"pessoal",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),"Pessoal"]})}),o.jsx(Y,{value:"operacional",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),"Operacional"]})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Status"}),o.jsxs(He,{value:d,onValueChange:f,children:[o.jsx(qe,{className:"rounded-xl border-2 border-muted/50 hover:border-muted transition-colors bg-background/50 backdrop-blur-sm",children:o.jsx(Ke,{placeholder:"Todos status"})}),o.jsxs(We,{className:"rounded-xl border-2",children:[o.jsx(Y,{value:"all",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-green-500 to-blue-500"}),"Todos status"]})}),o.jsx(Y,{value:"ativa",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Ativa"]})}),o.jsx(Y,{value:"pausada",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Pausada"]})}),o.jsx(Y,{value:"concluida",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Concluda"]})}),o.jsx(Y,{value:"cancelada",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Cancelada"]})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Prioridade"}),o.jsxs(He,{value:m,onValueChange:h,children:[o.jsx(qe,{className:"rounded-xl border-2 border-muted/50 hover:border-muted transition-colors bg-background/50 backdrop-blur-sm",children:o.jsx(Ke,{placeholder:"Todas prioridades"})}),o.jsxs(We,{className:"rounded-xl border-2",children:[o.jsx(Y,{value:"all",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-red-500 to-green-500"}),"Todas prioridades"]})}),o.jsx(Y,{value:"critica",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Crtica"]})}),o.jsx(Y,{value:"alta",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Alta"]})}),o.jsx(Y,{value:"media",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Mdia"]})}),o.jsx(Y,{value:"baixa",className:"rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Baixa"]})})]})]})]})]}),(c!=="all"||d!=="all"||m!=="all"||i)&&o.jsx("div",{className:"mt-4 p-3 rounded-xl bg-muted/30 border border-muted/50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Filtros ativos:"}),i&&o.jsxs(Ge,{variant:"secondary",className:"rounded-full text-xs",children:['Busca: "',i,'"']}),c!=="all"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:c}),d!=="all"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:d}),m!=="all"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:m})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{l(""),u("all"),f("all"),h("all")},className:"text-xs rounded-lg",children:"Limpar filtros"})]})})]}),p.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"p-4 rounded-2xl bg-muted/50 inline-block mb-4",children:o.jsx(Ro,{className:"w-8 h-8 text-muted-foreground"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:r.length===0?"Nenhuma meta criada":"Nenhuma meta encontrada"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:r.length===0?"Comece criando sua primeira meta para acompanhar seu progresso":"Tente ajustar os filtros para encontrar suas metas"}),r.length===0&&o.jsxs(U,{onClick:t,className:"rounded-xl gap-2",children:[o.jsx(en,{className:"w-4 h-4"}),"Criar primeira meta"]})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map(w=>o.jsx(ne,{className:"rounded-xl hover:shadow-lg transition-all duration-300",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx("span",{className:"text-lg",children:g(w.categoria)}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:"font-semibold truncate",children:w.titulo}),w.descricao&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:w.descricao})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e==null?void 0:e(w),className:"h-8 w-8 p-0 rounded-lg",children:o.jsx(yi,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>y(w.id),className:"h-8 w-8 p-0 rounded-lg text-red-500 hover:text-red-600",children:o.jsx(Jr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsx(Ge,{className:`text-xs rounded-full ${v(w.prioridade)}`,children:w.prioridade}),o.jsx(Ge,{variant:"outline",className:"text-xs rounded-full",children:w.categoria}),w.percentual_progresso>=100&&o.jsxs(Ge,{className:"text-xs rounded-full bg-green-500 text-white",children:[o.jsx(PU,{className:"w-3 h-3 mr-1"}),"Concluda"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[w.valor_atual.toLocaleString()," / ",w.valor_meta.toLocaleString()," ",w.unidade]}),o.jsxs("span",{className:`font-medium ${b(w)}`,children:[w.percentual_progresso.toFixed(0),"%"]})]}),o.jsx(fu,{value:w.percentual_progresso,className:"h-2",style:{"--progress-background":w.cor}})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yt,{className:"w-3 h-3"}),o.jsx("span",{children:w.dias_restantes>0?`${w.dias_restantes} dias restantes`:w.dias_restantes===0?"Vence hoje":`Venceu h ${Math.abs(w.dias_restantes)} dias`})]}),w.status_calculado==="vencida"&&o.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[o.jsx(XT,{className:"w-3 h-3"}),o.jsx("span",{children:"Vencida"})]}),w.status_calculado==="proxima_vencimento"&&o.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[o.jsx(ra,{className:"w-3 h-3"}),o.jsx("span",{children:"Prx. vencimento"})]})]})]})})},w.id))})]})]})]})}var PVe="Label",mQ=x.forwardRef((t,e)=>o.jsx(ga.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mQ.displayName=PVe;var pQ=mQ;const MVe=Tf.cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ie=x.forwardRef(({className:t,...e},r)=>o.jsx(pQ,{ref:r,className:Ne(MVe(),t),...e}));ie.displayName=pQ.displayName;const Nn=x.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Nn.displayName="Textarea";var It=function(){return It=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},It.apply(this,arguments)};function RVe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function gQ(t,e,r){for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Fy(t){return t.mode==="multiple"}function By(t){return t.mode==="range"}function S_(t){return t.mode==="single"}var DVe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function IVe(t,e){return Mt(t,"LLLL y",e)}function $Ve(t,e){return Mt(t,"d",e)}function LVe(t,e){return Mt(t,"LLLL",e)}function FVe(t){return"".concat(t)}function BVe(t,e){return Mt(t,"cccccc",e)}function zVe(t,e){return Mt(t,"yyyy",e)}var VVe=Object.freeze({__proto__:null,formatCaption:IVe,formatDay:$Ve,formatMonthCaption:LVe,formatWeekNumber:FVe,formatWeekdayName:BVe,formatYearCaption:zVe}),UVe=function(t,e,r){return Mt(t,"do MMMM (EEEE)",r)},qVe=function(){return"Month: "},WVe=function(){return"Go to next month"},HVe=function(){return"Go to previous month"},KVe=function(t,e){return Mt(t,"cccc",e)},GVe=function(t){return"Week n. ".concat(t)},YVe=function(){return"Year: "},XVe=Object.freeze({__proto__:null,labelDay:UVe,labelMonthDropdown:qVe,labelNext:WVe,labelPrevious:HVe,labelWeekNumber:GVe,labelWeekday:KVe,labelYearDropdown:YVe});function QVe(){var t="buttons",e=DVe,r=YP,n={},s={},a=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:VVe,labels:XVe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:i,today:l,mode:"default"}}function JVe(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,s=t.toMonth,a=t.fromDate,i=t.toDate;return n?a=dn(n):e&&(a=new Date(e,0,1)),s?i=ka(s):r&&(i=new Date(r,11,31)),{fromDate:a?Em(a):void 0,toDate:i?Em(i):void 0}}var vQ=x.createContext(void 0);function ZVe(t){var e,r=t.initialProps,n=QVe(),s=JVe(r),a=s.fromDate,i=s.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!a||!i)&&(l="buttons");var c;(S_(r)||Fy(r)||By(r))&&(c=r.onSelect);var u=It(It(It({},n),r),{captionLayout:l,classNames:It(It({},n.classNames),r.classNames),components:It({},r.components),formatters:It(It({},n.formatters),r.formatters),fromDate:a,labels:It(It({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:It(It({},n.modifiers),r.modifiers),modifiersClassNames:It(It({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:It(It({},n.styles),r.styles),toDate:i});return o.jsx(vQ.Provider,{value:u,children:t.children})}function Br(){var t=x.useContext(vQ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function xQ(t){var e=Br(),r=e.locale,n=e.classNames,s=e.styles,a=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function e8e(t){return o.jsx("svg",It({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yQ(t){var e,r,n=t.onChange,s=t.value,a=t.children,i=t.caption,l=t.className,c=t.style,u=Br(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:e8e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function t8e(t){var e,r=Br(),n=r.fromDate,s=r.toDate,a=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(eye(n,s))for(var m=dn(n),h=n.getMonth();h<=s.getMonth();h++)f.push(eC(m,h));else for(var m=dn(new Date),h=0;h<=11;h++)f.push(eC(m,h));var p=function(v){var b=Number(v.target.value),y=eC(dn(t.displayMonth),b);t.onChange(y)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:yQ;return o.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function r8e(t){var e,r=t.displayMonth,n=Br(),s=n.fromDate,a=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,m=[];if(!s)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var h=s.getFullYear(),p=a.getFullYear(),g=h;g<=p;g++)m.push(L4(r7(new Date),g));var v=function(y){var w=L4(dn(r),Number(y.target.value));t.onChange(w)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:yQ;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:m.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function n8e(t,e){var r=x.useState(t),n=r[0],s=r[1],a=e===void 0?n:e;return[a,s]}function s8e(t){var e=t.month,r=t.defaultMonth,n=t.today,s=e||r||n||new Date,a=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&rx(a,s)<0){var u=-1*(c-1);s=zo(a,u)}return i&&rx(s,i)<0&&(s=i),dn(s)}function a8e(){var t=Br(),e=s8e(t),r=n8e(e,t.month),n=r[0],s=r[1],a=function(i){var l;if(!t.disableNavigation){var c=dn(i);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,a]}function o8e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,s=dn(t),a=dn(zo(s,n)),i=rx(a,s),l=[],c=0;c<i;c++){var u=zo(s,c);l.push(u)}return r&&(l=l.reverse()),l}function i8e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,i=n?a:1,l=dn(t);if(!r)return zo(l,i);var c=rx(r,t);if(!(c<a))return zo(l,i)}}function l8e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,i=n?a:1,l=dn(t);if(!r)return zo(l,-i);var c=rx(l,r);if(!(c<=0))return zo(l,-i)}}var bQ=x.createContext(void 0);function c8e(t){var e=Br(),r=a8e(),n=r[0],s=r[1],a=o8e(n,e),i=i8e(n,e),l=l8e(n,e),c=function(f){return a.some(function(m){return rM(f,m)})},u=function(f,m){c(f)||(m&&ZP(f,m)?s(zo(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(bQ.Provider,{value:d,children:t.children})}function zy(){var t=x.useContext(bQ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function UF(t){var e,r=Br(),n=r.classNames,s=r.styles,a=r.components,i=zy().goToMonth,l=function(d){i(zo(d,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:xQ,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(t8e,{onChange:l,displayMonth:t.displayMonth}),o.jsx(r8e,{onChange:l,displayMonth:t.displayMonth})]})}function u8e(t){return o.jsx("svg",It({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d8e(t){return o.jsx("svg",It({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tj=x.forwardRef(function(t,e){var r=Br(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var i=a.join(" "),l=It(It({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),o.jsx("button",It({},t,{ref:e,type:"button",className:i,style:l}))});function f8e(t){var e,r,n=Br(),s=n.dir,a=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var m=u(t.previousMonth,{locale:a}),h=[i.nav_button,i.nav_button_previous].join(" "),p=d(t.nextMonth,{locale:a}),g=[i.nav_button,i.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:d8e,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:u8e;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(Tj,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?o.jsx(v,{className:i.nav_icon,style:l.nav_icon}):o.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(Tj,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?o.jsx(b,{className:i.nav_icon,style:l.nav_icon}):o.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function qF(t){var e=Br().numberOfMonths,r=zy(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(p){return rM(t.displayMonth,p)}),c=l===0,u=l===i.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){n&&a(n)},h=function(){s&&a(s)};return o.jsx(f8e,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:m,onNextClick:h})}function h8e(t){var e,r=Br(),n=r.classNames,s=r.disableNavigation,a=r.styles,i=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:xQ,u;return s?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=o.jsx(UF,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(UF,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(qF,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(qF,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:a.caption,children:u})}function m8e(t){var e=Br(),r=e.footer,n=e.styles,s=e.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function p8e(t,e,r){for(var n=r?tc(new Date):io(new Date,{locale:t,weekStartsOn:e}),s=[],a=0;a<7;a++){var i=Es(n,a);s.push(i)}return s}function g8e(){var t=Br(),e=t.classNames,r=t.styles,n=t.showWeekNumber,s=t.locale,a=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=p8e(s,a,i);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function v8e(){var t,e=Br(),r=e.classNames,n=e.styles,s=e.components,a=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:g8e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(a,{})})}function x8e(t){var e=Br(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var vR=x.createContext(void 0);function y8e(t){if(!Fy(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(vR.Provider,{value:e,children:t.children})}return o.jsx(b8e,{initialProps:t.initialProps,children:t.children})}function b8e(t){var e=t.initialProps,r=t.children,n=e.selected,s=e.min,a=e.max,i=function(u,d,f){var m,h;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var p=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var g=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var v=n?gQ([],n):[];if(d.selected){var b=v.findIndex(function(y){return Ea(u,y)});v.splice(b,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(m){return Ea(m,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(vR.Provider,{value:c,children:r})}function xR(){var t=x.useContext(vR);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function w8e(t,e){var r=e||{},n=r.from,s=r.to;return n&&s?Ea(s,t)&&Ea(n,t)?void 0:Ea(s,t)?{from:s,to:void 0}:Ea(n,t)?void 0:Yh(n,t)?{from:t,to:s}:{from:n,to:t}:s?Yh(t,s)?{from:s,to:t}:{from:t,to:s}:n?ZP(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var yR=x.createContext(void 0);function j8e(t){if(!By(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(yR.Provider,{value:e,children:t.children})}return o.jsx(N8e,{initialProps:t.initialProps,children:t.children})}function N8e(t){var e=t.initialProps,r=t.children,n=e.selected,s=n||{},a=s.from,i=s.to,l=e.min,c=e.max,u=function(h,p,g){var v,b;(v=e.onDayClick)===null||v===void 0||v.call(e,h,p,g);var y=w8e(h,n);(b=e.onSelect)===null||b===void 0||b.call(e,y,h,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],Ea(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),l&&(a&&!i&&d.disabled.push({after:Oo(a,l-1),before:Es(a,l-1)}),a&&i&&d.disabled.push({after:a,before:Es(a,l-1)}),!a&&i&&d.disabled.push({after:Oo(i,l-1),before:Es(i,l-1)})),c){if(a&&!i&&(d.disabled.push({before:Es(a,-c+1)}),d.disabled.push({after:Es(a,c-1)})),a&&i){var f=pi(i,a)+1,m=c-f;d.disabled.push({before:Oo(a,m)}),d.disabled.push({after:Es(i,m)})}!a&&i&&(d.disabled.push({before:Es(i,-c+1)}),d.disabled.push({after:Es(i,c-1)}))}return o.jsx(yR.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function bR(){var t=x.useContext(yR);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Ob(t){return Array.isArray(t)?gQ([],t):t!==void 0?[t]:[]}function _8e(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],s=r[1];e[n]=Ob(s)}),e}var ki;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ki||(ki={}));var S8e=ki.Selected,wl=ki.Disabled,C8e=ki.Hidden,E8e=ki.Today,AC=ki.RangeEnd,OC=ki.RangeMiddle,TC=ki.RangeStart,k8e=ki.Outside;function A8e(t,e,r){var n,s=(n={},n[S8e]=Ob(t.selected),n[wl]=Ob(t.disabled),n[C8e]=Ob(t.hidden),n[E8e]=[t.today],n[AC]=[],n[OC]=[],n[TC]=[],n[k8e]=[],n);return t.fromDate&&s[wl].push({before:t.fromDate}),t.toDate&&s[wl].push({after:t.toDate}),Fy(t)?s[wl]=s[wl].concat(e.modifiers[wl]):By(t)&&(s[wl]=s[wl].concat(r.modifiers[wl]),s[TC]=r.modifiers[TC],s[OC]=r.modifiers[OC],s[AC]=r.modifiers[AC]),s}var wQ=x.createContext(void 0);function O8e(t){var e=Br(),r=xR(),n=bR(),s=A8e(e,r,n),a=_8e(e.modifiers),i=It(It({},s),a);return o.jsx(wQ.Provider,{value:i,children:t.children})}function jQ(){var t=x.useContext(wQ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function T8e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function P8e(t){return!!(t&&typeof t=="object"&&"from"in t)}function M8e(t){return!!(t&&typeof t=="object"&&"after"in t)}function R8e(t){return!!(t&&typeof t=="object"&&"before"in t)}function D8e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function I8e(t,e){var r,n=e.from,s=e.to;if(n&&s){var a=pi(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var i=pi(t,n)>=0&&pi(s,t)>=0;return i}return s?Ea(s,t):n?Ea(n,t):!1}function $8e(t){return KP(t)}function L8e(t){return Array.isArray(t)&&t.every(KP)}function F8e(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if($8e(r))return Ea(t,r);if(L8e(r))return r.includes(t);if(P8e(r))return I8e(t,r);if(D8e(r))return r.dayOfWeek.includes(t.getDay());if(T8e(r)){var n=pi(r.before,t),s=pi(r.after,t),a=n>0,i=s<0,l=Yh(r.before,r.after);return l?i&&a:a||i}return M8e(r)?pi(t,r.after)>0:R8e(r)?pi(r.before,t)>0:typeof r=="function"?r(t):!1})}function wR(t,e,r){var n=Object.keys(e).reduce(function(a,i){var l=e[i];return F8e(t,l)&&a.push(i),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!rM(t,r)&&(s.outside=!0),s}function B8e(t,e){for(var r=dn(t[0]),n=ka(t[t.length-1]),s,a,i=r;i<=n;){var l=wR(i,e),c=!l.disabled&&!l.hidden;if(!c){i=Es(i,1);continue}if(l.selected)return i;l.today&&!a&&(a=i),s||(s=i),i=Es(i,1)}return a||s}var z8e=365;function NQ(t,e){var r=e.moveBy,n=e.direction,s=e.context,a=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,m={day:Es,week:i2,month:zo,year:ove,startOfWeek:function(v){return s.ISOWeek?tc(v):io(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return s.ISOWeek?n7(v):GP(v,{locale:f,weekStartsOn:c})}},h=m[r](t,n==="after"?1:-1);n==="before"&&u?h=ive([u,h]):n==="after"&&d&&(h=lve([d,h]));var p=!0;if(a){var g=wR(h,a);p=!g.disabled&&!g.hidden}return p?h:l.count>z8e?l.lastFocused:NQ(h,{moveBy:r,direction:n,context:s,modifiers:a,retry:It(It({},l),{count:l.count+1})})}var _Q=x.createContext(void 0);function V8e(t){var e=zy(),r=jQ(),n=x.useState(),s=n[0],a=n[1],i=x.useState(),l=i[0],c=i[1],u=B8e(e.displayMonths,r),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),a(void 0)},m=function(v){a(v)},h=Br(),p=function(v,b){if(s){var y=NQ(s,{moveBy:v,direction:b,context:h,modifiers:r});Ea(s,y)||(e.goToDate(y,s),m(y))}},g={focusedDay:s,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return o.jsx(_Q.Provider,{value:g,children:t.children})}function jR(){var t=x.useContext(_Q);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function U8e(t,e){var r=jQ(),n=wR(t,r,e);return n}var NR=x.createContext(void 0);function q8e(t){if(!S_(t.initialProps)){var e={selected:void 0};return o.jsx(NR.Provider,{value:e,children:t.children})}return o.jsx(W8e,{initialProps:t.initialProps,children:t.children})}function W8e(t){var e=t.initialProps,r=t.children,n=function(a,i,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,i,l),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,i,l)},s={selected:e.selected,onDayClick:n};return o.jsx(NR.Provider,{value:s,children:r})}function SQ(){var t=x.useContext(NR);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function H8e(t,e){var r=Br(),n=SQ(),s=xR(),a=bR(),i=jR(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,m=i.focus,h=i.focusMonthBefore,p=i.focusMonthAfter,g=i.focusYearBefore,v=i.focusYearAfter,b=i.focusStartOfWeek,y=i.focusEndOfWeek,w=function(L){var E,T,q,Z;S_(r)?(E=n.onDayClick)===null||E===void 0||E.call(n,t,e,L):Fy(r)?(T=s.onDayClick)===null||T===void 0||T.call(s,t,e,L):By(r)?(q=a.onDayClick)===null||q===void 0||q.call(a,t,e,L):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,t,e,L)},N=function(L){var E;m(t),(E=r.onDayFocus)===null||E===void 0||E.call(r,t,e,L)},j=function(L){var E;f(),(E=r.onDayBlur)===null||E===void 0||E.call(r,t,e,L)},_=function(L){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,t,e,L)},S=function(L){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,t,e,L)},C=function(L){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,t,e,L)},k=function(L){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,t,e,L)},A=function(L){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,t,e,L)},O=function(L){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,t,e,L)},P=function(L){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,t,e,L)},R=function(L){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,t,e,L)},I=function(L){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,t,e,L)},$=function(L){var E;switch(L.key){case"ArrowLeft":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":L.preventDefault(),L.stopPropagation(),u();break;case"ArrowUp":L.preventDefault(),L.stopPropagation(),d();break;case"PageUp":L.preventDefault(),L.stopPropagation(),L.shiftKey?g():h();break;case"PageDown":L.preventDefault(),L.stopPropagation(),L.shiftKey?v():p();break;case"Home":L.preventDefault(),L.stopPropagation(),b();break;case"End":L.preventDefault(),L.stopPropagation(),y();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,t,e,L)},B={onClick:w,onFocus:N,onBlur:j,onKeyDown:$,onKeyUp:I,onMouseEnter:_,onMouseLeave:S,onPointerEnter:C,onPointerLeave:k,onTouchCancel:A,onTouchEnd:O,onTouchMove:P,onTouchStart:R};return B}function K8e(){var t=Br(),e=SQ(),r=xR(),n=bR(),s=S_(t)?e.selected:Fy(t)?r.selected:By(t)?n.selected:void 0;return s}function G8e(t){return Object.values(ki).includes(t)}function Y8e(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var s=t.modifiersClassNames[n];if(s)r.push(s);else if(G8e(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function X8e(t,e){var r=It({},t.styles.day);return Object.keys(e).forEach(function(n){var s;r=It(It({},r),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Q8e(t,e,r){var n,s,a,i=Br(),l=jR(),c=U8e(t,e),u=H8e(t,c),d=K8e(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var _;c.outside||l.focusedDay&&f&&Ea(l.focusedDay,t)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,t,r,f,c.outside]);var m=Y8e(i,c).join(" "),h=X8e(i,c),p=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:x8e,v=o.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),b={style:h,className:m,children:v,role:"gridcell"},y=l.focusTarget&&Ea(l.focusTarget,t)&&!c.outside,w=l.focusedDay&&Ea(l.focusedDay,t),N=It(It(It({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),j={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:b};return j}function J8e(t){var e=x.useRef(null),r=Q8e(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Tj,It({name:"day",ref:e},r.buttonProps)):o.jsx("div",It({},r.divProps))}function Z8e(t){var e=t.number,r=t.dates,n=Br(),s=n.onWeekNumberClick,a=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return o.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(h){s(e,r,h)};return o.jsx(Tj,{name:"week-number","aria-label":f,className:i.weeknumber,style:a.weeknumber,onClick:m,children:d})}function eUe(t){var e,r,n=Br(),s=n.styles,a=n.classNames,i=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:J8e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Z8e,d;return i&&(d=o.jsx("td",{className:a.cell,style:s.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:a.row,style:s.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},nxe(f))})]})}function WF(t,e,r){for(var n=r!=null&&r.ISOWeek?n7(e):GP(e,r),s=r!=null&&r.ISOWeek?tc(t):io(t,r),a=pi(n,s),i=[],l=0;l<=a;l++)i.push(Es(s,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?XP(d):JP(d,r),m=u.find(function(h){return h.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function tUe(t,e){var r=WF(dn(t),ka(t),e);if(e!=null&&e.useFixedWeeks){var n=axe(t,e);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],i=i2(a,6-n),l=WF(i2(a,1),i,e);r.push.apply(r,l)}}return r}function rUe(t){var e,r,n,s=Br(),a=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,h=s.ISOWeek,p=tUe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:f,firstWeekContainsDate:m}),g=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:v8e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:eUe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:m8e;return o.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:p.map(function(y){return o.jsx(v,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(b,{displayMonth:t.displayMonth})]})}function nUe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var sUe=nUe()?x.useLayoutEffect:x.useEffect,PC=!1,aUe=0;function HF(){return"react-day-picker-".concat(++aUe)}function oUe(t){var e,r=t??(PC?HF():null),n=x.useState(r),s=n[0],a=n[1];return sUe(function(){s===null&&a(HF())},[]),x.useEffect(function(){PC===!1&&(PC=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function iUe(t){var e,r,n=Br(),s=n.dir,a=n.classNames,i=n.styles,l=n.components,c=zy().displayMonths,u=oUe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[a.month],m=i.month,h=t.displayIndex===0,p=t.displayIndex===c.length-1,g=!h&&!p;s==="rtl"&&(e=[h,p],p=e[0],h=e[1]),h&&(f.push(a.caption_start),m=It(It({},m),i.caption_start)),p&&(f.push(a.caption_end),m=It(It({},m),i.caption_end)),g&&(f.push(a.caption_between),m=It(It({},m),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:h8e;return o.jsxs("div",{className:f.join(" "),style:m,children:[o.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(rUe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function lUe(t){var e=Br(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function cUe(t){var e,r,n=t.initialProps,s=Br(),a=jR(),i=zy(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=It(It({},s.styles.root),s.style),m=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return It(It({},p),(v={},v[g]=n[g],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:lUe;return o.jsx("div",It({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:o.jsx(h,{children:i.displayMonths.map(function(p,g){return o.jsx(iUe,{displayIndex:g,displayMonth:p},g)})})}))}function uUe(t){var e=t.children,r=RVe(t,["children"]);return o.jsx(ZVe,{initialProps:r,children:o.jsx(c8e,{children:o.jsx(q8e,{initialProps:r,children:o.jsx(y8e,{initialProps:r,children:o.jsx(j8e,{initialProps:r,children:o.jsx(O8e,{children:o.jsx(V8e,{children:e})})})})})})})}function dUe(t){return o.jsx(uUe,It({},t,{children:o.jsx(cUe,{initialProps:t})}))}function yf({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(dUe,{showOutsideDays:r,className:Ne("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne(tx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne(tx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>o.jsx(kp,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(Du,{className:"h-4 w-4"})},...n})}yf.displayName="Calendar";var C_="Popover",[CQ]=Ms(C_,[Iu]),Vy=Iu(),[fUe,Hu]=CQ(C_),EQ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=t,l=Vy(e),c=x.useRef(null),[u,d]=x.useState(!1),[f,m]=oo({prop:n,defaultProp:s??!1,onChange:a,caller:C_});return o.jsx(oN,{...l,children:o.jsx(fUe,{scope:e,contentId:gs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};EQ.displayName=C_;var kQ="PopoverAnchor",hUe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Hu(kQ,r),a=Vy(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return x.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(xy,{...a,...n,ref:e})});hUe.displayName=kQ;var AQ="PopoverTrigger",OQ=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Hu(AQ,r),a=Vy(r),i=Ot(e,s.triggerRef),l=o.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":DQ(s.open),...n,ref:i,onClick:Ee(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(xy,{asChild:!0,...a,children:l})});OQ.displayName=AQ;var _R="PopoverPortal",[mUe,pUe]=CQ(_R,{forceMount:void 0}),TQ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=Hu(_R,e);return o.jsx(mUe,{scope:e,forceMount:r,children:o.jsx(ys,{present:r||a.open,children:o.jsx(Ep,{asChild:!0,container:s,children:n})})})};TQ.displayName=_R;var rp="PopoverContent",PQ=x.forwardRef((t,e)=>{const r=pUe(rp,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=Hu(rp,t.__scopePopover);return o.jsx(ys,{present:n||a.open,children:a.modal?o.jsx(vUe,{...s,ref:e}):o.jsx(xUe,{...s,ref:e})})});PQ.displayName=rp;var gUe=rf("PopoverContent.RemoveScroll"),vUe=x.forwardRef((t,e)=>{const r=Hu(rp,t.__scopePopover),n=x.useRef(null),s=Ot(e,n),a=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return xN(i)},[]),o.jsx(Ny,{as:gUe,allowPinchZoom:!0,children:o.jsx(MQ,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),xUe=x.forwardRef((t,e)=>{const r=Hu(rp,t.__scopePopover),n=x.useRef(!1),s=x.useRef(!1);return o.jsx(MQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),MQ=x.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=Hu(rp,r),h=Vy(r);return gN(),o.jsx(wy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Of,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(iN,{"data-state":DQ(m.open),role:"dialog",id:m.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),RQ="PopoverClose",yUe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Hu(RQ,r);return o.jsx(ct.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});yUe.displayName=RQ;var bUe="PopoverArrow",wUe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Vy(r);return o.jsx(lN,{...s,...n,ref:e})});wUe.displayName=bUe;function DQ(t){return t?"open":"closed"}var jUe=EQ,NUe=OQ,_Ue=TQ,IQ=PQ;const ji=jUe,Ni=NUe,Io=x.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>o.jsx(_Ue,{children:o.jsx(IQ,{ref:s,align:e,sideOffset:r,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Io.displayName=IQ.displayName;const MC=["#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#F97316","#EC4899","#6366F1","#14B8A6","#84CC16"],SUe=[{value:"financeiro",label:"Financeiro",icon:"",description:"Metas relacionadas a receitas, despesas e lucro"},{value:"clientes",label:"Clientes",icon:"",description:"Metas de aquisio, reteno e satisfao"},{value:"projetos",label:"Projetos",icon:"",description:"Metas de entrega, qualidade e produtividade"},{value:"vendas",label:"Vendas",icon:"",description:"Metas de vendas, converso e pipeline"},{value:"pessoal",label:"Pessoal",icon:"",description:"Metas de desenvolvimento e aprendizado"},{value:"operacional",label:"Operacional",icon:"",description:"Metas de eficincia e processos"}],CUe=[{value:"valor",label:"Valor Monetrio",icon:Zr,description:"Ex: R$ 10.000"},{value:"quantidade",label:"Quantidade",icon:wu,description:"Ex: 50 clientes"},{value:"percentual",label:"Percentual",icon:_n,description:"Ex: 95% satisfao"}],KF={valor:["R$","USD","EUR"],quantidade:["unidades","clientes","projetos","vendas","leads","contratos"],percentual:["%","pontos","estrelas"]};function EUe({open:t,onOpenChange:e,meta:r,mode:n}){const{createMeta:s,updateMeta:a,updateProgresso:i}=hQ(),[l,c]=x.useState(!1),[u,d]=x.useState({titulo:"",descricao:"",categoria:"financeiro",tipo:"valor",valor_meta:0,unidade:"R$",data_inicio:Mt(new Date,"yyyy-MM-dd"),data_fim:Mt(new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),prioridade:"media",cor:MC[0]}),[f,m]=x.useState(0),[h,p]=x.useState(""),[g,v]=x.useState(!1),[b,y]=x.useState(!1);x.useEffect(()=>{r&&(n==="edit"||n==="progress")?(d({titulo:r.titulo,descricao:r.descricao||"",categoria:r.categoria,tipo:r.tipo,valor_meta:r.valor_meta,unidade:r.unidade,data_inicio:r.data_inicio,data_fim:r.data_fim,prioridade:r.prioridade,cor:r.cor}),m(r.valor_atual)):n==="create"&&(d({titulo:"",descricao:"",categoria:"financeiro",tipo:"valor",valor_meta:0,unidade:"R$",data_inicio:Mt(new Date,"yyyy-MM-dd"),data_fim:Mt(new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),prioridade:"media",cor:MC[0]}),m(0),p(""))},[r,n,t]),x.useEffect(()=>{const _=KF[u.tipo];_&&!_.includes(u.unidade)&&d(S=>({...S,unidade:_[0]}))},[u.tipo]);const w=async _=>{_.preventDefault(),c(!0);try{n==="create"?await s(u):n==="edit"&&r?await a(r.id,u):n==="progress"&&r&&await i(r.id,f,h),e(!1)}catch(S){console.error("Erro ao salvar meta:",S)}finally{c(!1)}},N=()=>u.valor_meta===0?0:Math.min(f/u.valor_meta*100,100),j=()=>{switch(n){case"create":return"Nova Meta";case"edit":return"Editar Meta";case"progress":return"Atualizar Progresso";default:return"Meta"}};return o.jsx(fr,{open:t,onOpenChange:e,children:o.jsxs(ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2",children:[o.jsx(Ro,{className:"w-5 h-5"}),j()]})}),o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n==="progress"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[o.jsx("h3",{className:"font-semibold mb-2",children:r==null?void 0:r.titulo}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r==null?void 0:r.descricao}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Progresso atual:"}),o.jsxs("span",{className:"font-medium",children:[r==null?void 0:r.valor_atual.toLocaleString()," / ",r==null?void 0:r.valor_meta.toLocaleString()," ",r==null?void 0:r.unidade]})]}),o.jsx(fu,{value:(r==null?void 0:r.percentual_progresso)||0,className:"h-2"}),o.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[r==null?void 0:r.percentual_progresso.toFixed(0),"% concludo"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ie,{htmlFor:"novo-progresso",children:"Novo Valor"}),o.jsx(de,{id:"novo-progresso",type:"number",value:f,onChange:_=>m(Number(_.target.value)),className:"rounded-xl",min:"0",step:"0.01"}),o.jsxs("div",{className:"mt-2 p-3 rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsx("span",{children:"Novo progresso:"}),o.jsxs("span",{className:"font-medium",style:{color:r==null?void 0:r.cor},children:[N().toFixed(0),"%"]})]}),o.jsx(fu,{value:N(),className:"h-2",style:{"--progress-background":r==null?void 0:r.cor}})]})]}),o.jsxs("div",{children:[o.jsx(ie,{htmlFor:"observacao",children:"Observao (opcional)"}),o.jsx(Nn,{id:"observacao",value:h,onChange:_=>p(_.target.value),placeholder:"Adicione uma observao sobre este progresso...",className:"rounded-xl",rows:3})]})]})]}):o.jsxs(va,{defaultValue:"basico",className:"w-full",children:[o.jsxs(Gs,{className:"grid w-full grid-cols-3 rounded-xl",children:[o.jsx(Et,{value:"basico",className:"rounded-lg",children:"Bsico"}),o.jsx(Et,{value:"detalhes",className:"rounded-lg",children:"Detalhes"}),o.jsx(Et,{value:"visual",className:"rounded-lg",children:"Visual"})]}),o.jsxs(kt,{value:"basico",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ie,{htmlFor:"titulo",children:"Ttulo da Meta *"}),o.jsx(de,{id:"titulo",value:u.titulo,onChange:_=>d(S=>({...S,titulo:_.target.value})),placeholder:"Ex: Aumentar receita mensal",className:"rounded-xl",required:!0})]}),o.jsxs("div",{children:[o.jsx(ie,{htmlFor:"descricao",children:"Descrio"}),o.jsx(Nn,{id:"descricao",value:u.descricao,onChange:_=>d(S=>({...S,descricao:_.target.value})),placeholder:"Descreva sua meta em detalhes...",className:"rounded-xl",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ie,{children:"Categoria *"}),o.jsxs(He,{value:u.categoria,onValueChange:_=>d(S=>({...S,categoria:_})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsx(We,{className:"rounded-xl",children:SUe.map(_=>o.jsx(Y,{value:_.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:_.icon}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:_.label}),o.jsx("div",{className:"text-xs text-muted-foreground",children:_.description})]})]})},_.value))})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Prioridade"}),o.jsxs(He,{value:u.prioridade,onValueChange:_=>d(S=>({...S,prioridade:_})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"baixa",children:" Baixa"}),o.jsx(Y,{value:"media",children:" Mdia"}),o.jsx(Y,{value:"alta",children:" Alta"}),o.jsx(Y,{value:"critica",children:" Crtica"})]})]})]})]})]}),o.jsxs(kt,{value:"detalhes",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ie,{children:"Tipo de Meta *"}),o.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:CUe.map(_=>{const S=_.icon;return o.jsxs("button",{type:"button",onClick:()=>d(C=>({...C,tipo:_.value})),className:Ne("p-3 rounded-xl border-2 transition-all text-left",u.tipo===_.value?"border-primary bg-primary/10":"border-muted hover:border-muted-foreground/50"),children:[o.jsx(S,{className:"w-5 h-5 mb-2"}),o.jsx("div",{className:"font-medium text-sm",children:_.label}),o.jsx("div",{className:"text-xs text-muted-foreground",children:_.description})]},_.value)})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(ie,{htmlFor:"valor-meta",children:"Valor da Meta *"}),o.jsx(de,{id:"valor-meta",type:"number",value:u.valor_meta,onChange:_=>d(S=>({...S,valor_meta:Number(_.target.value)})),className:"rounded-xl",min:"0",step:"0.01",required:!0})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Unidade"}),o.jsxs(He,{value:u.unidade,onValueChange:_=>d(S=>({...S,unidade:_})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsx(We,{className:"rounded-xl",children:KF[u.tipo].map(_=>o.jsx(Y,{value:_,children:_},_))})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Progresso Atual"}),o.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:n==="edit"?`${(r==null?void 0:r.valor_atual)||0} ${u.unidade}`:"0"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ie,{children:"Data de Incio *"}),o.jsxs(ji,{open:g,onOpenChange:v,children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"w-full justify-start text-left font-normal rounded-xl",children:[o.jsx(Yt,{className:"mr-2 h-4 w-4"}),u.data_inicio?Mt(new Date(u.data_inicio),"dd/MM/yyyy",{locale:Sr}):"Selecionar data"]})}),o.jsx(Io,{className:"w-auto p-0 rounded-xl",align:"start",children:o.jsx(yf,{mode:"single",selected:u.data_inicio?new Date(u.data_inicio):void 0,onSelect:_=>{_&&(d(S=>({...S,data_inicio:Mt(_,"yyyy-MM-dd")})),v(!1))},locale:Sr,initialFocus:!0})})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Data de Trmino *"}),o.jsxs(ji,{open:b,onOpenChange:y,children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"w-full justify-start text-left font-normal rounded-xl",children:[o.jsx(Yt,{className:"mr-2 h-4 w-4"}),u.data_fim?Mt(new Date(u.data_fim),"dd/MM/yyyy",{locale:Sr}):"Selecionar data"]})}),o.jsx(Io,{className:"w-auto p-0 rounded-xl",align:"start",children:o.jsx(yf,{mode:"single",selected:u.data_fim?new Date(u.data_fim):void 0,onSelect:_=>{_&&(d(S=>({...S,data_fim:Mt(_,"yyyy-MM-dd")})),y(!1))},locale:Sr,disabled:_=>u.data_inicio?_<new Date(u.data_inicio):!1,initialFocus:!0})})]})]})]})]}),o.jsxs(kt,{value:"visual",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(ie,{className:"flex items-center gap-2",children:[o.jsx(dw,{className:"w-4 h-4"}),"Cor da Meta"]}),o.jsx("div",{className:"grid grid-cols-5 gap-2 mt-2",children:MC.map(_=>o.jsx("button",{type:"button",onClick:()=>d(S=>({...S,cor:_})),className:Ne("w-12 h-12 rounded-xl border-2 transition-all",u.cor===_?"border-foreground scale-110":"border-muted"),style:{backgroundColor:_}},_))})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-muted/50",children:[o.jsx(ie,{className:"text-sm font-medium",children:"Preview da Meta"}),o.jsxs("div",{className:"mt-3 p-4 rounded-xl bg-background border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-semibold",children:u.titulo||"Ttulo da meta"}),o.jsx(Ge,{style:{backgroundColor:u.cor,color:"white"},className:"text-xs",children:u.prioridade})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{children:["0 / ",u.valor_meta.toLocaleString()," ",u.unidade]}),o.jsx("span",{style:{color:u.cor},children:"0%"})]}),o.jsx(fu,{value:0,className:"h-2",style:{"--progress-background":u.cor}})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(U,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1 rounded-xl",disabled:l,children:[o.jsx(ju,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),o.jsxs(U,{type:"submit",className:"flex-1 rounded-xl",disabled:l,children:[o.jsx(GT,{className:"w-4 h-4 mr-2"}),l?"Salvando...":n==="create"?"Criar Meta":n==="edit"?"Salvar Alteraes":"Atualizar Progresso"]})]})]})]})})}function kUe(t="30d"){const r=(()=>{const j=new Date;switch(t){case"7d":return Oo(j,7);case"30d":return Oo(j,30);case"3m":return Bs(j,3);case"6m":return Bs(j,6);case"1y":return Bs(j,12);default:return null}})(),{data:n,isLoading:s}=Cs({queryKey:["insights_clientes",t],queryFn:async()=>{const{data:j,error:_}=await X.from("clientes").select("*");if(_)throw _;return j||[]}}),{data:a,isLoading:i}=Cs({queryKey:["insights_projetos",t],queryFn:async()=>{let j=X.from("projetos").select("*, clientes(nome)");r&&(j=j.gte("created_at",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _||[]}}),{data:l,isLoading:c}=Cs({queryKey:["insights_transacoes",t],queryFn:async()=>{let j=X.from("transacoes").select("*");r&&(j=j.gte("data",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _||[]}}),{data:u,isLoading:d}=Cs({queryKey:["insights_agendamentos",t],queryFn:async()=>{let j=X.from("agendamentos").select("*");r&&(j=j.gte("data",r.toISOString()));const{data:_,error:S}=await j;if(S)throw S;return _||[]}}),{data:f,isLoading:m}=Cs({queryKey:["insights_campanhas",t],queryFn:async()=>{const{data:j,error:_}=await X.from("campanhas").select("*");if(_){if(_.code==="42P01")return[];throw _}return j||[]}}),{data:h,isLoading:p}=Cs({queryKey:["insights_estoque"],queryFn:async()=>{const{data:j,error:_}=await X.from("estoque_materiais").select("*");if(_){if(_.code==="42P01")return[];throw _}return j||[]}}),{data:g,isLoading:v}=Cs({queryKey:["insights_produtos"],queryFn:async()=>{const{data:j,error:_}=await X.from("produtos").select("*");if(_){if(_.code==="42P01")return[];throw _}return j||[]}}),{data:b,isLoading:y}=Cs({queryKey:["insights_metas"],queryFn:async()=>{const{data:j,error:_}=await X.from("metas").select("*");if(_){if(_.code==="42P01")return[];throw _}return j||[]}}),{data:w,isLoading:N}=Cs({queryKey:["insights_financeiro_geral",t],queryFn:async()=>{let j=X.from("financeiro_geral").select("*");r&&(j=j.gte("data",r.toISOString()));const{data:_,error:S}=await j;if(S){if(S.code==="42P01")return[];throw S}return _||[]}});return{clientes:n||[],projetos:a||[],transacoes:l||[],agendamentos:u||[],campanhas:f||[],estoque:h||[],produtos:g||[],metas:b||[],financeiroGeral:w||[],isLoading:s||i||c||d||m||p||v||y||N}}function GF(t){const{clientes:e=[],projetos:r=[],transacoes:n=[],agendamentos:s=[],campanhas:a=[],estoque:i=[],metas:l=[]}=t,c=[],u=e.filter(N=>{const j=s.filter(C=>C.cliente_id===N.id||C.clienteId===N.id);if(j.length===0)return!1;const _=j.sort((C,k)=>new Date(k.data).getTime()-new Date(C.data).getTime())[0];return _?P4(new Date,Ml(_.data))>60:!1});u.length>0&&c.push({id:"warning-inactive-clients",type:"warning",title:`${u.length} Clientes Inativos Detectados`,description:"Clientes importantes no agendam servios h mais de 60 dias. Risco de churn.",impact:"high",action:"Ver lista e reativar",icon:ca,color:"text-red-600",bgColor:"bg-red-500/10",data:{clients:u}});const d=r.filter(N=>N.status==="Concludo"||N.status==="Cancelado"||!N.data_fim?!1:Yh(new Date,Ml(N.data_fim)));d.length>0&&c.push({id:"warning-overdue-projects",type:"warning",title:`${d.length} Projetos Atrasados`,description:"Existem projetos com prazo de entrega vencido que precisam de ateno imediata.",impact:"high",action:"Revisar prazos",icon:ra,color:"text-orange-600",bgColor:"bg-orange-500/10",data:{projects:d}});const f=i.filter(N=>N.quantidade<=5);f.length>0&&c.push({id:"warning-low-stock",type:"warning",title:"Estoque Crtico Detectado",description:`${f.length} materiais esto com quantidade abaixo do mnimo recomendado.`,impact:"medium",action:"Fazer pedido de reposio",icon:Ma,color:"text-red-600",bgColor:"bg-red-500/10",data:{items:f}});const m=e.filter(N=>s.filter(_=>_.cliente_id===N.id||_.clienteId===N.id).length>=3);m.length>0&&c.push({id:"opp-loyal-clients",type:"opportunity",title:"Oportunidade de Fidelizao",description:`${m.length} clientes so recorrentes. Crie um programa de fidelidade ou oferea pacotes.`,impact:"medium",action:"Criar oferta exclusiva",icon:Ro,color:"text-green-600",bgColor:"bg-green-500/10",data:{clients:m}});const h=a.filter(N=>N.status==="ATIVA");h.length>0&&c.push({id:"opp-active-campaigns",type:"opportunity",title:"Otimizar Campanhas Ativas",description:`Voc tem ${h.length} campanhas rodando. Verifique o ROI e ajuste o oramento nas melhores.`,impact:"medium",action:"Analisar campanhas",icon:_n,color:"text-blue-600",bgColor:"bg-blue-500/10",data:{campaigns:h}});const p=new Date,g=Oo(p,30),v=Oo(p,60),b=n.filter(N=>N.tipo==="receita"&&Yh(Ml(N.data),g)).reduce((N,j)=>N+Number(j.valor),0),y=n.filter(N=>N.tipo==="receita"&&Yh(Ml(N.data),v)&&ZP(Ml(N.data),g)).reduce((N,j)=>N+Number(j.valor),0);if(b>0&&y>0){const N=(b-y)/y*100,j=N>=0;c.push({id:"trend-revenue-growth",type:"trend",title:j?"Crescimento de Receita":"Queda na Receita",description:`Sua receita ${j?"aumentou":"diminuiu"} ${Math.abs(N).toFixed(1)}% nos ltimos 30 dias comparado ao perodo anterior.`,impact:j?"high":"medium",action:"Ver relatrio financeiro",icon:Zr,color:j?"text-green-600":"text-red-600",bgColor:j?"bg-green-500/10":"bg-red-500/10",data:{current:b,previous:y,growth:N}})}const w=l.filter(N=>{if(N.status!=="ativa"||!N.data_fim)return!1;const j=P4(Ml(N.data_fim),new Date),_=N.valor_meta>0?N.valor_atual/N.valor_meta:0;return j<15&&j>0&&_<.7});return w.length>0&&c.push({id:"rec-goals-risk",type:"recommendation",title:"Ateno s Metas",description:`${w.length} metas esto prximas do prazo e precisam de um empurro final.`,impact:"high",action:"Revisar plano de ao",icon:Ro,color:"text-purple-600",bgColor:"bg-purple-500/10",data:{goals:w}}),c.length<3&&c.push({id:"rec-generic-marketing",type:"recommendation",title:"Invista em Marketing",description:"Para crescer, considere iniciar uma nova campanha de anncios ou contedo orgnico.",impact:"medium",action:"Criar nova campanha",icon:Eie,color:"text-yellow-600",bgColor:"bg-yellow-500/10"}),c}function AUe({transacoes:t,clientes:e,projetos:r,agendamentos:n}){const[s,a]=x.useState(null),[i,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(Date.now()),{clientes:m,projetos:h,transacoes:p,agendamentos:g,campanhas:v,estoque:b,metas:y,isLoading:w}=kUe("30d"),[N,j]=x.useState([]),_={clientes:e||m,projetos:r||h,transacoes:t||p,agendamentos:n||g,campanhas:v,estoque:b,metas:y},S=()=>{u(!0),setTimeout(()=>{const L=GF(_);j(L),f(Date.now()),u(!1)},800)};x.useEffect(()=>{if(!w){const L=GF(_);j(L)}},[w,m,h,p,g,v,b,y]);const C=L=>{a(L),l(!0)},k=L=>{const E=L==="high"?"Alto Impacto":L==="medium"?"Mdio Impacto":"Baixo Impacto",T=L==="high"?"bg-red-100 text-red-700 border-red-200":L==="medium"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-blue-100 text-blue-700 border-blue-200";return o.jsx(Ge,{variant:"outline",className:`rounded-full text-xs border ${T}`,children:E})},A=L=>L.replace(/\D/g,""),O=L=>{const E=A(L);E&&window.open(`https://wa.me/${E}`,"_blank")},P=N.length,R=N.filter(L=>L.type==="opportunity").length,I=(_.projetos||[]).filter(L=>L.status==="Em Andamento"||L.status==="Aprovado").reduce((L,E)=>L+Number(E.valor||0),0),$=new Set(N.flatMap(L=>{var E,T;return((T=(E=L.data)==null?void 0:E.clients)==null?void 0:T.map(q=>q.id))||[]})).size,B=()=>{var L,E,T;return s?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`p-4 rounded-lg border ${s.bgColor.replace("/10","/20")} border-opacity-50`,children:[o.jsx("h4",{className:`font-semibold mb-2 ${s.color}`,children:"Anlise Detalhada"}),o.jsx("p",{className:"text-sm text-foreground/80",children:s.description})]}),((L=s.data)==null?void 0:L.clients)&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[o.jsx(ca,{className:"w-4 h-4"}),"Clientes Relacionados (",s.data.clients.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:s.data.clients.map(q=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg text-sm hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block",children:q.nome}),o.jsx("span",{className:"text-muted-foreground text-xs",children:q.email||q.telefone||"Sem contato"})]}),o.jsxs("div",{className:"flex gap-2",children:[q.telefone&&o.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8 text-green-600 hover:text-green-700 hover:bg-green-100",onClick:()=>O(q.telefone),title:"Enviar WhatsApp",children:o.jsx(CU,{className:"w-4 h-4"})}),o.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8",title:"Ver Perfil",children:o.jsx(WT,{className:"w-4 h-4"})})]})]},q.id))})]}),((E=s.data)==null?void 0:E.projects)&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[o.jsx(Ma,{className:"w-4 h-4"}),"Projetos Afetados (",s.data.projects.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:s.data.projects.map(q=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg text-sm hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block",children:q.titulo}),o.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-1",children:[o.jsx(ra,{className:"w-3 h-3"}),"Venceu em: ",new Date(q.data_fim).toLocaleDateString()]})]}),o.jsx(U,{size:"sm",variant:"outline",className:"h-8 text-xs",children:"Ver Projeto"})]},q.id))})]}),((T=s.data)==null?void 0:T.items)&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[o.jsx(Ma,{className:"w-4 h-4"}),"Materiais em Baixa (",s.data.items.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:s.data.items.map(q=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg text-sm hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium block",children:q.nome}),o.jsxs("span",{className:"text-red-600 font-bold text-xs",children:[q.quantidade," ",q.unidade," restantes"]})]}),o.jsx(U,{size:"sm",variant:"outline",className:"h-8 text-xs",children:"Repor"})]},q.id))})]}),s.action&&o.jsxs("div",{className:"pt-4 border-t",children:[o.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[o.jsx(Ro,{className:"w-4 h-4 text-primary"}),"Ao Recomendada"]}),o.jsxs(U,{className:"w-full sm:w-auto",onClick:()=>l(!1),children:[s.action,o.jsx(r$,{className:"w-4 h-4 ml-2"})]})]})]}):null};return w&&N.length===0?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Co,{className:"h-32 w-full rounded-xl"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Co,{className:"h-40 w-full rounded-xl"}),o.jsx(Co,{className:"h-40 w-full rounded-xl"})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(ne,{className:"rounded-2xl border border-border/40 bg-background shadow-sm",children:o.jsx(Oe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:o.jsx(n$,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-lg",children:"Insights Inteligentes"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Anlises automticas baseadas nos dados do seu negcio"})]})]}),o.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:S,disabled:c,children:[o.jsx(OU,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Atualizando":"Atualizar Anlise"]})]})})}),o.jsxs("div",{className:"text-xs text-muted-foreground pl-1",children:["ltima anlise: ",new Date(d).toLocaleTimeString()]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(ne,{className:"p-4 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(_n,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Insights Ativos"})]}),o.jsx("p",{className:"text-xl font-semibold",children:P})]}),o.jsxs(ne,{className:"p-4 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(Zr,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Potencial em Aberto"})]}),o.jsxs("p",{className:"text-xl font-semibold",children:["R$ ",I>1e3?`${(I/1e3).toFixed(1)}K`:I]})]}),o.jsxs(ne,{className:"p-4 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(ca,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes Impactados"})]}),o.jsx("p",{className:"text-xl font-semibold",children:$})]}),o.jsxs(ne,{className:"p-4 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(Ro,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Oportunidades"})]}),o.jsx("p",{className:"text-xl font-semibold",children:R})]})]}),N.length>0?o.jsx("div",{className:"grid gap-3 md:grid-cols-1 lg:grid-cols-2",children:N.map(L=>{const E=L.icon;return o.jsx(ne,{className:"rounded-2xl border border-border/40 bg-background shadow-sm hover:shadow-md transition-all duration-200 group cursor-pointer",onClick:()=>C(L),children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-xl ${L.bgColor}`,children:o.jsx(E,{className:`w-5 h-5 ${L.color}`})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:L.type==="warning"?"Alerta":L.type==="opportunity"?"Oportunidade":L.type==="trend"?"Tendncia":"Recomendao"})})]}),k(L.impact)]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("h3",{className:"font-semibold text-sm text-foreground",children:L.title}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:L.description})]}),o.jsx("div",{className:"flex items-center justify-end pt-2",children:o.jsx(r$,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors"})})]})})},L.id)})}):o.jsxs("div",{className:"text-center py-12 bg-muted/10 rounded-2xl border border-dashed",children:[o.jsx("div",{className:"p-3 bg-muted/20 rounded-full w-fit mx-auto mb-4",children:o.jsx(n$,{className:"w-6 h-6 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-medium",children:"Tudo parece em ordem!"}),o.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto mt-2",children:"No encontramos alertas crticos ou anomalias nos seus dados no momento. Continue assim!"})]}),o.jsx(fr,{open:i,onOpenChange:l,children:o.jsxs(ir,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsx(cr,{className:"flex items-center gap-2",children:s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`p-2 rounded-xl ${s.bgColor}`,children:(()=>{const L=s.icon;return o.jsx(L,{className:`w-5 h-5 ${s.color}`})})()}),o.jsxs("div",{children:[o.jsx("span",{className:"text-lg font-semibold",children:s.title}),o.jsx("div",{className:"flex items-center gap-2 mt-1",children:k(s.impact)})]})]})})}),o.jsx("div",{className:"mt-6",children:B()})]})})]})}const OUe=()=>{const[t,e]=x.useState("30d"),{projetos:r,prevProjetos:n,clientes:s,prevClientes:a,transacoes:i,prevTransacoes:l,agendamentos:c,prevAgendamentos:u,isLoading:d}=h7(t),[f,m]=x.useState(!1),[h,p]=x.useState("create"),[g,v]=x.useState(null),[b,y]=x.useState("overview"),w=[{title:"Bem-vindo ao Noxus",description:"Centralize Clientes, Projetos, Vendas, Financeiro e Agenda num s lugar."},{title:"Clientes",description:"Cadastre clientes, acesse detalhes e relacione com projetos e vendas."},{title:"Projetos",description:"Crie e acompanhe projetos por status, cliente e informaes financeiras."},{title:"Vendas",description:"Registre oportunidades e conecte ao cliente e ao projeto quando aplicvel."},{title:"Financeiro",description:"Lance receitas e despesas para controlar o saldo por projeto e geral."},{title:"Agendamentos",description:"Agende reunies, entregas e follow-ups e visualize no calendrio."},{title:"Perfil",description:"Ajuste nome, foto e tema claro/escuro para personalizar sua experincia."}],{isOpen:N,stepIndex:j,steps:_,start:S,next:C,prev:k,skip:A,complete:O}=Nye(w),P=()=>{p("create"),v(null),m(!0)},R=$=>{p("edit"),v($),m(!0)},I=()=>{y("metas")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Viso completa e detalhada do seu sistema de gesto"})]}),o.jsx("button",{className:"rounded-md border border-neutral-300 dark:border-neutral-700 px-3 py-1.5 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800",onClick:S,children:"Comear tour"}),o.jsxs(He,{value:t,onValueChange:$=>e($),children:[o.jsx(qe,{className:"w-[180px] rounded-2xl",children:o.jsx(Ke,{placeholder:"Perodo"})}),o.jsxs(We,{className:"rounded-2xl",children:[o.jsx(Y,{value:"7d",children:"ltimos 7 dias"}),o.jsx(Y,{value:"30d",children:"ltimos 30 dias"}),o.jsx(Y,{value:"3m",children:"ltimos 3 meses"}),o.jsx(Y,{value:"6m",children:"ltimos 6 meses"}),o.jsx(Y,{value:"1y",children:"ltimo ano"}),o.jsx(Y,{value:"all",children:"Todo perodo"})]})]})]}),d?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Co,{className:"h-32 w-full rounded-3xl"}),o.jsx(Co,{className:"h-96 w-full rounded-3xl"})]}):o.jsxs(va,{value:b,onValueChange:y,className:"space-y-4",children:[o.jsxs(Gs,{className:"rounded-2xl p-1.5 bg-muted/50",children:[o.jsx(Et,{value:"overview",className:"rounded-xl",children:"Viso Geral"}),o.jsx(Et,{value:"insights",className:"rounded-xl",children:"Insights"}),o.jsx(Et,{value:"metas",className:"rounded-xl",children:"Metas"}),o.jsx(Et,{value:"clients",className:"rounded-xl",children:"Clientes"}),o.jsx(Et,{value:"projects",className:"rounded-xl",children:"Projetos"}),o.jsx(Et,{value:"schedules",className:"rounded-xl",children:"Agendamentos"}),o.jsx(Et,{value:"finance",className:"rounded-xl",children:"Financeiro"})]}),o.jsx(kt,{value:"overview",className:"space-y-4",children:o.jsx(M0e,{projetos:r,clientes:s,transacoes:i,agendamentos:c,prevProjetos:n,prevClientes:a,prevTransacoes:l,prevAgendamentos:u,onOpenMetasTab:I,onCreateMeta:P})}),o.jsx(kt,{value:"metas",className:"space-y-4",children:o.jsx(TVe,{onCreateMeta:P,onEditMeta:R})}),o.jsx(kt,{value:"projects",className:"space-y-4",children:o.jsx(bVe,{projetos:r})}),o.jsx(kt,{value:"finance",className:"space-y-4",children:o.jsx(wVe,{transacoes:i})}),o.jsx(kt,{value:"clients",className:"space-y-4",children:o.jsx(jVe,{clientes:s})}),o.jsx(kt,{value:"schedules",className:"space-y-4",children:o.jsx(NVe,{agendamentos:c})}),o.jsx(kt,{value:"insights",className:"space-y-4",children:o.jsx(AUe,{transacoes:i,clientes:s,projetos:r,agendamentos:c})})]}),o.jsx(EUe,{open:f,onOpenChange:m,meta:g,mode:h}),o.jsx(jye,{isOpen:N,stepIndex:j,steps:_,onNext:C,onPrev:k,onSkip:A,onComplete:O})]})};var Uy=t=>t.type==="checkbox",Sd=t=>t instanceof Date,Na=t=>t==null;const $Q=t=>typeof t=="object";var Vn=t=>!Na(t)&&!Array.isArray(t)&&$Q(t)&&!Sd(t),LQ=t=>Vn(t)&&t.target?Uy(t.target)?t.target.checked:t.target.value:t,TUe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,FQ=(t,e)=>t.has(TUe(e)),PUe=t=>{const e=t.constructor&&t.constructor.prototype;return Vn(e)&&e.hasOwnProperty("isPrototypeOf")},SR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(SR&&(t instanceof Blob||n))&&(r||Vn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!PUe(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Jn(t[s]));else return t;return e}var E_=t=>/^\w*$/.test(t),yn=t=>t===void 0,CR=t=>Array.isArray(t)?t.filter(Boolean):[],ER=t=>CR(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(t,e,r)=>{if(!e||!Vn(t))return r;const n=(E_(e)?[e]:ER(e)).reduce((s,a)=>Na(s)?s:s[a],t);return yn(n)||n===t?yn(t[e])?r:t[e]:n},Ha=t=>typeof t=="boolean",jr=(t,e,r)=>{let n=-1;const s=E_(e)?[e]:ER(e),a=s.length,i=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==i){const u=t[l];c=Vn(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Pj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kR=z.createContext(null);kR.displayName="HookFormContext";const k_=()=>z.useContext(kR),MUe=t=>{const{children:e,...r}=t;return z.createElement(kR.Provider,{value:r},e)};var BQ=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const i=a;return e._proxyFormState[i]!==ui.all&&(e._proxyFormState[i]=!n||ui.all),r&&(r[i]=!0),t[i]}});return s};const AR=typeof window<"u"?z.useLayoutEffect:z.useEffect;function RUe(t){const e=k_(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[i,l]=z.useState(r._formState),c=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return AR(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,a]),z.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),z.useMemo(()=>BQ(i,r,c.current,!1),[i,r])}var Qa=t=>typeof t=="string",qA=(t,e,r,n,s)=>Qa(t)?(n&&e.watch.add(t),Xe(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Xe(r,a))):(n&&(e.watchAll=!0),r),WA=t=>Na(t)||!$Q(t);function di(t,e,r=new WeakSet){if(WA(t)||WA(e))return t===e;if(Sd(t)&&Sd(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const i=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=e[a];if(Sd(i)&&Sd(l)||Vn(i)&&Vn(l)||Array.isArray(i)&&Array.isArray(l)?!di(i,l,r):i!==l)return!1}}return!0}function DUe(t){const e=k_(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:i,compute:l}=t||{},c=z.useRef(s),u=z.useRef(l),d=z.useRef(void 0),f=z.useRef(r),m=z.useRef(n);u.current=l;const[h,p]=z.useState(()=>{const N=r._getWatch(n,c.current);return u.current?u.current(N):N}),g=z.useCallback(N=>{const j=qA(n,r._names,N||r._formValues,!1,c.current);return u.current?u.current(j):j},[r._formValues,r._names,n]),v=z.useCallback(N=>{if(!a){const j=qA(n,r._names,N||r._formValues,!1,c.current);if(u.current){const _=u.current(j);di(_,d.current)||(p(_),d.current=_)}else p(j)}},[r._formValues,r._names,a,n]);AR(()=>((f.current!==r||!di(m.current,n))&&(f.current=r,m.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:i,callback:N=>{v(N.values)}})),[r,i,n,v]),z.useEffect(()=>r._removeUnmounted());const b=f.current!==r,y=m.current,w=z.useMemo(()=>{if(a)return null;const N=!b&&!di(y,n);return b||N?g():null},[a,b,n,y,g]);return w!==null?w:h}function IUe(t){const e=k_(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a,defaultValue:i}=t,l=FQ(s._names.array,r),c=z.useMemo(()=>Xe(s._formValues,r,Xe(s._defaultValues,r,i)),[s,r,i]),u=DUe({control:s,name:r,defaultValue:c,exact:!0}),d=RUe({control:s,name:r,exact:!0}),f=z.useRef(t),m=z.useRef(void 0),h=z.useRef(s.register(r,{...t.rules,value:u,...Ha(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const p=z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Xe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Xe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Xe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Xe(d.validatingFields,r)},error:{enumerable:!0,get:()=>Xe(d.errors,r)}}),[d,r]),g=z.useCallback(w=>h.current.onChange({target:{value:LQ(w),name:r},type:Pj.CHANGE}),[r]),v=z.useCallback(()=>h.current.onBlur({target:{value:Xe(s._formValues,r),name:r},type:Pj.BLUR}),[r,s._formValues]),b=z.useCallback(w=>{const N=Xe(s._fields,r);N&&w&&(N._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:j=>w.setCustomValidity(j),reportValidity:()=>w.reportValidity()})},[s._fields,r]),y=z.useMemo(()=>({name:r,value:u,...Ha(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:v,ref:b}),[r,n,d.disabled,g,v,b,u]);return z.useEffect(()=>{const w=s._options.shouldUnregister||a,N=m.current;N&&N!==r&&!l&&s.unregister(N),s.register(r,{...f.current.rules,...Ha(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(_,S)=>{const C=Xe(s._fields,_);C&&C._f&&(C._f.mount=S)};if(j(r,!0),w){const _=Jn(Xe(s._options.defaultValues,r,f.current.defaultValue));jr(s._defaultValues,r,_),yn(Xe(s._formValues,r))&&jr(s._formValues,r,_)}return!l&&s.register(r),m.current=r,()=>{(l?w&&!s._state.action:w)?s.unregister(r):j(r,!1)}},[r,s,l,a]),z.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),z.useMemo(()=>({field:y,formState:d,fieldState:p}),[y,d,p])}const Tb=t=>t.render(IUe(t));var zQ=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},dv=t=>Array.isArray(t)?t:[t],YF=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function VQ(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a=e[n];if(s&&Vn(s)&&a){const i=VQ(s,a);Vn(i)&&(r[n]=i)}else t[n]&&(r[n]=a)}return r}var Zs=t=>Vn(t)&&!Object.keys(t).length,OR=t=>t.type==="file",fi=t=>typeof t=="function",Mj=t=>{if(!SR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},UQ=t=>t.type==="select-multiple",TR=t=>t.type==="radio",$Ue=t=>TR(t)||Uy(t),RC=t=>Mj(t)&&t.isConnected;function LUe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=yn(t)?n++:t[e[n++]];return t}function FUe(t){for(const e in t)if(t.hasOwnProperty(e)&&!yn(t[e]))return!1;return!0}function Dn(t,e){const r=Array.isArray(e)?e:E_(e)?[e]:ER(e),n=r.length===1?t:LUe(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Vn(n)&&Zs(n)||Array.isArray(n)&&FUe(n))&&Dn(t,r.slice(0,-1)),t}var BUe=t=>{for(const e in t)if(fi(t[e]))return!0;return!1};function qQ(t){return Array.isArray(t)||Vn(t)&&!BUe(t)}function HA(t,e={}){for(const r in t)qQ(t[r])?(e[r]=Array.isArray(t[r])?[]:{},HA(t[r],e[r])):yn(t[r])||(e[r]=!0);return e}function uh(t,e,r){r||(r=HA(e));for(const n in t)qQ(t[n])?yn(e)||WA(r[n])?r[n]=HA(t[n],Array.isArray(t[n])?[]:{}):uh(t[n],Na(e)?{}:e[n],r[n]):r[n]=!di(t[n],e[n]);return r}const XF={value:!1,isValid:!1},QF={value:!0,isValid:!0};var WQ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!yn(t[0].attributes.value)?yn(t[0].value)||t[0].value===""?QF:{value:t[0].value,isValid:!0}:QF:XF}return XF},HQ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>yn(t)?t:e?t===""?NaN:t&&+t:r&&Qa(t)?new Date(t):n?n(t):t;const JF={isValid:!1,value:null};var KQ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,JF):JF;function ZF(t){const e=t.ref;return OR(e)?e.files:TR(e)?KQ(t.refs).value:UQ(e)?[...e.selectedOptions].map(({value:r})=>r):Uy(e)?WQ(t.refs).value:HQ(yn(e.value)?t.ref.value:e.value,t)}var zUe=(t,e,r,n)=>{const s={};for(const a of t){const i=Xe(e,a);i&&jr(s,a,i._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Rj=t=>t instanceof RegExp,jg=t=>yn(t)?t:Rj(t)?t.source:Vn(t)?Rj(t.value)?t.value.source:t.value:t,eB=t=>({isOnSubmit:!t||t===ui.onSubmit,isOnBlur:t===ui.onBlur,isOnChange:t===ui.onChange,isOnAll:t===ui.all,isOnTouch:t===ui.onTouched});const tB="AsyncFunction";var VUe=t=>!!t&&!!t.validate&&!!(fi(t.validate)&&t.validate.constructor.name===tB||Vn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===tB)),UUe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),rB=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const fv=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=Xe(t,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],s)&&!n)return!0;if(i.ref&&e(i.ref,i.name)&&!n)return!0;if(fv(l,e))break}else if(Vn(l)&&fv(l,e))break}}};function nB(t,e,r){const n=Xe(t,r);if(n||E_(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Xe(e,a),l=Xe(t,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var qUe=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return Zs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(i=>e[i]===(!n||ui.all))},WUe=(t,e,r)=>!t||!e||t===e||dv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),HUe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,KUe=(t,e)=>!CR(Xe(t,e)).length&&Dn(t,e),GUe=(t,e,r)=>{const n=dv(Xe(t,r));return jr(n,"root",e[r]),jr(t,r,n),t};function sB(t,e,r="validate"){if(Qa(t)||Array.isArray(t)&&t.every(Qa)||Ha(t)&&!t)return{type:r,message:Qa(t)?t:"",ref:e}}var sh=t=>Vn(t)&&!Rj(t)?t:{value:t,message:""},aB=async(t,e,r,n,s,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:h,validate:p,name:g,valueAsNumber:v,mount:b}=t._f,y=Xe(r,g);if(!b||e.has(g))return{};const w=l?l[0]:i,N=P=>{s&&w.reportValidity&&(w.setCustomValidity(Ha(P)?"":P||""),w.reportValidity())},j={},_=TR(i),S=Uy(i),C=_||S,k=(v||OR(i))&&yn(i.value)&&yn(y)||Mj(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,A=zQ.bind(null,g,n,j),O=(P,R,I,$=jl.maxLength,B=jl.minLength)=>{const L=P?R:I;j[g]={type:P?$:B,message:L,ref:i,...A(P?$:B,L)}};if(a?!Array.isArray(y)||!y.length:c&&(!C&&(k||Na(y))||Ha(y)&&!y||S&&!WQ(l).isValid||_&&!KQ(l).isValid)){const{value:P,message:R}=Qa(c)?{value:!!c,message:c}:sh(c);if(P&&(j[g]={type:jl.required,message:R,ref:w,...A(jl.required,R)},!n))return N(R),j}if(!k&&(!Na(f)||!Na(m))){let P,R;const I=sh(m),$=sh(f);if(!Na(y)&&!isNaN(y)){const B=i.valueAsNumber||y&&+y;Na(I.value)||(P=B>I.value),Na($.value)||(R=B<$.value)}else{const B=i.valueAsDate||new Date(y),L=q=>new Date(new Date().toDateString()+" "+q),E=i.type=="time",T=i.type=="week";Qa(I.value)&&y&&(P=E?L(y)>L(I.value):T?y>I.value:B>new Date(I.value)),Qa($.value)&&y&&(R=E?L(y)<L($.value):T?y<$.value:B<new Date($.value))}if((P||R)&&(O(!!P,I.message,$.message,jl.max,jl.min),!n))return N(j[g].message),j}if((u||d)&&!k&&(Qa(y)||a&&Array.isArray(y))){const P=sh(u),R=sh(d),I=!Na(P.value)&&y.length>+P.value,$=!Na(R.value)&&y.length<+R.value;if((I||$)&&(O(I,P.message,R.message),!n))return N(j[g].message),j}if(h&&!k&&Qa(y)){const{value:P,message:R}=sh(h);if(Rj(P)&&!y.match(P)&&(j[g]={type:jl.pattern,message:R,ref:i,...A(jl.pattern,R)},!n))return N(R),j}if(p){if(fi(p)){const P=await p(y,r),R=sB(P,w);if(R&&(j[g]={...R,...A(jl.validate,R.message)},!n))return N(R.message),j}else if(Vn(p)){let P={};for(const R in p){if(!Zs(P)&&!n)break;const I=sB(await p[R](y,r),w,R);I&&(P={...I,...A(R,I.message)},N(I.message),n&&(j[g]=P))}if(!Zs(P)&&(j[g]={ref:w,...P},!n))return j}}return N(!0),j};const YUe={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function XUe(t={}){let e={...YUe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:fi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Vn(e.defaultValues)||Vn(e.values)?Jn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Jn(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:YF(),state:YF()},h=e.criteriaMode===ui.all,p=G=>D=>{clearTimeout(u),u=setTimeout(G,D)},g=async G=>{if(!e.disabled&&(d.isValid||f.isValid||G)){const D=e.resolver?Zs((await S()).errors):await k(n,!0);D!==r.isValid&&m.state.next({isValid:D})}},v=(G,D)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((G||Array.from(l.mount)).forEach(K=>{K&&(D?jr(r.validatingFields,K,D):Dn(r.validatingFields,K))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Zs(r.validatingFields)}))},b=(G,D=[],K,H,J=!0,ae=!0)=>{if(H&&K&&!e.disabled){if(i.action=!0,ae&&Array.isArray(Xe(n,G))){const me=K(Xe(n,G),H.argA,H.argB);J&&jr(n,G,me)}if(ae&&Array.isArray(Xe(r.errors,G))){const me=K(Xe(r.errors,G),H.argA,H.argB);J&&jr(r.errors,G,me),KUe(r.errors,G)}if((d.touchedFields||f.touchedFields)&&ae&&Array.isArray(Xe(r.touchedFields,G))){const me=K(Xe(r.touchedFields,G),H.argA,H.argB);J&&jr(r.touchedFields,G,me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=uh(s,a)),m.state.next({name:G,isDirty:O(G,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else jr(a,G,D)},y=(G,D)=>{jr(r.errors,G,D),m.state.next({errors:r.errors})},w=G=>{r.errors=G,m.state.next({errors:r.errors,isValid:!1})},N=(G,D,K,H)=>{const J=Xe(n,G);if(J){const ae=Xe(a,G,yn(K)?Xe(s,G):K);yn(ae)||H&&H.defaultChecked||D?jr(a,G,D?ae:ZF(J._f)):I(G,ae),i.mount&&g()}},j=(G,D,K,H,J)=>{let ae=!1,me=!1;const Je={name:G};if(!e.disabled){if(!K||H){(d.isDirty||f.isDirty)&&(me=r.isDirty,r.isDirty=Je.isDirty=O(),ae=me!==Je.isDirty);const nt=di(Xe(s,G),D);me=!!Xe(r.dirtyFields,G),nt?Dn(r.dirtyFields,G):jr(r.dirtyFields,G,!0),Je.dirtyFields=r.dirtyFields,ae=ae||(d.dirtyFields||f.dirtyFields)&&me!==!nt}if(K){const nt=Xe(r.touchedFields,G);nt||(jr(r.touchedFields,G,K),Je.touchedFields=r.touchedFields,ae=ae||(d.touchedFields||f.touchedFields)&&nt!==K)}ae&&J&&m.state.next(Je)}return ae?Je:{}},_=(G,D,K,H)=>{const J=Xe(r.errors,G),ae=(d.isValid||f.isValid)&&Ha(D)&&r.isValid!==D;if(e.delayError&&K?(c=p(()=>y(G,K)),c(e.delayError)):(clearTimeout(u),c=null,K?jr(r.errors,G,K):Dn(r.errors,G)),(K?!di(J,K):J)||!Zs(H)||ae){const me={...H,...ae&&Ha(D)?{isValid:D}:{},errors:r.errors,name:G};r={...r,...me},m.state.next(me)}},S=async G=>{v(G,!0);const D=await e.resolver(a,e.context,zUe(G||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(G),D},C=async G=>{const{errors:D}=await S(G);if(G)for(const K of G){const H=Xe(D,K);H?jr(r.errors,K,H):Dn(r.errors,K)}else r.errors=D;return D},k=async(G,D,K={valid:!0})=>{for(const H in G){const J=G[H];if(J){const{_f:ae,...me}=J;if(ae){const Je=l.array.has(ae.name),nt=J._f&&VUe(J._f);nt&&d.validatingFields&&v([ae.name],!0);const Zt=await aB(J,l.disabled,a,h,e.shouldUseNativeValidation&&!D,Je);if(nt&&d.validatingFields&&v([ae.name]),Zt[ae.name]&&(K.valid=!1,D))break;!D&&(Xe(Zt,ae.name)?Je?GUe(r.errors,Zt,ae.name):jr(r.errors,ae.name,Zt[ae.name]):Dn(r.errors,ae.name))}!Zs(me)&&await k(me,D,K)}}return K.valid},A=()=>{for(const G of l.unMount){const D=Xe(n,G);D&&(D._f.refs?D._f.refs.every(K=>!RC(K)):!RC(D._f.ref))&&pe(G)}l.unMount=new Set},O=(G,D)=>!e.disabled&&(G&&D&&jr(a,G,D),!di(q(),s)),P=(G,D,K)=>qA(G,l,{...i.mount?a:yn(D)?s:Qa(G)?{[G]:D}:D},K,D),R=G=>CR(Xe(i.mount?a:s,G,e.shouldUnregister?Xe(s,G,[]):[])),I=(G,D,K={})=>{const H=Xe(n,G);let J=D;if(H){const ae=H._f;ae&&(!ae.disabled&&jr(a,G,HQ(D,ae)),J=Mj(ae.ref)&&Na(D)?"":D,UQ(ae.ref)?[...ae.ref.options].forEach(me=>me.selected=J.includes(me.value)):ae.refs?Uy(ae.ref)?ae.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(J)?me.checked=!!J.find(Je=>Je===me.value):me.checked=J===me.value||!!J)}):ae.refs.forEach(me=>me.checked=me.value===J):OR(ae.ref)?ae.ref.value="":(ae.ref.value=J,ae.ref.type||m.state.next({name:G,values:Jn(a)})))}(K.shouldDirty||K.shouldTouch)&&j(G,J,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&T(G)},$=(G,D,K)=>{for(const H in D){if(!D.hasOwnProperty(H))return;const J=D[H],ae=G+"."+H,me=Xe(n,ae);(l.array.has(G)||Vn(J)||me&&!me._f)&&!Sd(J)?$(ae,J,K):I(ae,J,K)}},B=(G,D,K={})=>{const H=Xe(n,G),J=l.array.has(G),ae=Jn(D);jr(a,G,ae),J?(m.array.next({name:G,values:Jn(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&K.shouldDirty&&m.state.next({name:G,dirtyFields:uh(s,a),isDirty:O(G,ae)})):H&&!H._f&&!Na(ae)?$(G,ae,K):I(G,ae,K),rB(G,l)&&m.state.next({...r,name:G}),m.state.next({name:i.mount?G:void 0,values:Jn(a)})},L=async G=>{i.mount=!0;const D=G.target;let K=D.name,H=!0;const J=Xe(n,K),ae=nt=>{H=Number.isNaN(nt)||Sd(nt)&&isNaN(nt.getTime())||di(nt,Xe(a,K,nt))},me=eB(e.mode),Je=eB(e.reValidateMode);if(J){let nt,Zt;const wr=D.type?ZF(J._f):LQ(G),Cn=G.type===Pj.BLUR||G.type===Pj.FOCUS_OUT,js=!UUe(J._f)&&!e.resolver&&!Xe(r.errors,K)&&!J._f.deps||HUe(Cn,Xe(r.touchedFields,K),r.isSubmitted,Je,me),rn=rB(K,l,Cn);jr(a,K,wr),Cn?(!D||!D.readOnly)&&(J._f.onBlur&&J._f.onBlur(G),c&&c(0)):J._f.onChange&&J._f.onChange(G);const mn=j(K,wr,Cn),xl=!Zs(mn)||rn;if(!Cn&&m.state.next({name:K,type:G.type,values:Jn(a)}),js)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Cn&&g():Cn||g()),xl&&m.state.next({name:K,...rn?{}:mn});if(!Cn&&rn&&m.state.next({...r}),e.resolver){const{errors:Wn}=await S([K]);if(ae(wr),H){const V=nB(r.errors,n,K),F=nB(Wn,n,V.name||K);nt=F.error,K=F.name,Zt=Zs(Wn)}}else v([K],!0),nt=(await aB(J,l.disabled,a,h,e.shouldUseNativeValidation))[K],v([K]),ae(wr),H&&(nt?Zt=!1:(d.isValid||f.isValid)&&(Zt=await k(n,!0)));H&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&T(J._f.deps),_(K,Zt,nt,mn))}},E=(G,D)=>{if(Xe(r.errors,D)&&G.focus)return G.focus(),1},T=async(G,D={})=>{let K,H;const J=dv(G);if(e.resolver){const ae=await C(yn(G)?G:J);K=Zs(ae),H=G?!J.some(me=>Xe(ae,me)):K}else G?(H=(await Promise.all(J.map(async ae=>{const me=Xe(n,ae);return await k(me&&me._f?{[ae]:me}:me)}))).every(Boolean),!(!H&&!r.isValid)&&g()):H=K=await k(n);return m.state.next({...!Qa(G)||(d.isValid||f.isValid)&&K!==r.isValid?{}:{name:G},...e.resolver||!G?{isValid:K}:{},errors:r.errors}),D.shouldFocus&&!H&&fv(n,E,G?J:l.mount),H},q=(G,D)=>{let K={...i.mount?a:s};return D&&(K=VQ(D.dirtyFields?r.dirtyFields:r.touchedFields,K)),yn(G)?K:Qa(G)?Xe(K,G):G.map(H=>Xe(K,H))},Z=(G,D)=>({invalid:!!Xe((D||r).errors,G),isDirty:!!Xe((D||r).dirtyFields,G),error:Xe((D||r).errors,G),isValidating:!!Xe(r.validatingFields,G),isTouched:!!Xe((D||r).touchedFields,G)}),M=G=>{G&&dv(G).forEach(D=>Dn(r.errors,D)),m.state.next({errors:G?r.errors:{}})},W=(G,D,K)=>{const H=(Xe(n,G,{_f:{}})._f||{}).ref,J=Xe(r.errors,G)||{},{ref:ae,message:me,type:Je,...nt}=J;jr(r.errors,G,{...nt,...D,ref:H}),m.state.next({name:G,errors:r.errors,isValid:!1}),K&&K.shouldFocus&&H&&H.focus&&H.focus()},re=(G,D)=>fi(G)?m.state.subscribe({next:K=>"values"in K&&G(P(void 0,D),K)}):P(G,D,!0),se=G=>m.state.subscribe({next:D=>{WUe(G.name,D.name,G.exact)&&qUe(D,G.formState||d,vt,G.reRenderRoot)&&G.callback({values:{...a},...r,...D,defaultValues:s})}}).unsubscribe,je=G=>(i.mount=!0,f={...f,...G.formState},se({...G,formState:f})),pe=(G,D={})=>{for(const K of G?dv(G):l.mount)l.mount.delete(K),l.array.delete(K),D.keepValue||(Dn(n,K),Dn(a,K)),!D.keepError&&Dn(r.errors,K),!D.keepDirty&&Dn(r.dirtyFields,K),!D.keepTouched&&Dn(r.touchedFields,K),!D.keepIsValidating&&Dn(r.validatingFields,K),!e.shouldUnregister&&!D.keepDefaultValue&&Dn(s,K);m.state.next({values:Jn(a)}),m.state.next({...r,...D.keepDirty?{isDirty:O()}:{}}),!D.keepIsValid&&g()},Ue=({disabled:G,name:D})=>{(Ha(G)&&i.mount||G||l.disabled.has(D))&&(G?l.disabled.add(D):l.disabled.delete(D))},ce=(G,D={})=>{let K=Xe(n,G);const H=Ha(D.disabled)||Ha(e.disabled);return jr(n,G,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:G}},name:G,mount:!0,...D}}),l.mount.add(G),K?Ue({disabled:Ha(D.disabled)?D.disabled:e.disabled,name:G}):N(G,!0,D.value),{...H?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:jg(D.min),max:jg(D.max),minLength:jg(D.minLength),maxLength:jg(D.maxLength),pattern:jg(D.pattern)}:{},name:G,onChange:L,onBlur:L,ref:J=>{if(J){ce(G,D),K=Xe(n,G);const ae=yn(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,me=$Ue(ae),Je=K._f.refs||[];if(me?Je.find(nt=>nt===ae):ae===K._f.ref)return;jr(n,G,{_f:{...K._f,...me?{refs:[...Je.filter(RC),ae,...Array.isArray(Xe(s,G))?[{}]:[]],ref:{type:ae.type,name:G}}:{ref:ae}}}),N(G,!1,void 0,ae)}else K=Xe(n,G,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(FQ(l.array,G)&&i.action)&&l.unMount.add(G)}}},we=()=>e.shouldFocusError&&fv(n,E,l.mount),be=G=>{Ha(G)&&(m.state.next({disabled:G}),fv(n,(D,K)=>{const H=Xe(n,K);H&&(D.disabled=H._f.disabled||G,Array.isArray(H._f.refs)&&H._f.refs.forEach(J=>{J.disabled=H._f.disabled||G}))},0,!1))},ue=(G,D)=>async K=>{let H;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let J=Jn(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:me}=await S();r.errors=ae,J=Jn(me)}else await k(n);if(l.disabled.size)for(const ae of l.disabled)Dn(J,ae);if(Dn(r.errors,"root"),Zs(r.errors)){m.state.next({errors:{}});try{await G(J,K)}catch(ae){H=ae}}else D&&await D({...r.errors},K),we(),setTimeout(we);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zs(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},_t=(G,D={})=>{Xe(n,G)&&(yn(D.defaultValue)?B(G,Jn(Xe(s,G))):(B(G,D.defaultValue),jr(s,G,Jn(D.defaultValue))),D.keepTouched||Dn(r.touchedFields,G),D.keepDirty||(Dn(r.dirtyFields,G),r.isDirty=D.defaultValue?O(G,Jn(Xe(s,G))):O()),D.keepError||(Dn(r.errors,G),d.isValid&&g()),m.state.next({...r}))},ht=(G,D={})=>{const K=G?Jn(G):s,H=Jn(K),J=Zs(G),ae=J?s:H;if(D.keepDefaultValues||(s=K),!D.keepValues){if(D.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(uh(s,a))]);for(const Je of Array.from(me))Xe(r.dirtyFields,Je)?jr(ae,Je,Xe(a,Je)):B(Je,Xe(ae,Je))}else{if(SR&&yn(G))for(const me of l.mount){const Je=Xe(n,me);if(Je&&Je._f){const nt=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(Mj(nt)){const Zt=nt.closest("form");if(Zt){Zt.reset();break}}}}if(D.keepFieldsRef)for(const me of l.mount)B(me,Xe(ae,me));else n={}}a=e.shouldUnregister?D.keepDefaultValues?Jn(s):{}:Jn(ae),m.array.next({values:{...ae}}),m.state.next({values:{...ae}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Zs(ae),i.watch=!!e.shouldUnregister,m.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:J?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!di(G,s)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:D.keepDirtyValues?D.keepDefaultValues&&a?uh(s,a):r.dirtyFields:D.keepDefaultValues&&G?uh(s,G):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},le=(G,D)=>ht(fi(G)?G(a):G,D),Ye=(G,D={})=>{const K=Xe(n,G),H=K&&K._f;if(H){const J=H.refs?H.refs[0]:H.ref;J.focus&&(J.focus(),D.shouldSelect&&fi(J.select)&&J.select())}},vt=G=>{r={...r,...G}},Jt={control:{register:ce,unregister:pe,getFieldState:Z,handleSubmit:ue,setError:W,_subscribe:se,_runSchema:S,_focusError:we,_getWatch:P,_getDirty:O,_setValid:g,_setFieldArray:b,_setDisabledField:Ue,_setErrors:w,_getFieldArray:R,_reset:ht,_resetDefaultValues:()=>fi(e.defaultValues)&&e.defaultValues().then(G=>{le(G,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:be,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(G){i=G},get _defaultValues(){return s},get _names(){return l},set _names(G){l=G},get _formState(){return r},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:je,trigger:T,register:ce,handleSubmit:ue,watch:re,setValue:B,getValues:q,reset:le,resetField:_t,clearErrors:M,unregister:pe,setError:W,setFocus:Ye,getFieldState:Z};return{...Jt,formControl:Jt}}function La(t={}){const e=z.useRef(void 0),r=z.useRef(void 0),[n,s]=z.useState({isDirty:!1,isValidating:!1,isLoading:fi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:fi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!fi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:i,...l}=XUe(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,AR(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),z.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),z.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),z.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),z.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),z.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),z.useEffect(()=>{t.values&&!di(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,s(i=>({...i}))):a._resetDefaultValues()},[a,t.values]),z.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=BQ(n,a),e.current}const oB=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Xe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},GQ=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?oB(n.ref,r,t):n.refs&&n.refs.forEach(s=>oB(s,r,t))}},QUe=(t,e)=>{e.shouldUseNativeValidation&&GQ(t,e);const r={};for(const n in t){const s=Xe(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(JUe(e.names||Object.keys(t),n)){const i=Object.assign({},Xe(r,n));jr(i,"root",a),jr(r,n,i)}else jr(r,n,a)}return r},JUe=(t,e)=>t.some(r=>r.startsWith(e+"."));var ZUe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[i].types,u=c&&c[n.code];r[i]=zQ(i,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},Fa=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&GQ({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:QUe(ZUe(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},pr;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of a)i[l]=s[l];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(const i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(pr||(pr={}));var iB;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(iB||(iB={}));const ft=pr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cc=t=>{switch(typeof t){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(t)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(t)?ft.array:t===null?ft.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ft.promise:typeof Map<"u"&&t instanceof Map?ft.map:typeof Set<"u"&&t instanceof Set?ft.set:typeof Date<"u"&&t instanceof Date?ft.date:ft.object;default:return ft.unknown}},Ve=pr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ul extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof ul))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ul.create=t=>new ul(t);const KA=(t,e)=>{let r;switch(t.code){case Ve.invalid_type:t.received===ft.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,pr.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${pr.joinValues(t.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pr.joinValues(t.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${pr.joinValues(t.options)}, received '${t.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:pr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ve.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ve.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=e.defaultError,pr.assertNever(t)}return{message:r}};let eqe=KA;function tqe(){return eqe}const rqe=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function tt(t,e){const r=tqe(),n=rqe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===KA?void 0:KA].filter(s=>!!s)});t.common.issues.push(n)}class co{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Ut;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return co.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Ut;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:e.value,value:n}}}const Ut=Object.freeze({status:"aborted"}),Ig=t=>({status:"dirty",value:t}),Ho=t=>({status:"valid",value:t}),lB=t=>t.status==="aborted",cB=t=>t.status==="dirty",np=t=>t.status==="valid",Dj=t=>typeof Promise<"u"&&t instanceof Promise;var mt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(mt||(mt={}));class Su{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uB=(t,e)=>{if(np(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ul(t.common.issues);return this._error=r,this._error}}};function nr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,l)=>{const{message:c}=t;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class mr{get description(){return this._def.description}_getType(e){return Cc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Cc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new co,ctx:{common:e.parent.common,data:e.data,parsedType:Cc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Dj(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cc(e)},s=this._parseSync({data:e,path:n.path,parent:n});return uB(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cc(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return np(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>np(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cc(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Dj(s)?s:Promise.resolve(s));return uB(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const i=e(s),l=()=>a.addIssue({code:Ve.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new wf({schema:this,typeName:qt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return hu.create(this,this._def)}nullable(){return op.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sl.create(this)}promise(){return Fj.create(this,this._def)}or(e){return $j.create([this,e],this._def)}and(e){return Lj.create(this,e,this._def)}transform(e){return new wf({...nr(this._def),schema:this,typeName:qt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new XA({...nr(this._def),innerType:this,defaultValue:r,typeName:qt.ZodDefault})}brand(){return new Sqe({typeName:qt.ZodBranded,type:this,...nr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new QA({...nr(this._def),innerType:this,catchValue:r,typeName:qt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return PR.create(this,e)}readonly(){return JA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nqe=/^c[^\s-]{8,}$/i,sqe=/^[0-9a-z]+$/,aqe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oqe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iqe=/^[a-z0-9_-]{21}$/i,lqe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cqe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uqe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dqe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DC;const fqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gqe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vqe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,YQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xqe=new RegExp(`^${YQ}$`);function XQ(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function yqe(t){return new RegExp(`^${XQ(t)}$`)}function bqe(t){let e=`${YQ}T${XQ(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function wqe(t,e){return!!((e==="v4"||!e)&&fqe.test(t)||(e==="v6"||!e)&&mqe.test(t))}function jqe(t,e){if(!lqe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Nqe(t,e){return!!((e==="v4"||!e)&&hqe.test(t)||(e==="v6"||!e)&&pqe.test(t))}class Yc extends mr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ft.string){const a=this._getOrReturnCtx(e);return tt(a,{code:Ve.invalid_type,expected:ft.string,received:a.parsedType}),Ut}const n=new co;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,l=e.data.length<a.value;(i||l)&&(s=this._getOrReturnCtx(e,s),i?tt(s,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&tt(s,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")uqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"email",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")DC||(DC=new RegExp(dqe,"u")),DC.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"emoji",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")oqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"uuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")iqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"nanoid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")nqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")sqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cuid2",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")aqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"ulid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),tt(s,{validation:"url",code:Ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"regex",code:Ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?bqe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?xqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?yqe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?cqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"duration",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?wqe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"ip",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?jqe(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"jwt",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Nqe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cidr",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?gqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"base64",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?vqe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"base64url",code:Ve.invalid_string,message:a.message}),n.dirty()):pr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Ve.invalid_string,...mt.errToObj(n)})}_addCheck(e){return new Yc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...mt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...mt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...mt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...mt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...mt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...mt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...mt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...mt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...mt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...mt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...mt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...mt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...mt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...mt.errToObj(r)})}nonempty(e){return this.min(1,mt.errToObj(e))}trim(){return new Yc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yc.create=t=>new Yc({checks:[],typeName:qt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...nr(t)});function _qe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return a%i/10**s}class sp extends mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ft.number){const a=this._getOrReturnCtx(e);return tt(a,{code:Ve.invalid_type,expected:ft.number,received:a.parsedType}),Ut}let n;const s=new co;for(const a of this._def.checks)a.kind==="int"?pr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?_qe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.not_finite,message:a.message}),s.dirty()):pr.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,mt.toString(r))}setLimit(e,r,n,s){return new sp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:mt.toString(s)}]})}_addCheck(e){return new sp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:mt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}sp.create=t=>new sp({checks:[],typeName:qt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...nr(t)});class Fx extends mr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ft.bigint)return this._getInvalidInput(e);let n;const s=new co;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):pr.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return tt(r,{code:Ve.invalid_type,expected:ft.bigint,received:r.parsedType}),Ut}gte(e,r){return this.setLimit("min",e,!0,mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,mt.toString(r))}setLimit(e,r,n,s){return new Fx({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:mt.toString(s)}]})}_addCheck(e){return new Fx({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:mt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Fx.create=t=>new Fx({checks:[],typeName:qt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...nr(t)});class dB extends mr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ft.boolean){const n=this._getOrReturnCtx(e);return tt(n,{code:Ve.invalid_type,expected:ft.boolean,received:n.parsedType}),Ut}return Ho(e.data)}}dB.create=t=>new dB({typeName:qt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...nr(t)});class Ij extends mr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ft.date){const a=this._getOrReturnCtx(e);return tt(a,{code:Ve.invalid_type,expected:ft.date,received:a.parsedType}),Ut}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return tt(a,{code:Ve.invalid_date}),Ut}const n=new co;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:Ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):pr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ij({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:mt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:mt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ij.create=t=>new Ij({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:qt.ZodDate,...nr(t)});class fB extends mr{_parse(e){if(this._getType(e)!==ft.symbol){const n=this._getOrReturnCtx(e);return tt(n,{code:Ve.invalid_type,expected:ft.symbol,received:n.parsedType}),Ut}return Ho(e.data)}}fB.create=t=>new fB({typeName:qt.ZodSymbol,...nr(t)});class hB extends mr{_parse(e){if(this._getType(e)!==ft.undefined){const n=this._getOrReturnCtx(e);return tt(n,{code:Ve.invalid_type,expected:ft.undefined,received:n.parsedType}),Ut}return Ho(e.data)}}hB.create=t=>new hB({typeName:qt.ZodUndefined,...nr(t)});class mB extends mr{_parse(e){if(this._getType(e)!==ft.null){const n=this._getOrReturnCtx(e);return tt(n,{code:Ve.invalid_type,expected:ft.null,received:n.parsedType}),Ut}return Ho(e.data)}}mB.create=t=>new mB({typeName:qt.ZodNull,...nr(t)});class pB extends mr{constructor(){super(...arguments),this._any=!0}_parse(e){return Ho(e.data)}}pB.create=t=>new pB({typeName:qt.ZodAny,...nr(t)});class gB extends mr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ho(e.data)}}gB.create=t=>new gB({typeName:qt.ZodUnknown,...nr(t)});class Cu extends mr{_parse(e){const r=this._getOrReturnCtx(e);return tt(r,{code:Ve.invalid_type,expected:ft.never,received:r.parsedType}),Ut}}Cu.create=t=>new Cu({typeName:qt.ZodNever,...nr(t)});class vB extends mr{_parse(e){if(this._getType(e)!==ft.undefined){const n=this._getOrReturnCtx(e);return tt(n,{code:Ve.invalid_type,expected:ft.void,received:n.parsedType}),Ut}return Ho(e.data)}}vB.create=t=>new vB({typeName:qt.ZodVoid,...nr(t)});class sl extends mr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==ft.array)return tt(r,{code:Ve.invalid_type,expected:ft.array,received:r.parsedType}),Ut;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(tt(r,{code:i?Ve.too_big:Ve.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(tt(r,{code:Ve.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(tt(r,{code:Ve.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new Su(r,i,r.path,l)))).then(i=>co.mergeArray(n,i));const a=[...r.data].map((i,l)=>s.type._parseSync(new Su(r,i,r.path,l)));return co.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new sl({...this._def,minLength:{value:e,message:mt.toString(r)}})}max(e,r){return new sl({...this._def,maxLength:{value:e,message:mt.toString(r)}})}length(e,r){return new sl({...this._def,exactLength:{value:e,message:mt.toString(r)}})}nonempty(e){return this.min(1,e)}}sl.create=(t,e)=>new sl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:qt.ZodArray,...nr(e)});function dh(t){if(t instanceof Ln){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=hu.create(dh(n))}return new Ln({...t._def,shape:()=>e})}else return t instanceof sl?new sl({...t._def,type:dh(t.element)}):t instanceof hu?hu.create(dh(t.unwrap())):t instanceof op?op.create(dh(t.unwrap())):t instanceof bf?bf.create(t.items.map(e=>dh(e))):t}class Ln extends mr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=pr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ft.object){const u=this._getOrReturnCtx(e);return tt(u,{code:Ve.invalid_type,expected:ft.object,received:u.parsedType}),Ut}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Cu&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Su(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Cu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(tt(s,{code:Ve.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Su(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>co.mergeObjectSync(n,u)):co.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return mt.errToObj,new Ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:mt.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ln({...this._def,unknownKeys:"strip"})}passthrough(){return new Ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ln({...this._def,catchall:e})}pick(e){const r={};for(const n of pr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ln({...this._def,shape:()=>r})}omit(e){const r={};for(const n of pr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ln({...this._def,shape:()=>r})}deepPartial(){return dh(this)}partial(e){const r={};for(const n of pr.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Ln({...this._def,shape:()=>r})}required(e){const r={};for(const n of pr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof hu;)a=a._def.innerType;r[n]=a}return new Ln({...this._def,shape:()=>r})}keyof(){return QQ(pr.objectKeys(this.shape))}}Ln.create=(t,e)=>new Ln({shape:()=>t,unknownKeys:"strip",catchall:Cu.create(),typeName:qt.ZodObject,...nr(e)});Ln.strictCreate=(t,e)=>new Ln({shape:()=>t,unknownKeys:"strict",catchall:Cu.create(),typeName:qt.ZodObject,...nr(e)});Ln.lazycreate=(t,e)=>new Ln({shape:t,unknownKeys:"strip",catchall:Cu.create(),typeName:qt.ZodObject,...nr(e)});class $j extends mr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new ul(l.ctx.common.issues));return tt(r,{code:Ve.invalid_union,unionErrors:i}),Ut}if(r.common.async)return Promise.all(n.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(c=>new ul(c));return tt(r,{code:Ve.invalid_union,unionErrors:l}),Ut}}get options(){return this._def.options}}$j.create=(t,e)=>new $j({options:t,typeName:qt.ZodUnion,...nr(e)});function GA(t,e){const r=Cc(t),n=Cc(e);if(t===e)return{valid:!0,data:t};if(r===ft.object&&n===ft.object){const s=pr.objectKeys(e),a=pr.objectKeys(t).filter(l=>s.indexOf(l)!==-1),i={...t,...e};for(const l of a){const c=GA(t[l],e[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ft.array&&n===ft.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],c=GA(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ft.date&&n===ft.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lj extends mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,i)=>{if(lB(a)||lB(i))return Ut;const l=GA(a.value,i.value);return l.valid?((cB(a)||cB(i))&&r.dirty(),{status:r.value,value:l.data}):(tt(n,{code:Ve.invalid_intersection_types}),Ut)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lj.create=(t,e,r)=>new Lj({left:t,right:e,typeName:qt.ZodIntersection,...nr(r)});class bf extends mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.array)return tt(n,{code:Ve.invalid_type,expected:ft.array,received:n.parsedType}),Ut;if(n.data.length<this._def.items.length)return tt(n,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ut;!this._def.rest&&n.data.length>this._def.items.length&&(tt(n,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Su(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>co.mergeArray(r,i)):co.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new bf({...this._def,rest:e})}}bf.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bf({items:t,typeName:qt.ZodTuple,rest:null,...nr(e)})};class xB extends mr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.map)return tt(n,{code:Ve.invalid_type,expected:ft.map,received:n.parsedType}),Ut;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Su(n,l,n.path,[u,"key"])),value:a._parse(new Su(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ut;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ut;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}xB.create=(t,e,r)=>new xB({valueType:e,keyType:t,typeName:qt.ZodMap,...nr(r)});class Bx extends mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.set)return tt(n,{code:Ve.invalid_type,expected:ft.set,received:n.parsedType}),Ut;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(tt(n,{code:Ve.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(tt(n,{code:Ve.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ut;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Su(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(e,r){return new Bx({...this._def,minSize:{value:e,message:mt.toString(r)}})}max(e,r){return new Bx({...this._def,maxSize:{value:e,message:mt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Bx.create=(t,e)=>new Bx({valueType:t,minSize:null,maxSize:null,typeName:qt.ZodSet,...nr(e)});class yB extends mr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yB.create=(t,e)=>new yB({getter:t,typeName:qt.ZodLazy,...nr(e)});class YA extends mr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return tt(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),Ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}YA.create=(t,e)=>new YA({value:t,typeName:qt.ZodLiteral,...nr(e)});function QQ(t,e){return new ap({values:t,typeName:qt.ZodEnum,...nr(e)})}class ap extends mr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return tt(r,{expected:pr.joinValues(n),received:r.parsedType,code:Ve.invalid_type}),Ut}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return tt(r,{received:r.data,code:Ve.invalid_enum_value,options:n}),Ut}return Ho(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ap.create(e,{...this._def,...r})}exclude(e,r=this._def){return ap.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ap.create=QQ;class bB extends mr{_parse(e){const r=pr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const s=pr.objectValues(r);return tt(n,{expected:pr.joinValues(s),received:n.parsedType,code:Ve.invalid_type}),Ut}if(this._cache||(this._cache=new Set(pr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=pr.objectValues(r);return tt(n,{received:n.data,code:Ve.invalid_enum_value,options:s}),Ut}return Ho(e.data)}get enum(){return this._def.values}}bB.create=(t,e)=>new bB({values:t,typeName:qt.ZodNativeEnum,...nr(e)});class Fj extends mr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ft.promise&&r.common.async===!1)return tt(r,{code:Ve.invalid_type,expected:ft.promise,received:r.parsedType}),Ut;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return Ho(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fj.create=(t,e)=>new Fj({type:t,typeName:qt.ZodPromise,...nr(e)});class wf extends mr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{tt(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Ut;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ut:c.status==="dirty"||r.value==="dirty"?Ig(c.value):c});{if(r.value==="aborted")return Ut;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Ut:l.status==="dirty"||r.value==="dirty"?Ig(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ut:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ut:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!np(i))return Ut;const l=s.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>np(i)?Promise.resolve(s.transform(i.value,a)).then(l=>({status:r.value,value:l})):Ut);pr.assertNever(s)}}wf.create=(t,e,r)=>new wf({schema:t,typeName:qt.ZodEffects,effect:e,...nr(r)});wf.createWithPreprocess=(t,e,r)=>new wf({schema:e,effect:{type:"preprocess",transform:t},typeName:qt.ZodEffects,...nr(r)});class hu extends mr{_parse(e){return this._getType(e)===ft.undefined?Ho(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hu.create=(t,e)=>new hu({innerType:t,typeName:qt.ZodOptional,...nr(e)});class op extends mr{_parse(e){return this._getType(e)===ft.null?Ho(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}op.create=(t,e)=>new op({innerType:t,typeName:qt.ZodNullable,...nr(e)});class XA extends mr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}XA.create=(t,e)=>new XA({innerType:t,typeName:qt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nr(e)});class QA extends mr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dj(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ul(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ul(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}QA.create=(t,e)=>new QA({innerType:t,typeName:qt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nr(e)});class wB extends mr{_parse(e){if(this._getType(e)!==ft.nan){const n=this._getOrReturnCtx(e);return tt(n,{code:Ve.invalid_type,expected:ft.nan,received:n.parsedType}),Ut}return{status:"valid",value:e.data}}}wB.create=t=>new wB({typeName:qt.ZodNaN,...nr(t)});class Sqe extends mr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class PR extends mr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ut:a.status==="dirty"?(r.dirty(),Ig(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ut:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new PR({in:e,out:r,typeName:qt.ZodPipeline})}}class JA extends mr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(np(s)&&(s.value=Object.freeze(s.value)),s);return Dj(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}JA.create=(t,e)=>new JA({innerType:t,typeName:qt.ZodReadonly,...nr(e)});var qt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(qt||(qt={}));const $e=Yc.create,wn=sp.create;Cu.create;const JQ=sl.create,ws=Ln.create;$j.create;Lj.create;bf.create;const zx=YA.create,ns=ap.create;Fj.create;hu.create;op.create;const jB=wf.createWithPreprocess,Cqe=ws({email:$e().trim().email({message:"Email invlido"}).max(255,{message:"Email muito longo"}),password:$e().min(8,{message:"A senha deve ter no mnimo 8 caracteres"}).max(100,{message:"Senha muito longa"})}),Eqe=ws({nome_completo:$e().trim().min(3,{message:"Nome deve ter no mnimo 3 caracteres"}).max(100,{message:"Nome muito longo"}),email:$e().trim().email({message:"Email invlido"}).max(255,{message:"Email muito longo"}),password:$e().min(8,{message:"A senha deve ter no mnimo 8 caracteres"}).max(100,{message:"Senha muito longa"}),confirmPassword:$e()}).refine(t=>t.password===t.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]}),kqe=ws({nome_completo:$e().trim().min(3,{message:"Nome deve ter no mnimo 3 caracteres"}).max(100,{message:"Nome muito longo"}),telefone:$e().trim().max(20,{message:"Telefone muito longo"}).optional(),cargo:$e().trim().max(100,{message:"Cargo muito longo"}).optional()}),dl=MUe,ZQ=x.createContext({}),Nt=({...t})=>o.jsx(ZQ.Provider,{value:{name:t.name},children:o.jsx(Tb,{...t})}),A_=()=>{const t=x.useContext(ZQ),e=x.useContext(eJ),{getFieldState:r,formState:n}=k_(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},eJ=x.createContext({}),yt=x.forwardRef(({className:t,...e},r)=>{const n=x.useId();return o.jsx(eJ.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Ne("space-y-2",t),...e})})});yt.displayName="FormItem";const gt=x.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=A_();return o.jsx(ie,{ref:r,className:Ne(n&&"text-destructive",t),htmlFor:s,...e})});gt.displayName="FormLabel";const bt=x.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=A_();return o.jsx(gH,{ref:e,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...t})});bt.displayName="FormControl";const Aqe=x.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=A_();return o.jsx("p",{ref:r,id:n,className:Ne("text-sm text-muted-foreground",t),...e})});Aqe.displayName="FormDescription";const wt=x.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:a}=A_(),i=s?String(s==null?void 0:s.message):e;return i?o.jsx("p",{ref:n,id:a,className:Ne("text-sm font-medium text-destructive",t),...r,children:i}):null});wt.displayName="FormMessage";function Oqe(){const[t,e]=x.useState(!1),{user:r,signIn:n,signUp:s,signInWithGoogle:a}=Fr(),i=Uo(),{toast:l}=tn(),{theme:c,setTheme:u}=of(),d=x.useRef(c),{studioName:f,logoUrl:m,studioNameUrl:h}=RP();x.useEffect(()=>(d.current=c,u("light"),()=>{u(d.current)}),[]),x.useEffect(()=>{r&&i("/")},[r,i]);const p=La({resolver:Fa(Cqe),defaultValues:{email:"",password:""}}),g=La({resolver:Fa(Eqe),defaultValues:{nome_completo:"",email:"",password:"",confirmPassword:""}}),[v,b]=x.useState(""),[y,w]=x.useState("");x.useEffect(()=>{const S=`${v} ${y}`.trim();g.setValue("nome_completo",S,{shouldValidate:!0,shouldDirty:!0})},[v,y]);const N=async S=>{e(!0);const{error:C}=await n(S.email,S.password);C&&l({variant:"destructive",title:"Erro ao fazer login",description:C.message}),e(!1)},j=async S=>{e(!0);const{error:C}=await s(S.email,S.password,S.nome_completo);C?(l({variant:"destructive",title:"Erro ao criar conta",description:C.message}),e(!1)):(g.reset(),e(!1))},_=async()=>{e(!0);const{error:S}=await a();S&&(l({variant:"destructive",title:"Erro ao entrar com Google",description:S.message}),e(!1))};return o.jsxs("div",{className:"min-h-screen bg-white relative flex items-center justify-center p-4",children:[o.jsx("div",{className:"login-spiral-wrapper",children:o.jsx("div",{className:"login-spiral"})}),o.jsxs(ne,{className:"relative z-10 w-full max-w-md rounded-2xl border-border shadow-xl",children:[o.jsxs(Oe,{className:"space-y-1 text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-2 flex-col",children:o.jsxs("div",{className:"flex items-center gap-2",children:[m?o.jsx("img",{src:m,alt:"Logo",className:"w-12 h-12 object-contain"}):o.jsx(Qi,{className:"w-8 h-8 text-primary"}),h?o.jsx("img",{src:h,alt:f,className:"h-8 w-auto object-contain"}):o.jsx(Te,{className:"text-3xl font-bold",children:f})]})}),o.jsx(An,{children:"De tatuador para tatuador"})]}),o.jsx(he,{children:o.jsxs(va,{defaultValue:"login",className:"w-full",children:[o.jsxs(Gs,{className:"grid w-full grid-cols-2 rounded-xl",children:[o.jsx(Et,{value:"login",className:"rounded-lg",children:"Entrar"}),o.jsx(Et,{value:"signup",className:"rounded-lg",children:"Cadastrar"})]}),o.jsxs(kt,{value:"login",children:[o.jsx(dl,{...p,children:o.jsxs("form",{onSubmit:p.handleSubmit(N),className:"space-y-4 mt-4",children:[o.jsx(Nt,{control:p.control,name:"email",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Email"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"seu@email.com",type:"text",inputMode:"email",autoCorrect:"off",autoCapitalize:"none",autoComplete:"email",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsx(Nt,{control:p.control,name:"password",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Senha"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"",type:"password",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsxs(U,{type:"submit",className:"w-full rounded-xl",disabled:t,children:[t&&o.jsx(Qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrar"]})]})}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),o.jsxs(U,{type:"button",variant:"outline",className:"w-full rounded-xl",onClick:_,disabled:t,children:[o.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),o.jsxs(kt,{value:"signup",children:[o.jsx(dl,{...g,children:o.jsxs("form",{onSubmit:g.handleSubmit(j),className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(gt,{children:"Nome"}),o.jsx(de,{placeholder:"Seu nome",className:"rounded-xl",value:v,onChange:S=>b(S.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(gt,{children:"Sobrenome"}),o.jsx(de,{placeholder:"Seu sobrenome",className:"rounded-xl",value:y,onChange:S=>w(S.target.value)})]})]}),o.jsx(Nt,{control:g.control,name:"email",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Email"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"seu@email.com",type:"text",inputMode:"email",autoCorrect:"off",autoCapitalize:"none",autoComplete:"email",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsx(Nt,{control:g.control,name:"password",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Senha"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"",type:"password",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsx(Nt,{control:g.control,name:"confirmPassword",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Confirmar Senha"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"",type:"password",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsxs(U,{type:"submit",className:"w-full rounded-xl",disabled:t,children:[t&&o.jsx(Qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Conta"]})]})}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),o.jsxs(U,{type:"button",variant:"outline",className:"w-full rounded-xl",onClick:_,disabled:t,children:[o.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})]})})]})]})}const Tqe={click:"/sounds/click.mp3",success:"/sounds/success.mp3",error:"/sounds/error.mp3",notification:"/sounds/notification.mp3"},NB="noxus-sound-enabled";function Pqe(){const[t,e]=x.useState(()=>{const a=localStorage.getItem(NB);return a!==null?a==="true":!0}),[r]=x.useState(()=>{const a=new Map;return Object.entries(Tqe).forEach(([i,l])=>{const c=new Audio(l);c.preload="auto",c.volume=.5,a.set(i,c)}),a});x.useEffect(()=>{localStorage.setItem(NB,t.toString())},[t]);const n=x.useCallback(a=>{if(!t)return;const i=r.get(a);i&&(i.currentTime=0,i.play().catch(l=>{console.debug("Sound play failed:",l)}))},[t,r]),s=x.useCallback(()=>{e(a=>!a)},[]);return{soundEnabled:t,toggleSound:s,playSound:n}}var Mqe="Separator",_B="horizontal",Rqe=["horizontal","vertical"],tJ=x.forwardRef((t,e)=>{const{decorative:r,orientation:n=_B,...s}=t,a=Dqe(n)?n:_B,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(ga.div,{"data-orientation":a,...l,...s,ref:e})});tJ.displayName=Mqe;function Dqe(t){return Rqe.includes(t)}var rJ=tJ;const Bj=x.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>o.jsx(rJ,{ref:s,decorative:r,orientation:e,className:Ne("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Bj.displayName=rJ.displayName;function Iqe(){const{profile:t,userRole:e,updateProfile:r,user:n}=Fr(),{colorTheme:s,setColorTheme:a}=of(),{navigationType:i,setNavigationType:l,isNavigationVisible:c,setIsNavigationVisible:u}=DP(),{soundEnabled:d,toggleSound:f,playSound:m}=Pqe(),[h,p]=x.useState(!1),[g,v]=x.useState(!1),{toast:b}=tn(),y=[{id:"default",name:"Roxo Padro",colors:"bg-gradient-to-r from-purple-500 to-purple-600"},{id:"ocean",name:"Oceano",colors:"bg-gradient-to-r from-cyan-500 to-blue-500"},{id:"sunset",name:"Pr do Sol",colors:"bg-gradient-to-r from-orange-500 to-pink-500"},{id:"forest",name:"Floresta",colors:"bg-gradient-to-r from-green-600 to-emerald-500"},{id:"purple",name:"Violeta",colors:"bg-gradient-to-r from-violet-500 to-purple-500"},{id:"rose",name:"Rosa",colors:"bg-gradient-to-r from-rose-500 to-pink-500"},{id:"black",name:"Preto",colors:"bg-gradient-to-r from-gray-900 to-black"}],w=La({resolver:Fa(kqe),defaultValues:{nome_completo:(t==null?void 0:t.nome_completo)||"",telefone:(t==null?void 0:t.telefone)||"",cargo:(t==null?void 0:t.cargo)||""}}),N=async S=>{p(!0),await r(S),p(!1)},j=async S=>{if(!S.target.files||S.target.files.length===0||!n)return;const C=S.target.files[0];if(C.size>2*1024*1024){b({variant:"destructive",title:"Arquivo muito grande",description:"O tamanho mximo  2MB"});return}v(!0);const k=C.name.split(".").pop(),A=`${n.id}.${k}`,O=`${n.id}/${A}`;try{const{error:P}=await X.storage.from("avatars").upload(O,C,{upsert:!0});if(P)throw P;const{data:{publicUrl:R}}=X.storage.from("avatars").getPublicUrl(O);await r({avatar_url:R})}catch{b({variant:"destructive",title:"Erro ao fazer upload",description:"No foi possvel enviar a imagem"})}finally{v(!1)}},_={admin:"Administrador",manager:"Gerente",user:"Usurio"};return t?o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Meu Perfil"}),o.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais"})]}),o.jsxs(ne,{className:"rounded-2xl border-border",children:[o.jsxs(Oe,{children:[o.jsx(Te,{children:"Foto de Perfil"}),o.jsx(An,{children:"Clique na foto para alterar"})]}),o.jsxs(he,{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(MP,{avatarUrl:t.avatar_url,name:t.nome_completo,className:"h-24 w-24"}),o.jsx("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:g?o.jsx(Qi,{className:"h-6 w-6 text-white animate-spin"}):o.jsx(cw,{className:"h-6 w-6 text-white"})}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:j,disabled:g})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-lg",children:t.nome_completo}),e&&o.jsx(Ge,{variant:"secondary",className:"mt-2",children:_[e]})]})]})]}),o.jsxs(ne,{className:"rounded-2xl border-border",children:[o.jsxs(Oe,{children:[o.jsx(Te,{children:"Informaes Pessoais"}),o.jsx(An,{children:"Atualize seus dados cadastrais"})]}),o.jsx(he,{children:o.jsx(dl,{...w,children:o.jsxs("form",{onSubmit:w.handleSubmit(N),className:"space-y-4",children:[o.jsx(Nt,{control:w.control,name:"nome_completo",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Nome Completo"}),o.jsx(bt,{children:o.jsx(de,{className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsx(Nt,{control:w.control,name:"telefone",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Telefone"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"(00) 00000-0000",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsx(Nt,{control:w.control,name:"cargo",render:({field:S})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Cargo"}),o.jsx(bt,{children:o.jsx(de,{placeholder:"Seu cargo na empresa",className:"rounded-xl",...S})}),o.jsx(wt,{})]})}),o.jsxs(U,{type:"submit",className:"rounded-xl",disabled:h,children:[h&&o.jsx(Qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Alteraes"]})]})})})]}),o.jsxs(ne,{className:"rounded-2xl border-border",children:[o.jsxs(Oe,{children:[o.jsx(Te,{children:"Tema de Cores"}),o.jsx(An,{children:"Escolha a paleta de cores do sistema"})]}),o.jsx(he,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:y.map(S=>o.jsxs("button",{onClick:()=>a(S.id),className:`relative group rounded-xl p-4 border-2 transition-all ${s===S.id?"border-primary scale-105":"border-border hover:border-primary/50"}`,children:[o.jsx("div",{className:`w-full h-20 rounded-lg ${S.colors} mb-3`}),o.jsx("p",{className:"font-medium text-sm text-center",children:S.name}),s===S.id&&o.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-primary rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-primary-foreground",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M5 13l4 4L19 7"})})})]},S.id))})})]}),o.jsxs(ne,{className:"rounded-2xl border-border",children:[o.jsxs(Oe,{children:[o.jsx(Te,{children:"Preferncias de Navegao"}),o.jsx(An,{children:"Configure como voc deseja visualizar o menu"})]}),o.jsxs(he,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ie,{className:"text-base",children:"Tipo de Menu"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Escolha entre menu dock (inferior) ou barra lateral"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:i==="dock"?"default":"outline",size:"sm",onClick:()=>l("dock"),className:"rounded-xl",children:"Dock"}),o.jsxs(U,{variant:i==="sidebar"?"default":"outline",size:"sm",onClick:()=>l("sidebar"),className:"rounded-xl",children:[o.jsx(Oie,{className:"w-4 h-4 mr-2"}),"Sidebar"]})]})]}),o.jsx(Bj,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ie,{className:"text-base",children:"Efeitos Sonoros"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduzir sons ao interagir com o sistema"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[d?o.jsx(Uie,{className:"w-4 h-4 text-muted-foreground"}):o.jsx(qie,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(_P,{checked:d,onCheckedChange:()=>{f(),d||setTimeout(()=>m("success"),100)}})]})]})]})]})]})}):null}const ss=x.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full",children:o.jsx("table",{ref:r,className:Ne("w-full caption-bottom text-sm",t),...e})}));ss.displayName="Table";const as=x.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:Ne("[&_tr]:border-b",t),...e}));as.displayName="TableHeader";const is=x.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:Ne("[&_tr:last-child]:border-0",t),...e}));is.displayName="TableBody";const $qe=x.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));$qe.displayName="TableFooter";const zt=x.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:Ne("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));zt.displayName="TableRow";const ge=x.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:Ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ge.displayName="TableHead";const fe=x.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:Ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));fe.displayName="TableCell";const Lqe=x.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:Ne("mt-4 text-sm text-muted-foreground",t),...e}));Lqe.displayName="TableCaption";var nJ=["PageUp","PageDown"],sJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],aJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qp="Slider",[ZA,Fqe,Bqe]=dy(Qp),[oJ]=Ms(Qp,[Bqe]),[zqe,O_]=oJ(Qp),iJ=x.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:h=!1,form:p,...g}=t,v=x.useRef(new Set),b=x.useRef(0),w=i==="horizontal"?Vqe:Uqe,[N=[],j]=oo({prop:d,defaultProp:u,onChange:O=>{var R;(R=[...v.current][b.current])==null||R.focus(),f(O)}}),_=x.useRef(N);function S(O){const P=Gqe(N,O);A(O,P)}function C(O){A(O,b.current)}function k(){const O=_.current[b.current];N[b.current]!==O&&m(N)}function A(O,P,{commit:R}={commit:!1}){const I=Jqe(a),$=Zqe(Math.round((O-n)/a)*a+n,I),B=nx($,[n,s]);j((L=[])=>{const E=Hqe(L,B,P);if(Qqe(E,c*a)){b.current=E.indexOf(B);const T=String(E)!==String(L);return T&&R&&m(E),T?E:L}else return L})}return o.jsx(zqe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:b,thumbs:v.current,values:N,orientation:i,form:p,children:o.jsx(ZA.Provider,{scope:t.__scopeSlider,children:o.jsx(ZA.Slot,{scope:t.__scopeSlider,children:o.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Ee(g.onPointerDown,()=>{l||(_.current=N)}),min:n,max:s,inverted:h,onSlideStart:l?void 0:S,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:k,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,N.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:P})=>{if(!l){const $=nJ.includes(O.key)||O.shiftKey&&sJ.includes(O.key)?10:1,B=b.current,L=N[B],E=a*$*P;A(L+E,B,{commit:!0})}}})})})})});iJ.displayName=Qp;var[lJ,cJ]=oJ(Qp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Vqe=x.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,m]=x.useState(null),h=Ot(e,w=>m(w)),p=x.useRef(void 0),g=Dp(s),v=g==="ltr",b=v&&!a||!v&&a;function y(w){const N=p.current||f.getBoundingClientRect(),j=[0,N.width],S=MR(j,b?[r,n]:[n,r]);return p.current=N,S(w-N.left)}return o.jsx(lJ,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:o.jsx(uJ,{dir:g,"data-orientation":"horizontal",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const N=y(w.clientX);i==null||i(N)},onSlideMove:w=>{const N=y(w.clientX);l==null||l(N)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=aJ[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),Uqe=x.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=x.useRef(null),f=Ot(e,d),m=x.useRef(void 0),h=!s;function p(g){const v=m.current||d.current.getBoundingClientRect(),b=[0,v.height],w=MR(b,h?[n,r]:[r,n]);return m.current=v,w(g-v.top)}return o.jsx(lJ,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:o.jsx(uJ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=p(g.clientY);a==null||a(v)},onSlideMove:g=>{const v=p(g.clientY);i==null||i(v)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:g=>{const b=aJ[h?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),uJ=x.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=O_(Qp,r);return o.jsx(ct.span,{...u,ref:e,onKeyDown:Ee(t.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):nJ.concat(sJ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ee(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:Ee(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Ee(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),a(f))})})}),dJ="SliderTrack",fJ=x.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=O_(dJ,r);return o.jsx(ct.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});fJ.displayName=dJ;var eO="SliderRange",hJ=x.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=O_(eO,r),a=cJ(eO,r),i=x.useRef(null),l=Ot(e,i),c=s.values.length,u=s.values.map(m=>gJ(m,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(ct.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});hJ.displayName=eO;var tO="SliderThumb",mJ=x.forwardRef((t,e)=>{const r=Fqe(t.__scopeSlider),[n,s]=x.useState(null),a=Ot(e,l=>s(l)),i=x.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(qqe,{...t,ref:a,index:i})}),qqe=x.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...a}=t,i=O_(tO,r),l=cJ(tO,r),[c,u]=x.useState(null),d=Ot(e,y=>u(y)),f=c?i.form||!!c.closest("form"):!0,m=aN(c),h=i.values[n],p=h===void 0?0:gJ(h,i.min,i.max),g=Kqe(n,i.values.length),v=m==null?void 0:m[l.size],b=v?Yqe(v,p,l.direction):0;return x.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${b}px)`},children:[o.jsx(ZA.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(ct.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":h,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:d,style:h===void 0?{display:"none"}:t.style,onFocus:Ee(t.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(pJ,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:h},n)]})});mJ.displayName=tO;var Wqe="RadioBubbleInput",pJ=x.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=x.useRef(null),a=Ot(s,n),i=mN(e);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),o.jsx(ct.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});pJ.displayName=Wqe;function Hqe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,a)=>s-a)}function gJ(t,e,r){const a=100/(r-e)*(t-e);return nx(a,[0,100])}function Kqe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Gqe(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function Yqe(t,e,r){const n=t/2,a=MR([0,50],[0,n]);return(n-a(e)*r)*r}function Xqe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Qqe(t,e){if(e>0){const r=Xqe(t);return Math.min(...r)>=e}return!0}function MR(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Jqe(t){return(String(t).split(".")[1]||"").length}function Zqe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var vJ=iJ,e9e=fJ,t9e=hJ,r9e=mJ;const rO=x.forwardRef(({className:t,...e},r)=>o.jsxs(vJ,{ref:r,className:Ne("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(e9e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(t9e,{className:"absolute h-full bg-primary"})}),o.jsx(r9e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));rO.displayName=vJ.displayName;function n9e({clientes:t}){var Qe;const{colorTheme:r,theme:n}=of(),s=x.useRef(null),[a,i]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,m]=x.useState(1),[h,p]=x.useState({x:0,y:0}),[g,v]=x.useState(!1),[b,y]=x.useState({x:0,y:0}),[w,N]=x.useState(!0),[j,_]=x.useState(""),[S,C]=x.useState(new Set),[k,A]=x.useState("hierarchical"),[O,P]=x.useState(!1),[R,I]=x.useState("all"),[$,B]=x.useState([0,1e4]),[L,E]=x.useState("all"),[T,q]=x.useState(300),[Z,M]=x.useState(!1),[W,re]=x.useState(0),[se,je]=x.useState([]),[pe,Ue]=x.useState("none"),[ce,we]=x.useState(!1),[be,ue]=x.useState(!1),[_t,ht]=x.useState("metrics"),[le,Ye]=x.useState(new Map),[vt,Rt]=x.useState([]),[Jt,G]=x.useState({totalLTV:0,avgIndicationsPerNode:0,networkGrowthRate:0,topPerformers:[]}),D=()=>{const te={default:{r:139,g:92,b:246},ocean:{r:6,g:182,b:212},sunset:{r:251,g:146,b:60},forest:{r:34,g:197,b:94},purple:{r:168,g:85,b:247},rose:{r:244,g:63,b:94},black:{r:107,g:114,b:128}};return te[r]||te.default},K=te=>{const Q=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(te);return Q?{r:parseInt(Q[1],16),g:parseInt(Q[2],16),b:parseInt(Q[3],16)}:null},H=te=>{const Q=te.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);return Q?{r:parseInt(Q[1],10),g:parseInt(Q[2],10),b:parseInt(Q[3],10)}:null},J=(te,Q,ze)=>{const et=Q/100,ke=ze/100,Fe=(1-Math.abs(2*ke-1))*et,ut=te/60,Ht=Fe*(1-Math.abs(ut%2-1));let Bt=0,Ce=0,$t=0;ut>=0&&ut<1?(Bt=Fe,Ce=Ht,$t=0):ut>=1&&ut<2?(Bt=Ht,Ce=Fe,$t=0):ut>=2&&ut<3?(Bt=0,Ce=Fe,$t=Ht):ut>=3&&ut<4?(Bt=0,Ce=Ht,$t=Fe):ut>=4&&ut<5?(Bt=Ht,Ce=0,$t=Fe):ut>=5&&ut<6&&(Bt=Fe,Ce=0,$t=Ht);const dt=ke-Fe/2;return{r:Math.round((Bt+dt)*255),g:Math.round((Ce+dt)*255),b:Math.round(($t+dt)*255)}},ae=()=>{try{const te=document.documentElement,Q=getComputedStyle(te).getPropertyValue("--background").trim();if(!Q)return{r:8,g:12,b:24};const ze=Q.split(/\s+/),et=parseFloat(ze[0]),ke=parseFloat(ze[1].replace("%","")),Fe=parseFloat(ze[2].replace("%",""));return J(et,ke,Fe)}catch{return{r:8,g:12,b:24}}},me=()=>{try{const te=document.documentElement,Q=getComputedStyle(te).getPropertyValue("--foreground").trim();if(!Q)return{r:229,g:231,b:235};const ze=Q.split(/\s+/),et=parseFloat(ze[0]),ke=parseFloat(ze[1].replace("%","")),Fe=parseFloat(ze[2].replace("%",""));return J(et,ke,Fe)}catch{return{r:229,g:231,b:235}}},Je=te=>{const Q=[],ze=Math.max(te,4),et=D();for(let ke=0;ke<=ze;ke++){const Fe=ke/Math.max(ze,1),ut=Math.round(et.r+(255-et.r)*Fe*.4),Ht=Math.round(et.g+(255-et.g)*Fe*.4),Bt=Math.round(et.b+(255-et.b)*Fe*.2);Q.push(`rgb(${ut}, ${Ht}, ${Bt})`)}return Q},nt=x.useMemo(()=>Je(a.length>0?Math.max(...a.map(te=>te.level)):4),[a,r]),Zt=x.useMemo(()=>{if(a.length===0)return Jt;const te=a.reduce((dt,Kt)=>dt+Kt.ltv,0),ze=a.reduce((dt,Kt)=>dt+Kt.indicacoes_count,0)/a.length,et=new Date,ke=24*60*60*1e3,Fe=new Date(et.getTime()-30*ke),ut=new Date(Fe.getTime()-30*ke),Ht=t.filter(dt=>{const Kt=new Date(dt.created_at);return Kt>=Fe&&Kt<=et}).length,Bt=t.filter(dt=>{const Kt=new Date(dt.created_at);return Kt>=ut&&Kt<Fe}).length;let Ce=0;Bt===0?Ce=Ht>0?100:0:Ce=(Ht-Bt)/Bt*100;const $t=[...a].sort((dt,Kt)=>Kt.indicacoes_count-dt.indicacoes_count).slice(0,3).map(dt=>({id:dt.id,name:dt.name,indicacoes_count:dt.indicacoes_count}));return{totalLTV:te,avgIndicationsPerNode:Math.round(ze*100)/100,networkGrowthRate:Math.round(Ce*100)/100,topPerformers:$t}},[a,t]),wr=x.useMemo(()=>{const te=new Map;return a.forEach(Q=>{const ze=Q.ltv/1e3+Q.indicacoes_count*10;te.set(Q.id,Math.min(ze,100))}),te},[a]);x.useMemo(()=>{const te=[],Q=new Date;for(let ze=11;ze>=0;ze--){const et=new Date(Q);et.setMonth(et.getMonth()-ze);const ke=Math.max(1,a.length-ze*2),Fe=a.reduce((ut,Ht)=>ut+Ht.ltv,0)*(ke/a.length);te.push({date:et.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),count:Math.round(ke),ltv:Math.round(Fe)})}return te},[a]);const Cn=te=>{if(a.length===0){i(te);return}je([...a]),M(!0),re(0);const Q=Date.now(),ze=T,et=()=>{const ke=Date.now()-Q,Fe=Math.min(ke/ze,1),ut=1-Math.pow(1-Fe,3);re(ut),Fe<1?requestAnimationFrame(et):(M(!1),i(te),je([]))};requestAnimationFrame(et)};x.useEffect(()=>{rn()},[t,k,r]),x.useEffect(()=>{oe()},[a,f,h,l,u,w,S,Z,W,se,r,n]),x.useEffect(()=>{const te=requestAnimationFrame(()=>{oe()});return()=>cancelAnimationFrame(te)},[n]);const js=()=>{let te=a;if(j&&(te=te.filter(ze=>ze.name.toLowerCase().includes(j.toLowerCase()))),R!=="all"){const ze=new Date;t.find(et=>{var ke;return et.id===((ke=te[0])==null?void 0:ke.id)}),te=te.filter(et=>{const ke=t.find(Ht=>Ht.id===et.id);if(!ke)return!1;const Fe=new Date(ke.created_at),ut=Math.floor((ze.getTime()-Fe.getTime())/(1e3*60*60*24));switch(R){case"7days":return ut<=7;case"30days":return ut<=30;case"90days":return ut<=90;case"1year":return ut<=365;default:return!0}})}te=te.filter(ze=>ze.ltv>=$[0]&&ze.ltv<=$[1]),L!=="all"&&(te=te.filter(ze=>{switch(L){case"high":return ze.indicacoes_count>=3;case"medium":return ze.indicacoes_count>=1&&ze.indicacoes_count<3;case"low":return ze.indicacoes_count===0;default:return!0}}));const Q=new Set(te.map(ze=>ze.id));C(Q)};x.useEffect(()=>{js()},[j,a,R,$,L]);const rn=()=>{const te=new Map,Q=new Map;t.forEach(ke=>{const Fe=t.filter(ut=>ut.indicado_por===ke.id).length;te.set(ke.id,{id:ke.id,name:ke.nome,x:0,y:0,connections:[],level:0,ltv:ke.ltv||0,isRoot:!ke.indicado_por,indicacoes_count:Fe}),Q.has(ke.id)||Q.set(ke.id,[])}),t.forEach(ke=>{if(ke.indicado_por&&te.has(ke.indicado_por)){const Fe=Q.get(ke.indicado_por)||[];Fe.push(ke.id),Q.set(ke.indicado_por,Fe);const ut=Q.get(ke.id)||[];ut.push(ke.indicado_por),Q.set(ke.id,ut)}});const ze=(ke,Fe,ut)=>{if(ut.has(ke))return;ut.add(ke);const Ht=te.get(ke);Ht&&(Ht.level=Math.max(Ht.level,Fe),(Q.get(ke)||[]).forEach(Ce=>{const $t=te.get(Ce);$t&&!$t.isRoot&&ze(Ce,Fe+1,ut)}))};te.forEach(ke=>{ke.isRoot&&ze(ke.id,0,new Set)}),mn(Array.from(te.values()),Q),te.forEach(ke=>{ke.connections=Q.get(ke.id)||[]});const et=Array.from(te.values());mn(et,Q),Cn(et)},mn=(te,Q)=>{const ke=new Map;if(te.forEach(Fe=>{ke.has(Fe.level)||ke.set(Fe.level,[]),ke.get(Fe.level).push(Fe)}),k==="hierarchical"){Wn(ke,800);for(let Fe=0;Fe<3;Fe++)V(te)}else{xl(ke,800,600);for(let Fe=0;Fe<20;Fe++)F(te,Q)}},xl=(te,Q,ze)=>{const et=Q/2,ke=ze/2;te.forEach((Fe,ut)=>{const Ht=ut===0?0:100+ut*80,Bt=Fe.length>1?2*Math.PI/Fe.length:0;Fe.forEach((Ce,$t)=>{if(ut===0)Ce.x=et+($t-(Fe.length-1)/2)*100,Ce.y=ke;else{const dt=$t*Bt;Ce.x=et+Math.cos(dt)*Ht,Ce.y=ke+Math.sin(dt)*Ht}})})},Wn=(te,Q,ze)=>{const ke=600/(Math.max(...te.keys())+2),Fe=ke,ut=0;te.forEach((Ht,Bt)=>{const $t=Fe+Bt*ke-ut;if(Bt===0){const dt=Ht.length;if(dt===0)return;const Kt=100,kr=Q-2*Kt;if(dt===1)Ht[0].x=Q/2,Ht[0].y=$t;else{const er=kr/(dt-1);Ht.forEach((zr,Hn)=>{zr.x=Kt+Hn*er,zr.y=$t})}}else{const dt=Ht.length;if(dt===0)return;const Kt=80,kr=Q-2*Kt,er=Math.max(120,kr/(dt+1));[...Ht].sort((Hn,or)=>{const Vr=Array.from(te.get(Bt-1)||[]).find(Xs=>Xs.connections.includes(Hn.id)),Kn=Array.from(te.get(Bt-1)||[]).find(Xs=>Xs.connections.includes(or.id));return Vr&&Kn?Vr.x-Kn.x:0}).forEach((Hn,or)=>{const Vr=Kt+er+or*er;Hn.x=Math.max(Kt,Math.min(Q-Kt,Vr)),Hn.y=$t})}})},V=(te,Q)=>{const Fe=600/(Math.max(...te.map(Bt=>Bt.level))+2),ut=Fe,Ht=0;te.forEach(Bt=>{let Ce=0,$t=0;te.forEach(Kt=>{if(Bt.id!==Kt.id&&Bt.level===Kt.level){const kr=Bt.x-Kt.x,er=Math.abs(kr);if(er<120){const zr=800/(er+1);Ce+=kr>0?zr:-zr}}});const dt=ut+Bt.level*Fe-Ht;$t+=(dt-Bt.y)*2,Bt.x+=Ce*.001,Bt.y+=$t*.02,Bt.x=Math.max(50,Math.min(750,Bt.x)),Bt.y=Math.max(50,Math.min(600,Bt.y))})},F=(te,Q)=>{te.forEach(Fe=>{let ut=0,Ht=0;te.forEach(Ce=>{if(Fe.id!==Ce.id){const $t=Fe.x-Ce.x,dt=Fe.y-Ce.y,Kt=Math.sqrt($t*$t+dt*dt)||1,kr=2e3/(Kt*Kt);ut+=$t/Kt*kr,Ht+=dt/Kt*kr}}),(Q.get(Fe.id)||[]).forEach(Ce=>{const $t=te.find(dt=>dt.id===Ce);if($t){const dt=$t.x-Fe.x,Kt=$t.y-Fe.y;ut+=dt*.1,Ht+=Kt*.1}}),Fe.x+=ut*.9*.01,Fe.y+=Ht*.9*.01})},oe=()=>{const te=s.current;if(!te)return;const Q=te.getContext("2d");if(!Q)return;const ze=window.devicePixelRatio||1,et=te.getBoundingClientRect();te.width=et.width*ze,te.height=et.height*ze,te.style.width=et.width+"px",te.style.height=et.height+"px",Q.scale(ze,ze),Q.imageSmoothingEnabled=!0,Q.imageSmoothingQuality=f>1?"high":f>.5?"medium":"low",Q.lineCap="round",Q.lineJoin="round";const ke=f>.8,Fe=f>.4,ut=f>.3;Q.save(),Q.setTransform(1,0,0,1,0,0),Q.clearRect(0,0,te.width,te.height),Q.restore();const Ht=ae();Q.fillStyle=`rgba(${Ht.r}, ${Ht.g}, ${Ht.b}, 1)`,Q.fillRect(0,0,et.width,et.height);let Bt=a;if(Z&&se.length>0&&(Bt=a.map(Ce=>{const $t=se.find(dt=>dt.id===Ce.id);return $t?{...Ce,x:$t.x+(Ce.x-$t.x)*W,y:$t.y+(Ce.y-$t.y)*W}:Ce})),Q.save(),Q.translate(h.x,h.y),Q.scale(f,f),ut&&Bt.length>0&&k==="hierarchical"){const Ce=Math.max(...Bt.map(kr=>kr.level)),$t=600/(Ce+2),dt=$t,Kt=D();for(let kr=0;kr<=Ce;kr++){const er=dt+kr*$t;Q.beginPath(),Q.moveTo(0,er),Q.lineTo(800,er),Q.strokeStyle=kr===0?`rgba(${Kt.r}, ${Kt.g}, ${Kt.b}, 0.2)`:"rgba(148, 163, 184, 0.1)",Q.lineWidth=kr===0?2/f:1/f,Q.setLineDash(kr===0?[]:[5/f,5/f]),Q.stroke(),Q.setLineDash([]),f>.5&&(Q.fillStyle=kr===0?`rgb(${Kt.r}, ${Kt.g}, ${Kt.b})`:"#6B7280",Q.font=`${10/f}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,Q.textAlign="left",Q.fillText(kr===0?"Nvel 0 - Clientes Raiz":`Nvel ${kr} - ${kr} Gerao`,10,er-5/f))}}Bt.forEach(Ce=>{Ce.connections.forEach($t=>{const dt=Bt.find(Kt=>Kt.id===$t);if(dt){if(!(Ce.level<dt.level))return;const kr=S.has(Ce.id)||S.has(dt.id),er=D();if(kr){const zr=Q.createLinearGradient(Ce.x,Ce.y,dt.x,dt.y);zr.addColorStop(0,`rgba(${er.r}, ${er.g}, ${er.b}, 0.7)`),zr.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),zr.addColorStop(1,`rgba(${er.r}, ${er.g}, ${er.b}, 0.7)`),Q.beginPath(),Q.moveTo(Ce.x,Ce.y),Q.lineTo(dt.x,dt.y),Q.strokeStyle=`rgba(${er.r}, ${er.g}, ${er.b}, 0.12)`,Q.lineWidth=4/f,Q.stroke(),Q.beginPath(),Q.moveTo(Ce.x,Ce.y),Q.lineTo(dt.x,dt.y),Q.strokeStyle=zr,Q.lineWidth=1.5/f}else{const zr=Q.createLinearGradient(Ce.x,Ce.y,dt.x,dt.y);zr.addColorStop(0,`rgba(${er.r}, ${er.g}, ${er.b}, 0.12)`),zr.addColorStop(.5,`rgba(${er.r}, ${er.g}, ${er.b}, 0.2)`),zr.addColorStop(1,`rgba(${er.r}, ${er.g}, ${er.b}, 0.12)`),Q.beginPath(),Q.moveTo(Ce.x,Ce.y),Q.lineTo(dt.x,dt.y),Q.strokeStyle=zr,Q.lineWidth=.6/f}if(Q.globalAlpha=kr?.8:.45,Q.stroke(),Q.globalAlpha=1,Fe&&f>=1){const zr=6/f,Hn=Math.atan2(dt.y-Ce.y,dt.x-Ce.x),or=Ce.x+(dt.x-Ce.x)*.7,Vr=Ce.y+(dt.y-Ce.y)*.7;Q.beginPath(),Q.moveTo(or,Vr),Q.lineTo(or-zr*Math.cos(Hn-Math.PI/6),Vr-zr*Math.sin(Hn-Math.PI/6)),Q.moveTo(or,Vr),Q.lineTo(or-zr*Math.cos(Hn+Math.PI/6),Vr-zr*Math.sin(Hn+Math.PI/6));const Kn=D();Q.strokeStyle=kr?`rgb(${Kn.r}, ${Kn.g}, ${Kn.b})`:"rgba(148, 163, 184, 0.5)",Q.lineWidth=1/f,Q.stroke()}}})}),Bt.forEach(Ce=>{const $t=l===Ce.id,dt=S.has(Ce.id),Kt=Ce.level===0?16:Ce.level===1?14:Ce.level===2?12:10,kr=Ce.indicacoes_count*1.5,er=(Kt+kr)/f;ke&&(Q.save(),Q.shadowColor="rgba(0, 0, 0, 0.12)",Q.shadowBlur=1/f,Q.shadowOffsetX=.5/f,Q.shadowOffsetY=.5/f,Q.beginPath(),Q.arc(Ce.x,Ce.y,er*.55,0,2*Math.PI),Q.fillStyle="rgba(0, 0, 0, 0.06)",Q.fill(),Q.restore());const zr=D();let Hn;if(_t==="heatmap"&&be){const Kn=(wr.get(Ce.id)||0)/100,Xs=Math.round(Kn*255),Vf=Math.round((1-Kn)*100),Uf=Math.round((1-Kn)*255);Hn=`rgb(${Xs}, ${Vf}, ${Uf})`}else dt||$t?Hn=`rgb(${zr.r}, ${zr.g}, ${zr.b})`:Hn=nt[Math.min(Ce.level,nt.length-1)];let or=null;if(Hn.startsWith("#")?or=K(Hn):Hn.startsWith("rgb")&&(or=H(Hn)),or){const Vr=$t||dt?1.5:1,Kn=er*.3,Xs=er*1.3,Vf=Q.createRadialGradient(Ce.x,Ce.y,0,Ce.x,Ce.y,Xs);Vf.addColorStop(0,`rgba(${or.r}, ${or.g}, ${or.b}, ${.15*Vr})`),Vf.addColorStop(.3,`rgba(${or.r}, ${or.g}, ${or.b}, ${.05*Vr})`),Vf.addColorStop(1,`rgba(${or.r}, ${or.g}, ${or.b}, 0)`),Q.beginPath(),Q.arc(Ce.x,Ce.y,Xs,0,2*Math.PI),Q.fillStyle=Vf,Q.fill();const Uf=Q.createRadialGradient(Ce.x,Ce.y,0,Ce.x,Ce.y,er*.75);Uf.addColorStop(0,`rgba(${or.r}, ${or.g}, ${or.b}, ${.45*Vr})`),Uf.addColorStop(.45,`rgba(${or.r}, ${or.g}, ${or.b}, ${.2*Vr})`),Uf.addColorStop(1,`rgba(${or.r}, ${or.g}, ${or.b}, 0)`),Q.beginPath(),Q.arc(Ce.x,Ce.y,er*.75,0,2*Math.PI),Q.fillStyle=Uf,Q.fill();const Yy=Q.createRadialGradient(Ce.x,Ce.y,0,Ce.x,Ce.y,Kn);Yy.addColorStop(0,`rgba(255, 255, 255, ${.9*Vr})`),Yy.addColorStop(.3,`rgba(${Math.min(255,or.r+50)}, ${Math.min(255,or.g+50)}, ${Math.min(255,or.b+50)}, ${.8*Vr})`),Yy.addColorStop(1,`rgba(${or.r}, ${or.g}, ${or.b}, ${.35*Vr})`),Q.beginPath(),Q.arc(Ce.x,Ce.y,Kn,0,2*Math.PI),Q.fillStyle=Yy,Q.fill()}if(Ce.ltv>0){const Vr=er*.6,Kn=Q.createRadialGradient(Ce.x-Vr*.3,Ce.y-Vr*.3,0,Ce.x,Ce.y,Vr);Kn.addColorStop(0,"rgba(255, 255, 255, 1)"),Kn.addColorStop(1,"rgba(255, 255, 255, 0.7)"),Q.beginPath(),Q.arc(Ce.x,Ce.y,Vr,0,2*Math.PI),Q.fillStyle=Kn,Q.fill()}if(f>.3&&(u===Ce.id||$t)){const Vr=Math.max(8,9/f),Kn=Math.max(7,8/f),Xs=me();Q.textAlign="center",Q.textBaseline="middle",f>.5&&(Q.save(),Q.shadowColor="rgba(0, 0, 0, 0.2)",Q.shadowBlur=.8/f,Q.shadowOffsetX=.5/f,Q.shadowOffsetY=.5/f),Q.fillStyle=`rgba(${Xs.r}, ${Xs.g}, ${Xs.b}, ${$t||dt?.9:.75})`,Q.font=`${Vr}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,Q.fillText(Ce.name.split(" ")[0],Ce.x,Ce.y-er-10/f),f>.5&&Q.restore(),Ce.indicacoes_count>0&&f>.4&&(f>.5&&(Q.save(),Q.shadowColor="rgba(0, 0, 0, 0.2)",Q.shadowBlur=1/f,Q.shadowOffsetX=.5/f,Q.shadowOffsetY=.5/f),Q.fillStyle=`rgba(${Xs.r}, ${Xs.g}, ${Xs.b}, 0.6)`,Q.font=`${Kn}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,Q.fillText(`${Ce.indicacoes_count} indicaes`,Ce.x,Ce.y+er+15/f),f>.5&&Q.restore())}}),Q.restore()},_e=te=>{const Q=s.current;if(!Q)return;const ze=Q.getBoundingClientRect(),et=(te.clientX-ze.left-h.x)/f,ke=(te.clientY-ze.top-h.y)/f,Fe=a.find(ut=>Math.sqrt((et-ut.x)**2+(ke-ut.y)**2)<=15);c(Fe?Fe.id:null)},Me=te=>{v(!0),y({x:te.clientX-h.x,y:te.clientY-h.y})},Se=te=>{if(g)p({x:te.clientX-b.x,y:te.clientY-b.y}),s.current&&(s.current.style.cursor="grabbing");else{const Q=s.current;if(!Q)return;const ze=Q.getBoundingClientRect(),et=(te.clientX-ze.left-h.x)/f,ke=(te.clientY-ze.top-h.y)/f;let Fe=null;for(const ut of a){const Ht=ut.level===0?16:ut.level===1?14:ut.level===2?12:10,Bt=ut.indicacoes_count*1.5,Ce=Ht+Bt;if(Math.hypot(et-ut.x,ke-ut.y)<=Math.max(10,Ce)){Fe=ut.id;break}}d(Fe),s.current&&(s.current.style.cursor=Fe?"pointer":"move")}},Pe=()=>{v(!1),s.current&&(s.current.style.cursor="move"),d(null)},at=()=>{m(1),p({x:0,y:0}),c(null)},ve=l?a.find(te=>te.id===l):null,Re=l?t.find(te=>te.id===l):null;return o.jsxs("div",{className:"space-y-6",children:[(()=>{const{colorTheme:te}=of(),ze=new Set(["ocean","sunset","forest","purple","rose"]).has(te)?"bg-gradient-to-r from-primary/5 to-accent/5":"bg-gradient-to-r from-primary/5 to-primary/10";return o.jsx(ne,{className:`rounded-3xl border border-border/40 ${ze} shadow-sm`,children:o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:o.jsx(kU,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-xl",children:"Rede de Indicaes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Visualizao das conexes entre clientes"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-background/60 backdrop-blur-sm border border-border/40 rounded-full px-2 py-1 shadow-sm",children:[o.jsx(de,{placeholder:"Buscar cliente...",value:j,onChange:et=>_(et.target.value),className:"w-56 h-8 rounded-full bg-background/70"}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>P(!O),className:"rounded-full h-8 w-8 text-muted-foreground hover:text-foreground",title:"Filtros Avanados",children:o.jsx(Ap,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>A(k==="hierarchical"?"circular":"hierarchical"),className:"rounded-full h-8 w-8 text-muted-foreground hover:text-foreground",title:`Alternar para layout ${k==="hierarchical"?"circular":"hierrquico"}`,children:k==="hierarchical"?"":""}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>N(!w),className:"rounded-full h-8 w-8 text-muted-foreground hover:text-foreground",title:w?"Ocultar rtulos":"Mostrar rtulos",children:w?o.jsx(NU,{className:"w-4 h-4"}):o.jsx(Th,{className:"w-4 h-4"})})]})]})})})})(),O&&o.jsx(ne,{className:"rounded-3xl border border-border/40 shadow-sm bg-gradient-to-r from-primary/5 to-accent/5",children:o.jsxs(he,{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-medium",children:"Perodo"})]}),o.jsxs(He,{value:R,onValueChange:I,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecionar perodo"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"all",children:"Todos os perodos"}),o.jsx(Y,{value:"7days",children:"ltimos 7 dias"}),o.jsx(Y,{value:"30days",children:"ltimos 30 dias"}),o.jsx(Y,{value:"90days",children:"ltimos 90 dias"}),o.jsx(Y,{value:"1year",children:"ltimo ano"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-4 h-4 text-green-600"}),o.jsx("label",{className:"text-sm font-medium",children:"Valor LTV"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(rO,{value:$,onValueChange:te=>B(te),max:1e4,min:0,step:100,className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:["R$ ",$[0].toLocaleString()]}),o.jsxs("span",{children:["R$ ",$[1].toLocaleString()]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ro,{className:"w-4 h-4 text-purple-600"}),o.jsx("label",{className:"text-sm font-medium",children:"Performance"})]}),o.jsxs(He,{value:L,onValueChange:E,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecionar performance"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"all",children:"Todas as performances"}),o.jsx(Y,{value:"high",children:"Alta (3+ indicaes)"}),o.jsx(Y,{value:"medium",children:"Mdia (1-2 indicaes)"}),o.jsx(Y,{value:"low",children:"Baixa (0 indicaes)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(a$,{className:"w-4 h-4 text-orange-600"}),o.jsx("label",{className:"text-sm font-medium",children:"Animao"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(rO,{value:[T],onValueChange:te=>q(te[0]),max:1e3,min:100,step:50,className:"w-full"}),o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[T,"ms"]})]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-border/50",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Mostrando ",S.size," de ",a.length," clientes"]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{I("all"),B([0,1e4]),E("all"),_("")},className:"text-xs",children:"Limpar Filtros"})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:[o.jsx(ne,{className:"lg:col-span-5 rounded-3xl border-0 shadow-xl",children:o.jsxs(he,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold",children:"Mapa de Conexes"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>m(Math.min(f*1.2,3)),className:"rounded-xl",children:o.jsx(Kie,{className:"w-4 h-4"})}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>m(Math.max(f/1.2,.3)),className:"rounded-xl",children:o.jsx(Gie,{className:"w-4 h-4"})}),o.jsx(U,{variant:"outline",size:"sm",onClick:at,className:"rounded-xl",children:o.jsx(a$,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center gap-1 border-l pl-2 ml-2",children:o.jsx(U,{variant:"outline",size:"sm",onClick:()=>we(!ce),className:"rounded-xl",title:"Exportar Visualizao",children:o.jsx(Oh,{className:"w-4 h-4"})})})]})]}),o.jsxs("div",{className:"relative bg-muted/20 rounded-2xl overflow-hidden",children:[o.jsx("canvas",{ref:s,width:800,height:600,className:"w-full h-[600px] cursor-move",style:{cursor:g?"grabbing":u?"pointer":"move"},onClick:_e,onMouseDown:Me,onMouseMove:Se,onMouseUp:Pe,onMouseLeave:Pe}),ce&&o.jsxs("div",{className:"absolute top-4 left-4 bg-background/95 backdrop-blur-sm border border-border rounded-xl p-3 shadow-lg min-w-48",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm font-medium",children:"Exportar Visualizao"}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>we(!1),className:"h-4 w-4 p-0",children:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(U,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>{const te=s.current;if(te){const Q=document.createElement("a");Q.download="rede-indicacoes.png",Q.href=te.toDataURL(),Q.click()}},children:[o.jsx(Oh,{className:"w-3 h-3 mr-2"}),"Exportar PNG"]}),o.jsxs(U,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>{console.log("Exportar SVG - Em desenvolvimento")},children:[o.jsx(Oh,{className:"w-3 h-3 mr-2"}),"Exportar SVG"]}),o.jsxs(U,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>{console.log("Exportar PDF - Em desenvolvimento")},children:[o.jsx(Oh,{className:"w-3 h-3 mr-2"}),"Exportar PDF"]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[nt.slice(0,Math.min(4,nt.length)).map((te,Q)=>{const ze=Q===0?"w-3.5 h-3.5":Q===1?"w-3 h-3":Q===2?"w-2.5 h-2.5":"w-2 h-2";return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`${ze} rounded-full border border-white/20`,style:{background:`radial-gradient(circle at 30% 30%, ${te}f0, ${te})`}}),o.jsx("span",{className:"text-foreground/80",children:Q===0?"Clientes Raiz":`${Q} Gerao`})]},Q)}),nt.length>4&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex -space-x-0.5",children:nt.slice(4,7).map((te,Q)=>o.jsx("div",{className:"w-1.5 h-1.5 rounded-full border border-white/20",style:{background:`radial-gradient(circle at 30% 30%, ${te}f0, ${te})`}},Q))}),o.jsx("span",{className:"text-foreground/80",children:"Geraes 4+"})]})]})]})}),o.jsx(ne,{className:"lg:col-span-2 rounded-3xl border-0 shadow-xl",children:o.jsxs(he,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Informaes"}),ve&&Re?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-lg",children:ve.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:Re.email})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"LTV:"}),o.jsxs(Ge,{variant:"secondary",children:["R$ ",ve.ltv.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Indicaes:"}),o.jsx(Ge,{variant:"outline",children:ve.indicacoes_count})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Nvel:"}),o.jsx(Ge,{style:{backgroundColor:nt[Math.min(ve.level,nt.length-1)]+"20",color:nt[Math.min(ve.level,nt.length-1)]},children:ve.level})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 pt-2 border-t",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cidade"}),o.jsx("p",{className:"text-sm",children:Re.cidade||""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Instagram"}),Re.instagram?o.jsx("a",{href:Re.instagram,target:"_blank",rel:"noreferrer",className:"text-sm text-primary underline break-all",children:Re.instagram}):o.jsx("p",{className:"text-sm",children:""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Criado em"}),o.jsx("p",{className:"text-sm",children:new Date(Re.created_at).toLocaleDateString("pt-BR")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Gerao"}),o.jsx("p",{className:"text-sm",children:ve.level})]})]}),o.jsxs("div",{className:"pt-2 border-t space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Caminho at a raiz"}),o.jsx("p",{className:"text-sm",children:(()=>{const te=[];let Q=Re;const ze=50;let et=0;for(;Q&&et<ze&&(te.push(Q.nome),!!Q.indicado_por);)Q=t.find(ke=>ke.id===Q.indicado_por),et++;return te.join("  ")})()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Filhos diretos"}),o.jsx("p",{className:"text-sm",children:t.filter(te=>te.indicado_por===Re.id).map(te=>te.nome).join(", ")||""})]})]}),Re.indicado_por&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicado por:"}),o.jsx("p",{className:"font-medium",children:((Qe=t.find(te=>te.id===Re.indicado_por))==null?void 0:Qe.nome)||"Cliente no encontrado"})]})]}):o.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[o.jsx(ca,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Clique em um n para ver detalhes"})]}),o.jsxs("div",{className:"mt-3 pt-2 border-t",children:[o.jsx("h4",{className:"font-medium",children:"Mtricas em Tempo Real"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[o.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"LTV Total"}),o.jsx("p",{className:"text-lg font-semibold text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Zt.totalLTV)})]}),o.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Mdia Indicaes"}),o.jsx("p",{className:"text-lg font-semibold text-primary",children:Zt.avgIndicationsPerNode})]}),o.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Taxa Crescimento"}),o.jsx("p",{className:`text-lg font-semibold ${Zt.networkGrowthRate>=0?"text-primary":"text-destructive"}`,children:`${Math.round(Zt.networkGrowthRate)}%`})]}),o.jsxs("div",{className:"rounded-xl border bg-muted/50 p-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Top Performers"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Zt.topPerformers.length>0?Zt.topPerformers.map(te=>o.jsxs("span",{className:"text-sm font-medium text-primary",children:[te.name," (",te.indicacoes_count,")"]},te.id)):o.jsx("span",{className:"text-sm",children:""})})]})]})]}),o.jsxs("div",{className:"mt-3 pt-2 border-t space-y-1",children:[o.jsx("h4",{className:"font-medium",children:"Estatsticas da Rede"}),o.jsxs("div",{className:"space-y-0.5 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total de Clientes:"}),o.jsx("span",{className:"font-medium",children:a.length})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Clientes Raiz:"}),o.jsx("span",{className:"font-medium",children:a.filter(te=>te.isRoot).length})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total de Indicaes:"}),o.jsx("span",{className:"font-medium",children:a.reduce((te,Q)=>te+Q.indicacoes_count,0)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Nveis Mximos:"}),o.jsx("span",{className:"font-medium",children:Math.max(...a.map(te=>te.level))+1})]})]})]})]})})]})]})}const IC="temporary_referrals";function s9e(){const[t,e]=x.useState([]);return x.useEffect(()=>{const c=localStorage.getItem(IC);if(c)try{e(JSON.parse(c))}catch(u){console.error("Erro ao carregar indicaes temporrias:",u),e([])}},[]),x.useEffect(()=>{localStorage.setItem(IC,JSON.stringify(t))},[t]),{setReferral:(c,u)=>{e(d=>d.find(m=>m.clienteId===c)?d.map(m=>m.clienteId===c?{...m,indicadoPor:u}:m):[...d,{clienteId:c,indicadoPor:u}])},getReferral:c=>{const u=t.find(d=>d.clienteId===c);return(u==null?void 0:u.indicadoPor)||null},removeReferral:c=>{e(u=>u.filter(d=>d.clienteId!==c))},clearAllReferrals:()=>{e([]),localStorage.removeItem(IC)},exportReferrals:()=>t,importReferrals:c=>{e(c)},referrals:t}}const ah=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t);function SB(t){const[e,r,n]=t.split("-").map(Number);return new Date(e,(r||1)-1,n||1)}function Vx({value:t,onChange:e,placeholder:r="dd/mm/aaaa",disabled:n=!1,className:s,minDate:a,maxDate:i}){const[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,m]=x.useState(!1);x.useEffect(()=>{if(t)try{const b=SB(t);d(Mt(b,"dd/MM/yyyy")),m(!1)}catch{d("")}else d(""),m(!1)},[t]);const h=b=>{let y=b.target.value.replace(/\D/g,"");y.length>=2&&(y=y.slice(0,2)+"/"+y.slice(2)),y.length>=5&&(y=y.slice(0,5)+"/"+y.slice(5,9)),d(y),m(!1)},p=()=>{if(!u){e(""),m(!1);return}try{const b=Fl(u,"dd/MM/yyyy",new Date);if(t7(b)){if(a&&b<a){m(!0);return}if(i&&b>i){m(!0);return}const y=Mt(b,"yyyy-MM-dd");e(y),m(!1)}else m(!0)}catch{m(!0)}},g=b=>{if(b){const y=Mt(b,"yyyy-MM-dd");e(y),c(!1)}},v=b=>{b.key==="Enter"&&(p(),b.currentTarget.blur())};return o.jsxs(ji,{open:l,onOpenChange:c,children:[o.jsxs("div",{className:Ne("relative",s),children:[o.jsx(de,{value:u,onChange:h,onBlur:p,onKeyDown:v,placeholder:r,disabled:n,className:Ne("h-9 pr-10",f&&"border-destructive focus-visible:ring-destructive"),maxLength:10}),o.jsx(Ni,{asChild:!0,children:o.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-9 w-9 hover:bg-transparent",disabled:n,children:o.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})})})]}),o.jsx(Io,{className:"w-auto p-0",align:"start",children:o.jsx(yf,{mode:"single",selected:t?SB(t):void 0,onSelect:g,locale:Sr,disabled:b=>!!(a&&b<a||i&&b>i),initialFocus:!0})})]})}const $C=(t,e)=>{const r=e>0?t/e*100:0;return r>=75?"text-success bg-success/10 border-success/20":r>=50?"text-primary bg-primary/10 border-primary/20":r>=25?"text-blue-500 bg-blue-500/10 border-blue-500/20":"text-muted-foreground bg-muted/10 border-muted/20"},LC=t=>t>=5e4?"VIP":t>=2e4?"Premium":t>=5e3?"Regular":t>0?"Novo":"Sem faturamento",a9e=()=>{const[t,e]=x.useState([]),[r,n]=x.useState(!1),[s,a]=x.useState(!1),[i,l]=x.useState(""),[c,u]=x.useState(!0),[d,f]=x.useState("table"),[m,h]=x.useState(new Set),[p,g]=x.useState({}),[v,b]=x.useState("ltv"),[y,w]=x.useState({nome:"",email:"",telefone:"",instagram:"",cidade:"",indicado_por:"",data_aniversario:""}),N=x.useRef(null),j=x.useRef(null),[_,S]=x.useState(!1),[C,k]=x.useState(!1),[A,O]=x.useState(!1),P=()=>{const V=N.current;if(!V){S(!1),k(!1);return}const F=V.scrollWidth-V.clientWidth;if(F<=0){S(!1),k(!1);return}S(V.scrollLeft>0),k(V.scrollLeft<F-1)};x.useEffect(()=>{const V=N.current,F=()=>P(),oe=()=>P(),_e=()=>P(),Me=setTimeout(F,120);return V&&V.addEventListener("scroll",oe),window.addEventListener("resize",_e),()=>{clearTimeout(Me),V&&V.removeEventListener("scroll",oe),window.removeEventListener("resize",_e)}},[t.length,d]),x.useEffect(()=>{const V=j.current;if(!V){O(!1);return}const F=new IntersectionObserver(oe=>{const _e=oe[0],Me=_e.isIntersecting&&_e.intersectionRatio>=.5;O(Me)},{threshold:[.5]});return F.observe(V),()=>F.disconnect()},[d]);const[R,I]=x.useState([]),[$,B]=x.useState([]),[L,E]=x.useState(""),[T,q]=x.useState(""),[Z,M]=x.useState("mais_usadas"),[W,re]=x.useState({}),[se,je]=x.useState({nome:!0,email:!0,telefone:!0,instagram:!0,cidade:!0,data_aniversario:!0,ltv:!0,categoria:!0,indicado_por:!0,indicados:!0,projetos:!0,acoes:!0}),pe={nome:"Nome",email:"Email",telefone:"Telefone",instagram:"Instagram",cidade:"Cidade",data_aniversario:"Data",ltv:"LTV",categoria:"Categoria",indicado_por:"Indicado por",indicados:"Indicados",projetos:"Projetos",acoes:"Aes"},Ue=V=>je(F=>({...F,[V]:!F[V]})),ce=(V,F)=>{const oe=V.map(at=>(at||"").toLowerCase()),_e=R.filter(at=>{const ve=!oe.includes((at.nome||"").toLowerCase()),Re=F?at.nome.toLowerCase().includes(F.toLowerCase()):!0;return ve&&Re}),Me=at=>W[at]||0,Se=at=>at.created_at?new Date(at.created_at).getTime():0;return[..._e].sort((at,ve)=>{if(Z==="mais_usadas"){const Re=Me(at.nome),Qe=Me(ve.nome);if(Qe!==Re)return Qe-Re;const te=Se(ve)-Se(at);return te!==0?te:at.nome.localeCompare(ve.nome)}else{const Re=Se(ve)-Se(at);if(Re!==0)return Re;const Qe=Me(at.nome),te=Me(ve.nome);return te!==Qe?te-Qe:at.nome.localeCompare(ve.nome)}}).slice(0,8)},{user:we}=Fr(),{toast:be}=tn(),ue=Uo(),{setReferral:_t,getReferral:ht}=s9e(),[le,Ye]=x.useState({cidades:[],hasInstagram:!1,ltvMin:0,ltvMax:0,dataInicio:"",dataFim:"",tipoIndicacao:"todos",indicadoPorId:"todos",projetosMin:0,transacoesMin:0});x.useEffect(()=>{we&&(Rt(),vt())},[we]);const vt=async()=>{try{const{data:V,error:F}=await X.from("cidades").select("id, nome, created_at").order("nome",{ascending:!0});if(F)throw F;I((V||[]).map(oe=>({id:oe.id,nome:oe.nome,created_at:oe.created_at})))}catch{console.warn("Tabela 'cidades' indisponvel. Multiselect funcionar localmente.")}},Rt=async()=>{try{const{data:V,error:F}=await X.from("clientes").select("*").order("created_at",{ascending:!1});if(F)throw F;const{data:oe,error:_e}=await X.from("transacoes").select(`
          id,
          valor,
          tipo,
          data_liquidacao,
          agendamento_id,
          agendamentos (
            projeto_id,
            projetos (
              cliente_id
            )
          )
        `);if(_e)throw _e;const{data:Me,error:Se}=await X.from("projetos").select("id, cliente_id");if(Se)throw Se;const{data:Pe,error:at}=await X.from("projeto_sessoes").select(`
          id,
          projeto_id,
          valor_sessao,
          projetos (
            cliente_id
          )
        `);if(at)throw at;let ve={};try{const{data:te,error:Q}=await X.from("clientes_cidades").select("cliente_id, cidades (nome)");if(Q)throw Q;(te||[]).forEach(ze=>{var ke;const et=(ke=ze.cidades)==null?void 0:ke.nome;et&&(ve[ze.cliente_id]||(ve[ze.cliente_id]=[]),ve[ze.cliente_id].push(et))})}catch{}const Re=(V||[]).map(te=>{const Q=(Me||[]).filter(ke=>ke.cliente_id===te.id).length;let ze=0,et=0;return(oe||[]).forEach(ke=>{var ut;const Fe=ke.agendamentos;((ut=Fe==null?void 0:Fe.projetos)==null?void 0:ut.cliente_id)===te.id&&(et++,ke.tipo==="RECEITA"&&ke.data_liquidacao&&(ze+=Number(ke.valor)))}),(Pe||[]).forEach(ke=>{const Fe=ke.projetos;(Fe==null?void 0:Fe.cliente_id)===te.id&&ke.valor_sessao&&(ze+=Number(ke.valor_sessao))}),{...te,ltv:ze,projetos_count:Q,transacoes_count:et,indicado_por:te.indicado_por??ht(te.id),cidades:ve[te.id]||void 0}});Re.sort((te,Q)=>Q.ltv-te.ltv),e(Re);const Qe={};(Re||[]).forEach(te=>{(te.cidades&&te.cidades.length>0?te.cidades:te.cidade?[te.cidade]:[]).forEach(ze=>{const et=(ze||"").trim();et&&(Qe[et]=(Qe[et]||0)+1)})}),re(Qe)}catch(V){console.error("Erro ao buscar clientes:",V),be({title:"Erro ao carregar clientes",description:"No foi possvel carregar os clientes.",variant:"destructive"})}finally{u(!1)}},Jt=async V=>{if(V.preventDefault(),!!we)try{const F={user_id:we.id,nome:y.nome};y.email&&(F.email=y.email),y.telefone&&(F.telefone=y.telefone),y.instagram&&(F.instagram=y.instagram),y.cidade&&(F.cidade=y.cidade),y.data_aniversario&&(F.data_aniversario=y.data_aniversario),y.indicado_por&&y.indicado_por!=="none"&&(F.indicado_por=y.indicado_por);const oe=$.length>0?$.map(Se=>(Se.nome||"").trim()).filter(Boolean):(L||"").trim()?[(L||"").trim()]:[],{data:_e,error:Me}=await X.from("clientes").insert([F]).select();if(Me)throw Me;if(_e&&_e[0]&&oe.length>0)try{const Se=[];for(const Pe of oe){const at=R.find(ve=>(ve.nome||"").toLowerCase()===Pe.toLowerCase());if(at!=null&&at.id)Se.push(at.id);else{const{data:ve,error:Re}=await X.from("cidades").insert([{user_id:we.id,nome:Pe}]).select();if(Re)throw Re;const Qe=ve&&ve[0]?ve[0].id:void 0;Qe&&(Se.push(Qe),I(te=>{var Q;return te.some(ze=>(ze.nome||"").toLowerCase()===Pe.toLowerCase())?te:[...te,{id:Qe,nome:Pe,created_at:(Q=ve==null?void 0:ve[0])==null?void 0:Q.created_at}]}))}}if(Se.length>0){const Pe=Se.map(ve=>({user_id:we.id,cliente_id:_e[0].id,cidade_id:ve})),{error:at}=await X.from("clientes_cidades").insert(Pe);if(at)throw at}}catch(Se){console.warn("No foi possvel vincular cidades ao cliente:",Se)}if(_e&&_e[0]){const Se={..._e[0],ltv:0,projetos_count:0,transacoes_count:0,indicado_por:y.indicado_por&&y.indicado_por!=="none"?y.indicado_por:null,cidades:oe.length>0?oe:void 0};e(Pe=>[Se,...Pe])}be({title:"Cliente criado!",description:"O cliente foi adicionado com sucesso."}),w({nome:"",email:"",telefone:"",instagram:"",cidade:"",indicado_por:"",data_aniversario:""}),B([]),E(""),n(!1),a(!1)}catch(F){console.error("Erro ao criar cliente:",F);try{const{data:oe}=await X.from("clientes").insert([{user_id:we.id,nome:y.nome}]).select();if(oe&&oe[0]){const _e={...oe[0],instagram:y.instagram||void 0,cidade:y.cidade||void 0,ltv:0,projetos_count:0,transacoes_count:0,indicado_por:y.indicado_por&&y.indicado_por!=="none"?y.indicado_por:null,cidades:$.length>0?$.map(Me=>Me.nome):void 0};e(Me=>[_e,...Me])}be({title:"Cliente criado!",description:"Alguns campos novos sero persistidos aps migrao do banco."}),w({nome:"",email:"",telefone:"",instagram:"",cidade:"",indicado_por:"",data_aniversario:""}),B([]),E(""),n(!1),a(!1);return}catch(oe){console.error("Fallback falhou ao criar cliente:",oe)}be({title:"Erro ao criar cliente",description:"No foi possvel criar o cliente.",variant:"destructive"})}},G=async V=>{try{const{error:F}=await X.from("clientes").delete().eq("id",V);if(F)throw F;e(oe=>oe.filter(_e=>_e.id!==V)),be({title:"Cliente removido!",description:"O cliente foi removido com sucesso."})}catch(F){console.error("Erro ao deletar cliente:",F),be({title:"Erro ao remover cliente",description:"No foi possvel remover o cliente.",variant:"destructive"})}},D=(V,F)=>{h(oe=>new Set(oe).add(V)),g(oe=>({...oe,[V]:{nome:F.nome,email:F.email,telefone:F.telefone,instagram:F.instagram||"",cidade:F.cidade||"",indicado_por:F.indicado_por||"none"}}))},K=V=>{h(F=>{const oe=new Set(F);return oe.delete(V),oe}),g(F=>{const oe={...F};return delete oe[V],oe})},H=async V=>{const F=p[V];if(F)try{const{indicado_por:oe,..._e}=F,{error:Me}=await X.from("clientes").update(_e).eq("id",V);if(Me)throw Me;if(oe!==void 0){const Se=oe==="none"?null:oe;try{const{error:Pe}=await X.from("clientes").update({indicado_por:Se}).eq("id",V);if(Pe)throw Pe;e(at=>at.map(ve=>ve.id===V?{...ve,..._e,indicado_por:Se||null}:ve))}catch{_t(V,Se),e(at=>at.map(ve=>ve.id===V?{...ve,..._e,indicado_por:Se||null}:ve))}}else e(Se=>Se.map(Pe=>Pe.id===V?{...Pe,..._e}:Pe));be({title:"Cliente atualizado!",description:"As alteraes foram salvas com sucesso."}),K(V)}catch(oe){console.error("Erro ao atualizar cliente:",oe);try{const{error:_e}=await X.from("clientes").update({nome:F.nome,email:F.email,telefone:F.telefone}).eq("id",V);if(!_e){e(Me=>Me.map(Se=>Se.id===V?{...Se,nome:F.nome??Se.nome,email:F.email??Se.email,telefone:F.telefone??Se.telefone,instagram:F.instagram??Se.instagram,cidade:F.cidade??Se.cidade}:Se)),be({title:"Cliente atualizado parcialmente",description:"Campos novos sero persistidos aps migrao do banco."}),K(V);return}}catch(_e){console.error("Fallback falhou ao atualizar cliente:",_e)}be({title:"Erro ao atualizar cliente",description:"No foi possvel salvar as alteraes.",variant:"destructive"})}},J=(V,F,oe)=>{g(_e=>({..._e,[V]:{..._e[V],[F]:oe}}))},ae=async()=>{const V=Array.from(m).map(F=>H(F));await Promise.all(V)},me=V=>F=>{F.key==="Enter"&&(F.preventDefault(),H(V))},Je=V=>F=>{F.key==="Enter"&&(F.preventDefault(),setTimeout(()=>H(V),0))},nt=t.filter(V=>{var Me,Se;const F=i.trim().toLowerCase();if(!(F===""||V.nome.toLowerCase().includes(F)||((Me=V.email)==null?void 0:Me.toLowerCase().includes(F))||((Se=V.telefone)==null?void 0:Se.toLowerCase().includes(F)))||le.cidades.length>0&&!(V.cidades&&V.cidades.length>0?V.cidades:V.cidade?[V.cidade]:[]).some(ve=>le.cidades.some(Re=>(ve||"").toLowerCase()===Re.toLowerCase()))||le.hasInstagram&&!V.instagram||V.ltv<le.ltvMin||le.ltvMax>0&&V.ltv>le.ltvMax)return!1;const _e=new Date(V.created_at).getTime();if(le.dataInicio){const Pe=new Date(le.dataInicio).getTime();if(_e<Pe)return!1}if(le.dataFim){const Pe=new Date(le.dataFim).getTime();if(_e>Pe)return!1}return!(le.tipoIndicacao==="direto"&&V.indicado_por||le.tipoIndicacao==="indicado"&&!V.indicado_por||le.tipoIndicacao==="indica_outros"&&!t.some(at=>at.indicado_por===V.id)||le.indicadoPorId!=="todos"&&le.indicadoPorId!==""&&V.indicado_por!==le.indicadoPorId||V.projetos_count<le.projetosMin||V.transacoes_count<le.transacoesMin)}),Zt=nt.reduce((V,F)=>V+F.ltv,0),wr=Math.max(...nt.map(V=>V.ltv),0),Cn=nt.length>0?Zt/nt.length:0,js=(()=>{let V=0;return le.cidades.length>0&&V++,le.hasInstagram&&V++,le.ltvMin>0&&V++,le.ltvMax>0&&V++,le.dataInicio&&V++,le.dataFim&&V++,le.tipoIndicacao!=="todos"&&V++,le.indicadoPorId!=="todos"&&le.indicadoPorId!==""&&V++,le.projetosMin>0&&V++,le.transacoesMin>0&&V++,V})(),rn=[...nt].sort((V,F)=>v==="ltv"?F.ltv-V.ltv:v==="created_at"?new Date(F.created_at).getTime()-new Date(V.created_at).getTime():V.nome.localeCompare(F.nome)),{colorTheme:mn}=of();if(c)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})});const Wn=new Set(["ocean","sunset","forest","purple","rose"]).has(mn)?"bg-gradient-to-br from-primary/10 to-accent/5":"bg-gradient-to-br from-primary/10 to-primary/5";return o.jsxs("div",{className:"space-y-6 pb-20",children:[o.jsx(ne,{className:"rounded-3xl border-0 bg-gradient-to-r from-blue-500/10 to-blue-600/5 shadow-lg"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Clientes"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua base de clientes e acompanhe o LTV"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(ne,{className:`p-4 rounded-xl ${Wn}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(Zr,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"LTV Total"})]}),o.jsx("p",{className:"text-xl font-semibold",children:ah(Zt)})]}),o.jsxs(ne,{className:`p-4 rounded-xl ${Wn}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(_n,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"LTV Mdio"})]}),o.jsx("p",{className:"text-xl font-semibold",children:ah(Cn)})]}),o.jsxs(ne,{className:`p-4 rounded-xl ${Wn}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(_n,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Maior LTV"})]}),o.jsx("p",{className:"text-xl font-semibold",children:ah(wr)})]}),o.jsxs(ne,{className:`p-4 rounded-xl ${Wn}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(ca,{className:"w-4 h-4 text-primary"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clientes"})]}),o.jsx("p",{className:"text-xl font-semibold",children:t.length})]})]}),o.jsxs(va,{value:d,onValueChange:V=>f(V),className:"w-full",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs(Gs,{className:"inline-flex w-auto rounded-2xl bg-gradient-to-r from-muted/30 to-muted/10 p-1.5 backdrop-blur-sm border border-border/20 shadow-lg",children:[o.jsxs(Et,{value:"table",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[o.jsx(YT,{className:"w-5 h-5 transition-colors"}),o.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Tabela"})]}),o.jsxs(Et,{value:"network",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[o.jsx(kU,{className:"w-5 h-5 transition-colors"}),o.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Rede"})]}),o.jsxs(Et,{value:"cards",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[o.jsx(Cie,{className:"w-5 h-5 transition-colors"}),o.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Lista"})]}),o.jsxs(Et,{value:"grid",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50",children:[o.jsx(KT,{className:"w-5 h-5 transition-colors"}),o.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Grid"})]})]})}),d!=="network"&&o.jsxs("div",{className:"flex items-center justify-between gap-4 py-3 px-1 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar clientes...",className:"pl-10 rounded-lg border-muted/50 bg-background/50 backdrop-blur-sm h-9",value:i,onChange:V=>l(V.target.value)})]}),o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"rounded-lg h-9",children:["Filtros",js>0&&o.jsx(Ge,{variant:"secondary",className:"ml-2 rounded-full px-2 py-0.5 text-xs",children:js})]})}),o.jsxs(Io,{className:"w-[520px] rounded-xl p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Cidades"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:le.cidades.map(V=>o.jsxs(Ge,{variant:"secondary",className:"rounded-full px-2 py-1 text-xs",children:[o.jsx("span",{children:V}),o.jsx("button",{type:"button",onClick:()=>Ye({...le,cidades:le.cidades.filter(F=>F.toLowerCase()!==V.toLowerCase())}),className:"ml-2 text-muted-foreground hover:text-foreground","aria-label":`Remover ${V}`,children:""})]},V))}),o.jsx(de,{placeholder:"Digite e pressione Enter para adicionar",value:T,onChange:V=>q(V.target.value),onKeyDown:V=>{if(V.key==="Enter"){const F=T.trim();if(!F)return;le.cidades.some(oe=>oe.toLowerCase()===F.toLowerCase())||Ye({...le,cidades:[...le.cidades,F]}),q("")}}}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"Ranking:"}),o.jsx(U,{type:"button",variant:Z==="mais_usadas"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>M("mais_usadas"),children:"Mais usadas"}),o.jsx(U,{type:"button",variant:Z==="mais_recentes"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>M("mais_recentes"),children:"Mais recentes"})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ce(le.cidades,T).map(V=>o.jsx(U,{type:"button",variant:"outline",size:"sm",className:"rounded-full h-7",onClick:()=>{le.cidades.some(F=>F.toLowerCase()===V.nome.toLowerCase())||Ye({...le,cidades:[...le.cidades,V.nome]}),q("")},children:V.nome},V.id||V.nome))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Instagram"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cf,{checked:le.hasInstagram,onCheckedChange:V=>Ye({...le,hasInstagram:!!V})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Somente quem tem link"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"LTV mnimo"}),o.jsx(de,{type:"number",min:0,value:le.ltvMin,onChange:V=>Ye({...le,ltvMin:Number(V.target.value||0)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"LTV mximo"}),o.jsx(de,{type:"number",min:0,placeholder:"Sem limite",value:le.ltvMax||"",onChange:V=>Ye({...le,ltvMax:Number(V.target.value||0)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Data incio"}),o.jsx(de,{type:"date",value:le.dataInicio,onChange:V=>Ye({...le,dataInicio:V.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Data fim"}),o.jsx(de,{type:"date",value:le.dataFim,onChange:V=>Ye({...le,dataFim:V.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Tipo de indicao"}),o.jsxs(He,{value:le.tipoIndicacao,onValueChange:V=>Ye({...le,tipoIndicacao:V}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione"})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"todos",children:"Todos"}),o.jsx(Y,{value:"direto",children:"Cliente direto"}),o.jsx(Y,{value:"indicado",children:"Indicado por algum"}),o.jsx(Y,{value:"indica_outros",children:"J indicou outros"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Indicado por"}),o.jsxs(He,{value:le.indicadoPorId,onValueChange:V=>Ye({...le,indicadoPorId:V}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Todos"})}),o.jsxs(We,{className:"rounded-xl max-h-[220px]",children:[o.jsx(Y,{value:"todos",children:"Todos"}),t.map(V=>o.jsx(Y,{value:V.id,children:V.nome},V.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Projetos mnimos"}),o.jsx(de,{type:"number",min:0,value:le.projetosMin,onChange:V=>Ye({...le,projetosMin:Number(V.target.value||0)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Transaes mnimas"}),o.jsx(de,{type:"number",min:0,value:le.transacoesMin,onChange:V=>Ye({...le,transacoesMin:Number(V.target.value||0)})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(U,{variant:"ghost",className:"rounded-xl",onClick:()=>Ye({cidades:[],hasInstagram:!1,ltvMin:0,ltvMax:0,dataInicio:"",dataFim:"",tipoIndicacao:"todos",indicadoPorId:"todos",projetosMin:0,transacoesMin:0}),children:"Limpar"}),T&&o.jsx(U,{variant:"ghost",className:"rounded-xl",onClick:()=>q(""),children:"Limpar texto"}),o.jsx(U,{className:"rounded-xl",onClick:()=>{},children:"Aplicar"})]})]})]}),o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsx(U,{variant:"outline",size:"icon",className:"rounded-lg h-9",title:"Mostrar/ocultar colunas",children:o.jsx(NU,{className:"w-4 h-4"})})}),o.jsx(Io,{className:"rounded-xl w-56",children:o.jsx("div",{className:"space-y-1",children:Object.keys(pe).map(V=>o.jsxs("div",{className:"flex items-center gap-2 py-1",children:[o.jsx(cf,{id:`col-${V}`,checked:se[V],onCheckedChange:()=>Ue(V)}),o.jsx("label",{htmlFor:`col-${V}`,className:"text-sm",children:pe[V]})]},V))})})]}),o.jsxs(fr,{open:r,onOpenChange:n,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"rounded-lg gap-2 h-9 px-3",children:[o.jsx(en,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Novo Cliente"})]})}),o.jsxs(ir,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto rounded-xl",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[o.jsx(Wi,{className:"h-5 w-5"}),"Novo Cliente"]})}),o.jsxs("form",{onSubmit:Jt,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Wi,{className:"h-4 w-4"})," Informaes de Contato"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"nome",children:"Nome"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wi,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"nome",className:"rounded-xl pl-9",value:y.nome,onChange:V=>w({...y,nome:V.target.value}),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(my,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"email",type:"email",className:"rounded-xl pl-9",value:y.email,onChange:V=>w({...y,email:V.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"telefone",children:"Telefone"}),o.jsxs("div",{className:"relative",children:[o.jsx(AU,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"telefone",className:"rounded-xl pl-9",value:y.telefone,onChange:V=>w({...y,telefone:V.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"instagram",children:"Instagram (link)"}),o.jsxs("div",{className:"relative",children:[o.jsx(HT,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"instagram",placeholder:"https://instagram.com/usuario",className:"rounded-xl pl-9",value:y.instagram,onChange:V=>w({...y,instagram:V.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Yt,{className:"h-4 w-4"})," Data de Aniversrio"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_aniversario",children:"Data de Aniversrio (opcional)"}),o.jsx(Vx,{value:y.data_aniversario,onChange:V=>w({...y,data_aniversario:V}),placeholder:"dd/mm/aaaa"})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Uv,{className:"h-4 w-4"})," Localizao"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Cidades"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:$.map(V=>o.jsxs(Ge,{variant:"secondary",className:"rounded-full px-2 py-1 text-xs",children:[o.jsx("span",{children:V.nome}),o.jsx("button",{type:"button",onClick:()=>B(F=>F.filter(oe=>oe.nome!==V.nome)),className:"ml-2 text-muted-foreground hover:text-foreground","aria-label":`Remover ${V.nome}`,children:""})]},V.nome))}),o.jsx(de,{placeholder:"Digite e pressione Enter para adicionar",className:"rounded-xl",value:L,onChange:V=>E(V.target.value),onKeyDown:V=>{if(V.key==="Enter"){const F=L.trim();if(!F)return;const oe=R.find(_e=>_e.nome.toLowerCase()===F.toLowerCase());B(_e=>_e.some(Me=>Me.nome.toLowerCase()===F.toLowerCase())?_e:[..._e,oe?{id:oe.id,nome:oe.nome}:{nome:F}]),E("")}}}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"Ranking:"}),o.jsx(U,{type:"button",variant:Z==="mais_usadas"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>M("mais_usadas"),children:"Mais usadas"}),o.jsx(U,{type:"button",variant:Z==="mais_recentes"?"secondary":"ghost",size:"sm",className:"h-6 rounded-full px-2",onClick:()=>M("mais_recentes"),children:"Mais recentes"})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ce($.map(V=>V.nome),L).map(V=>o.jsx(U,{type:"button",variant:"outline",size:"sm",className:"rounded-full h-7",onClick:()=>{B(F=>F.some(oe=>oe.nome.toLowerCase()===V.nome.toLowerCase())?F:[...F,{id:V.id,nome:V.nome}]),E("")},children:V.nome},V.id||V.nome))})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Vie,{className:"h-4 w-4"})," Indicao"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"indicado_por",children:"Indicado por (opcional)"}),o.jsxs(He,{value:y.indicado_por,onValueChange:V=>w({...y,indicado_por:V}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione o cliente que indicou"})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"none",children:"Nenhum (cliente direto)"}),t.map(V=>o.jsx(Y,{value:V.id,children:V.nome},V.id))]})]})]})]}),o.jsx(U,{type:"submit",className:"w-full rounded-xl",children:"Salvar Cliente"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-muted/30 rounded-lg p-1",children:[o.jsx(U,{variant:v==="ltv"?"default":"ghost",size:"sm",className:"rounded-md h-7 px-2 text-xs",onClick:()=>b("ltv"),children:"LTV"}),o.jsx(U,{variant:v==="nome"?"default":"ghost",size:"sm",className:"rounded-md h-7 px-2 text-xs",onClick:()=>b("nome"),children:"Nome"}),o.jsx(U,{variant:v==="created_at"?"default":"ghost",size:"sm",className:"rounded-md h-7 px-2 text-xs",onClick:()=>b("created_at"),children:"Data"})]}),o.jsx(Ge,{variant:"outline",className:"rounded-md text-xs px-2 py-1 bg-background/50",children:nt.length})]})]}),o.jsx(kt,{value:"cards",className:"mt-6 animate-in fade-in-50 duration-300",children:rn.length===0?o.jsx(ne,{className:"p-12 rounded-xl",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx("p",{children:"Nenhum cliente encontrado."}),o.jsx("p",{className:"text-sm mt-1",children:'Clique em "Novo Cliente" para comear.'})]})}):o.jsx("div",{className:"space-y-4",children:rn.map(V=>{const F=m.has(V.id),oe=p[V.id]||V,Se=["ocean","sunset","forest","purple","rose"].includes(mn)?"hover:bg-muted/20":"hover:bg-muted/30";return o.jsx(ne,{className:`p-6 rounded-xl hover:shadow-lg transition-shadow cursor-pointer ${Se} transition-colors`,onDoubleClick:()=>D(V.id,V),children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"space-y-3 flex-1",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-wrap",children:[o.jsx("div",{className:"flex-1 min-w-[220px]",children:F?o.jsxs("div",{className:"space-y-2",children:[o.jsx(de,{value:oe.nome||"",onChange:Pe=>J(V.id,"nome",Pe.target.value),onKeyDown:me(V.id),className:"rounded-xl h-9"}),o.jsx(de,{type:"email",value:oe.email||"",onChange:Pe=>J(V.id,"email",Pe.target.value),onKeyDown:me(V.id),className:"rounded-xl h-9"}),o.jsx(de,{value:oe.telefone||"",onChange:Pe=>J(V.id,"telefone",Pe.target.value),onKeyDown:me(V.id),className:"rounded-xl h-9"}),o.jsx(de,{value:oe.instagram||"",onChange:Pe=>J(V.id,"instagram",Pe.target.value),onKeyDown:me(V.id),className:"rounded-xl h-9",placeholder:"Instagram (link)"}),o.jsx(de,{value:oe.cidade||"",onChange:Pe=>J(V.id,"cidade",Pe.target.value),onKeyDown:me(V.id),className:"rounded-xl h-9",placeholder:"Cidade"})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"font-semibold text-lg",children:V.nome}),o.jsx("p",{className:"text-sm text-muted-foreground",children:V.email}),o.jsx("p",{className:"text-sm text-muted-foreground",children:V.telefone})]})}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx(Ge,{variant:"outline",className:`rounded-full text-xs ${$C(V.ltv,wr)}`,children:LC(V.ltv)}),o.jsx("span",{className:"text-sm font-semibold text-success",children:ah(V.ltv)})]})]}),!F&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[V.projetos_count," projeto(s)"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[V.transacoes_count," transao(es)"]})]})})]}),o.jsx("div",{className:"flex gap-2",children:F?o.jsxs(o.Fragment,{children:[o.jsx(U,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8 text-success",onClick:()=>H(V.id),title:"Salvar",children:o.jsx(Or,{className:"w-3 h-3"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8",onClick:()=>K(V.id),title:"Cancelar",children:o.jsx(ju,{className:"w-3 h-3"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(U,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8",onClick:()=>ue(`/projetos?cliente=${V.id}`),children:o.jsx(vd,{className:"w-3 h-3"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8 text-destructive",onClick:()=>G(V.id),children:o.jsx(Jr,{className:"w-3 h-3"})})]})})]})},V.id)})})}),o.jsx(kt,{value:"grid",className:"mt-6 animate-in fade-in-50 duration-300",children:rn.length===0?o.jsx(ne,{className:"p-12 rounded-xl",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx("p",{children:"Nenhum cliente encontrado."}),o.jsx("p",{className:"text-sm mt-1",children:'Clique em "Novo Cliente" para comear.'})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:rn.map(V=>o.jsx(ne,{className:"rounded-xl hover:shadow-lg transition-shadow",children:o.jsxs(he,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:V.nome}),o.jsx(Ge,{variant:"outline",className:`rounded-full text-xs ${$C(V.ltv,wr)}`,children:LC(V.ltv)})]}),o.jsx(U,{variant:"ghost",size:"icon",className:"rounded-xl h-8 w-8 text-destructive",onClick:()=>G(V.id),children:o.jsx(Jr,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"font-medium min-w-[60px]",children:"Email:"}),o.jsx("span",{className:"text-muted-foreground truncate",children:V.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"font-medium min-w-[60px]",children:"Telefone:"}),o.jsx("span",{className:"text-muted-foreground",children:V.telefone})]})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"LTV"}),o.jsx("span",{className:"font-semibold text-primary",children:ah(V.ltv)})]}),o.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[V.projetos_count," projeto(s)"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[V.transacoes_count," transao(es)"]})]})]}),o.jsxs(U,{variant:"outline",className:"w-full rounded-xl gap-2",onClick:()=>ue(`/projetos?cliente=${V.id}`),children:[o.jsx(vd,{className:"w-4 h-4"}),"Ver Projetos"]})]})},V.id))})}),o.jsx(kt,{value:"table",className:"mt-6 animate-in fade-in-50 duration-300",children:o.jsxs("div",{className:"space-y-4",children:[s&&o.jsxs(ne,{className:"p-6 rounded-xl animate-fade-in",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Novo Cliente"}),o.jsxs("form",{onSubmit:Jt,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"table-nome",children:"Nome"}),o.jsx(de,{id:"table-nome",className:"rounded-xl",value:y.nome,onChange:V=>w({...y,nome:V.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"table-email",children:"Email"}),o.jsx(de,{id:"table-email",type:"email",className:"rounded-xl",value:y.email,onChange:V=>w({...y,email:V.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"table-telefone",children:"Telefone"}),o.jsx(de,{id:"table-telefone",className:"rounded-xl",value:y.telefone,onChange:V=>w({...y,telefone:V.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"table-instagram",children:"Instagram"}),o.jsx(de,{id:"table-instagram",placeholder:"https://instagram.com/usuario",className:"rounded-xl",value:y.instagram,onChange:V=>w({...y,instagram:V.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"table-cidade",children:"Cidade"}),o.jsx(de,{id:"table-cidade",className:"rounded-xl",value:y.cidade,onChange:V=>w({...y,cidade:V.target.value})})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs(U,{type:"submit",className:"w-full rounded-xl gap-2",children:[o.jsx(en,{className:"w-4 h-4"}),"Salvar"]})})]})]}),m.size>0&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-xl",children:[o.jsxs("p",{className:"text-sm flex-1",children:[m.size," linha(s) em edio"]}),o.jsxs(U,{size:"sm",className:"rounded-xl gap-2",onClick:ae,children:[o.jsx(GT,{className:"w-4 h-4"}),"Salvar Todas"]})]}),rn.length===0?o.jsx(ne,{className:"p-12 rounded-xl",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx("p",{children:"Nenhum cliente encontrado."}),o.jsx("p",{className:"text-sm mt-1",children:'Clique em "Adicionar Cliente" para comear.'})]})}):o.jsx(ne,{className:"rounded-xl overflow-hidden relative",ref:j,children:o.jsx("div",{className:"overflow-x-auto scroll-smooth",ref:N,children:o.jsx("div",{className:"min-w-[1600px]",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[se.nome&&o.jsx(ge,{className:"min-w-[200px]",children:"Nome"}),se.email&&o.jsx(ge,{className:"min-w-[250px]",children:"Email"}),se.telefone&&o.jsx(ge,{className:"min-w-[150px]",children:"Telefone"}),se.instagram&&o.jsx(ge,{className:"min-w-[200px]",children:"Instagram"}),se.cidade&&o.jsx(ge,{className:"min-w-[150px]",children:"Cidade"}),se.data_aniversario&&o.jsx(ge,{className:"min-w-[120px]",children:"Aniversrio"}),se.ltv&&o.jsx(ge,{className:"min-w-[150px]",children:"LTV"}),se.categoria&&o.jsx(ge,{className:"min-w-[120px]",children:"Categoria"}),se.indicado_por&&o.jsx(ge,{className:"min-w-[180px]",children:"Indicado por"}),se.indicados&&o.jsx(ge,{className:"min-w-[200px]",children:"Indicados"}),se.projetos&&o.jsx(ge,{className:"min-w-[120px]",children:"Projetos"}),se.acoes&&o.jsx(ge,{className:"text-right min-w-[190px] sticky right-0 bg-background z-10",children:"Aes"})]})}),o.jsx(is,{children:rn.map(V=>{var _e;const F=m.has(V.id),oe=p[V.id]||V;return o.jsxs(zt,{className:(F?"bg-muted/50 ":"")+`cursor-pointer ${["ocean","sunset","forest","purple","rose"].includes(mn)?"hover:bg-muted/20":"hover:bg-muted/30"} transition-colors`,onDoubleClick:()=>D(V.id,V),children:[se.nome&&o.jsx(fe,{children:F?o.jsx(de,{value:oe.nome,onChange:Me=>J(V.id,"nome",Me.target.value),onKeyDown:me(V.id),className:"rounded-xl h-8"}):o.jsx("span",{className:"font-medium",children:V.nome})}),se.email&&o.jsx(fe,{children:F?o.jsx(de,{type:"email",value:oe.email,onChange:Me=>J(V.id,"email",Me.target.value),onKeyDown:me(V.id),className:"rounded-xl h-8"}):o.jsx("span",{className:"text-muted-foreground",children:V.email})}),se.telefone&&o.jsx(fe,{children:F?o.jsx(de,{value:oe.telefone,onChange:Me=>J(V.id,"telefone",Me.target.value),onKeyDown:me(V.id),className:"rounded-xl h-8"}):o.jsx("span",{className:"text-muted-foreground",children:V.telefone})}),se.instagram&&o.jsx(fe,{children:F?o.jsx(de,{value:oe.instagram||"",onChange:Me=>J(V.id,"instagram",Me.target.value),onKeyDown:me(V.id),className:"rounded-xl h-8"}):V.instagram?o.jsx("a",{href:V.instagram,target:"_blank",rel:"noreferrer",className:"text-primary underline text-sm",children:V.instagram}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})}),se.cidade&&o.jsx(fe,{children:F?o.jsx(de,{value:oe.cidade||"",onChange:Me=>J(V.id,"cidade",Me.target.value),onKeyDown:me(V.id),className:"rounded-xl h-8"}):V.cidades&&V.cidades.length>0?o.jsx("span",{className:"text-muted-foreground",children:V.cidades.join(", ")}):V.cidade?o.jsx("span",{className:"text-muted-foreground",children:V.cidade}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})}),se.data_aniversario&&o.jsx(fe,{children:V.data_aniversario?o.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(V.data_aniversario+"T00:00:00").toLocaleDateString("pt-BR")}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})}),se.ltv&&o.jsx(fe,{children:o.jsx("div",{className:"space-y-1",children:o.jsx("span",{className:"font-semibold text-success",children:ah(V.ltv)})})}),se.categoria&&o.jsx(fe,{children:o.jsx(Ge,{variant:"outline",className:`rounded-full text-xs ${$C(V.ltv,wr)}`,children:LC(V.ltv)})}),se.indicado_por&&o.jsx(fe,{children:F?o.jsxs(He,{value:oe.indicado_por||"none",onValueChange:Me=>J(V.id,"indicado_por",Me==="none"?"":Me),children:[o.jsx(qe,{className:"rounded-xl h-8 text-xs",onKeyDown:Je(V.id),children:o.jsx(Ke,{placeholder:"Selecionar indicador"})}),o.jsxs(We,{className:"rounded-xl",onKeyDown:Je(V.id),children:[o.jsx(Y,{value:"none",children:"Nenhum (cliente direto)"}),t.filter(Me=>Me.id!==V.id).map(Me=>o.jsx(Y,{value:Me.id,children:Me.nome},Me.id))]})]}):V.indicado_por?o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:((_e=t.find(Me=>Me.id===V.indicado_por))==null?void 0:_e.nome)||"Cliente no encontrado"})}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Cliente direto"})}),se.indicados&&o.jsx(fe,{children:(()=>{const Me=t.filter(Pe=>Pe.indicado_por===V.id);if(Me.length===0)return o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Nenhum"});const Se=Me.map(Pe=>Pe.nome).join(", ");return o.jsxs("span",{className:"text-sm",title:Se,children:[Me.length," cliente(s)"]})})()}),se.projetos&&o.jsx(fe,{children:o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsxs("div",{children:[V.projetos_count," projeto(s)"]}),o.jsxs("div",{className:"text-xs",children:[V.transacoes_count," transao(es)"]})]})}),se.acoes&&o.jsx(fe,{className:"text-right sticky right-0 bg-background z-10 min-w-[190px]",children:o.jsx("div",{className:"flex gap-1 justify-end relative z-20",children:F?o.jsxs(o.Fragment,{children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl text-success hover:bg-success/10",onClick:()=>H(V.id),title:"Salvar",children:o.jsx(Or,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40",onClick:()=>K(V.id),title:"Cancelar",children:o.jsx(ju,{className:"w-4 h-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40 hover:text-foreground",onClick:()=>ue(`/projetos?cliente=${V.id}`),title:"Ver projetos",children:o.jsx(vd,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40 hover:text-foreground",onClick:()=>ue(`/clientes/${V.id}`),title:"Ver perfil",children:o.jsx(Wi,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl hover:bg-muted/40 hover:text-foreground",onClick:()=>D(V.id,V),title:"Editar",children:o.jsx(fw,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl text-destructive hover:bg-destructive/10",onClick:()=>G(V.id),title:"Deletar",children:o.jsx(Jr,{className:"w-4 h-4"})})]})})})]},V.id)})})]})})})})]})}),d==="table"&&A&&o.jsxs(o.Fragment,{children:[_&&o.jsx(U,{variant:"ghost",size:"icon",className:"fixed left-4 top-1/2 -translate-y-1/2 z-50 h-10 w-10 rounded-full bg-background/40 hover:bg-background/60 text-muted-foreground border border-border/40 shadow-lg backdrop-blur-md",onClick:()=>{var V;return(V=N.current)==null?void 0:V.scrollBy({left:-480,behavior:"smooth"})},title:"Rolar para a esquerda","aria-label":"Rolar para a esquerda",children:o.jsx(kp,{className:"w-5 h-5"})}),C&&o.jsx(U,{variant:"ghost",size:"icon",className:"fixed right-4 top-1/2 -translate-y-1/2 z-50 h-10 w-10 rounded-full bg-background/40 hover:bg-background/60 text-muted-foreground border border-border/40 shadow-lg backdrop-blur-md",onClick:()=>{var V;return(V=N.current)==null?void 0:V.scrollBy({left:480,behavior:"smooth"})},title:"Rolar para a direita","aria-label":"Rolar para a direita",children:o.jsx(Du,{className:"w-5 h-5"})})]}),o.jsx(kt,{value:"network",className:"mt-6 animate-in fade-in-50 duration-300",children:o.jsx(n9e,{clientes:t})})]})]})};function o9e(){const{id:t}=L8(),e=Uo(),{toast:r}=tn(),[n,s]=x.useState(null),[a,i]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState({totalProjetos:0,valorTotal:0,valorPago:0,projetosAtivos:0}),[f,m]=x.useState(!1),[h,p]=x.useState(0),[g,v]=x.useState([]),b=async()=>{if(n){m(!0);try{const{data:j}=await X.auth.getUser(),_=j.user;if(!_)throw new Error("Usurio no autenticado");const{data:S}=await X.storage.from("avatars").list(_.id),C=(S||[]).filter(O=>O.name.startsWith(`${n.id}.`)).map(O=>`${_.id}/${O.name}`);if(C.length>0){const{error:O}=await X.storage.from("avatars").remove(C);if(O)throw O}const{data:k,error:A}=await X.from("clientes").select("foto_url").limit(1);if(A)s({...n,foto_url:null}),r({title:"Coluna foto_url ausente",description:"Aplique a migration para refletir a remoo no banco",variant:"destructive"});else{const{error:O}=await X.from("clientes").update({foto_url:null}).eq("id",n.id);if(O)throw O;s({...n,foto_url:null})}r({title:"Foto removida",description:"A foto do cliente foi removida"})}catch(j){r({title:"Erro ao remover foto",description:(j==null?void 0:j.message)||"Falha ao remover a imagem",variant:"destructive"})}finally{m(!1)}}},y=async j=>{const _=Z=>new Promise((M,W)=>{const re=new Image;re.onload=()=>M(re),re.onerror=W,re.src=Z}),C=await(Z=>new Promise((M,W)=>{const re=new FileReader;re.onload=()=>M(re.result),re.onerror=W,re.readAsDataURL(Z)}))(j),k=await _(C),A=1024,O=1024;let P=k.width,R=k.height;const I=Math.min(1,A/P,O/R);P=Math.max(1,Math.round(P*I)),R=Math.max(1,Math.round(R*I));const $=document.createElement("canvas");$.width=P,$.height=R;const B=$.getContext("2d");if(!B)return j;B.drawImage(k,0,0,P,R);const L=Z=>new Promise(M=>$.toBlob(M,"image/jpeg",Z));let E=.9,T=await L(E);const q=2*1024*1024;for(;T&&T.size>q&&E>.4;)E-=.1,T=await L(E);return!T||T.size>=j.size&&j.size<=q?j:new File([T],`${j.name.replace(/\.[^.]+$/,"")}.jpg`,{type:"image/jpeg"})};x.useEffect(()=>{(async()=>{if(!t){r({title:"Erro",description:"ID do cliente no encontrado",variant:"destructive"}),e("/clientes");return}try{c(!0);const{data:_,error:S}=await X.from("clientes").select("*").eq("id",t).single();if(S||!_){r({title:"Cliente no encontrado",description:"O cliente solicitado no existe",variant:"destructive"}),e("/clientes");return}const{data:C,error:k}=await X.from("projetos").select("*").eq("cliente_id",t);if(k)throw k;const A=C||[],O=A.length,P=A.reduce((E,T)=>E+(T.valor_total||0),0),R=A.filter(E=>E.status==="andamento").length;let I=0;for(const E of A){const{data:T}=await X.from("projeto_sessoes").select("valor_sessao").eq("projeto_id",E.id).eq("status_pagamento","pago");I+=(T||[]).reduce((q,Z)=>q+(Z.valor_sessao||0),0)}const $=A.map(E=>({id:E.id,titulo:E.titulo,status:E.status,valor_total:E.valor_total,valor_pago:0,categoria:E.categoria,created_at:E.created_at}));let B;if(_.indicado_por){const{data:E}=await X.from("clientes").select("nome").eq("id",_.indicado_por).single();B=E==null?void 0:E.nome}s({..._,indicado_por_nome:B});const{data:L}=await X.from("clientes").select("id, nome").eq("indicado_por",t);v(L||[]);try{const{data:E}=await X.auth.getUser(),T=E.user;if(T&&!_.foto_url){const{data:q}=await X.storage.from("avatars").list(T.id),Z=(q||[]).find(M=>M.name.startsWith(`${_.id}.`));if(Z){const M=`${T.id}/${Z.name}`,{data:W}=await X.storage.from("avatars").createSignedUrl(M,60*60*24*30),re=(W==null?void 0:W.signedUrl)||null;if(re){const{data:se,error:je}=await X.from("clientes").select("foto_url").limit(1);je||await X.from("clientes").update({foto_url:re}).eq("id",_.id),s(pe=>pe&&{...pe,foto_url:re})}}}}catch{}i($),d({totalProjetos:O,valorTotal:P,valorPago:I,projetosAtivos:R})}catch(_){console.error("Erro ao carregar cliente:",_),r({title:"Erro ao carregar cliente",description:"No foi possvel carregar os dados do cliente",variant:"destructive"}),e("/clientes")}finally{c(!1)}})()},[t,e,r]);const w=j=>{switch(j){case"planejamento":return"bg-primary/10 text-primary border-primary/20";case"andamento":return"bg-primary/10 text-primary border-primary/20";case"concluido":return"bg-success/10 text-success border-success/20";case"cancelado":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}},N=j=>{switch(j){case"planejamento":return"Planejamento";case"andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return j}};return l?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando dados do cliente..."})]})}):n?o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(U,{variant:"outline",size:"icon",onClick:()=>e("/clientes"),className:"rounded-xl",children:o.jsx(gU,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:n.nome}),o.jsx("p",{className:"text-muted-foreground",children:"Detalhes do cliente"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(vd,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Projetos"}),o.jsx("p",{className:"text-2xl font-bold",children:u.totalProjetos})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(Zr,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),o.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",u.valorTotal.toLocaleString("pt-BR")]})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(Zr,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"}),o.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",u.valorPago.toLocaleString("pt-BR")]})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(vd,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Projetos Ativos"}),o.jsx("p",{className:"text-2xl font-bold",children:u.projetosAtivos})]})]})})})]}),o.jsxs(va,{defaultValue:"info",className:"space-y-4",children:[o.jsxs(Gs,{className:"rounded-2xl",children:[o.jsx(Et,{value:"info",className:"rounded-xl",children:"Informaes"}),o.jsx(Et,{value:"projetos",className:"rounded-xl",children:"Projetos"})]}),o.jsx(kt,{value:"info",className:"space-y-4",children:o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(Wi,{className:"h-5 w-5"}),"Informaes Pessoais"]})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(MP,{avatarUrl:n.foto_url||null,name:n.nome,className:"h-20 w-20"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Foto do Cliente"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Use uma imagem quadrada para melhor resultado"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(U,{variant:"outline",className:"rounded-xl gap-2",disabled:f,onClick:()=>{var j;return(j=document.getElementById("cliente-foto-upload"))==null?void 0:j.click()},children:[f?o.jsx(Qi,{className:"h-4 w-4 animate-spin"}):o.jsx(cw,{className:"h-4 w-4"}),"Adicionar foto"]}),o.jsx(U,{variant:"outline",size:"icon",className:"rounded-xl text-destructive",disabled:f||!n.foto_url,onClick:b,title:"Remover foto",children:f?o.jsx(Qi,{className:"h-4 w-4 animate-spin"}):o.jsx(Jr,{className:"h-4 w-4"})}),o.jsx(de,{id:"cliente-foto-upload",type:"file",accept:"image/*",className:"hidden",onChange:async j=>{if(!j.target.files||j.target.files.length===0||!n)return;const _=j.target.files[0];m(!0);try{const{data:S}=await X.auth.getUser(),C=S.user;if(!C)throw new Error("Usurio no autenticado");const k=await y(_),A=k.name.split(".").pop(),O=`${n.id}.${A}`,P=`${C.id}/${O}`,{error:R}=await X.storage.from("avatars").upload(P,k,{upsert:!0});if(R)throw R;const{data:I}=await X.storage.from("avatars").createSignedUrl(P,60*60*24*30),$=(I==null?void 0:I.signedUrl)||null,{data:B,error:L}=await X.from("clientes").select("foto_url").limit(1);if(L)s({...n,foto_url:$}),r({title:"Coluna foto_url ausente",description:"Aplique a migration para criar foto_url em clientes",variant:"destructive"});else{const{error:E}=await X.from("clientes").update({foto_url:$}).eq("id",n.id);if(E)throw E;s({...n,foto_url:$})}r({title:"Foto atualizada",description:"A foto do cliente foi atualizada com sucesso"})}catch(S){console.error("Erro ao enviar foto do cliente",{err:S}),r({title:"Erro ao enviar imagem",description:(S==null?void 0:S.message)||"Verifique o bucket 'avatars' no Supabase",variant:"destructive"})}finally{m(!1),p(S=>S+1)}}},h)]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nome Completo"}),o.jsx("p",{className:"text-lg",children:n.nome})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(my,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("p",{children:n.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(AU,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("p",{children:n.telefone})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Instagram"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(HT,{className:"h-4 w-4 text-muted-foreground"}),n.instagram?o.jsx("a",{href:n.instagram,target:"_blank",rel:"noreferrer",className:"text-primary underline text-sm",children:n.instagram}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No informado"})]})]}),n.documento&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),o.jsx("p",{children:n.documento})]}),n.endereco&&o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uv,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("p",{children:n.endereco})]})]}),n.indicado_por&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Indicado por"}),o.jsx("p",{children:n.indicado_por_nome||n.indicado_por})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Indicou"}),g.length===0?o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Nenhum"}):o.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(j=>o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs cursor-pointer hover:bg-muted/50",onClick:()=>e(`/clientes/${j.id}`),title:`Abrir perfil de ${j.nome}`,children:j.nome},j.id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cliente desde"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("p",{children:new Date(n.created_at).toLocaleDateString("pt-BR")})]})]})]})]})]})}),o.jsx(kt,{value:"projetos",className:"space-y-4",children:o.jsxs(ne,{className:"rounded-2xl",children:[o.jsxs(Oe,{children:[o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(vd,{className:"h-5 w-5"}),"Projetos do Cliente"]}),o.jsx(An,{children:"Histrico completo de projetos realizados"})]}),o.jsx(he,{children:a.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(vd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhum projeto encontrado"})]}):o.jsx("div",{className:"space-y-4",children:a.map(j=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"font-semibold",children:j.titulo}),o.jsx(Ge,{className:`${w(j.status)} border`,children:N(j.status)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[j.categoria&&o.jsx("span",{children:j.categoria}),j.valor_total&&o.jsxs("span",{children:["R$ ",j.valor_total.toLocaleString("pt-BR")]}),o.jsx("span",{children:new Date(j.created_at).toLocaleDateString("pt-BR")})]})]}),o.jsx(U,{variant:"outline",size:"icon",onClick:()=>e(`/projetos/${j.id}`),className:"rounded-lg",children:o.jsx(Th,{className:"h-4 w-4"})})]},j.id))})})]})})]})]}):null}function i9e(t){const[e,r,n]=t.split("-").map(Number);return new Date(e,(r||1)-1,n||1)}function l9e({open:t,onOpenChange:e,projetoId:r,clientes:n,onSuccess:s}){const{toast:a}=tn(),[i,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(""),[m,h]=x.useState(""),[p,g]=x.useState(""),[v,b]=x.useState("planejamento"),[y,w]=x.useState(""),[N,j]=x.useState(""),[_,S]=x.useState(""),[C,k]=x.useState(""),[A,O]=x.useState(""),[P,R]=x.useState(""),[I,$]=x.useState(""),[B,L]=x.useState([]),[E,T]=x.useState([]),[q,Z]=x.useState(""),[M,W]=x.useState(""),[re,se]=x.useState(""),je=le=>{if(le==="")return"";const Ye=Number(le);return isFinite(Ye)?Ye.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},pe=le=>Ye=>{const vt=Ye.target.value.replace(/\D/g,"");if(!vt){le("");return}const Jt=(parseInt(vt,10)/100).toFixed(2);le(Jt)};x.useEffect(()=>{t&&r?ce():t||Ue()},[t,r]);const Ue=()=>{f(""),h(""),g(""),b("planejamento"),w(""),j(""),S(""),k(""),O(""),R(""),$(""),L([]),T([]),Z(""),W(""),se("")},ce=async()=>{var le,Ye,vt;if(r){l(!0);try{const{data:Rt,error:Jt}=await X.from("projetos").select("*").eq("id",r).single();if(Jt)throw Jt;f(Rt.titulo),h(Rt.descricao||""),g(Rt.notas||""),b(Rt.status),w(Rt.cliente_id),j(((le=Rt.valor_total)==null?void 0:le.toString())||""),S(((Ye=Rt.valor_por_sessao)==null?void 0:Ye.toString())||""),k(((vt=Rt.quantidade_sessoes)==null?void 0:vt.toString())||""),O(Rt.data_inicio||""),R(Rt.data_fim||""),$(Rt.categoria||"");const{data:G,error:D}=await X.from("projeto_referencias").select("*").eq("projeto_id",r).order("created_at",{ascending:!1});if(D)throw D;L(G||[]);const{data:K,error:H}=await X.from("projeto_anexos").select("*").eq("projeto_id",r).order("created_at",{ascending:!1});if(H)throw H;T(K||[])}catch(Rt){a({variant:"destructive",title:"Erro ao carregar projeto",description:Rt.message})}finally{l(!1)}}},we=async()=>{if(!d||!y){a({variant:"destructive",title:"Campos obrigatrios",description:"Preencha ttulo e cliente"});return}l(!0);try{const le=(await X.auth.getUser()).data.user;if(!le)throw new Error("Usurio no autenticado");const Ye={titulo:d,descricao:m,notas:p,status:v,cliente_id:y,user_id:le.id,valor_total:N?parseFloat(N):null,valor_por_sessao:_?parseFloat(_):null,quantidade_sessoes:C?parseInt(C):null,data_inicio:A||null,data_fim:P||null,categoria:I||null};if(r){const{error:vt}=await X.from("projetos").update(Ye).eq("id",r);if(vt)throw vt}else{const{error:vt}=await X.from("projetos").insert([Ye]);if(vt)throw vt}a({title:"Sucesso",description:`Projeto ${r?"atualizado":"criado"} com sucesso`}),s(),e(!1)}catch(le){a({variant:"destructive",title:"Erro",description:le.message})}finally{l(!1)}},be=async()=>{if(!r||!q||!M){a({variant:"destructive",title:"Preencha ttulo e URL da referncia"});return}try{const le=(await X.auth.getUser()).data.user;if(!le)throw new Error("Usurio no autenticado");const{data:Ye,error:vt}=await X.from("projeto_referencias").insert([{projeto_id:r,user_id:le.id,titulo:q,url:M,descricao:re}]).select().single();if(vt)throw vt;L([Ye,...B]),Z(""),W(""),se(""),a({title:"Referncia adicionada"})}catch(le){a({variant:"destructive",title:"Erro ao adicionar referncia",description:le.message})}},ue=async le=>{try{const{error:Ye}=await X.from("projeto_referencias").delete().eq("id",le);if(Ye)throw Ye;L(B.filter(vt=>vt.id!==le)),a({title:"Referncia removida"})}catch(Ye){a({variant:"destructive",title:"Erro ao remover referncia",description:Ye.message})}},_t=async le=>{var vt;if(!r){a({variant:"destructive",title:"Salve o projeto primeiro antes de adicionar arquivos"});return}const Ye=(vt=le.target.files)==null?void 0:vt[0];if(Ye){u(!0);try{const Rt=(await X.auth.getUser()).data.user;if(!Rt)throw new Error("Usurio no autenticado");const Jt=Ye.name.split(".").pop(),G=`${Rt.id}/${r}/${Date.now()}.${Jt}`,{error:D}=await X.storage.from("project-references").upload(G,Ye);if(D)throw D;const{data:{publicUrl:K}}=X.storage.from("project-references").getPublicUrl(G),{data:H,error:J}=await X.from("projeto_anexos").insert([{projeto_id:r,user_id:Rt.id,nome:Ye.name,url:K,tipo:Ye.type,tamanho:Ye.size}]).select().single();if(J)throw J;T([H,...E]),a({title:"Arquivo enviado com sucesso"})}catch(Rt){a({variant:"destructive",title:"Erro ao enviar arquivo",description:Rt.message})}finally{u(!1),le.target.value=""}}},ht=async(le,Ye)=>{try{const vt=Ye.split("/project-references/")[1],{error:Rt}=await X.storage.from("project-references").remove([vt]);if(Rt)throw Rt;const{error:Jt}=await X.from("projeto_anexos").delete().eq("id",le);if(Jt)throw Jt;T(E.filter(G=>G.id!==le)),a({title:"Anexo removido"})}catch(vt){a({variant:"destructive",title:"Erro ao remover anexo",description:vt.message})}};return o.jsx(fr,{open:t,onOpenChange:e,children:o.jsx(ir,{className:"max-w-2xl max-h-[85vh] overflow-y-auto bg-background",children:o.jsxs("form",{onSubmit:le=>{le.preventDefault(),we()},children:[o.jsx(lr,{children:o.jsx(cr,{children:r?"Editar Projeto":"Criar Novo Projeto"})}),o.jsxs(va,{defaultValue:"info",className:"w-full",children:[o.jsxs(Gs,{className:"grid w-full grid-cols-4",children:[o.jsx(Et,{value:"info",children:"Informaes"}),o.jsx(Et,{value:"notas",children:"Notas"}),o.jsx(Et,{value:"referencias",children:"Referncias"}),o.jsx(Et,{value:"anexos",children:"Anexos"})]}),o.jsxs(kt,{value:"info",className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"titulo",className:"text-sm",children:"Ttulo do Projeto *"}),o.jsx(de,{id:"titulo",value:d,onChange:le=>f(le.target.value),placeholder:"Nome do projeto",className:"h-9"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"cliente",className:"text-sm",children:"Cliente *"}),o.jsxs(He,{value:y,onValueChange:w,children:[o.jsx(qe,{className:"h-9",children:o.jsx(Ke,{placeholder:"Selecione um cliente"})}),o.jsx(We,{children:n.map(le=>o.jsx(Y,{value:le.id,children:le.nome},le.id))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"status",className:"text-sm",children:"Status"}),o.jsxs(He,{value:v,onValueChange:b,children:[o.jsx(qe,{className:"h-9",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"planejamento",children:"Planejamento"}),o.jsx(Y,{value:"andamento",children:"Em Andamento"}),o.jsx(Y,{value:"concluido",children:"Concludo"}),o.jsx(Y,{value:"cancelado",children:"Cancelado"})]})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"categoria",className:"text-sm",children:"Categoria"}),o.jsxs(He,{value:I,onValueChange:$,children:[o.jsx(qe,{className:"h-9",children:o.jsx(Ke,{placeholder:"Selecione uma categoria"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"tatuagem",children:"Tatuagem"}),o.jsx(Y,{value:"piercing",children:"Piercing"}),o.jsx(Y,{value:"design",children:"Design"}),o.jsx(Y,{value:"consultoria",children:"Consultoria"}),o.jsx(Y,{value:"outros",children:"Outros"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"dataInicio",className:"text-sm",children:"Data de Incio"}),o.jsx(Vx,{value:A,onChange:O,placeholder:"dd/mm/aaaa"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"dataFim",className:"text-sm",children:"Data de Fim (Prevista)"}),o.jsx(Vx,{value:P,onChange:R,placeholder:"dd/mm/aaaa",minDate:A?i9e(A):void 0})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"valorPorSessao",className:"text-sm",children:"Valor/Sesso (R$)"}),o.jsx(de,{id:"valorPorSessao",type:"text",inputMode:"numeric",value:je(_),onChange:pe(S),placeholder:"R$ 0,00",className:"h-9"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"valorTotal",className:"text-sm",children:"Valor Total (R$)"}),o.jsx(de,{id:"valorTotal",type:"text",inputMode:"numeric",value:je(N),onChange:pe(j),placeholder:"R$ 0,00",className:"h-9"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"quantidadeSessoes",className:"text-sm",children:"Qtd. Sesses"}),o.jsx(de,{id:"quantidadeSessoes",type:"number",min:"1",value:C,onChange:le=>k(le.target.value),placeholder:"Ex: 5",className:"h-9"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{htmlFor:"descricao",className:"text-sm",children:"Descrio Breve"}),o.jsx(Nn,{id:"descricao",value:m,onChange:le=>h(le.target.value),placeholder:"Breve descrio do projeto",rows:2,className:"text-sm"})]})]}),o.jsx(kt,{value:"notas",className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"notas",children:"Notas Detalhadas do Projeto"}),o.jsx(Nn,{id:"notas",value:p,onChange:le=>g(le.target.value),placeholder:"Descreva as ideias, objetivos, requisitos, cronograma e qualquer informao relevante sobre o projeto...",rows:15,className:"font-mono text-sm"})]})}),o.jsxs(kt,{value:"referencias",className:"space-y-4",children:[r&&o.jsx(ne,{children:o.jsxs(he,{className:"pt-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Ttulo da Referncia"}),o.jsx(de,{value:q,onChange:le=>Z(le.target.value),placeholder:"Ex: Design inspirao"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"URL"}),o.jsx(de,{value:M,onChange:le=>W(le.target.value),placeholder:"https://...",type:"url"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Descrio (opcional)"}),o.jsx(Nn,{value:re,onChange:le=>se(le.target.value),placeholder:"O que h de interessante nesta referncia?",rows:2})]}),o.jsxs(U,{onClick:be,className:"w-full",children:[o.jsx(SU,{className:"mr-2 h-4 w-4"}),"Adicionar Referncia"]})]})}),o.jsx("div",{className:"space-y-2",children:B.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:r?"Nenhuma referncia adicionada ainda":"Salve o projeto para adicionar referncias"}):B.map(le=>o.jsx(ne,{children:o.jsx(he,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold truncate",children:le.titulo}),o.jsxs("a",{href:le.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1 mt-1",children:[le.url,o.jsx(WT,{className:"h-3 w-3"})]}),le.descricao&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:le.descricao})]}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ue(le.id),children:o.jsx(Jr,{className:"h-4 w-4"})})]})})},le.id))})]}),o.jsxs(kt,{value:"anexos",className:"space-y-4",children:[r&&o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer hover:bg-accent/50",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[o.jsx(zie,{className:"h-8 w-8 mb-2 text-muted-foreground"}),o.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:o.jsx("span",{className:"font-semibold",children:"Clique para fazer upload"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Imagens, PDFs, documentos, etc."})]}),o.jsx("input",{type:"file",className:"hidden",onChange:_t,disabled:c})]})}),o.jsx("div",{className:"space-y-2",children:E.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:r?"Nenhum anexo enviado ainda":"Salve o projeto para adicionar anexos"}):E.map(le=>o.jsx(ne,{children:o.jsx(he,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(jn,{className:"h-8 w-8 text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h4",{className:"font-semibold truncate",children:le.nome}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(le.tamanho/1024).toFixed(2)," KB"]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>window.open(le.url,"_blank"),children:o.jsx(Oh,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ht(le.id,le.url),children:o.jsx(Jr,{className:"h-4 w-4"})})]})]})})},le.id))})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx(U,{variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:i,children:i?"Salvando...":r?"Salvar":"Criar Projeto"})]})]})})})}const Ng={planejamento:"Planejamento",andamento:"Em Andamento",concluido:"Concludo",cancelado:"Cancelado"},FC={planejamento:"bg-muted text-foreground",andamento:"bg-muted text-foreground",concluido:"bg-muted text-foreground",cancelado:"bg-muted text-foreground"},BC={planejamento:jn,andamento:uw,concluido:mi,cancelado:bU};function c9e(){const[t]=ioe(),e=t.get("cliente"),[r,n]=x.useState([]),[s,a]=x.useState([]),[i,l]=x.useState(!1),[c,u]=x.useState(void 0),[d,f]=x.useState(!0),[m,h]=x.useState("cards"),[p,g]=x.useState("all"),[v,b]=x.useState("all"),[y,w]=x.useState(""),{user:N}=Fr(),{toast:j}=tn(),_=Uo(),S=async(T,q)=>{try{n(M=>M.map(W=>W.id===T?{...W,status:q}:W));const{error:Z}=await X.from("projetos").update({status:q}).eq("id",T);if(Z)throw Z;j({title:"Status atualizado",description:`Projeto movido para ${Ng[q]}`})}catch(Z){console.error("Erro ao atualizar status:",Z),j({title:"Erro ao atualizar status",description:"No foi possvel alterar o status do projeto.",variant:"destructive"}),k()}};x.useEffect(()=>{N&&(C(),k())},[N,e]);const C=async()=>{try{const{data:T,error:q}=await X.from("clientes").select("id, nome").order("nome");if(q)throw q;a(T||[])}catch(T){console.error("Erro ao buscar clientes:",T)}},k=async()=>{try{let T=X.from("projetos").select(`
          *,
          clientes (
            nome
          )
        `).order("created_at",{ascending:!1});e&&(T=T.eq("cliente_id",e));const{data:q,error:Z}=await T;if(Z)throw Z;const M=await Promise.all((q||[]).map(async W=>{const re=W.id;let se=0;try{const{data:be}=await X.from("projeto_sessoes").select("valor_sessao").eq("projeto_id",re).eq("status_pagamento","pago");se=(be||[]).reduce((ue,_t)=>ue+(_t.valor_sessao||0),0)}catch{}let je=0;try{const{count:be}=await X.from("projeto_sessoes").select("id",{count:"exact"}).eq("projeto_id",re);typeof be=="number"&&(je=be)}catch{}const pe=W.quantidade_sessoes||0;let Ue=0;pe>0&&(Ue=Math.round(je/pe*100),Ue>100&&(Ue=100));let ce=0;try{const{count:be}=await X.from("projeto_fotos").select("id",{count:"exact"}).eq("projeto_id",re);typeof be=="number"&&(ce=be)}catch{}let we=0;try{const{count:be}=await X.from("projeto_sessoes").select("id",{count:"exact"}).eq("projeto_id",re).not("feedback_cliente","is",null);typeof be=="number"&&(we=be)}catch{}return{...W,status:W.status,valor_total:W.valor_total||0,valor_pago:se||0,sessoes_total:pe,sessoes_realizadas:je,fotos_count:ce,feedback_count:we,progresso:Ue}}));n(M)}catch(T){console.error("Erro ao buscar projetos:",T),j({title:"Erro ao carregar projetos",description:"No foi possvel carregar os projetos.",variant:"destructive"})}finally{f(!1)}},A=T=>{u(T),l(!0)},O=()=>{k(),l(!1),u(void 0)},P=async T=>{try{const{error:q}=await X.from("projetos").delete().eq("id",T);if(q)throw q;j({title:"Projeto removido!",description:"O projeto foi removido com sucesso."}),k()}catch(q){console.error("Erro ao deletar projeto:",q),j({title:"Erro ao remover projeto",description:"No foi possvel remover o projeto.",variant:"destructive"})}},R=r.filter(T=>{var W;const q=p==="all"||T.status===p,Z=v==="all"||T.cliente_id===v,M=y===""||T.titulo.toLowerCase().includes(y.toLowerCase())||((W=T.clientes)==null?void 0:W.nome.toLowerCase().includes(y.toLowerCase()));return q&&Z&&M}),I={total:R.length,planejamento:R.filter(T=>T.status==="planejamento").length,andamento:R.filter(T=>T.status==="andamento").length,concluido:R.filter(T=>T.status==="concluido").length,cancelado:R.filter(T=>T.status==="cancelado").length,valorTotal:R.reduce((T,q)=>T+(q.valor_total||0),0),valorPago:R.reduce((T,q)=>T+(q.valor_pago||0),0)};if(d)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})});const $=["planejamento","andamento","concluido","cancelado"],B=T=>{var re;const q=BC[T.status]||zd,Z=FC[T.status]||"bg-muted text-foreground",M=Ng[T.status]||T.status,W=(T.valor_total||0)-(T.valor_pago||0);return o.jsxs(ne,{className:"rounded-xl hover:shadow transition-all",draggable:!0,onDragStart:se=>{se.dataTransfer.setData("text/plain",T.id),se.dataTransfer.effectAllowed="move"},children:[o.jsx(Oe,{className:"pb-2",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(q,{className:"w-4 h-4 text-muted-foreground shrink-0"}),o.jsx(Te,{className:"text-sm font-semibold truncate",children:T.titulo})]}),o.jsx(Ge,{variant:"outline",className:Z,children:M})]})}),o.jsxs(he,{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:(re=T.clientes)==null?void 0:re.nome}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),o.jsxs("span",{className:"font-medium",children:[T.progresso,"%"]})]}),o.jsx(fu,{value:T.progresso,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",(T.valor_pago||0).toLocaleString()]}),o.jsxs("div",{className:"text-muted-foreground",children:["de R$ ",(T.valor_total||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",W.toLocaleString()]}),o.jsx("div",{className:"text-muted-foreground",children:"pendente"})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>_(`/projetos/${T.id}`),title:"Abrir",children:o.jsx(Th,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>A(T.id),title:"Editar",children:o.jsx(yi,{className:"w-4 h-4"})})]})]})]},T.id)},L=T=>{const q=R.filter(Z=>Z.status===T);return o.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 flex flex-col gap-3 min-h-[300px]",onDragOver:Z=>Z.preventDefault(),onDrop:Z=>{Z.preventDefault();const M=Z.dataTransfer.getData("text/plain");M&&S(M,T)},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[T==="planejamento"&&o.jsx(jn,{className:"w-4 h-4 text-muted-foreground"}),T==="andamento"&&o.jsx(uw,{className:"w-4 h-4 text-muted-foreground"}),T==="concluido"&&o.jsx(mi,{className:"w-4 h-4 text-muted-foreground"}),T==="cancelado"&&o.jsx(bU,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:Ng[T]})]}),o.jsx(Ge,{variant:"outline",className:"text-xs",children:q.length})]}),q.length===0?o.jsx("div",{className:"text-xs text-muted-foreground py-8 text-center border border-dashed rounded-lg",children:"Arraste projetos para c"}):o.jsx("div",{className:"flex flex-col gap-3",children:q.map(B)})]},T)},E=T=>{var re;const q=BC[T.status]||zd,Z=FC[T.status]||"bg-muted text-foreground",M=Ng[T.status]||T.status,W=(T.valor_total||0)-(T.valor_pago||0);return o.jsxs(ne,{className:"rounded-xl hover:shadow-lg transition-all duration-300 group",children:[o.jsx(Oe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(q,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(Te,{className:"text-lg line-clamp-1",children:T.titulo})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ge,{variant:"outline",className:Z,children:M}),o.jsx("span",{className:"text-sm text-muted-foreground",children:(re=T.clientes)==null?void 0:re.nome})]})]}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",onClick:()=>_(`/projetos/${T.id}`),children:o.jsx(Th,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",onClick:()=>A(T.id),children:o.jsx(yi,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg text-destructive",onClick:()=>P(T.id),children:o.jsx(Jr,{className:"w-4 h-4"})})]})]})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),o.jsxs("span",{className:"font-medium",children:[T.progresso,"%"]})]}),o.jsx(fu,{value:T.progresso,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zr,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Financeiro"})]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",(T.valor_pago||0).toLocaleString()]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["de R$ ",(T.valor_total||0).toLocaleString()]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yt,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Sesses"})]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"font-medium",children:[T.sessoes_realizadas,"/",T.sessoes_total]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"realizadas"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cw,{className:"w-3 h-3"}),o.jsxs("span",{children:[T.fotos_count," fotos"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Jg,{className:"w-3 h-3"}),o.jsxs("span",{children:[T.feedback_count," feedbacks"]})]})]}),W>0&&o.jsxs("div",{className:"text-foreground font-medium",children:["R$ ",W.toLocaleString()," pendente"]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(U,{variant:"outline",size:"sm",className:"flex-1 rounded-lg",onClick:()=>_(`/agendamentos?projeto=${T.id}`),children:[o.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Agendar"]}),o.jsxs(U,{variant:"outline",size:"sm",className:"flex-1 rounded-lg",onClick:()=>_(`/projetos/${T.id}`),children:[o.jsx(Th,{className:"w-3 h-3 mr-1"}),"Detalhes"]})]})]})]},T.id)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projetos"}),o.jsx("p",{className:"text-muted-foreground",children:"Gerencie os projetos dos seus clientes"})]}),o.jsxs(fr,{open:i,onOpenChange:l,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{onClick:()=>A(),className:"gap-2 rounded-xl",children:[o.jsx(en,{className:"w-4 h-4"}),"Novo Projeto"]})}),o.jsxs(ir,{className:"max-w-2xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:c?"Editar Projeto":"Novo Projeto"})}),o.jsx(l9e,{open:i,onOpenChange:l,projetoId:c,clientes:s,onSuccess:O})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:o.jsx(jn,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Projetos"}),o.jsx("p",{className:"text-2xl font-bold",children:I.total})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:o.jsx(uw,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Em Andamento"}),o.jsx("p",{className:"text-2xl font-bold",children:I.andamento})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:o.jsx(mi,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Concludos"}),o.jsx("p",{className:"text-2xl font-bold",children:I.concluido})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:o.jsx(Zr,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),o.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",I.valorTotal.toLocaleString()]})]})]})})}),o.jsx(ne,{className:"rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:o.jsx(he,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:o.jsx(_n,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"}),o.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",I.valorPago.toLocaleString()]})]})]})})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar projetos...",className:"pl-10 rounded-lg",value:y,onChange:T=>w(T.target.value)})]}),o.jsxs(He,{value:p,onValueChange:T=>g(T),children:[o.jsx(qe,{className:"w-full sm:w-48 rounded-lg",children:o.jsx(Ke,{placeholder:"Status"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"all",children:"Todos os Status"}),o.jsx(Y,{value:"planejamento",children:"Planejamento"}),o.jsx(Y,{value:"andamento",children:"Em Andamento"}),o.jsx(Y,{value:"concluido",children:"Concludo"}),o.jsx(Y,{value:"cancelado",children:"Cancelado"})]})]}),o.jsxs(He,{value:v,onValueChange:b,children:[o.jsx(qe,{className:"w-full sm:w-48 rounded-lg",children:o.jsx(Ke,{placeholder:"Cliente"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"all",children:"Todos os Clientes"}),s.map(T=>o.jsx(Y,{value:T.id,children:T.nome},T.id))]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:m==="cards"?"default":"outline",size:"icon",className:"rounded-lg",onClick:()=>h("cards"),children:o.jsx(KT,{className:"w-4 h-4"})}),o.jsx(U,{variant:m==="table"?"default":"outline",size:"icon",className:"rounded-lg",onClick:()=>h("table"),children:o.jsx(YT,{className:"w-4 h-4"})}),o.jsx(U,{variant:m==="kanban"?"default":"outline",size:"icon",className:"rounded-lg",onClick:()=>h("kanban"),children:o.jsx(Z1,{className:"w-4 h-4 rotate-90"})})]})]}),R.length===0?o.jsx(ne,{className:"rounded-xl",children:o.jsxs(he,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(jn,{className:"w-12 h-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:"Nenhum projeto encontrado"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:y||p!=="all"||v!=="all"?"Tente ajustar os filtros ou criar um novo projeto":"Comece criando seu primeiro projeto"}),o.jsxs(U,{onClick:()=>A(),className:"gap-2",children:[o.jsx(en,{className:"w-4 h-4"}),"Novo Projeto"]})]})}):m==="cards"?o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:R.map(E)}):m==="kanban"?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:$.filter(T=>p==="all"?!0:T===p).map(L)}):o.jsx(ne,{className:"rounded-xl",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Projeto"}),o.jsx(ge,{children:"Cliente"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Progresso"}),o.jsx(ge,{children:"Valor"}),o.jsx(ge,{children:"Sesses"}),o.jsx(ge,{children:"Documentao"}),o.jsx(ge,{className:"text-right",children:"Aes"})]})}),o.jsx(is,{children:R.map(T=>{var W;const q=BC[T.status]||zd,Z=FC[T.status]||"bg-muted text-foreground",M=Ng[T.status]||T.status;return o.jsxs(zt,{children:[o.jsx(fe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(q,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:T.titulo}),o.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:T.descricao})]})]})}),o.jsx(fe,{children:(W=T.clientes)==null?void 0:W.nome}),o.jsx(fe,{children:o.jsx(Ge,{variant:"outline",className:Z,children:M})}),o.jsx(fe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fu,{value:T.progresso,className:"h-2 w-16"}),o.jsxs("span",{className:"text-sm",children:[T.progresso,"%"]})]})}),o.jsx(fe,{children:o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"font-medium text-foreground",children:["R$ ",(T.valor_pago||0).toLocaleString()]}),o.jsxs("div",{className:"text-muted-foreground",children:["de R$ ",(T.valor_total||0).toLocaleString()]})]})}),o.jsx(fe,{children:o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{children:[T.sessoes_realizadas,"/",T.sessoes_total]}),o.jsx("div",{className:"text-muted-foreground",children:"realizadas"})]})}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cw,{className:"w-3 h-3"}),T.fotos_count]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Jg,{className:"w-3 h-3"}),T.feedback_count]})]})}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(`/projetos/${T.id}`),children:o.jsx(Th,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>A(T.id),children:o.jsx(yi,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>P(T.id),children:o.jsx(Jr,{className:"w-4 h-4"})})]})})]},T.id)})})]})})})]})}var xJ="AlertDialog",[u9e]=Ms(xJ,[IH]),dc=IH(),yJ=t=>{const{__scopeAlertDialog:e,...r}=t,n=dc(e);return o.jsx(FP,{...n,...r,modal:!0})};yJ.displayName=xJ;var d9e="AlertDialogTrigger",bJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=dc(r);return o.jsx(JH,{...s,...n,ref:e})});bJ.displayName=d9e;var f9e="AlertDialogPortal",wJ=t=>{const{__scopeAlertDialog:e,...r}=t,n=dc(e);return o.jsx(BP,{...n,...r})};wJ.displayName=f9e;var h9e="AlertDialogOverlay",jJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=dc(r);return o.jsx(EN,{...s,...n,ref:e})});jJ.displayName=h9e;var Zh="AlertDialogContent",[m9e,p9e]=u9e(Zh),g9e=q8("AlertDialogContent"),NJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,a=dc(r),i=x.useRef(null),l=Ot(e,i),c=x.useRef(null);return o.jsx(Xge,{contentName:Zh,titleName:_J,docsSlug:"alert-dialog",children:o.jsx(m9e,{scope:r,cancelRef:c,children:o.jsxs(kN,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ee(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(g9e,{children:n}),o.jsx(x9e,{contentRef:i})]})})})});NJ.displayName=Zh;var _J="AlertDialogTitle",SJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=dc(r);return o.jsx(zP,{...s,...n,ref:e})});SJ.displayName=_J;var CJ="AlertDialogDescription",EJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=dc(r);return o.jsx(VP,{...s,...n,ref:e})});EJ.displayName=CJ;var v9e="AlertDialogAction",kJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=dc(r);return o.jsx(UP,{...s,...n,ref:e})});kJ.displayName=v9e;var AJ="AlertDialogCancel",OJ=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=p9e(AJ,r),a=dc(r),i=Ot(e,s);return o.jsx(UP,{...a,...n,ref:i})});OJ.displayName=AJ;var x9e=({contentRef:t})=>{const e=`\`${Zh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zh}\` by passing a \`${CJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},y9e=yJ,b9e=bJ,w9e=wJ,TJ=jJ,PJ=NJ,MJ=kJ,RJ=OJ,DJ=SJ,IJ=EJ;const Ux=y9e,nO=b9e,j9e=w9e,$J=x.forwardRef(({className:t,...e},r)=>o.jsx(TJ,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));$J.displayName=TJ.displayName;const ip=x.forwardRef(({className:t,...e},r)=>o.jsxs(j9e,{children:[o.jsx($J,{}),o.jsx(PJ,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ip.displayName=PJ.displayName;const lp=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",t),...e});lp.displayName="AlertDialogHeader";const cp=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});cp.displayName="AlertDialogFooter";const up=x.forwardRef(({className:t,...e},r)=>o.jsx(DJ,{ref:r,className:Ne("text-lg font-semibold",t),...e}));up.displayName=DJ.displayName;const dp=x.forwardRef(({className:t,...e},r)=>o.jsx(IJ,{ref:r,className:Ne("text-sm text-muted-foreground",t),...e}));dp.displayName=IJ.displayName;const fp=x.forwardRef(({className:t,...e},r)=>o.jsx(MJ,{ref:r,className:Ne(tx(),t),...e}));fp.displayName=MJ.displayName;const hp=x.forwardRef(({className:t,...e},r)=>o.jsx(RJ,{ref:r,className:Ne(tx({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));hp.displayName=RJ.displayName;function N9e({projetoId:t,onFeedbackUpdate:e}){const{toast:r}=tn(),[n,s]=x.useState([]),[a,i]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,m]=x.useState({sessao_id:"",feedback_cliente:"",observacoes_tecnicas:"",avaliacao:5});x.useEffect(()=>{h()},[t]);const h=async()=>{try{i(!0);const{data:j,error:_}=await X.from("projeto_sessoes").select("*").eq("projeto_id",t).order("data_sessao",{ascending:!0});if(_)throw _;s(j||[])}catch(j){console.error("Erro ao carregar sesses:",j),r({title:"Erro",description:"No foi possvel carregar as sesses",variant:"destructive"})}finally{i(!1)}},p=()=>{d(null),m({sessao_id:"",feedback_cliente:"",observacoes_tecnicas:"",avaliacao:5}),c(!0)},g=j=>{d(j),m({sessao_id:j.id,feedback_cliente:j.feedback_cliente||"",observacoes_tecnicas:j.observacoes_tecnicas||"",avaliacao:j.avaliacao||5}),c(!0)},v=async()=>{if(!f.sessao_id){r({title:"Erro",description:"Selecione uma sesso",variant:"destructive"});return}try{i(!0);const{error:j}=await X.from("projeto_sessoes").update({feedback_cliente:f.feedback_cliente.trim()||null,observacoes_tecnicas:f.observacoes_tecnicas.trim()||null,avaliacao:f.avaliacao}).eq("id",f.sessao_id);if(j)throw j;r({title:"Sucesso",description:u?"Feedback atualizado com sucesso!":"Feedback criado com sucesso!"}),c(!1),await h(),e==null||e()}catch(j){console.error("Erro ao salvar feedback:",j),r({title:"Erro",description:"No foi possvel salvar o feedback",variant:"destructive"})}finally{i(!1)}},b=async j=>{if(confirm("Tem certeza que deseja remover este feedback?"))try{i(!0);const{error:_}=await X.from("projeto_sessoes").update({feedback_cliente:null,observacoes_tecnicas:null,avaliacao:null}).eq("id",j);if(_)throw _;r({title:"Sucesso",description:"Feedback removido com sucesso!"}),await h(),e==null||e()}catch(_){console.error("Erro ao remover feedback:",_),r({title:"Erro",description:"No foi possvel remover o feedback",variant:"destructive"})}finally{i(!1)}},y=()=>n,w=j=>{switch(j){case"pago":return"bg-green-500/10 text-green-500 border-green-500/20";case"pendente":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"cancelado":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},N=j=>o.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(_=>o.jsx(Zg,{className:`w-4 h-4 ${_<=j?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},_))});return a&&n.length===0?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando sesses..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Gerenciar Feedbacks"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione, edite ou remova feedbacks das sesses"})]}),o.jsxs(fr,{open:l,onOpenChange:c,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{onClick:p,className:"rounded-xl",children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),"Novo Feedback"]})}),o.jsxs(ir,{className:"max-w-2xl",children:[o.jsxs(lr,{children:[o.jsx(cr,{children:u?"Editar Feedback":"Novo Feedback"}),o.jsx(ky,{children:u?"Edite o feedback e avaliao da sesso":"Adicione feedback e avaliao para uma sesso"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"sessao",children:"Sesso"}),o.jsxs(He,{value:f.sessao_id,onValueChange:j=>m(_=>({..._,sessao_id:j})),disabled:!!u,children:[o.jsx(qe,{children:o.jsx(Ke,{placeholder:"Selecione uma sesso"})}),o.jsx(We,{children:y().map((j,_)=>o.jsx(Y,{value:j.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{children:["Sesso ",_+1]}),o.jsxs("span",{className:"text-muted-foreground",children:["- ",new Date(j.data_sessao).toLocaleDateString("pt-BR")]}),o.jsx(Ge,{className:`${w(j.status_pagamento)} border text-xs`,children:j.status_pagamento})]})},j.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"avaliacao",children:"Avaliao"}),o.jsxs(He,{value:f.avaliacao.toString(),onValueChange:j=>m(_=>({..._,avaliacao:parseInt(j)})),children:[o.jsx(qe,{children:o.jsx(Ke,{})}),o.jsx(We,{children:[5,4,3,2,1].map(j=>o.jsx(Y,{value:j.toString(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[N(j),o.jsxs("span",{children:[j," estrela",j!==1?"s":""]})]})},j))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"feedback_cliente",children:"Feedback do Cliente"}),o.jsx(Nn,{id:"feedback_cliente",placeholder:"Digite o feedback do cliente...",value:f.feedback_cliente,onChange:j=>m(_=>({..._,feedback_cliente:j.target.value})),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"observacoes_tecnicas",children:"Observaes Tcnicas"}),o.jsx(Nn,{id:"observacoes_tecnicas",placeholder:"Digite as observaes tcnicas...",value:f.observacoes_tecnicas,onChange:j=>m(_=>({..._,observacoes_tecnicas:j.target.value})),rows:3})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsxs(U,{onClick:v,disabled:a,className:"flex-1",children:[o.jsx(GT,{className:"w-4 h-4 mr-2"}),u?"Atualizar":"Salvar"]}),o.jsxs(U,{variant:"outline",onClick:()=>c(!1),disabled:a,children:[o.jsx(ju,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:n.length===0?o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Jg,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhuma sesso encontrada"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Crie sesses para o projeto para poder adicionar feedbacks"})]})})}):n.map((j,_)=>o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("h4",{className:"font-semibold",children:["Sesso ",_+1]}),o.jsx(Ge,{className:`${w(j.status_pagamento)} border`,children:j.status_pagamento}),j.avaliacao&&o.jsxs("div",{className:"flex items-center gap-1",children:[N(j.avaliacao),o.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",j.avaliacao,"/5)"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yt,{className:"w-4 h-4"}),new Date(j.data_sessao).toLocaleDateString("pt-BR")]}),j.valor_sessao&&o.jsxs("span",{children:["R$ ",j.valor_sessao.toLocaleString("pt-BR")]})]}),j.feedback_cliente&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Jg,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"font-medium text-blue-900 text-sm",children:"Feedback do Cliente"})]}),o.jsx("p",{className:"text-blue-800 text-sm",children:j.feedback_cliente})]}),j.observacoes_tecnicas&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(jn,{className:"w-4 h-4 text-gray-600"}),o.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Observaes Tcnicas"})]}),o.jsx("p",{className:"text-gray-800 text-sm",children:j.observacoes_tecnicas})]}),!j.feedback_cliente&&!j.observacoes_tecnicas&&!j.avaliacao&&o.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-gray-200 rounded-lg",children:[o.jsx(Jg,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum feedback registrado"})]})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(U,{variant:"outline",size:"icon",onClick:()=>g(j),className:"rounded-lg",children:o.jsx(yi,{className:"w-4 h-4"})}),(j.feedback_cliente||j.observacoes_tecnicas||j.avaliacao)&&o.jsx(U,{variant:"outline",size:"icon",onClick:()=>b(j.id),className:"rounded-lg text-red-600 hover:text-red-700",children:o.jsx(Jr,{className:"w-4 h-4"})})]})]})})},j.id))})]})}var RR="ContextMenu",[_9e]=Ms(RR,[bN]),xa=bN(),[S9e,LJ]=_9e(RR),FJ=t=>{const{__scopeContextMenu:e,children:r,onOpenChange:n,dir:s,modal:a=!0}=t,[i,l]=x.useState(!1),c=xa(e),u=ln(n),d=x.useCallback(f=>{l(f),u(f)},[u]);return o.jsx(S9e,{scope:e,open:i,onOpenChange:d,modal:a,children:o.jsx(EW,{...c,dir:s,open:i,onOpenChange:d,modal:a,children:r})})};FJ.displayName=RR;var BJ="ContextMenuTrigger",zJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,disabled:n=!1,...s}=t,a=LJ(BJ,r),i=xa(r),l=x.useRef({x:0,y:0}),c=x.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=x.useRef(0),d=x.useCallback(()=>window.clearTimeout(u.current),[]),f=m=>{l.current={x:m.clientX,y:m.clientY},a.onOpenChange(!0)};return x.useEffect(()=>d,[d]),x.useEffect(()=>void(n&&d()),[n,d]),o.jsxs(o.Fragment,{children:[o.jsx(kW,{...i,virtualRef:c}),o.jsx(ct.span,{"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,...s,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:n?t.onContextMenu:Ee(t.onContextMenu,m=>{d(),f(m),m.preventDefault()}),onPointerDown:n?t.onPointerDown:Ee(t.onPointerDown,Y0(m=>{d(),u.current=window.setTimeout(()=>f(m),700)})),onPointerMove:n?t.onPointerMove:Ee(t.onPointerMove,Y0(d)),onPointerCancel:n?t.onPointerCancel:Ee(t.onPointerCancel,Y0(d)),onPointerUp:n?t.onPointerUp:Ee(t.onPointerUp,Y0(d))})]})});zJ.displayName=BJ;var C9e="ContextMenuPortal",VJ=t=>{const{__scopeContextMenu:e,...r}=t,n=xa(e);return o.jsx(AW,{...n,...r})};VJ.displayName=C9e;var UJ="ContextMenuContent",qJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=LJ(UJ,r),a=xa(r),i=x.useRef(!1);return o.jsx(OW,{...a,...n,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=t.onCloseAutoFocus)==null||c.call(t,l),!l.defaultPrevented&&i.current&&l.preventDefault(),i.current=!1},onInteractOutside:l=>{var c;(c=t.onInteractOutside)==null||c.call(t,l),!l.defaultPrevented&&!s.modal&&(i.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qJ.displayName=UJ;var E9e="ContextMenuGroup",k9e=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(TW,{...s,...n,ref:e})});k9e.displayName=E9e;var A9e="ContextMenuLabel",WJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(PW,{...s,...n,ref:e})});WJ.displayName=A9e;var O9e="ContextMenuItem",HJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(MW,{...s,...n,ref:e})});HJ.displayName=O9e;var T9e="ContextMenuCheckboxItem",KJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(RW,{...s,...n,ref:e})});KJ.displayName=T9e;var P9e="ContextMenuRadioGroup",M9e=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(DW,{...s,...n,ref:e})});M9e.displayName=P9e;var R9e="ContextMenuRadioItem",GJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(IW,{...s,...n,ref:e})});GJ.displayName=R9e;var D9e="ContextMenuItemIndicator",YJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx($W,{...s,...n,ref:e})});YJ.displayName=D9e;var I9e="ContextMenuSeparator",XJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(LW,{...s,...n,ref:e})});XJ.displayName=I9e;var $9e="ContextMenuArrow",L9e=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(FW,{...s,...n,ref:e})});L9e.displayName=$9e;var F9e="ContextMenuSubTrigger",QJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(BW,{...s,...n,ref:e})});QJ.displayName=F9e;var B9e="ContextMenuSubContent",JJ=x.forwardRef((t,e)=>{const{__scopeContextMenu:r,...n}=t,s=xa(r);return o.jsx(zW,{...s,...n,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JJ.displayName=B9e;function Y0(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var z9e=FJ,V9e=zJ,U9e=VJ,ZJ=qJ,eZ=WJ,tZ=HJ,rZ=KJ,nZ=GJ,sZ=YJ,aZ=XJ,oZ=QJ,iZ=JJ;const lZ=z9e,cZ=V9e,q9e=x.forwardRef(({className:t,inset:e,children:r,...n},s)=>o.jsxs(oZ,{ref:s,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n,children:[r,o.jsx(Du,{className:"ml-auto h-4 w-4"})]}));q9e.displayName=oZ.displayName;const W9e=x.forwardRef(({className:t,...e},r)=>o.jsx(iZ,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));W9e.displayName=iZ.displayName;const DR=x.forwardRef(({className:t,...e},r)=>o.jsx(U9e,{children:o.jsx(ZJ,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e})}));DR.displayName=ZJ.displayName;const qx=x.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(tZ,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));qx.displayName=tZ.displayName;const H9e=x.forwardRef(({className:t,children:e,checked:r,...n},s)=>o.jsxs(rZ,{ref:s,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(sZ,{children:o.jsx(Or,{className:"h-4 w-4"})})}),e]}));H9e.displayName=rZ.displayName;const K9e=x.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(nZ,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(sZ,{children:o.jsx(wU,{className:"h-2 w-2 fill-current"})})}),e]}));K9e.displayName=nZ.displayName;const G9e=x.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(eZ,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",t),...r}));G9e.displayName=eZ.displayName;const IR=x.forwardRef(({className:t,...e},r)=>o.jsx(aZ,{ref:r,className:Ne("-mx-1 my-1 h-px bg-border",t),...e}));IR.displayName=aZ.displayName;function Y9e(){const{id:t}=L8(),e=Uo(),{toast:r}=tn(),[n,s]=x.useState(null),[a,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,m]=x.useState(!1),[h,p]=x.useState(!1),[g,v]=x.useState(null),[b,y]=x.useState(null),[w,N]=x.useState(!1),[j,_]=x.useState({titulo:"",descricao:"",data:"",hora:"",status:"agendado"}),[S,C]=x.useState(null),[k,A]=x.useState(!1),[O,P]=x.useState({data:"",valor:0,descricao:"",status:"agendada"}),[R,I]=x.useState(!1),[$,B]=x.useState({data:"",valor:0,descricao:"",status:"concluida"}),L=H=>{const[J,ae,me]=(H||"").split("-").map(Number);return new Date(J||1970,(ae||1)-1,me||1,12)},E=H=>{C(H),P({data:H.data||"",valor:H.valor||0,descricao:H.descricao||"",status:H.status||"agendada"}),A(!0)},T=H=>{switch(H){case"concluida":return"pago";case"cancelada":return"cancelado";default:return"pendente"}},q=H=>H?H.replace(/^Local:\s*/i,"Estdio: "):"",Z=H=>{const J=l.find(me=>me.id===(H.agendamento_id||"")),ae=(J==null?void 0:J.descricao)||H.descricao||"";return q(ae)},M=async()=>{if(S)try{const{error:H}=await X.from("projeto_sessoes").update({data_sessao:O.data,valor_sessao:O.valor,observacoes_tecnicas:O.descricao,status_pagamento:T(O.status)}).eq("id",S.id);if(H)throw H;if(i(J=>J.map(ae=>ae.id===S.id?{...ae,data:O.data,valor:O.valor,descricao:O.descricao,status:O.status}:ae)),A(!1),C(null),r({title:"Sesso atualizada",description:"As alteraes foram salvas."}),n){const J=a.filter(me=>me.status==="concluida").length,ae=n.quantidade_sessoes||a.length||0;await re(J,ae)}}catch(H){console.error("Erro ao salvar edio da sesso:",H),r({title:"Erro ao salvar sesso",description:String(H),variant:"destructive"})}},W=async()=>{try{const{data:H,error:J}=await X.from("projeto_sessoes").select("id").eq("projeto_id",t);if(J)throw J;const ae=((H==null?void 0:H.length)||0)+1,{error:me}=await X.from("projeto_sessoes").insert({projeto_id:t,agendamento_id:null,numero_sessao:ae,data_sessao:$.data,valor_sessao:$.valor,status_pagamento:T($.status),metodo_pagamento:null,observacoes_tecnicas:$.descricao||null});if(me)throw me;if(i(Je=>[...Je,{id:crypto.randomUUID(),data:$.data,duracao:120,descricao:$.descricao,valor:$.valor,status:$.status,numero_sessao:ae}]),I(!1),B({data:"",valor:0,descricao:"",status:"concluida"}),r({title:"Sesso registrada",description:"Sesso adicionada ao histrico."}),n){const Je=[...a,{status:$.status}].filter(Zt=>Zt.status==="concluida").length,nt=n.quantidade_sessoes||a.length+1||0;await re(Je,nt)}}catch(H){r({title:"Erro ao registrar sesso",description:String(H),variant:"destructive"})}},re=async(H,J)=>{if(!t||J===0)return;const ae=H/J*100;let me;ae===0?me="planejamento":ae>=100?me="concluido":me="andamento";const{error:Je}=await X.from("projetos").update({status:me}).eq("id",t);if(Je){console.error("Erro ao atualizar status do projeto:",Je);return}s(nt=>nt?{...nt,status:me}:null)},[se,je]=x.useState(!1),[pe,Ue]=x.useState(null),ce=H=>{Ue(H),je(!0)},we=async()=>{if(pe)try{const{error:H}=await X.from("projeto_sessoes").delete().eq("id",pe.id);if(H)throw H;if(i(J=>J.filter(ae=>ae.id!==pe.id)),je(!1),Ue(null),r({title:"Sesso excluda",description:"O histrico foi removido."}),n){const J=a.filter(me=>me.id!==pe.id&&me.status==="concluida").length,ae=n.quantidade_sessoes||a.length-1||0;await re(J,ae)}}catch(H){console.error("Erro ao excluir sesso:",H),r({title:"Erro ao excluir",description:String(H),variant:"destructive"})}},be=H=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(H),ue=async()=>{if(t)try{const{data:H,error:J}=await X.from("projeto_sessoes").select("*").eq("projeto_id",t).order("data_sessao",{ascending:!0});if(J)throw J;const ae=(H||[]).map((me,Je)=>{const nt=new Date().toLocaleDateString("en-CA"),Zt=me.data_sessao<=nt,wr=me.status_pagamento==="pago"||me.status_pagamento==="pendente"&&Zt;return{id:me.id,data:me.data_sessao,duracao:120,descricao:me.observacoes_tecnicas||`Sesso ${me.numero_sessao}`,valor:me.valor_sessao||0,status:me.status_pagamento==="cancelado"?"cancelada":wr?"concluida":"agendada",feedback_cliente:me.feedback_cliente,observacoes_tecnicas:me.observacoes_tecnicas,avaliacao:me.avaliacao,agendamento_id:me.agendamento_id||null,numero_sessao:Je+1}});i(ae)}catch(H){console.error("Erro ao carregar sesses:",H)}},_t=async()=>{if(t)try{const{data:H,error:J}=await X.from("agendamentos").select("*").eq("projeto_id",t).order("data",{ascending:!0}).order("hora",{ascending:!0});if(J)throw J;const ae=(H||[]).map(me=>({id:me.id,titulo:me.titulo||"Agendamento",data:me.data,hora:typeof me.hora=="string"?me.hora.slice(0,5):"",status:me.status||"agendado",descricao:me.descricao||""}));c(ae)}catch(H){console.error("Erro ao carregar agendamentos:",H)}},ht=async()=>{if(b)try{if(be(b.id)){const{error:H}=await X.from("agendamentos").update({titulo:j.titulo,descricao:j.descricao,data:j.data,hora:j.hora,status:j.status}).eq("id",b.id);if(H)throw H}c(H=>H.map(J=>J.id===b.id?{...J,titulo:j.titulo,descricao:j.descricao,data:j.data,hora:j.hora,status:j.status}:J)),N(!1),y(null)}catch(H){console.error("Erro ao salvar edio do agendamento:",H)}};x.useEffect(()=>{(async()=>{if(!t){r({title:"Erro",description:"ID do projeto no encontrado",variant:"destructive"}),e("/projetos");return}try{d(!0);const{data:J,error:ae}=await X.from("projetos").select("*").eq("id",t).single();if(ae||!J){r({title:"Projeto no encontrado",description:"O projeto solicitado no existe",variant:"destructive"}),e("/projetos");return}const{data:me}=await X.from("clientes").select("*").eq("id",J.cliente_id).single(),{data:Je}=await X.from("projeto_sessoes").select("valor_sessao").eq("projeto_id",t).eq("status_pagamento","pago"),nt=(Je||[]).reduce((wr,Cn)=>wr+(Cn.valor_sessao||0),0),Zt={id:J.id,titulo:J.titulo,descricao:J.descricao||"",cliente_nome:(me==null?void 0:me.nome)||"Cliente no encontrado",cliente_id:J.cliente_id,status:J.status,data_inicio:J.data_inicio||"",data_fim:J.data_fim||void 0,valor_total:J.valor_total||0,valor_pago:nt,categoria:J.categoria||"",prioridade:"media",observacoes:J.notas||"",quantidade_sessoes:J.quantidade_sessoes||0};s(Zt),await ue(),await _t()}catch(J){console.error("Erro ao carregar projeto:",J),r({title:"Erro ao carregar projeto",description:"No foi possvel carregar os dados do projeto",variant:"destructive"}),e("/projetos")}finally{d(!1)}})()},[t]);const le=H=>{switch(H){case"planejamento":return"bg-primary/10 text-primary border-primary/20";case"em_andamento":return"bg-primary/10 text-primary border-primary/20";case"pausado":return"bg-muted/10 text-muted-foreground border-muted/20";case"concluido":return"bg-success/10 text-success border-success/20";case"cancelado":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}},Ye=H=>{switch(H){case"planejamento":return"Planejamento";case"em_andamento":return"Em Andamento";case"pausado":return"Pausado";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},vt=H=>{switch(H){case"baixa":return"bg-muted/10 text-muted-foreground border-muted/20";case"media":return"bg-info/10 text-info border-info/20";case"alta":return"bg-warning/10 text-warning border-warning/20";default:return"bg-primary/10 text-primary border-primary/20"}},Rt=H=>{switch(H){case"agendada":return"bg-primary/10 text-primary border-primary/20";case"concluida":return"bg-success/10 text-success border-success/20";case"cancelada":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}};if(u)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Carregando projeto..."})]})});if(!n)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl font-semibold",children:"Projeto no encontrado"}),o.jsx(U,{onClick:()=>e("/projetos"),className:"mt-4 rounded-xl",children:"Voltar aos Projetos"})]})});const Jt=n.valor_pago/(n.valor_total||1)*100,G=a.filter(H=>H.status==="concluida").length,D=n.quantidade_sessoes||a.length||0,K=D>0?G/D*100:0;return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{e("/projetos")},className:"rounded-xl",children:o.jsx(gU,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.titulo}),o.jsxs("p",{className:"text-muted-foreground",children:["Cliente: ",n.cliente_nome]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ge,{variant:"outline",className:`rounded-xl ${le(n.status)}`,children:Ye(n.status)}),o.jsxs(Ge,{variant:"outline",className:`rounded-xl ${vt(n.prioridade)}`,children:["Prioridade ",n.prioridade]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_total.toFixed(2)]})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_pago.toFixed(2)]})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yt,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sesses"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[G,"/",D]})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ra,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(K),"%"]})]})]})})})]}),o.jsxs(va,{defaultValue:"detalhes",className:"space-y-6",children:[o.jsxs(Gs,{className:"grid w-full grid-cols-5 rounded-2xl",children:[o.jsx(Et,{value:"detalhes",className:"rounded-xl",children:"Detalhes"}),o.jsx(Et,{value:"sessoes",className:"rounded-xl",children:"Sesses"}),o.jsx(Et,{value:"feedbacks",className:"rounded-xl",children:"Feedbacks"}),o.jsx(Et,{value:"financeiro",className:"rounded-xl",children:"Financeiro"}),o.jsx(Et,{value:"galeria",className:"rounded-xl",children:"Galeria"})]}),o.jsx(kt,{value:"detalhes",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(jn,{className:"w-5 h-5"}),"Informaes do Projeto"]})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Yn,{className:"text-sm font-medium text-muted-foreground",children:"Descrio"}),o.jsx("p",{className:"mt-1",children:n.descricao})]}),o.jsxs("div",{children:[o.jsx(Yn,{className:"text-sm font-medium text-muted-foreground",children:"Categoria"}),o.jsx("p",{className:"mt-1",children:n.categoria})]}),o.jsxs("div",{children:[o.jsx(Yn,{className:"text-sm font-medium text-muted-foreground",children:"Data de Incio"}),o.jsx("p",{className:"mt-1",children:new Date(n.data_inicio).toLocaleDateString()})]}),n.data_fim&&o.jsxs("div",{children:[o.jsx(Yn,{className:"text-sm font-medium text-muted-foreground",children:"Data de Concluso"}),o.jsx("p",{className:"mt-1",children:new Date(n.data_fim).toLocaleDateString()})]})]})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(Wi,{className:"w-5 h-5"}),"Informaes do Cliente"]})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Yn,{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),o.jsx("p",{className:"mt-1",children:n.cliente_nome})]}),o.jsxs("div",{children:[o.jsx(Yn,{className:"text-sm font-medium text-muted-foreground",children:"Observaes"}),o.jsx("p",{className:"mt-1",children:n.observacoes})]}),o.jsx(U,{variant:"outline",onClick:()=>{e(`/clientes/${n.cliente_id}`)},className:"w-full rounded-xl",children:"Ver Perfil do Cliente"})]})]})]})}),o.jsx(kt,{value:"sessoes",className:"space-y-6",children:o.jsxs(ne,{className:"rounded-2xl",children:[o.jsxs(Oe,{children:[o.jsx(Te,{children:"Histrico de Sesses"}),o.jsxs(An,{children:[G," de ",D," sesses concludas"]})]}),o.jsx(he,{children:o.jsx("div",{className:"space-y-4",children:a.map((H,J)=>o.jsxs(lZ,{children:[o.jsx(cZ,{asChild:!0,children:o.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border rounded-xl",children:[o.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium",children:J+1})})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Yt,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:Mt(L(H.data),"dd/MM/yyyy",{locale:Sr})}),o.jsx(Ge,{variant:"outline",className:`rounded-xl ${Rt(H.status)}`,children:H.status})]}),o.jsx("p",{className:"font-medium",children:Z(H)}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[H.duracao," min  R$ ",H.valor.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{size:"sm",variant:"outline",className:"rounded-xl",onClick:()=>E(H),children:"Editar"}),o.jsx(U,{size:"sm",variant:"destructive",className:"rounded-xl",onClick:()=>ce(H),children:"Excluir"})]})]})}),o.jsxs(DR,{children:[o.jsx(qx,{onClick:()=>E(H),children:"Editar"}),o.jsx(IR,{}),o.jsx(qx,{className:"text-destructive",onClick:()=>ce(H),children:"Excluir"})]})]},H.id))})})]})}),o.jsx(fr,{open:w,onOpenChange:N,children:o.jsxs(ir,{className:"max-w-lg rounded-2xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:"Editar Agendamento"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Yn,{children:"Ttulo"}),o.jsx(de,{value:j.titulo,onChange:H=>_(J=>({...J,titulo:H.target.value})),className:"rounded-xl"})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Descrio"}),o.jsx(Nn,{value:j.descricao,onChange:H=>_(J=>({...J,descricao:H.target.value})),className:"rounded-xl",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Yn,{children:"Data"}),o.jsx(de,{type:"date",value:j.data,onChange:H=>_(J=>({...J,data:H.target.value})),className:"rounded-xl"})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Hora"}),o.jsx(de,{type:"time",value:j.hora,onChange:H=>_(J=>({...J,hora:H.target.value})),className:"rounded-xl"})]})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Status"}),o.jsxs(He,{value:j.status,onValueChange:H=>_(J=>({...J,status:H})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione um status"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"agendado",children:"Agendado"}),o.jsx(Y,{value:"confirmado",children:"Confirmado"}),o.jsx(Y,{value:"em_andamento",children:"Em andamento"}),o.jsx(Y,{value:"concluido",children:"Concludo"}),o.jsx(Y,{value:"cancelado",children:"Cancelado"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{variant:"outline",className:"rounded-xl",onClick:()=>{N(!1),y(null)},children:"Cancelar"}),o.jsx(U,{className:"rounded-xl",onClick:ht,children:"Salvar"})]})]})]})}),o.jsx(fr,{open:k,onOpenChange:A,children:o.jsxs(ir,{className:"max-w-lg rounded-2xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:"Editar Sesso"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Yn,{children:"Data"}),o.jsx(Vx,{value:O.data,onChange:H=>P(J=>({...J,data:H})),placeholder:"dd/mm/aaaa"})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Valor"}),o.jsx(de,{type:"number",step:"0.01",value:O.valor,onChange:H=>P(J=>({...J,valor:Number(H.target.value)})),className:"rounded-xl"})]})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Descrio"}),o.jsx(Nn,{value:O.descricao,onChange:H=>P(J=>({...J,descricao:H.target.value})),className:"rounded-xl",rows:3})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Status"}),o.jsxs(He,{value:O.status,onValueChange:H=>P(J=>({...J,status:H})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione um status"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"agendada",children:"Agendada"}),o.jsx(Y,{value:"concluida",children:"Concluda"}),o.jsx(Y,{value:"cancelada",children:"Cancelada"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{variant:"outline",className:"rounded-xl",onClick:()=>{A(!1),C(null)},children:"Cancelar"}),o.jsx(U,{className:"rounded-xl",onClick:M,children:"Salvar"})]})]})]})}),o.jsx(Ux,{open:se,onOpenChange:je,children:o.jsxs(ip,{className:"rounded-2xl",children:[o.jsxs(lp,{children:[o.jsx(up,{children:"Excluir sesso?"}),o.jsx(dp,{children:"Esta ao remover definitivamente o registro da sesso do histrico."})]}),o.jsxs(cp,{children:[o.jsx(hp,{className:"rounded-xl",children:"Cancelar"}),o.jsx(fp,{className:"rounded-xl",onClick:we,children:"Excluir"})]})]})}),o.jsx(kt,{value:"feedbacks",className:"space-y-6",children:o.jsx(N9e,{projetoId:n.id,onFeedbackUpdate:()=>{i([]),ue()}})}),o.jsx(kt,{value:"financeiro",className:"space-y-6",children:o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Resumo Financeiro"})}),o.jsxs(he,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_total.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",n.valor_pago.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Pago"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",(n.valor_total-n.valor_pago).toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Restante"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{children:"Progresso do Pagamento"}),o.jsxs("span",{children:[Math.round(Jt),"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Jt}%`}})})]})]})]})}),o.jsx(kt,{value:"galeria",className:"space-y-6",children:o.jsxs(ne,{className:"rounded-2xl",children:[o.jsxs(Oe,{children:[o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(wm,{className:"w-5 h-5"}),"Galeria do Projeto"]}),o.jsx(An,{children:"Fotos do progresso e resultado final"})]}),o.jsx(he,{children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(wm,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Nenhuma imagem adicionada ainda"}),o.jsx(U,{variant:"outline",className:"mt-4 rounded-xl",children:"Adicionar Fotos"})]})})]})})]}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(U,{onClick:()=>{e(`/agendamentos?projeto=${n.id}`)},className:"rounded-xl",children:"Agendar Sesso"}),o.jsx(U,{variant:"outline",onClick:()=>I(!0),className:"rounded-xl",children:"Registrar Sesso"}),o.jsx(U,{variant:"outline",onClick:()=>{e(`/clientes/${n.cliente_id}`)},className:"rounded-xl",children:"Ver Cliente"}),o.jsx(U,{variant:"outline",onClick:()=>{e("/projetos")},className:"rounded-xl",children:"Voltar aos Projetos"})]})})}),o.jsx(fr,{open:R,onOpenChange:I,children:o.jsxs(ir,{className:"max-w-lg rounded-2xl",children:[o.jsxs(lr,{children:[o.jsx(cr,{children:"Registrar Sesso"}),o.jsx(ky,{children:"Adicionar sesso passada sem agendamento"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Yn,{children:"Data"}),o.jsx(Vx,{value:$.data,onChange:H=>B(J=>({...J,data:H})),placeholder:"dd/mm/aaaa"})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Valor"}),o.jsx(de,{type:"number",step:"0.01",value:$.valor,onChange:H=>B(J=>({...J,valor:Number(H.target.value)})),className:"rounded-xl"})]})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Descrio"}),o.jsx(Nn,{value:$.descricao,onChange:H=>B(J=>({...J,descricao:H.target.value})),className:"rounded-xl",rows:3})]}),o.jsxs("div",{children:[o.jsx(Yn,{children:"Status"}),o.jsxs(He,{value:$.status,onValueChange:H=>B(J=>({...J,status:H})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione um status"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"agendada",children:"Agendada"}),o.jsx(Y,{value:"concluida",children:"Concluda"}),o.jsx(Y,{value:"cancelada",children:"Cancelada"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{variant:"outline",className:"rounded-xl",onClick:()=>I(!1),children:"Cancelar"}),o.jsx(U,{className:"rounded-xl",onClick:W,children:"Salvar"})]})]})]})})]})})}function Yn({children:t,className:e}){return o.jsx("label",{className:`text-sm font-medium text-muted-foreground ${e||""}`,children:t})}const X0={clientes_milestone:{type:"clientes_milestone",title:"Mestre dos Relacionamentos",description:"Cadastrou {threshold} clientes!",icon:"",threshold:10},projetos_milestone:{type:"projetos_milestone",title:"Gerente de Projetos",description:"Criou {threshold} projetos!",icon:"",threshold:5},financeiro_milestone:{type:"financeiro_milestone",title:"Controlador Financeiro",description:"Registrou {threshold} transaes!",icon:"",threshold:20},agendamentos_milestone:{type:"agendamentos_milestone",title:"Organizador Expert",description:"Agendou {threshold} sesses!",icon:"",threshold:15},sessoes_milestone:{type:"sessoes_milestone",title:"Tatuador Produtivo",description:"Completou {threshold} sesses de tatuagem!",icon:"",threshold:30},receita_milestone:{type:"receita_milestone",title:"Empreendedor de Sucesso",description:"Atingiu R$ {threshold} em receitas!",icon:"",threshold:5e3}},X9e=()=>{const{toast:t}=tn(),e=x.useCallback((f,m)=>{const h=X0[f],p=`achievement_${f}`,g=`achievement_current_${f}`,v=parseInt(localStorage.getItem(p)||"0");localStorage.setItem(g,m.toString());const b=Math.floor(m/h.threshold)*h.threshold;b>v&&b>=h.threshold&&(localStorage.setItem(p,b.toString()),r({...h,id:`${f}_${b}`,threshold:b,currentValue:m,isCompleted:!0,completedAt:new Date().toISOString()})),console.log(` Verificando conquista ${f}:`,{currentValue:m,threshold:h.threshold,newMilestone:b,lastNotifiedValue:v,shouldNotify:b>v&&b>=h.threshold})},[]),r=x.useCallback(f=>{t({title:` ${f.icon} ${f.title}`,description:f.description.replace("{threshold}",f.threshold.toString()),duration:6e3}),console.log(" Conquista desbloqueada:",f)},[t]),n=x.useCallback(f=>{e("clientes_milestone",f)},[e]),s=x.useCallback(f=>{e("projetos_milestone",f)},[e]),a=x.useCallback(f=>{e("financeiro_milestone",f)},[e]),i=x.useCallback(f=>{e("agendamentos_milestone",f)},[e]),l=x.useCallback(f=>{e("sessoes_milestone",f)},[e]),c=x.useCallback(f=>{e("receita_milestone",f)},[e]),u=x.useCallback(()=>Object.entries(X0).map(([f,m])=>{const h=`achievement_${f}`,p=`achievement_current_${f}`,g=parseInt(localStorage.getItem(h)||"0"),v=parseInt(localStorage.getItem(p)||"0");return{...m,id:`${f}_current`,currentValue:v,isCompleted:g>=m.threshold,completedAt:g>=m.threshold?new Date().toISOString():void 0}}),[]),d=x.useCallback(()=>{Object.keys(X0).forEach(f=>{localStorage.removeItem(`achievement_${f}`),localStorage.removeItem(`achievement_current_${f}`)}),t({title:" Conquistas Resetadas",description:"Todas as conquistas foram resetadas!"})},[t]);return{checkClientesMilestone:n,checkProjetosMilestone:s,checkFinanceiroMilestone:a,checkAgendamentosMilestone:i,checkSessoesMilestone:l,checkReceitaMilestone:c,getUserAchievements:u,resetAchievements:d,showAchievementNotification:r,achievementConfigs:X0}};function Q9e({appointment:t,onClick:e,compact:r=!1,draggable:n=!1,isDragging:s=!1}){const i=(u=>{switch(u){case"agendado":return{bg:"bg-blue-500",text:"text-blue-700 dark:text-blue-300",bgLight:"bg-blue-50 dark:bg-blue-950/50",border:"border-blue-200 dark:border-blue-800"};case"confirmado":return{bg:"bg-green-500",text:"text-green-700 dark:text-green-300",bgLight:"bg-green-50 dark:bg-green-950/50",border:"border-green-200 dark:border-green-800"};case"em_andamento":return{bg:"bg-yellow-500",text:"text-yellow-700 dark:text-yellow-300",bgLight:"bg-yellow-50 dark:bg-yellow-950/50",border:"border-yellow-200 dark:border-yellow-800"};case"concluido":return{bg:"bg-purple-500",text:"text-purple-700 dark:text-purple-300",bgLight:"bg-purple-50 dark:bg-purple-950/50",border:"border-purple-200 dark:border-purple-800"};case"cancelado":return{bg:"bg-red-500",text:"text-red-700 dark:text-red-300",bgLight:"bg-red-50 dark:bg-red-950/50",border:"border-red-200 dark:border-red-800"};default:return{bg:"bg-gray-500",text:"text-gray-700 dark:text-gray-300",bgLight:"bg-gray-50 dark:bg-gray-950/50",border:"border-gray-200 dark:border-gray-800"}}})(t.status),l=u=>u.slice(0,5),c=u=>{switch(u){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}};return r?o.jsxs("div",{className:`
          relative p-2 rounded-lg border-l-4 cursor-pointer
          transition-all duration-200 hover:shadow-sm
          ${i.bgLight} ${i.border}
          ${s?"opacity-50 scale-95":""}
          ${n?"cursor-grab active:cursor-grabbing":""}
        `,style:{borderLeftColor:i.bg.replace("bg-","")},onClick:e,children:[o.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${i.bg} rounded-l-lg`}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-xs font-medium ${i.text}`,children:l(t.hora_inicio)}),o.jsx("div",{className:`w-2 h-2 rounded-full ${i.bg}`})]}),o.jsx("div",{className:"text-xs font-medium text-foreground truncate",children:t.cliente_nome}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t.servico})]})]}):o.jsx(ne,{className:`
        cursor-pointer transition-all duration-200 hover:shadow-lg
        ${i.border} ${i.bgLight}
        ${s?"opacity-50 scale-95 rotate-2":""}
        ${n?"cursor-grab active:cursor-grabbing":""}
      `,onClick:e,children:o.jsxs(he,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs(Ge,{variant:"outline",className:`${i.text} ${i.border} ${i.bgLight}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${i.bg} mr-2`}),c(t.status)]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(ra,{className:"w-4 h-4"}),o.jsxs("span",{children:[l(t.hora_inicio)," - ",l(t.hora_fim)]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wi,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium text-foreground",children:t.cliente_nome})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($ie,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-foreground",children:t.servico})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Tatuador: ",t.tatuador]}),o.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",t.valor_estimado.toLocaleString("pt-BR")]})]})}),t.observacoes&&o.jsx("div",{className:"mt-2 text-xs text-muted-foreground bg-muted p-2 rounded",children:t.observacoes})]})})}function J9e({appointments:t,onAppointmentMove:e,onAppointmentClick:r,onDateClick:n,onAppointmentDelete:s}){const[a,i]=x.useState(new Date),[l,c]=x.useState(null),[u,d]=x.useState(null),f=()=>{i(O=>new Date(O.getFullYear(),O.getMonth()-1,1))},m=()=>{i(O=>new Date(O.getFullYear(),O.getMonth()+1,1))},h=()=>{i(new Date)},p=x.useMemo(()=>{const O=a.getFullYear(),P=a.getMonth(),R=new Date(O,P,1),I=new Date(O,P+1,0),$=new Date(R);$.setDate($.getDate()-R.getDay());const B=new Date(I);B.setDate(B.getDate()+(6-I.getDay()));const L=[],E=new Date($);for(;E<=B;)L.push(new Date(E)),E.setDate(E.getDate()+1);return L},[a]),g=x.useMemo(()=>{const O={};return t.forEach(P=>{const R=P.data_agendamento;O[R]||(O[R]=[]),O[R].push(P)}),Object.keys(O).forEach(P=>{O[P].sort((R,I)=>R.hora_inicio.localeCompare(I.hora_inicio))}),O},[t]),v=O=>O.toISOString().split("T")[0],b=O=>O.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),y=O=>{const P=new Date;return O.toDateString()===P.toDateString()},w=O=>O.getMonth()===a.getMonth(),N=O=>{const P=v(O);n==null||n(P)},j=(O,P)=>{c(P),O.dataTransfer.setData("text/plain",P),O.dataTransfer.effectAllowed="move",setTimeout(()=>{const R=document.querySelector(`[data-appointment-id="${P}"]`);R&&R.classList.add("dragging")},0)},_=()=>{c(null),d(null),document.querySelectorAll(".dragging").forEach(O=>{O.classList.remove("dragging")})},S=(O,P)=>{O.preventDefault(),O.stopPropagation(),O.dataTransfer.dropEffect="move",d(P)},C=O=>{O.preventDefault(),O.stopPropagation();const P=O.currentTarget.getBoundingClientRect(),R=O.clientX,I=O.clientY;(R<P.left||R>P.right||I<P.top||I>P.bottom)&&d(null)},k=(O,P)=>{O.preventDefault();const R=O.dataTransfer.getData("text/plain");R&&R!==l||(l&&e&&e(l,P),c(null),d(null))},A=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold capitalize",children:b(a)}),o.jsx(U,{variant:"outline",size:"sm",onClick:h,className:"rounded-xl",children:"Hoje"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"outline",size:"icon",onClick:f,className:"rounded-xl",children:o.jsx(kp,{className:"h-4 w-4"})}),o.jsx(U,{variant:"outline",size:"icon",onClick:m,className:"rounded-xl",children:o.jsx(Du,{className:"h-4 w-4"})})]})]}),o.jsx(ne,{className:"rounded-2xl overflow-hidden",children:o.jsxs(he,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:A.map(O=>o.jsx("div",{className:"p-4 text-center font-medium text-muted-foreground bg-muted/30",children:O},O))}),o.jsx("div",{className:"grid grid-cols-7",children:p.map((O,P)=>{const R=v(O),I=g[R]||[],$=w(O),B=y(O),L=u===R;return o.jsxs("div",{className:`
                    min-h-[120px] border-r border-b p-2 cursor-pointer group
                    transition-all duration-200 ease-in-out
                    ${$?"hover:bg-muted/50":"bg-muted/20 text-muted-foreground"}
                    ${B?"bg-blue-50 dark:bg-blue-950/50 border-blue-200 dark:border-blue-800":""}
                    
                  `,onClick:()=>N(O),onDragOver:E=>S(E,R),onDragLeave:E=>C(E),onDrop:E=>k(E,R),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:`
                        text-sm font-medium transition-all duration-200
                        ${B?"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":""}
                        ${$?"":"text-muted-foreground"}
                      `,children:O.getDate()}),$&&o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-opacity duration-200",onClick:E=>{E.stopPropagation(),N(O)},children:o.jsx(en,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-1",children:[I.slice(0,3).map(E=>o.jsxs(lZ,{children:[o.jsx(cZ,{asChild:!0,children:o.jsx("div",{"data-appointment-id":E.id,draggable:!0,onDragStart:T=>j(T,E.id),onDragEnd:_,onClick:T=>T.stopPropagation(),className:"transition-transform duration-200 hover:scale-105",children:o.jsx(Q9e,{appointment:E,onClick:()=>r==null?void 0:r(E),compact:!0,draggable:!0,isDragging:l===E.id})})}),o.jsxs(DR,{children:[o.jsx(qx,{onClick:T=>{T.stopPropagation(),r==null||r(E)},children:"Editar"}),o.jsx(IR,{}),o.jsx(qx,{className:"text-destructive",onClick:T=>{T.stopPropagation(),s==null||s(E.id)},children:"Excluir"})]})]},E.id)),I.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-1 transition-colors duration-200",children:["+",I.length-3," mais"]})]})]},P)})})]})}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),o.jsx("span",{children:"Agendado"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{children:"Confirmado"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("span",{children:"Em Andamento"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),o.jsx("span",{children:"Concludo"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("span",{children:"Cancelado"})]})]})]})}const Z9e=void 0,tr=!!Z9e;function eWe(){const t="Supabase local no configurado: defina VITE_SUPABASE_LOCAL_URL e VITE_SUPABASE_LOCAL_ANON_KEY.";return new Proxy({},{get(){throw new Error(t)}})}const rr=eWe();function $R(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),i=tr?rr:X,l=async()=>{try{if(!t)return;a(!0);const{data:h,error:p}=await i.from("analise_custo").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(p)throw p;n(h||[])}catch(h){console.error("Erro ao carregar anlises:",h)}finally{a(!1)}},c=async(h,p)=>{try{if(!t)throw new Error("Usurio no autenticado");const{data:g,error:v}=await i.from("analise_custo").insert({user_id:t.id,nome_produto:h,custo_produto:p,status:"ativo",qtd_sessoes:0}).select("*").single();if(v)throw v;return n(b=>[g,...b]),e({title:"Anlise iniciada",description:`Monitorando: ${h}`}),g}catch(g){throw console.error("Erro ao iniciar anlise:",g),e({title:"Erro",description:"No foi possvel iniciar a anlise.",variant:"destructive"}),g}},u=async(h,p)=>{try{if(!t||h.length===0)return;for(const g of h){const v=r.find(w=>w.id===g);if(!v)continue;const{error:b}=await i.from("analise_custo").update({qtd_sessoes:v.qtd_sessoes+1}).eq("id",g);if(b)throw b;const{error:y}=await i.from("analise_uso_sessao").insert({analise_id:g,agendamento_id:p,user_id:t.id});y&&(console.error("Erro ao vincular sesso:",y),e({title:"Ateno",description:"Sesso contada, mas no foi possvel vincular o histrico.",variant:"destructive"}))}n(g=>g.map(v=>h.includes(v.id)?{...v,qtd_sessoes:v.qtd_sessoes+1}:v)),e({title:"Uso registrado",description:"Contador de sesses atualizado e vinculado."})}catch(g){console.error("Erro ao registrar uso:",g),e({title:"Erro",description:"Falha ao atualizar contadores.",variant:"destructive"})}},d=async h=>{try{if(!t)return;const{error:p}=await i.from("analise_custo").update({status:"concluido",data_fim:new Date().toISOString()}).eq("id",h);if(p)throw p;n(g=>g.map(v=>v.id===h?{...v,status:"concluido",data_fim:new Date().toISOString()}:v)),e({title:"Anlise concluda",description:"Item movido para o histrico."})}catch(p){console.error("Erro ao finalizar:",p),e({title:"Erro",description:"No foi possvel finalizar.",variant:"destructive"})}},f=async(h,p)=>{try{if(!t)return;const{error:g}=await i.from("analise_uso_sessao").delete().eq("analise_id",h).eq("agendamento_id",p);if(g)throw g;const v=r.find(b=>b.id===h);if(v&&v.qtd_sessoes>0){const{error:b}=await i.from("analise_custo").update({qtd_sessoes:v.qtd_sessoes-1}).eq("id",h);if(b)throw b;n(y=>y.map(w=>w.id===h?{...w,qtd_sessoes:w.qtd_sessoes-1}:w))}e({title:"Vnculo removido",description:"Sesso desvinculada e contador atualizado."})}catch(g){console.error("Erro ao remover uso:",g),e({title:"Erro",description:"No foi possvel remover o vnculo.",variant:"destructive"})}},m=async h=>{try{if(!t)return;const{error:p}=await i.from("analise_custo").delete().eq("id",h);if(p)throw p;n(g=>g.filter(v=>v.id!==h)),e({title:"Anlise excluda",description:"Registro removido com sucesso."})}catch(p){console.error("Erro ao excluir:",p),e({title:"Erro",description:"No foi possvel excluir.",variant:"destructive"})}};return x.useEffect(()=>{l()},[t==null?void 0:t.id]),{analises:r,loading:s,fetchAnalises:l,iniciarAnalise:c,registrarUso:u,finalizarAnalise:d,excluirAnalise:m,removerUso:f}}function tWe({open:t,onOpenChange:e,onConfirm:r,sessionId:n}){const{analises:s,registrarUso:a}=$R(),[i,l]=x.useState([]),c=s.filter(f=>f.status==="ativo"),u=f=>{l(m=>m.includes(f)?m.filter(h=>h!==f):[...m,f])},d=async()=>{i.length>0&&n&&await a(i,n),r()};return c.length===0?null:o.jsx(fr,{open:t,onOpenChange:e,children:o.jsxs(ir,{children:[o.jsxs(lr,{children:[o.jsxs(cr,{className:"flex items-center gap-2",children:[o.jsx(Sb,{className:"h-5 w-5 text-primary"}),"Anlise de Bancada"]}),o.jsx(ky,{children:"Voc utilizou algum destes materiais que esto em anlise nesta sesso?"})]}),o.jsx("div",{className:"py-4 space-y-3",children:c.map(f=>o.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-md hover:bg-accent/50 transition-colors",children:[o.jsx(cf,{id:f.id,checked:i.includes(f.id),onCheckedChange:()=>u(f.id)}),o.jsx("label",{htmlFor:f.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:f.nome_produto})]},f.id))}),o.jsxs(Da,{children:[o.jsx(U,{variant:"outline",onClick:()=>r(),children:"No usei nenhum"}),o.jsx(U,{onClick:d,children:"Confirmar Uso"})]})]})})}function rWe(){const t=Uo(),{toast:e}=tn(),{checkAgendamentosMilestone:r}=X9e(),{user:n}=Fr(),s=tr?rr:X,[a,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,m]=x.useState(!1),[h,p]=x.useState(null),[g,v]=x.useState("todos"),[b,y]=x.useState(""),[w,N]=x.useState(!1),[j,_]=x.useState(!1),[S,C]=x.useState(null),[k,A]=x.useState(""),[O,P]=x.useState(5),[R,I]=x.useState(""),[$,B]=x.useState(null),L={cliente_nome:"",cliente_id:"",data_agendamento:"",hora_inicio:"",hora_fim:"",servico:"",status:"agendado",observacoes:"",valor_estimado:0,tatuador:"",local:"Estdio Principal"},[E,T]=x.useState(L);x.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");const F=sessionStorage.getItem("agendamentos-scroll-y");F&&requestAnimationFrame(()=>{window.scrollTo(0,parseInt(F,10))})},[]),x.useEffect(()=>{(async()=>{try{const{data:oe,error:_e}=await X.from("clientes").select("id, nome").order("nome");if(_e)throw _e;c(oe||[])}catch(oe){console.error("Erro ao buscar clientes:",oe)}})()},[]),x.useEffect(()=>{(async()=>{try{const{data:oe,error:_e}=await X.from("projetos").select("id, titulo, valor_por_sessao, cliente_id").order("titulo");if(_e)throw _e;d(oe||[])}catch(oe){console.error("Erro ao buscar projetos:",oe)}})()},[]),x.useEffect(()=>{if(n)return;const F=[{id:"1",cliente_nome:"Ana Silva",cliente_id:"1",data_agendamento:"2024-01-15",hora_inicio:"14:00",hora_fim:"17:00",servico:"Tatuagem Brao",status:"confirmado",observacoes:"Primeira sesso - desenho floral",valor_estimado:450,tatuador:"Joo Silva",local:"Estdio Principal"},{id:"2",cliente_nome:"Carlos Santos",cliente_id:"2",data_agendamento:"2024-01-16",hora_inicio:"10:00",hora_fim:"12:00",servico:"Retoque",status:"agendado",observacoes:"Retoque na tatuagem das costas",valor_estimado:150,tatuador:"Maria Santos",local:"Estdio Secundrio"}];i(F),r(F.length)},[n,r]);const q=F=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(F),Z=F=>{switch(F){case"agendado":return"bg-primary/10 text-primary border-primary/20";case"confirmado":return"bg-primary/10 text-primary border-primary/20";case"em_andamento":return"bg-primary/10 text-primary border-primary/20";case"concluido":return"bg-success/10 text-success border-success/20";case"cancelado":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-primary/10 text-primary border-primary/20"}},M=F=>{switch(F){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},W=F=>{switch(F){case"agendado":return o.jsx(Yt,{className:"w-4 h-4"});case"confirmado":return o.jsx(mi,{className:"w-4 h-4"});case"em_andamento":return o.jsx(ra,{className:"w-4 h-4"});case"concluido":return o.jsx(mi,{className:"w-4 h-4"});case"cancelado":return o.jsx(zd,{className:"w-4 h-4"});default:return o.jsx(Yt,{className:"w-4 h-4"})}},re=async F=>{try{if(!n||!q(F))return null;const{data:oe,error:_e}=await X.from("agendamentos").select("id, user_id, status").eq("id",F).maybeSingle();return _e?null:oe}catch{return null}},se=a.filter(F=>{const oe=g==="todos"||F.status===g,_e=F.cliente_nome.toLowerCase().includes(b.toLowerCase())||F.servico.toLowerCase().includes(b.toLowerCase())||F.tatuador.toLowerCase().includes(b.toLowerCase());return oe&&_e}),je=a.length,pe=a.filter(F=>{const oe=new Date().toISOString().split("T")[0];return F.data_agendamento===oe}).length,Ue=a.filter(F=>F.status==="confirmado").length,ce=a.filter(F=>F.status==="concluido").length,we=a.filter(F=>F.data_agendamento===new Date().toISOString().split("T")[0]).sort((F,oe)=>F.hora_inicio.localeCompare(oe.hora_inicio)),be=120,ue=F=>F?F.slice(0,5):"",_t=F=>{const[oe,_e]=ue(F).split(":").map(Number);return Number.isNaN(oe)||Number.isNaN(_e)?NaN:oe*60+_e},ht=F=>{const oe=Math.max(0,Math.min(1439,F)),_e=Math.floor(oe/60),Me=oe%60;return`${String(_e).padStart(2,"0")}:${String(Me).padStart(2,"0")}`},le=(F,oe)=>{const _e=_t(F);return Number.isNaN(_e)?ue(F):ht(_e+oe)},Ye=(F,oe)=>{const _e=ue(oe);T(Me=>({...Me,[F]:_e}))},vt=F=>{const[oe="",_e=""]=ue(F).split(":");let Me=parseInt(oe||"0",10),Se=parseInt(_e||"0",10);return Number.isNaN(Me)&&(Me=0),Number.isNaN(Se)&&(Se=0),Me=Math.max(0,Math.min(23,Me)),Se=Math.max(0,Math.min(59,Se)),`${String(Me).padStart(2,"0")}:${String(Se).padStart(2,"0")}`},Rt=F=>{T(oe=>{const _e=vt(oe[F]);return{...oe,[F]:_e}})},Jt=async(F,oe,_e,Me)=>{var Se;try{if(i(ve=>ve.map(Re=>Re.id===F.id?{...Re,status:"concluido"}:Re)),!n){e({title:"Sesso confirmada localmente",description:"Faa login para registrar nas tabelas."});return}const Pe=u.find(ve=>ve.titulo===F.tatuador);if(Pe!=null&&Pe.id){const ve=q(F.id)?F.id:null;let Re=null;if(ve){const{data:Qe,error:te}=await X.from("projeto_sessoes").select("id").eq("projeto_id",Pe.id).eq("agendamento_id",ve).limit(1).maybeSingle();if(te&&te.code!=="PGRST116")throw te;Re=(Qe==null?void 0:Qe.id)||null}if(Re){const{error:Qe}=await X.from("projeto_sessoes").update({feedback_cliente:oe||null,observacoes_tecnicas:_e??null,valor_sessao:F.valor_estimado||null,data_sessao:F.data_agendamento,avaliacao:Me??null}).eq("id",Re);if(Qe)throw Qe}else{const{data:Qe,error:te}=await X.from("projeto_sessoes").select("id").eq("projeto_id",Pe.id);if(te)throw te;const Q=((Qe==null?void 0:Qe.length)||0)+1,{error:ze}=await X.from("projeto_sessoes").insert({projeto_id:Pe.id,agendamento_id:ve,numero_sessao:Q,data_sessao:F.data_agendamento,valor_sessao:F.valor_estimado||null,status_pagamento:"pendente",metodo_pagamento:null,observacoes_tecnicas:_e??null,feedback_cliente:oe||null,avaliacao:Me??null});if(ze)throw ze}}let at=F.cliente_nome||((Se=l.find(ve=>ve.id===F.cliente_id))==null?void 0:Se.nome);if(!at&&q(F.id)){const{data:ve}=await X.from("agendamentos").select("projeto_id").eq("id",F.id).maybeSingle();if(ve!=null&&ve.projeto_id){const{data:Re}=await X.from("projetos").select("cliente_id").eq("id",ve.projeto_id).maybeSingle();if(Re!=null&&Re.cliente_id){const{data:Qe}=await X.from("clientes").select("nome").eq("id",Re.cliente_id).maybeSingle();Qe!=null&&Qe.nome&&(at=Qe.nome)}}}if(at=at||"Cliente",F.valor_estimado&&F.valor_estimado>0){const ve=q(F.id)?F.id:null;if(ve){const{data:Re,error:Qe}=await X.from("transacoes").select("id").eq("agendamento_id",ve).limit(1).maybeSingle();if(Qe&&Qe.code!=="PGRST116")throw Qe;if(Re!=null&&Re.id){const{error:te}=await X.from("transacoes").update({descricao:`Sesso realizada: ${F.servico} - ${at}`}).eq("id",Re.id);if(te)throw te}else{const{error:te}=await X.from("transacoes").insert({user_id:n.id,tipo:"RECEITA",categoria:"Servios",valor:F.valor_estimado,data_vencimento:F.data_agendamento,descricao:`Sesso realizada: ${F.servico} - ${at}`,agendamento_id:ve});if(te)throw te}}}if(q(F.id)){const ve=await re(F.id);if(!ve||String(ve.user_id)!==String(n.id))e({title:"Sem permisso para atualizar",description:"Este agendamento no pertence ao seu usurio.",variant:"destructive"});else{const{data:Re,error:Qe}=await X.from("agendamentos").update({status:"concluido"}).eq("id",F.id).select("id, status").maybeSingle();if(Qe)throw Qe;Re||e({title:"Atualizao no aplicada",description:"Nenhuma linha foi atualizada.",variant:"destructive"})}}e({title:"Sesso confirmada!",description:"Registro salvo nas tabelas relacionadas."})}catch(Pe){console.error("Erro ao confirmar sesso:",Pe),e({title:"Erro ao confirmar sesso",description:"Tente novamente mais tarde."})}},G=F=>{C(F),N(!0)},D=async()=>{S&&(N(!1),await Jt(S),C(null),A(""))},K=()=>{N(!1),_(!0)},{analises:H}=$R(),[J,ae]=x.useState(!1),me=async()=>{if(!S)return;if(!n){e({title:"Faa login para salvar o feedback",description:"Sem login, os textos no sero persistidos no banco."});return}if(H.some(oe=>oe.status==="ativo")){B(S),ae(!0);return}await Je()},Je=async()=>{if(!S)return;const F=k.trim();await Jt(S,F||void 0,R.trim()||void 0,O||void 0),_(!1),ae(!1),C(null),A(""),I(""),P(5)},nt=async()=>{S?await Je():(ae(!1),B(null))},Zt=async()=>{var _e;const F=document.querySelector("main.flex-1"),oe=F?F.scrollTop:window.scrollY;if(sessionStorage.setItem("agendamentos-scroll-y",String(oe)),h){const Me={...h,...E};i(Se=>Se.map(Pe=>Pe.id===h.id?Me:Pe));try{if(n&&q(h.id)){const Se=u.find(ve=>ve.titulo===E.tatuador)||u.find(ve=>ve.id===E.tatuador),Pe={titulo:E.servico||E.cliente_nome,descricao:E.observacoes,data:E.data_agendamento,hora:E.hora_inicio,status:E.status};Se!=null&&Se.id&&(Pe.projeto_id=Se.id);let at=!1;try{const{data:ve,error:Re}=await s.from("agendamentos").update({...Pe,valor_estimado:E.valor_estimado}).eq("id",h.id).eq("user_id",n.id).select("id").maybeSingle();if(Re)throw Re;ve&&(at=!0)}catch(ve){const Re=String((ve==null?void 0:ve.message)||"").toLowerCase();if(Re.includes("column")&&Re.includes("valor_estimado")){const{data:Qe,error:te}=await s.from("agendamentos").update(Pe).eq("id",h.id).eq("user_id",n.id).select("id").maybeSingle();if(te)throw te;Qe&&(at=!0)}else throw ve}e(at?{title:"Agendamento atualizado com sucesso!"}:{title:"Atualizao no aplicada",description:"Nenhuma linha foi atualizada.",variant:"destructive"})}else e({title:"Agendamento atualizado localmente"})}catch(Se){console.error("Erro ao atualizar agendamento no banco:",Se),e({title:"Erro ao atualizar no banco",description:"Tente novamente mais tarde.",variant:"destructive"})}}else if(n)try{const Me=u.find(Re=>Re.titulo===E.tatuador);if(!(Me!=null&&Me.id)){e({title:"Selecione um projeto",description:" necessrio escolher um projeto para salvar."});return}const{data:Se,error:Pe}=await X.from("agendamentos").insert({user_id:n.id,projeto_id:Me.id,titulo:E.servico||`${E.cliente_nome}`,descricao:E.observacoes,data:E.data_agendamento,hora:E.hora_inicio,status:E.status,valor_estimado:E.valor_estimado||0}).select().single();if(Pe)throw Pe;const at=E.cliente_nome||((_e=l.find(Re=>Re.id===E.cliente_id))==null?void 0:_e.nome)||"Cliente";E.valor_estimado&&E.valor_estimado>0&&await X.from("transacoes").insert({user_id:n.id,tipo:"RECEITA",categoria:"Servios",valor:E.valor_estimado,data_vencimento:E.data_agendamento,descricao:`Sesso: ${E.servico} - ${at}`,agendamento_id:Se.id});const ve={id:Se.id,cliente_nome:E.cliente_nome,cliente_id:E.cliente_id,data_agendamento:E.data_agendamento,hora_inicio:E.hora_inicio,hora_fim:E.hora_fim||(E.hora_inicio?le(E.hora_inicio,be):""),servico:E.servico,status:E.status,observacoes:E.observacoes,valor_estimado:E.valor_estimado,tatuador:E.tatuador,local:""};i(Re=>{const Qe=[...Re,ve];return r(Qe.length),Qe}),e({title:"Agendamento criado e salvo com sucesso!"})}catch(Me){console.error("Erro ao salvar agendamento:",Me),e({title:"Erro ao salvar agendamento",description:"Verifique o login e tente novamente."});const Se={id:Date.now().toString(),...E};i(Pe=>{const at=[...Pe,Se];return r(at.length),at})}else{const Me={id:Date.now().toString(),...E};i(Se=>{const Pe=[...Se,Me];return r(Pe.length),Pe}),e({title:"Agendamento criado localmente"})}m(!1),p(null),T(L),requestAnimationFrame(()=>{F?F.scrollTop=oe:window.scrollTo(0,oe)})},wr=F=>{p(F),T({cliente_nome:F.cliente_nome,cliente_id:F.cliente_id,data_agendamento:F.data_agendamento,hora_inicio:F.hora_inicio,hora_fim:F.hora_fim,servico:F.servico,status:F.status,observacoes:F.observacoes,valor_estimado:F.valor_estimado,tatuador:F.tatuador,local:F.local}),m(!0)},Cn=async F=>{console.log("Agendamentos: handleDelete",{id:F}),i(oe=>oe.filter(_e=>_e.id!==F));try{if(n&&q(F)){const{error:oe}=await s.from("agendamentos").delete().eq("id",F);if(oe)throw oe;await s.from("projeto_sessoes").delete().eq("agendamento_id",F),await s.from("transacoes").delete().eq("agendamento_id",F)}e({title:"Agendamento removido com sucesso!"})}catch(oe){console.error("Erro ao excluir agendamento no banco:",oe),e({title:"Erro ao excluir no banco",description:"Tente novamente mais tarde."})}},js=async(F,oe)=>{var Me;console.log("Agendamentos: handleStatusChange",{id:F,novoStatus:oe});const _e=(Me=a.find(Se=>Se.id===F))==null?void 0:Me.status;i(Se=>Se.map(Pe=>Pe.id===F?{...Pe,status:oe}:Pe));try{if(n&&q(F)){const Se=await re(F);if(!Se||String(Se.user_id)!==String(n.id))throw new Error("owner_mismatch");const{data:Pe,error:at}=await s.from("agendamentos").update({status:oe}).eq("id",F).select("id, status").maybeSingle();if(at)throw at;if(!Pe)throw new Error("no_rows_updated")}e({title:`Status alterado para ${M(oe)}`})}catch(Se){console.error("Erro ao atualizar status no banco:",Se),_e&&i(at=>at.map(ve=>ve.id===F?{...ve,status:_e}:ve));const Pe=(Se==null?void 0:Se.message)==="owner_mismatch"?"Este agendamento no pertence ao seu usurio.":"Tente novamente mais tarde.";e({title:"Falha ao atualizar status",description:Pe,variant:"destructive"})}},rn=async(F,oe)=>{var Me;console.log("Agendamentos: handleAppointmentMove",{appointmentId:F,newDate:oe});const _e=(Me=a.find(Se=>Se.id===F))==null?void 0:Me.data_agendamento;i(Se=>Se.map(Pe=>Pe.id===F?{...Pe,data_agendamento:oe}:Pe));try{if(n&&q(F)){const{error:Se}=await s.from("agendamentos").update({data:oe}).eq("id",F).eq("user_id",n.id);if(Se)throw Se}e({title:"Agendamento movido com sucesso!"}),console.log("Agendamentos: move success")}catch(Se){console.error("Erro ao mover agendamento no banco:",Se),_e&&i(Pe=>Pe.map(at=>at.id===F?{...at,data_agendamento:_e}:at)),e({title:"Falha ao mover agendamento",description:"Tente novamente mais tarde.",variant:"destructive"})}},mn=F=>{wr(F)},xl=F=>{T(oe=>{const _e=oe.hora_inicio&&oe.hora_inicio.trim()!==""?oe.hora_inicio:"09:00",Me=oe.hora_fim&&oe.hora_fim.trim()!==""?oe.hora_fim:le(_e,be);return{...oe,data_agendamento:F,hora_inicio:_e,hora_fim:Me}}),m(!0)},Wn=F=>isFinite(F)?F.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"",V=F=>{const oe=F.target.value.replace(/\D/g,""),Me=parseInt(oe||"0",10)/100;T(Se=>({...Se,valor_estimado:Me}))};return x.useEffect(()=>{(async()=>{try{if(!n||u.length===0||l.length===0)return;const{data:oe,error:_e}=await X.from("agendamentos").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});if(_e)throw _e;const Me=(oe||[]).map(Se=>{var Qe;const Pe=u.find(te=>te.id===Se.projeto_id),at=(Pe==null?void 0:Pe.cliente_id)||"",ve=((Qe=l.find(te=>te.id===at))==null?void 0:Qe.nome)||"",Re=typeof Se.hora=="string"?Se.hora.slice(0,5):"";return{id:Se.id,cliente_nome:ve,cliente_id:at,data_agendamento:Se.data,hora_inicio:Re,hora_fim:Re?le(Re,be):"",servico:Se.titulo,status:Se.status||"agendado",observacoes:Se.descricao||"",valor_estimado:Number(Se.valor_estimado||0),tatuador:(Pe==null?void 0:Pe.titulo)||"",local:""}});i(Me)}catch(oe){console.error("Erro ao carregar agendamentos do banco:",oe)}})()},[n,u,l]),o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[o.jsx(Yt,{className:"w-8 h-8"}),"Agendamentos"]}),o.jsx("p",{className:"text-muted-foreground",children:"Gerencie sesses de tatuagem e compromissos"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yt,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("p",{className:"text-2xl font-bold",children:je})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ra,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Hoje"}),o.jsx("p",{className:"text-2xl font-bold text-primary",children:pe})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmados"}),o.jsx("p",{className:"text-2xl font-bold text-primary",children:Ue})]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Concludos"}),o.jsx("p",{className:"text-2xl font-bold text-primary",children:ce})]})]})})})]}),o.jsx(fr,{open:w,onOpenChange:N,children:o.jsxs(ir,{className:"rounded-2xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:"Confirmar sesso"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Deseja registrar o feedback da sesso?"}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(U,{variant:"outline",className:"rounded-xl",onClick:D,children:"No, apenas confirmar"}),o.jsx(U,{className:"rounded-xl",onClick:K,children:"Sim, registrar feedback"})]})]})}),o.jsx(fr,{open:j,onOpenChange:_,children:o.jsxs(ir,{className:"rounded-2xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:"Registrar feedback da sesso"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Avaliao"}),o.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(F=>o.jsx("button",{type:"button",onClick:()=>P(F),className:"p-1","aria-label":`Avaliar ${F} estrela${F>1?"s":""}`,children:o.jsx(Zg,{className:`w-5 h-5 ${F<=O?"text-yellow-400":"text-muted-foreground"}`})},F)),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[O," estrelas"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Feedback do cliente"}),o.jsx(Nn,{value:k,onChange:F=>A(F.target.value),rows:4,className:"rounded-xl",placeholder:"Como foi a experincia do cliente? Observaes, satisfao, etc.",autoFocus:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Observaes Tcnicas"}),o.jsx(Nn,{value:R,onChange:F=>I(F.target.value),rows:3,className:"rounded-xl",placeholder:"Procedimentos, materiais, etapas realizadas, notas internas..."})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(U,{variant:"outline",className:"rounded-xl",onClick:()=>{_(!1),A(""),I(""),P(5)},children:"Cancelar"}),o.jsx(U,{className:"rounded-xl",onClick:me,children:"Salvar e confirmar"})]})]})}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsxs(Oe,{children:[o.jsx(Te,{children:"Agendamentos de Hoje"}),o.jsx(An,{children:"Mostra apenas os compromissos do dia atual"})]}),o.jsx(he,{className:"space-y-3",children:we.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento para hoje."}):we.map(F=>o.jsxs("div",{className:"flex items-center justify-between rounded-xl border bg-card p-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ra,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[F.cliente_nome,"  ",F.servico]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.hora_inicio," - ",F.hora_fim,"  ",Mt(Fl(F.data_agendamento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Sr})]})]})]}),o.jsx(Ge,{variant:"outline",className:Z(F.status),children:M(F.status)}),F.status!=="concluido"&&F.status!=="cancelado"&&o.jsx(U,{size:"sm",className:"ml-3 rounded-xl",onClick:()=>G(F),children:"Confirmar Sesso"}),F.status==="concluido"&&o.jsxs(U,{size:"sm",variant:"outline",className:"ml-3 rounded-xl gap-2",onClick:()=>{B(F),ae(!0)},children:[o.jsx(Sb,{className:"w-4 h-4"}),"Vincular Anlise"]})]},F.id))})]}),o.jsxs(va,{defaultValue:"calendar",className:"space-y-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs(Gs,{className:"inline-flex w-auto rounded-2xl bg-gradient-to-r from-muted/30 to-muted/10 p-1.5 backdrop-blur-sm border border-border/20 shadow-lg",children:[o.jsxs(Et,{value:"calendar",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:[o.jsx(fie,{className:"w-5 h-5 transition-colors"}),o.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Visualizao em Calendrio"})]}),o.jsxs(Et,{value:"list",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:[o.jsx(Z1,{className:"w-5 h-5 transition-colors"}),o.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:"Visualizao em Lista"})]})]})}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar por cliente, servio ou projeto...",value:b,onChange:F=>y(F.target.value),className:"pl-10 rounded-lg border-muted/50 bg-background/50 backdrop-blur-sm h-9"})]}),o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsx(U,{variant:"outline",className:"rounded-lg h-9",children:"Filtros"})}),o.jsx(Io,{className:"w-[360px] rounded-xl p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Status"}),o.jsxs(He,{value:g,onValueChange:v,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Todos"})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"todos",children:"Todos Status"}),o.jsx(Y,{value:"agendado",children:"Agendado"}),o.jsx(Y,{value:"confirmado",children:"Confirmado"}),o.jsx(Y,{value:"em_andamento",children:"Em Andamento"}),o.jsx(Y,{value:"concluido",children:"Concludo"}),o.jsx(Y,{value:"cancelado",children:"Cancelado"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx(U,{variant:"ghost",className:"rounded-xl",onClick:()=>v("todos"),children:"Limpar"}),o.jsx(U,{className:"rounded-xl",children:"Aplicar"})]})]})})]})]}),o.jsxs(fr,{open:f,onOpenChange:F=>{m(F),F||(p(null),T(L))},children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"rounded-lg gap-2 h-9 px-3",children:[o.jsx(en,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Novo Agendamento"})]})}),o.jsxs(ir,{className:"sm:max-w-[650px] max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[o.jsx(Yt,{className:"h-5 w-5"}),h?"Editar Agendamento":"Novo Agendamento"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Wi,{className:"h-4 w-4"})," Informaes do Cliente"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ie,{children:"Cliente"}),o.jsxs(He,{value:E.cliente_id,onValueChange:F=>{const oe=l.find(_e=>_e.id===F);T(_e=>({..._e,cliente_id:F,cliente_nome:(oe==null?void 0:oe.nome)||"",tatuador:"",valor_estimado:0}))},children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione um cliente"})}),o.jsx(We,{children:l.map(F=>o.jsx(Y,{value:F.id,children:F.nome},F.id))})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Projeto"}),o.jsxs(He,{value:E.tatuador,onValueChange:F=>{const oe=u.find(_e=>_e.titulo===F)||u.find(_e=>_e.id===F);T(_e=>({..._e,tatuador:(oe==null?void 0:oe.titulo)||F,valor_estimado:typeof(oe==null?void 0:oe.valor_por_sessao)=="number"?oe.valor_por_sessao:_e.valor_estimado}))},children:[o.jsx(qe,{className:"rounded-xl",disabled:!E.cliente_id,children:o.jsx(Ke,{placeholder:E.cliente_id?"Selecione o projeto":"Selecione primeiro um cliente"})}),o.jsx(We,{children:u.filter(F=>F.cliente_id===E.cliente_id).map(F=>o.jsx(Y,{value:F.titulo,children:F.titulo},F.id))})]}),E.cliente_id&&u.filter(F=>F.cliente_id===E.cliente_id).length===0&&o.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx("span",{children:"Nenhum projeto para este cliente."}),o.jsx(U,{variant:"ghost",size:"sm",className:"rounded-xl px-2",onClick:()=>t(`/projetos?cliente=${E.cliente_id}`),children:"Criar projeto"})]})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(ra,{className:"h-4 w-4"})," Agendamento"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ie,{children:"Servio"}),o.jsxs(He,{value:E.servico,onValueChange:F=>T(oe=>({...oe,servico:F})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione o servio"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"Incio de projeto",children:"Incio de projeto"}),o.jsx(Y,{value:"Continuao",children:"Continuao"}),o.jsx(Y,{value:"Retoque",children:"Retoque"}),o.jsx(Y,{value:"Oramento",children:"Oramento"})]})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Data"}),o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[o.jsx(Yt,{className:"mr-2 h-4 w-4"}),E.data_agendamento?Mt(Fl(E.data_agendamento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Sr}):"dd/mm/aaaa"]})}),o.jsx(Io,{className:"w-auto p-0",align:"start",children:o.jsx(yf,{mode:"single",selected:E.data_agendamento?Fl(E.data_agendamento,"yyyy-MM-dd",new Date):void 0,onSelect:F=>{F&&T(oe=>({...oe,data_agendamento:Mt(F,"yyyy-MM-dd")}))},locale:Sr,initialFocus:!0})})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Hora Incio"}),o.jsxs("div",{className:"relative",children:[o.jsx(ra,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground pointer-events-none"}),o.jsx(de,{type:"time",step:"60",value:E.hora_inicio,onChange:F=>Ye("hora_inicio",F.target.value),onBlur:()=>Rt("hora_inicio"),className:"rounded-xl pl-9"})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Hora Fim"}),o.jsxs("div",{className:"relative",children:[o.jsx(ra,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground pointer-events-none"}),o.jsx(de,{type:"time",step:"60",value:E.hora_fim,onChange:F=>Ye("hora_fim",F.target.value),onBlur:()=>Rt("hora_fim"),className:"rounded-xl pl-9"})]})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(jn,{className:"h-4 w-4"})," Detalhes"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ie,{children:"Valor Estimado"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-sm text-muted-foreground",children:"R$"}),o.jsx(de,{type:"text",inputMode:"numeric",value:Wn(E.valor_estimado),onChange:V,placeholder:"0,00",className:"rounded-xl pl-10"})]})]}),o.jsxs("div",{children:[o.jsx(ie,{children:"Status"}),o.jsxs(He,{value:E.status,onValueChange:F=>T(oe=>({...oe,status:F})),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"agendado",children:"Agendado"}),o.jsx(Y,{value:"confirmado",children:"Confirmado"}),o.jsx(Y,{value:"em_andamento",children:"Em Andamento"}),o.jsx(Y,{value:"concluido",children:"Concludo"}),o.jsx(Y,{value:"cancelado",children:"Cancelado"})]})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(ie,{children:"Observaes"}),o.jsxs("div",{className:"relative",children:[o.jsx(jn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Nn,{value:E.observacoes,onChange:F=>T(oe=>({...oe,observacoes:F.target.value})),className:"rounded-xl pl-9 min-h-[80px]",placeholder:"Observaes sobre o agendamento...",rows:3})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[h&&E.status==="concluido"&&o.jsxs(U,{variant:"outline",onClick:()=>{B(h),ae(!0)},className:"rounded-xl gap-2 mr-auto",title:"Vincular Anlise de Custo",children:[o.jsx(Sb,{className:"w-4 h-4"}),"Vincular Anlise"]}),o.jsx(U,{variant:"outline",onClick:()=>{m(!1),p(null),T(L)},className:"rounded-xl",children:"Cancelar"}),o.jsx(U,{onClick:Zt,className:"rounded-xl",children:h?"Atualizar":"Criar"})]})]})]})]}),o.jsx(kt,{value:"calendar",className:"space-y-6",children:o.jsx(J9e,{appointments:se,onAppointmentMove:rn,onAppointmentClick:mn,onDateClick:xl,onAppointmentDelete:Cn})}),o.jsx(kt,{value:"list",className:"space-y-6",children:o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-0",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Cliente"}),o.jsx(ge,{children:"Data/Hora"}),o.jsx(ge,{children:"Servio"}),o.jsx(ge,{children:"Projeto"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Valor"}),o.jsx(ge,{children:"Aes"})]})}),o.jsx(is,{children:se.map(F=>o.jsxs(zt,{children:[o.jsx(fe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wi,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:F.cliente_nome})]})}),o.jsx(fe,{children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:Mt(Fl(F.data_agendamento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Sr})}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.hora_inicio," - ",F.hora_fim]})]})}),o.jsx(fe,{children:F.servico}),o.jsx(fe,{children:F.tatuador}),o.jsx(fe,{children:o.jsxs(He,{value:F.status,onValueChange:oe=>js(F.id,oe),children:[o.jsx(qe,{className:"w-32 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-2",children:[W(F.status),o.jsx(Ke,{})]})}),o.jsxs(We,{children:[o.jsx(Y,{value:"agendado",children:"Agendado"}),o.jsx(Y,{value:"confirmado",children:"Confirmado"}),o.jsx(Y,{value:"em_andamento",children:"Em Andamento"}),o.jsx(Y,{value:"concluido",children:"Concludo"}),o.jsx(Y,{value:"cancelado",children:"Cancelado"})]})]})}),o.jsx(fe,{children:Wn(F.valor_estimado)}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>wr(F),className:"rounded-xl",children:o.jsx(yi,{className:"w-4 h-4"})}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>Cn(F.id),className:"rounded-xl text-destructive",children:o.jsx(Jr,{className:"w-4 h-4"})}),F.status!=="concluido"&&F.status!=="cancelado"&&o.jsx(U,{variant:"default",onClick:()=>Jt(F),className:"rounded-xl",children:"Confirmar Sesso"}),F.status==="concluido"&&o.jsx(U,{variant:"outline",onClick:()=>{B(F),ae(!0)},className:"rounded-xl gap-2",title:"Vincular Anlise de Custo",children:o.jsx(Sb,{className:"w-4 h-4"})})]})})]},F.id))})]})})})})]}),o.jsx(tWe,{open:J,onOpenChange:F=>{ae(F),F||B(null)},onConfirm:nt,sessionId:$==null?void 0:$.id})]})})}const nWe=ws({nome:$e().min(2,"Nome muito curto"),banco:$e().optional(),banco_id:$e().uuid().optional(),agencia:$e().optional(),numero:$e().optional(),tipo:$e().optional(),moeda:$e().default("BRL"),saldo_inicial:wn({invalid_type_error:"Saldo inicial deve ser numrico"}).nonnegative("Saldo inicial no pode ser negativo").default(0)});function Jp(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=async m=>{try{if(!t)return;a(!0);let p=(tr?rr:X).from("contas_bancarias").select(`
          *,
          banco_detalhes:bancos(*)
        `).eq("user_id",t.id).order("nome",{ascending:!0});m!=null&&m.incluirArquivadas||(p=p.eq("is_arquivada",!1));const{data:g,error:v}=await p;if(v)throw v;const b=(g||[]).map(y=>({...y,banco_detalhes:y.banco_detalhes||null}));n(b),l(null)}catch(h){console.error("Erro ao carregar contas_bancarias:",h),l((h==null?void 0:h.message)||"Erro desconhecido"),e({title:"Erro ao carregar contas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},u=async m=>{try{if(!t)throw new Error("Usurio no autenticado");const h=nWe.parse(m),p={...h,user_id:t.id,banco:h.banco??null,banco_id:h.banco_id??null,agencia:h.agencia??null,numero:h.numero??null,tipo:h.tipo??null},g=tr?rr:X,{data:v,error:b}=await g.from("contas_bancarias").insert(p).select("*, banco_detalhes:bancos(*)");if(b)throw b;if(v&&v.length){const y={...v[0],banco_detalhes:v[0].banco_detalhes||null};n(w=>[y,...w])}else await c();e({title:"Conta criada",description:"Conta bancria salva com sucesso."})}catch(h){throw console.error("Erro ao inserir em contas_bancarias:",h),e({title:"Erro ao criar conta",description:h.message||"Verifique os dados.",variant:"destructive"}),h}},d=async(m,h)=>{try{if(!t)throw new Error("Usurio no autenticado");const p={...h};p.saldo_inicial!==void 0&&(p.saldo_inicial=Number(p.saldo_inicial));const g=tr?rr:X,{data:v,error:b}=await g.from("contas_bancarias").update(p).select("*").eq("id",m).eq("user_id",t.id);if(b)throw b;if(v&&v.length){const y=v[0];n(w=>w.map(N=>N.id===y.id?y:N))}else await c();e({title:"Conta atualizada",description:"Alteraes salvas com sucesso."})}catch(p){throw console.error("Erro ao atualizar contas_bancarias:",p),e({title:"Erro ao atualizar",description:p.message||"Tente novamente.",variant:"destructive"}),p}},f=async m=>{try{if(!t)throw new Error("Usurio no autenticado");const h=tr?rr:X,{data:p,error:g}=await h.from("contas_bancarias").update({is_arquivada:!0,arquivado_em:new Date().toISOString()}).select("*").eq("id",m).eq("user_id",t.id);if(g)throw g;if(p&&p.length){const v=p[0];n(b=>b.filter(y=>y.id!==v.id))}else n(v=>v.filter(b=>b.id!==m));e({title:"Conta arquivada",description:"A conta foi arquivada."})}catch(h){throw console.error("Erro ao arquivar conta:",h),e({title:"Erro ao arquivar",description:h.message||"Tente novamente.",variant:"destructive"}),h}};return x.useEffect(()=>{if(c(),!t)return;const m=tr?rr:X,h=m.channel("realtime-contas-bancarias").on("postgres_changes",{event:"INSERT",schema:"public",table:"contas_bancarias",filter:`user_id=eq.${t.id}`},p=>{const g=p.new;g!=null&&g.is_arquivada||n(v=>[g,...v])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"contas_bancarias",filter:`user_id=eq.${t.id}`},p=>{const g=p.new;n(v=>g!=null&&g.is_arquivada?v.filter(b=>b.id!==g.id):v.map(b=>b.id===g.id?g:b))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"contas_bancarias",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.filter(v=>{var b;return v.id!==((b=p.old)==null?void 0:b.id)}))}).subscribe();return()=>{m.removeChannel(h)}},[t==null?void 0:t.id]),{items:r,loading:s,error:i,fetchAll:c,insert:u,update:d,archive:f}}const sWe=["Corrente","Poupana","Salrio","Investimento","Outros"],aWe=["BRL","USD","EUR"];function oWe({transacoes:t,onTransacaoClick:e,onDateClick:r}){const[n,s]=x.useState(new Date),a=()=>{s(g=>new Date(g.getFullYear(),g.getMonth()-1,1))},i=()=>{s(g=>new Date(g.getFullYear(),g.getMonth()+1,1))},l=()=>{s(new Date)},c=x.useMemo(()=>{const g=n.getFullYear(),v=n.getMonth(),b=new Date(g,v,1),y=new Date(g,v+1,0),w=new Date(b);w.setDate(w.getDate()-b.getDay());const N=new Date(y);N.setDate(N.getDate()+(6-y.getDay()));const j=[],_=new Date(w);for(;_<=N;)j.push(new Date(_)),_.setDate(_.getDate()+1);return j},[n]),u=g=>g.toISOString().split("T")[0],d=g=>g.toDateString()===new Date().toDateString(),f=g=>g.getMonth()===n.getMonth(),m=x.useMemo(()=>n.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),[n]),h=x.useMemo(()=>{const g={};return t.forEach(v=>{const b=v.data_vencimento;g[b]||(g[b]=[]),g[b].push(v)}),Object.keys(g).forEach(v=>{g[v].sort((b,y)=>Number(y.valor)-Number(b.valor))}),g},[t]),p=(g,v)=>g==="RECEITA"?"bg-success/10 text-success border-success/20":"bg-destructive/10 text-destructive border-destructive/20";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold capitalize",children:m}),o.jsx(U,{variant:"outline",size:"sm",onClick:l,className:"rounded-xl",children:"Hoje"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"outline",size:"icon",onClick:a,className:"rounded-xl",children:o.jsx(kp,{className:"h-4 w-4"})}),o.jsx(U,{variant:"outline",size:"icon",onClick:i,className:"rounded-xl",children:o.jsx(Du,{className:"h-4 w-4"})})]})]}),o.jsx(ne,{className:"rounded-2xl overflow-hidden",children:o.jsxs(he,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(g=>o.jsx("div",{className:"p-4 text-center font-medium text-muted-foreground bg-muted/30",children:g},g))}),o.jsx("div",{className:"grid grid-cols-7",children:c.map((g,v)=>{const b=u(g),y=h[b]||[],w=d(g),N=f(g);return o.jsxs("div",{className:`min-h-[120px] border-r border-b p-2 transition-all duration-200 ${N?"hover:bg-muted/50":"bg-muted/20 text-muted-foreground"} ${w?"bg-blue-50 dark:bg-blue-950/50 border-blue-200 dark:border-blue-800":""}`,onClick:()=>r==null?void 0:r(b),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:`text-sm font-medium ${w?"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":""} ${N?"":"text-muted-foreground"}`,children:g.getDate()}),N&&o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:j=>{j.stopPropagation(),r==null||r(b)},children:o.jsx(en,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-1",children:[y.slice(0,3).map(j=>o.jsx("div",{className:"transition-transform duration-200 hover:scale-105",children:o.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1 text-xs ${p(j.tipo,!!j.data_liquidacao)}`,onClick:_=>{_.stopPropagation(),e==null||e(j)},children:[o.jsxs("div",{className:"flex items-center gap-2 truncate",children:[o.jsx(Ge,{variant:"outline",className:"rounded-full px-1 text-[10px]",children:j.tipo}),o.jsx("span",{className:"truncate",children:j.categoria})]}),o.jsxs("span",{className:"font-medium",children:["R$ ",Number(j.valor).toFixed(2)]})]})},j.id)),y.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-1",children:["+",y.length-3," mais"]})]})]},v)})})]})}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{children:"Receitas"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("span",{children:"Despesas"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ge,{variant:"outline",className:"rounded-full px-2",children:"Liquidada"}),o.jsx("span",{className:"text-muted-foreground",children:"quando aplicvel"})]})]})]})}const sO=t=>String(t||"").toLowerCase();function T_(t,e,r){const n=String(t||""),s=e.find(d=>String(d.id)===n),a=Number((s==null?void 0:s.saldo_inicial)||0),i=(r||[]).filter(d=>{const f=String(d.conta_id||"")===n,h=Object.prototype.hasOwnProperty.call(d,"data_liquidacao")?!!d.data_liquidacao:!0;return f&&h}),l=i.filter(d=>{const f=sO(d.tipo);return f==="receita"||f==="entrada"}).reduce((d,f)=>d+Number(f.valor||0),0),c=i.filter(d=>{const f=sO(d.tipo);return f==="despesa"||f==="saida"}).reduce((d,f)=>d+Number(f.valor||0),0),u=a+l-c;return{saldoInicial:a,entradas:l,saidas:c,saldoAtual:u}}function uZ(t,e,r,n){const s=sO(e),a=s==="receita"||s==="entrada",i=Number(r||0);return a?t+i:t-i}function CB({value:t,onChange:e,placeholder:r,options:n,disabled:s,error:a}){const[i,l]=x.useState(!1),c=x.useRef(null);console.log("CustomSelect renderizado:",{optionsCount:n.length,options:n.slice(0,3),isOpen:i,value:t,disabled:s}),x.useEffect(()=>{function d(f){c.current&&!c.current.contains(f.target)&&l(!1)}if(i)return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[i]);const u=n.find(d=>d.value===t);return console.log("Selected option:",u),o.jsxs("div",{className:"relative",ref:c,children:[o.jsxs("button",{type:"button",disabled:s,onClick:()=>{console.log("Boto clicado, isOpen atual:",i,"novo valor:",!i),l(!i)},className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a&&"border-red-500",i&&"ring-2 ring-ring ring-offset-2"),children:[o.jsx("span",{className:Ne("truncate",!u&&"text-muted-foreground"),children:u?o.jsxs("div",{className:"flex items-center gap-2",children:[u.color&&o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:u.color}}),u.label]}):r}),o.jsx(qT,{className:"h-4 w-4 opacity-50"})]}),i&&o.jsxs("div",{className:"absolute z-[200] w-full mt-1 rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",children:[console.log("Renderizando dropdown, isOpen:",i,"options:",n.length),o.jsx("div",{className:"max-h-60 overflow-auto p-1",children:n.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"Nenhuma opo disponvel"}):n.map(d=>o.jsxs("button",{type:"button",onClick:()=>{e(d.value),l(!1)},className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",t===d.value&&"bg-accent text-accent-foreground"),children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t===d.value&&o.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{className:"flex items-center gap-2",children:[d.color&&o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:d.color}}),d.label]})]},d.value))})]})]})}function iWe({value:t,onChange:e,options:r,placeholder:n}){return console.log("SimpleSelect recebido:",{value:t,optionsCount:r.length,firstOptions:r.slice(0,3),allOptions:r}),o.jsxs("div",{className:"space-y-2",children:[console.log("Renderizando select HTML com",r.length,"opes"),o.jsxs("select",{value:t,onChange:s=>e(s.target.value),className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[o.jsx("option",{value:"",children:n||"Selecione..."}),r&&r.length>0?r.map(s=>(console.log("Renderizando option:",s.value,s.label),o.jsx("option",{value:s.value,children:s.label},s.value))):o.jsx("option",{value:"",disabled:!0,children:"Nenhuma opo disponvel"})]})]})}const lWe=ws({nome:$e().min(2,"Nome da conta muito curto"),banco_id:$e().uuid("Selecione um banco vlido"),agencia:$e().optional(),numero:$e().optional(),tipo:$e().optional(),moeda:$e().default("BRL"),saldo_inicial:wn().nonnegative("Saldo inicial no pode ser negativo").default(0)});function dZ(){console.log("TabelaGestaoBancos renderizando");const{user:t,loading:e}=Fr();console.log("User:",t==null?void 0:t.id,"AuthLoading:",e);const{items:r,fetchAll:n,insert:s,update:a,archive:i}=Jp(),[l,c]=x.useState([]),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[h,p]=x.useState(!1),[g,v]=x.useState(!1),[b,y]=x.useState(null),[w,N]=x.useState({nome:"",banco_id:"",agencia:"",numero:"",tipo:"",moeda:"BRL",saldo_inicial:0});console.log("Estado formData:",w),console.log("Estado bancos:",l.length,"bancos");const[j,_]=x.useState({}),[S,C]=x.useState({nome_curto:"",nome_completo:"",codigo:"",cor_primaria:"#1e40af"}),[k,A]=x.useState({});x.useEffect(()=>{console.log("useEffect user disparado, user:",t==null?void 0:t.id),t?(console.log("User detectado, carregando dados..."),O(),n()):console.log("User no detectado")},[t]),x.useEffect(()=>{console.log("Componente montado, verificando user..."),t&&(console.log("User j disponvel, carregando bancos..."),O())},[]),x.useEffect(()=>{console.log("AuthLoading mudou:",e),!e&&t&&(console.log("Auth completo, user disponvel, carregando bancos..."),O())},[e,t]),x.useEffect(()=>{const M=setInterval(()=>{t&&l.length===0&&!u&&(console.log("Bancos vazio, recarregando..."),O())},2e3);return()=>clearInterval(M)},[t,l.length,u]),x.useEffect(()=>{console.log("useEffect dialog fechado disparado:",{isAddBankDialogOpen:h,user:!!t,timestamp:new Date().toISOString()}),!h&&t&&(console.log("Dialog de adicionar banco fechado, recarregando bancos..."),O().then(()=>{console.log("fetchBancos concludo aps fechar dialog")}).catch(M=>{console.error("Erro ao recarregar bancos aps fechar dialog:",M)}))},[h,t]),x.useEffect(()=>{if(console.log("Estado bancos mudou:",l.length,"bancos"),console.log("Bancos atuais:",l.map(M=>({id:M.id,nome_curto:M.nome_curto}))),l.length>0){const M=l.slice(-3);console.log("ltimos bancos adicionados:",M)}},[l]),x.useEffect(()=>{console.log("Dialog aberto:",f),f&&(console.log("Dialog aberto, garantindo que bancos esto carregados"),l.length===0&&O())},[f]);const O=async()=>{if(t){console.log("fetchBancos chamado");try{console.log("Iniciando fetchBancos..."),d(!0),console.log("Fazendo query no Supabase...");let M=X.from("bancos").select("*").order("nome_curto",{ascending:!0});console.log("Query construda, executando...");const{data:W,error:re}=await M;if(console.log("Dados recebidos:",(W==null?void 0:W.length)||0,"bancos"),console.log("Primeiros bancos:",W==null?void 0:W.slice(0,3)),console.log("Erro:",re),re)throw console.error("Erro na query:",re),console.error("Cdigo do erro:",re.code),console.error("Mensagem:",re.message),re;console.log("Atualizando estado com bancos...");const se=Array.isArray(W)?W:W?[W]:[];c(se),console.log("Bancos atualizados no estado:",se.length)}catch(M){console.error("Erro ao carregar bancos:",M),console.error("Tipo do erro:",typeof M),console.error("Detalhes completos do erro:",JSON.stringify(M,null,2));let W="Erro ao carregar lista de bancos";M instanceof Error?W=`Erro: ${M.message}`:typeof M=="string"?W=M:M&&typeof M=="object"&&"message"in M&&(W=`Erro: ${M.message}`),Be.toast.error(W)}finally{d(!1)}}},P=async M=>{M.preventDefault();try{if(!t){Be.toast.error("Voc precisa estar logado");return}const W=lWe.parse(w);_({}),g&&b?(await a(b,W),Be.toast.success("Conta bancria atualizada com sucesso!")):(await s(W),Be.toast.success("Conta bancria criada com sucesso!")),m(!1),R()}catch(W){if(W instanceof ul){const re={};W.errors.forEach(se=>{se.path[0]&&(re[se.path[0].toString()]=se.message)}),_(re)}else Be.toast.error(W.message||"Erro ao salvar conta")}},R=()=>{N({nome:"",banco_id:"",agencia:"",numero:"",tipo:"",moeda:"BRL",saldo_inicial:0}),_({}),v(!1),y(null)},I=async M=>{M.preventDefault(),console.log("handleAddNewBank chamado"),console.log("Dados do novo banco:",S),console.log("Usurio atual:",t==null?void 0:t.id);try{const W={};if(S.nome_curto.trim()||(W.nome_curto="Nome curto  obrigatrio"),S.nome_completo.trim()||(W.nome_completo="Nome completo  obrigatrio"),S.codigo.trim()||(W.codigo="Cdigo do banco  obrigatrio"),Object.keys(W).length>0){console.log("Erros de validao:",W),A(W);return}if(!t){Be.toast.error("Voc precisa estar logado para adicionar um banco");return}console.log("Iniciando insero no Supabase..."),console.log("Preparando dados para insero:",{nome_curto:S.nome_curto.trim(),nome:S.nome_completo.trim(),codigo:S.codigo.trim(),cor_primaria:S.cor_primaria,ativo:!0});const{data:re,error:se}=await X.from("bancos").insert([{nome_curto:S.nome_curto.trim(),nome:S.nome_completo.trim(),codigo:S.codigo.trim(),cor_primaria:S.cor_primaria,ativo:!0,user_id:t.id}]).select().single();if(console.log("Resultado da insero:",{data:re,error:se}),se){console.error("Erro do Supabase:",se),console.error("Cdigo do erro:",se.code),console.error("Mensagem:",se.message),console.error("Detalhes:",se.details),console.error("Dica:",se.hint),se.code==="42501"?Be.toast.error("Permisso negada. Verifique as configuraes de segurana."):se.code==="23505"?Be.toast.error("Cdigo de banco j existe. Use um cdigo diferente."):se.code==="23502"?Be.toast.error(`Campo obrigatrio faltando: ${se.column_name}`):se.code==="23503"?Be.toast.error("Violao de chave estrangeira."):Be.toast.error(se.message||"Erro ao adicionar banco");return}console.log("Banco inserido com sucesso:",re);try{console.log("Atualizando lista de bancos..."),await O(),console.log("Lista de bancos atualizada")}catch(je){console.error("Erro ao atualizar lista:",je),console.error("Tipo do erro na atualizao:",typeof je),console.error("Stack do erro:",je instanceof Error?je.stack:"N/A")}console.log("Selecionando novo banco no formulrio:",re.id),N(je=>({...je,banco_id:re.id})),console.log("Limpando formulrio e fechando dialog..."),C({nome_curto:"",nome_completo:"",codigo:"",cor_primaria:"#1e40af"}),A({}),p(!1),Be.toast.success("Banco adicionado com sucesso!"),console.log("Processo de adio de banco concludo com sucesso")}catch(W){console.error("Erro geral ao adicionar banco:",W),Be.toast.error("Erro inesperado ao adicionar banco")}},$=()=>{console.log("Abrindo dialog novo"),R(),m(!0),O()},B=M=>{v(!0),y(M.id),N({nome:M.nome,banco_id:M.banco_id||"",agencia:M.agencia||"",numero:M.numero||"",tipo:M.tipo||"",moeda:M.moeda||"BRL",saldo_inicial:M.saldo_inicial||0}),m(!0)},L=async M=>{try{await i(M),Be.toast.success("Conta bancria removida com sucesso!")}catch(W){Be.toast.error(W.message||"Erro ao remover conta")}},E=M=>M?l.find(W=>W.id===M):null,T=M=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M),q=r.length,Z=r.reduce((M,W)=>M+(W.saldo_inicial||0),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:o.jsx(lu,{className:"w-5 h-5 text-primary"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Contas"})]}),o.jsx("p",{className:"text-2xl font-semibold text-foreground",children:q})]}),o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:o.jsx(_n,{className:"w-5 h-5 text-primary"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Total"})]}),o.jsx("p",{className:"text-2xl font-semibold text-foreground",children:T(Z)})]}),o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:o.jsx(Zr,{className:"w-5 h-5 text-primary"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bancos Vinculados"})]}),o.jsx("p",{className:"text-2xl font-semibold text-foreground",children:l.length})]})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Contas Bancrias"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gerencie suas contas bancrias"})]}),o.jsxs(fr,{open:f,onOpenChange:m,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{onClick:$,className:"rounded-lg gap-2",children:[o.jsx(en,{className:"w-4 h-4"}),"Nova Conta"]})}),o.jsxs(ir,{className:"rounded-xl max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsx(cr,{children:g?"Editar Conta":"Nova Conta Bancria"})}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"nome",children:"Nome da Conta *"}),o.jsx(de,{id:"nome",value:w.nome,onChange:M=>N({...w,nome:M.target.value}),placeholder:"Ex: Conta Principal",className:j.nome?"border-red-500":""}),j.nome&&o.jsx("p",{className:"text-sm text-red-500",children:j.nome})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ie,{htmlFor:"banco",children:"Banco *"}),o.jsxs(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(!0),className:"h-8 px-2 text-xs",children:[o.jsx(en,{className:"h-3 w-3 mr-1"}),"Adicionar Banco"]}),w.banco_id&&o.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:async()=>{if(!(!t||!w.banco_id))try{const{error:M}=await X.from("bancos").delete().eq("id",w.banco_id).eq("user_id",t.id);if(M)throw M;N(W=>({...W,banco_id:""})),await O(),Be.toast.success("Banco removido")}catch(M){Be.toast.error(M.message||"Erro ao remover banco")}},className:"h-8 px-2 text-xs",children:"Excluir Banco"})]}),console.log("Renderizando SimpleSelect, bancos:",(l==null?void 0:l.length)||0,"loadingBancos:",u),o.jsx(iWe,{value:w.banco_id,onChange:M=>N({...w,banco_id:M}),placeholder:u?"Carregando bancos...":"Selecione um banco",options:Array.isArray(l)?l.filter(M=>M.user_id===(t==null?void 0:t.id)).map(M=>({value:M.id,label:M.nome_curto})):[]}),j.banco_id&&o.jsx("p",{className:"text-sm text-red-500",children:j.banco_id}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Total de bancos: ",Array.isArray(l)?l.filter(M=>M.user_id===(t==null?void 0:t.id)).length:0," ",u&&"(carregando...)"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"agencia",children:"Agncia"}),o.jsx(de,{id:"agencia",value:w.agencia,onChange:M=>N({...w,agencia:M.target.value}),placeholder:"Ex: 1234"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"numero",children:"Nmero da Conta"}),o.jsx(de,{id:"numero",value:w.numero,onChange:M=>N({...w,numero:M.target.value}),placeholder:"Ex: 56789-0"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"tipo",children:"Tipo de Conta"}),o.jsx(CB,{value:w.tipo||"",onChange:M=>N({...w,tipo:M}),placeholder:"Selecione o tipo",options:sWe.map(M=>({value:M,label:M}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"moeda",children:"Moeda"}),o.jsx(CB,{value:w.moeda,onChange:M=>N({...w,moeda:M}),placeholder:"Selecione a moeda",options:aWe.map(M=>({value:M,label:M}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"saldo_inicial",children:"Saldo Inicial"}),o.jsx(de,{id:"saldo_inicial",type:"number",step:"0.01",min:"0",value:w.saldo_inicial,onChange:M=>N({...w,saldo_inicial:parseFloat(M.target.value)||0}),placeholder:"0,00"})]}),o.jsx(U,{type:"submit",className:"w-full",children:g?"Salvar Alteraes":"Criar Conta"})]})]})]})]})}),o.jsx("div",{className:"p-0",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Conta"}),o.jsx(ge,{children:"Banco"}),o.jsx(ge,{children:"Agncia"}),o.jsx(ge,{children:"Nmero"}),o.jsx(ge,{children:"Tipo"}),o.jsx(ge,{children:"Moeda"}),o.jsx(ge,{children:"Saldo Inicial"}),o.jsx(ge,{className:"text-right",children:"Aes"})]})}),o.jsxs(is,{children:[r.map(M=>{const W=E(M.banco_id);return o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:M.nome}),o.jsx(fe,{children:W&&o.jsxs("div",{className:"flex items-center gap-2",children:[W.logo_url?o.jsx("img",{src:W.logo_url,alt:W.nome_curto,className:"w-5 h-5 rounded-sm object-contain",referrerPolicy:"no-referrer",onError:re=>{re.currentTarget.src="/placeholder.svg"}}):o.jsx("div",{className:"w-5 h-5 rounded-sm flex items-center justify-center",style:{backgroundColor:W.cor_primaria},children:o.jsx(lu,{className:"w-3 h-3 text-white/90"})}),o.jsx("span",{children:W.nome_curto})]})}),o.jsx(fe,{children:M.agencia||""}),o.jsx(fe,{children:M.numero||""}),o.jsx(fe,{children:o.jsx(Ge,{variant:"outline",children:M.tipo||"No definido"})}),o.jsx(fe,{children:M.moeda||"BRL"}),o.jsx(fe,{className:"font-medium",children:T(M.saldo_inicial||0)}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsxs(U,{onClick:()=>B(M),variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(fw,{className:"w-4 h-4"}),"Editar"]}),o.jsxs(Ux,{children:[o.jsx(nO,{asChild:!0,children:o.jsx(U,{variant:"destructive",size:"sm",className:"gap-2",children:o.jsx(Jr,{className:"w-4 h-4"})})}),o.jsxs(ip,{className:"rounded-xl",children:[o.jsxs(lp,{children:[o.jsx(up,{children:"Confirmar excluso"}),o.jsxs(dp,{children:['Tem certeza que deseja remover a conta "',M.nome,'"? Esta ao no pode ser desfeita.']})]}),o.jsxs(cp,{children:[o.jsx(hp,{className:"rounded-xl",children:"Cancelar"}),o.jsx(fp,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>L(M.id),children:"Remover"})]})]})]})]})})]},M.id)}),r.length===0&&o.jsx(zt,{children:o.jsxs(fe,{colSpan:8,className:"text-center text-gray-500 py-8",children:["Nenhuma conta bancria encontrada.",o.jsx("br",{}),o.jsx("span",{className:"text-sm",children:'Clique em "Nova Conta" para comear.'})]})})]})]})})]}),o.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:o.jsx(U,{onClick:async()=>{console.log(" DEBUG: Testando banco simples...");try{const M={nome_curto:"Banco Teste Simples",nome:"Banco Teste Simples S.A.",codigo:"555",cor_primaria:"#FF5733",ativo:!0};console.log("Inserindo:",M);const{data:W,error:re}=await X.from("bancos").insert([M]).select().single();console.log("Resultado:",{data:W,error:re}),re?Be.toast.error(`Erro: ${re.message}`):(Be.toast.success("Banco teste inserido!"),O())}catch(M){console.error("Erro:",M),Be.toast.error("Erro no teste")}},className:"bg-red-500 text-white text-xs px-2 py-1 h-8",children:" Test"})}),o.jsx(fr,{open:h,onOpenChange:p,children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsx(cr,{children:"Adicionar Novo Banco"})}),o.jsxs("form",{onSubmit:I,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"nome_curto",children:"Nome Curto *"}),o.jsx(de,{id:"nome_curto",value:S.nome_curto,onChange:M=>C({...S,nome_curto:M.target.value}),placeholder:"Ex: Banco do Brasil",className:k.nome_curto?"border-red-500":""}),k.nome_curto&&o.jsx("p",{className:"text-sm text-red-500",children:k.nome_curto})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"nome_completo",children:"Nome Completo *"}),o.jsx(de,{id:"nome_completo",value:S.nome_completo,onChange:M=>C({...S,nome_completo:M.target.value}),placeholder:"Ex: Banco do Brasil S.A.",className:k.nome_completo?"border-red-500":""}),k.nome_completo&&o.jsx("p",{className:"text-sm text-red-500",children:k.nome_completo})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"codigo",children:"Cdigo do Banco *"}),o.jsx(de,{id:"codigo",value:S.codigo,onChange:M=>C({...S,codigo:M.target.value}),placeholder:"Ex: 001",className:k.codigo?"border-red-500":""}),k.codigo&&o.jsx("p",{className:"text-sm text-red-500",children:k.codigo})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"cor_primaria",children:"Cor Primria"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(de,{id:"cor_primaria",type:"color",value:S.cor_primaria,onChange:M=>C({...S,cor_primaria:M.target.value}),className:"w-20 h-10"}),o.jsx(de,{value:S.cor_primaria,onChange:M=>C({...S,cor_primaria:M.target.value}),placeholder:"#1e40af",className:"flex-1"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancelar"}),o.jsx(U,{type:"submit",className:"flex-1",children:"Adicionar Banco"})]})]})]})})]})}const fZ=ws({tipo:ns(["RECEITA","DESPESA","APORTE"]),categoria:$e().min(1),valor:wn().nonnegative(),data_vencimento:$e().min(1),descricao:$e().min(2),agendamento_id:$e().optional().nullable().or(zx("")),data_liquidacao:$e().optional().nullable(),conta_id:$e().optional().nullable().or(zx(""))});function P_(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=x.useMemo(()=>{const h=r.filter(b=>b.tipo==="RECEITA"&&b.data_liquidacao),p=r.filter(b=>b.tipo==="DESPESA"&&b.data_liquidacao),g=h.reduce((b,y)=>b+(Number(y.valor)||0),0),v=p.reduce((b,y)=>b+(Number(y.valor)||0),0);return{totalReceitas:g,totalDespesas:v,saldo:g-v}},[r]),u=async()=>{try{if(!t)return;a(!0);const h=tr?rr:X,{data:p,error:g}=await h.from("financeiro_tattoo").select("*").eq("user_id",t.id).order("data_vencimento",{ascending:!1});if(g)throw g;n(p||[]),l(null)}catch(h){console.error("Erro ao carregar financeiro_tattoo:",h),l((h==null?void 0:h.message)||"Erro desconhecido"),e({title:"Erro ao carregar dados",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},d=async h=>{try{if(!t)throw new Error("Usurio no autenticado");const p=fZ.parse(h),g={user_id:t.id,tipo:p.tipo,categoria:p.categoria,valor:p.valor,data_vencimento:p.data_vencimento,descricao:p.descricao,agendamento_id:p.agendamento_id||null,data_liquidacao:p.data_liquidacao??null,conta_id:p.conta_id||null},v=tr?rr:X,{data:b,error:y}=await v.from("financeiro_tattoo").insert(g).select("*");if(y)throw y;n(w=>b?[b[0],...w]:w),e({title:"Registro criado",description:"Fluxo de caixa geral salvo com sucesso."})}catch(p){throw console.error("Erro ao inserir em financeiro_tattoo:",p),e({title:"Erro ao criar registro",description:p.message||"Verifique os dados.",variant:"destructive"}),p}},f=async(h,p)=>{try{if(!t)throw new Error("Usurio no autenticado");const g={...p};g.valor!==void 0&&(g.valor=Number(g.valor));const v=tr?rr:X,{data:b,error:y}=await v.from("financeiro_tattoo").update(g).select("*").eq("id",h).eq("user_id",t.id);if(y)throw y;if(b&&b.length){const w=b[0];n(N=>N.map(j=>j.id===w.id?w:j))}else await u();e({title:"Registro atualizado",description:"Alteraes salvas com sucesso."})}catch(g){throw console.error("Erro ao atualizar financeiro_tattoo:",g),e({title:"Erro ao atualizar",description:g.message||"Tente novamente.",variant:"destructive"}),g}},m=async h=>{try{if(!t)throw new Error("Usurio no autenticado");const p=tr?rr:X,{error:g}=await p.from("financeiro_tattoo").delete().eq("id",h).eq("user_id",t.id);if(g)throw g;n(v=>v.filter(b=>b.id!==h)),e({title:"Registro removido",description:"Fluxo de caixa geral excludo."})}catch(p){throw console.error("Erro ao remover financeiro_tattoo:",p),e({title:"Erro ao remover",description:p.message||"Tente novamente.",variant:"destructive"}),p}};return x.useEffect(()=>{if(u(),!t)return;const h=tr?rr:X,p=h.channel("realtime-financeiro_tattoo").on("postgres_changes",{event:"INSERT",schema:"public",table:"financeiro_tattoo",filter:`user_id=eq.${t.id}`},g=>{n(v=>[g.new,...v])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"financeiro_tattoo",filter:`user_id=eq.${t.id}`},g=>{n(v=>v.map(b=>b.id===g.new.id?g.new:b))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"financeiro_tattoo",filter:`user_id=eq.${t.id}`},g=>{n(v=>v.filter(b=>b.id!==g.old.id))}).subscribe();return()=>{h.removeChannel(p)}},[t==null?void 0:t.id]),{items:r,stats:c,loading:s,error:i,fetchAll:u,insert:d,update:f,remove:m}}const zC=["Pagamento de Cliente","Adiantamento","Projeto Concludo","Consultoria","Manuteno","Outros"],VC=["Fornecedor","Salrio","Infraestrutura","Marketing","Equipamento","Material","Outros"],cWe=()=>{x.useEffect(()=>{document.title="Financeiro Tattoo - Noxus"},[]);const{user:t}=Fr(),{items:e}=Jp(),{items:r}=P_(),[n,s]=x.useState([]),[a,i]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,m]=x.useState(null),[h,p]=x.useState(!1),[g,v]=x.useState(null),[b,y]=x.useState(""),[w,N]=x.useState(new Date().toISOString().split("T")[0]),[j,_]=x.useState("TODOS"),[S,C]=x.useState("TODOS"),[k,A]=x.useState("TODOS"),[O,P]=x.useState("TODAS"),[R,I]=x.useState({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:"",descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),$=R.conta_id||"",B=T_($,e,r),L=uZ(Number(B.saldoAtual||0),R.tipo,Number(parseFloat(R.valor||"0")||0)),E=D=>{if(D==="")return"";const K=Number(D);return isFinite(K)?K.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},T=D=>{const K=String(D.target.value).replace(/\D/g,"");if(!K){I({...R,valor:""});return}const J=(parseInt(K,10)/100).toFixed(2);I({...R,valor:J})};x.useEffect(()=>{t&&(q(),Z())},[t]);const q=async()=>{const{data:D,error:K}=await X.from("transacoes").select(`
        *,
        agendamentos (
          titulo
        )
      `).order("data_vencimento",{ascending:!1});if(K)Be.toast.error("Erro ao carregar transaes"),console.error(K);else{s((D==null?void 0:D.map(H=>({...H,tipo:H.tipo})))||[]);try{const H=tr?rr:X,J=(D||[]).filter(ae=>!!ae.data_liquidacao&&!!ae.conta_id);for(const ae of J){const me={user_id:ae.user_id,descricao:ae.descricao,valor:ae.valor,categoria:ae.categoria,data_vencimento:ae.data_vencimento,conta_id:ae.conta_id,data_liquidacao:ae.data_liquidacao},{data:Je}=await H.from("financeiro_tattoo").select("id").match(me).limit(1);(!Je||!Je.length)&&await H.from("financeiro_tattoo").insert({user_id:ae.user_id,tipo:ae.tipo,categoria:ae.categoria,valor:Number(ae.valor||0),data_vencimento:ae.data_vencimento,descricao:ae.descricao,agendamento_id:ae.agendamento_id||null,data_liquidacao:ae.data_liquidacao,conta_id:ae.conta_id})}}catch{}}},Z=async()=>{const{data:D,error:K}=await X.from("agendamentos").select(`
        id, 
        titulo, 
        data,
        projetos (
          clientes (
            nome
          )
        )
      `).order("data",{ascending:!1});K?console.error(K):i(D||[])},M=async D=>{try{const{data:K,error:H}=await X.from("transacoes").select("*").eq("id",D).single();if(H||!K||!K.data_liquidacao||!K.conta_id)return;const J=tr?rr:X,ae={user_id:K.user_id,descricao:K.descricao,valor:K.valor,categoria:K.categoria,data_vencimento:K.data_vencimento,conta_id:K.conta_id,data_liquidacao:K.data_liquidacao},{data:me,error:Je}=await J.from("financeiro_tattoo").select("id").match(ae).limit(1);if(Je||me&&me.length)return;const nt={user_id:K.user_id,tipo:K.tipo,categoria:K.categoria,valor:Number(K.valor||0),data_vencimento:K.data_vencimento,descricao:K.descricao,agendamento_id:K.agendamento_id||null,data_liquidacao:K.data_liquidacao,conta_id:K.conta_id};await J.from("financeiro_tattoo").insert(nt)}catch{}},W=async D=>{if(D.preventDefault(),!t){Be.toast.error("Voc precisa estar logado");return}if(u&&f){const K={tipo:R.tipo,categoria:R.categoria,valor:parseFloat(R.valor),data_vencimento:R.data_vencimento,descricao:R.descricao,agendamento_id:R.agendamento_id||null,conta_id:R.conta_id||null},{error:H}=await X.from("transacoes").update(K).eq("id",f);if(H){const J=String(H.message||"");if(J.includes("conta_id")||J.includes("schema cache")){const me={...K};delete me.conta_id;const{error:Je}=await X.from("transacoes").update(me).eq("id",f);Je?(Be.toast.error("Erro ao atualizar transao"),console.error(Je)):(Be.toast.warning("Transao atualizada sem vincular conta. Aplique a migration de conta_id."),c(!1),d(!1),m(null),q(),await M(f))}else Be.toast.error("Erro ao atualizar transao"),console.error(H)}else Be.toast.success("Transao atualizada com sucesso!"),c(!1),d(!1),m(null),q(),await M(f)}else{const K=new Date().toISOString().split("T")[0];if(R.tipo==="APORTE"){if(!R.conta_id||!R.conta_destino_id){Be.toast.error("Selecione a conta de origem e a conta destino");return}if(R.conta_id===R.conta_destino_id){Be.toast.error("Conta origem e destino devem ser diferentes");return}const H=parseFloat(R.valor),J={user_id:t.id,tipo:"DESPESA",categoria:"Aporte",valor:H,data_vencimento:R.data_vencimento,descricao:R.descricao||"Aporte para outra conta",agendamento_id:R.agendamento_id||null,data_liquidacao:R.liquidarFuturo?null:K,conta_id:R.conta_id||null},ae={user_id:t.id,tipo:"RECEITA",categoria:"Aporte",valor:H,data_vencimento:R.data_vencimento,descricao:R.descricao||"Aporte recebido de outra conta",agendamento_id:R.agendamento_id||null,data_liquidacao:R.liquidarFuturo?null:K,conta_id:R.conta_destino_id||null};let me=null;const{data:Je,error:nt}=await X.from("transacoes").insert(J).select("id").single();if(!nt)me=Je;else{const wr=String(nt.message||"");if(!(wr.includes("conta_id")||wr.includes("schema cache"))){Be.toast.error("Erro ao criar parte de origem do aporte"),console.error(nt);return}const js={...J};delete js.conta_id;const{data:rn,error:mn}=await X.from("transacoes").insert(js).select("id").single();if(mn){Be.toast.error("Erro ao criar parte de origem do aporte"),console.error(mn);return}me=rn,Be.toast.warning("Aporte origem criado sem conta_id. Aplique a migration.")}const{error:Zt}=await X.from("transacoes").insert(ae);if(Zt){const wr=String(Zt.message||"");if(!(wr.includes("conta_id")||wr.includes("schema cache"))){await X.from("transacoes").delete().eq("id",me.id),Be.toast.error("Erro ao criar parte de destino do aporte"),console.error(Zt);return}const js={...ae};delete js.conta_id;const{error:rn}=await X.from("transacoes").insert(js);if(rn){await X.from("transacoes").delete().eq("id",me.id),Be.toast.error("Erro ao criar parte de destino do aporte"),console.error(rn);return}Be.toast.warning("Aporte destino criado sem conta_id. Aplique a migration.")}Be.toast.success("Aporte criado com sucesso!")}else{const H={user_id:t.id,tipo:R.tipo,categoria:R.categoria,valor:parseFloat(R.valor),data_vencimento:R.data_vencimento,descricao:R.descricao,agendamento_id:R.agendamento_id||null,data_liquidacao:R.liquidarFuturo?null:K,conta_id:R.conta_id||null},{error:J}=await X.from("transacoes").insert(H);if(J){const ae=String(J.message||"");if(ae.includes("conta_id")||ae.includes("schema cache")){const Je={...H};delete Je.conta_id;const{error:nt}=await X.from("transacoes").insert(Je);if(nt){Be.toast.error("Erro ao criar transao"),console.error(nt);return}Be.toast.warning("Transao criada sem conta_id. Aplique a migration.")}else{Be.toast.error("Erro ao criar transao"),console.error(J);return}}Be.toast.success("Transao criada com sucesso!")}I({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:"",descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),c(!1),q()}},re=D=>{v(D.id),y(String(D.conta_id||"")),N(new Date().toISOString().split("T")[0]),p(!0)},se=async()=>{if(!g)return;if(!b){Be.toast.error("Selecione um banco/conta para a baixa");return}const D=n.find(ae=>ae.id===g),K=D?{user_id:t==null?void 0:t.id,tipo:D.tipo==="DESPESA"?"DESPESA":"RECEITA",categoria:D.categoria,valor:Number(D.valor||0),data_vencimento:D.data_vencimento,descricao:D.descricao,agendamento_id:D.agendamento_id||null,data_liquidacao:w,conta_id:b}:null,H={data_liquidacao:w,conta_id:b},{error:J}=await X.from("transacoes").update(H).eq("id",g);if(J){const ae=String(J.message||"");if(ae.includes("conta_id")||ae.includes("schema cache")){const{error:Je}=await X.from("transacoes").update({data_liquidacao:w}).eq("id",g);if(Je){Be.toast.error("Erro ao liquidar transao"),console.error(Je);return}if(Be.toast.warning("Baixa feita sem vincular conta na tabela transacoes. Aplique a migration de conta_id."),K){const nt=tr?rr:X,{error:Zt}=await nt.from("financeiro_tattoo").insert(K);Zt&&console.error(Zt)}p(!1),v(null),q();return}else Be.toast.error("Erro ao liquidar transao"),console.error(J)}else{if(Be.toast.success("Transao liquidada!"),K){const ae=tr?rr:X,{error:me}=await ae.from("financeiro_tattoo").insert(K);me&&console.error(me)}p(!1),v(null),q()}},je=async D=>{const{error:K}=await X.from("transacoes").delete().eq("id",D);K?(Be.toast.error("Erro ao deletar transao"),console.error(K)):(Be.toast.success("Transao deletada!"),q())},pe=()=>{d(!1),m(null),I({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:"",descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),c(!0)},Ue=D=>{d(!0),m(D.id),I({tipo:D.tipo,categoria:D.categoria,valor:String(Number(D.valor).toFixed(2)),data_vencimento:D.data_vencimento,descricao:D.descricao,agendamento_id:D.agendamento_id||"",liquidarFuturo:!0,conta_id:D.conta_id||"",conta_destino_id:""}),c(!0)},ce=n.filter(D=>!(j!=="TODOS"&&D.tipo!==j||S!=="TODOS"&&D.categoria!==S||k==="LIQUIDADAS"&&!D.data_liquidacao||k==="PENDENTES"&&D.data_liquidacao||O!=="TODAS"&&(D.conta_id??"")!==O)),we=ce.filter(D=>D.tipo==="RECEITA"&&D.data_liquidacao).reduce((D,K)=>D+Number(K.valor),0),be=ce.filter(D=>D.tipo==="DESPESA"&&D.data_liquidacao).reduce((D,K)=>D+Number(K.valor),0),ue=ce.filter(D=>D.tipo==="RECEITA"&&!D.data_liquidacao).reduce((D,K)=>D+Number(K.valor),0),_t=ce.filter(D=>D.tipo==="DESPESA"&&!D.data_liquidacao).reduce((D,K)=>D+Number(K.valor),0),ht=we-be,le=ce.reduce((D,K)=>{const H=K.data_vencimento;return D[H]||(D[H]=[]),D[H].push(K),D},{});Object.keys(le).sort((D,K)=>new Date(D).getTime()-new Date(K).getTime());const Ye=D=>{d(!1),m(null),I({tipo:"RECEITA",categoria:"",valor:"",data_vencimento:D,descricao:"",agendamento_id:"",liquidarFuturo:!0,conta_id:"",conta_destino_id:""}),c(!0)},vt=j!=="TODOS"||S!=="TODOS"||k!=="TODOS"||O!=="TODAS",Rt=R.tipo==="RECEITA"?zC:VC;Array.from(new Set([...zC,...VC]));const G=[...zC.map(D=>({key:`receita-${D}`,value:D,label:D})),...VC.map(D=>({key:`despesa-${D}`,value:D,label:D}))].filter((D,K,H)=>H.findIndex(J=>J.value===D.value)===K);return o.jsxs("div",{className:"space-y-6 pb-20",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Financeiro Tattoo"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gesto completa de receitas e despesas"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-success/10 to-success/5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-success/20",children:o.jsx(_n,{className:"w-5 h-5 text-success"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receitas"})]}),o.jsxs("p",{className:"text-2xl font-semibold",children:["R$ ",we.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Pendente: R$ ",ue.toFixed(2)]})]}),o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-destructive/10 to-destructive/5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-destructive/20",children:o.jsx(jm,{className:"w-5 h-5 text-destructive"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Despesas"})]}),o.jsxs("p",{className:"text-2xl font-semibold",children:["R$ ",be.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Pendente: R$ ",_t.toFixed(2)]})]}),o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-primary/20",children:o.jsx(Zr,{className:"w-5 h-5 text-primary"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo"})]}),o.jsxs("p",{className:`text-2xl font-semibold ${ht>=0?"text-success":"text-destructive"}`,children:["R$ ",ht.toFixed(2)]})]}),o.jsxs(ne,{className:"p-6 rounded-xl bg-gradient-to-br from-accent/10 to-accent/5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-accent/20",children:o.jsx(Yt,{className:"w-5 h-5 text-accent"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"A Vencer"})]}),o.jsx("p",{className:"text-2xl font-semibold",children:ce.filter(D=>!D.data_liquidacao).length})]})]}),o.jsxs(va,{defaultValue:"tabela",className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs(Gs,{className:"inline-flex w-auto rounded-2xl bg-gradient-to-r from-muted/30 to-muted/10 p-1.5 backdrop-blur-sm border border-border/20 shadow-lg",children:[o.jsx(Et,{value:"tabela",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Tabela"}),o.jsx(Et,{value:"agenda",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Calendrio"}),o.jsx(Et,{value:"lista",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Lista"}),o.jsx(Et,{value:"bancos",className:"rounded-xl gap-2 px-4 py-2.5 transition-all duration-300 hover:scale-105 active:scale-95 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg data-[state=inactive]:hover:bg-muted/50 flex items-center",children:"Bancos"})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsx(U,{variant:"outline",className:"rounded-lg h-9",children:"Filtros"})}),o.jsxs(Io,{className:"w-[520px] rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ap,{className:"w-4 h-4"}),o.jsx("h3",{className:"font-semibold",children:"Filtros"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ge,{variant:"secondary",className:"rounded-full",children:[ce.length," resultados"]}),o.jsx(U,{variant:"ghost",className:"rounded-xl",disabled:!vt,onClick:()=>{_("TODOS"),C("TODOS"),A("TODOS"),P("TODAS")},children:"Limpar"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Tipo"}),o.jsxs(He,{value:j,onValueChange:D=>_(D),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODOS",children:"Todos"}),o.jsx(Y,{value:"RECEITA",children:"Receitas"}),o.jsx(Y,{value:"DESPESA",children:"Despesas"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Categoria"}),o.jsxs(He,{value:S,onValueChange:C,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODOS",children:"Todas"}),G.map(D=>o.jsx(Y,{value:D.value,children:D.label},D.key))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Status"}),o.jsxs(He,{value:k,onValueChange:D=>A(D),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODOS",children:"Todos"}),o.jsx(Y,{value:"LIQUIDADAS",children:"Liquidadas"}),o.jsx(Y,{value:"PENDENTES",children:"Pendentes"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Conta"}),o.jsxs(He,{value:O,onValueChange:P,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODAS",children:"Todas"}),e.map(D=>{var J;const K=((J=D.banco_detalhes)==null?void 0:J.nome_curto)||D.banco||"",H=K?`${K}  ${D.nome}`:`${D.nome}`;return o.jsx(Y,{value:String(D.id),children:H},D.id)})]})]})]})]}),vt&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Filtros ativos:"}),j!=="TODOS"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:j}),S!=="TODOS"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:S}),k!=="TODOS"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:k}),O!=="TODAS"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-xs",children:(()=>{var H;const D=e.find(J=>String(J.id)===O);if(!D)return"Conta";const K=((H=D.banco_detalhes)==null?void 0:H.nome_curto)||D.banco||"";return K?`${K}  ${D.nome}`:`${D.nome}`})()})]})]})]}),o.jsxs(fr,{open:l,onOpenChange:c,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"rounded-lg gap-2 h-9 px-3",onClick:pe,children:[o.jsx(en,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Nova Transao"})]})}),o.jsxs(ir,{className:"rounded-xl max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsx(cr,{children:u?"Editar Transao":"Nova Transao"})}),o.jsxs("form",{onSubmit:W,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"tipo",children:"Tipo"}),o.jsxs(He,{value:R.tipo,onValueChange:D=>I({...R,tipo:D,categoria:D==="APORTE"?"Aporte":""}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"RECEITA",children:"Receita"}),o.jsx(Y,{value:"DESPESA",children:"Despesa"}),o.jsx(Y,{value:"APORTE",children:"Aporte"})]})]})]}),R.tipo!=="APORTE"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"categoria",children:"Categoria"}),o.jsxs(He,{value:R.categoria,onValueChange:D=>I({...R,categoria:D}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione uma categoria"})}),o.jsx(We,{children:Rt.map(D=>o.jsx(Y,{value:D,children:D},D))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"conta",children:"Conta"}),o.jsxs(He,{value:R.conta_id,onValueChange:D=>I({...R,conta_id:D==="none"?"":D}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione uma conta"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhuma conta"}),e.map(D=>{var J;const K=((J=D.banco_detalhes)==null?void 0:J.nome_curto)||D.banco||"",H=K?`${K}  ${D.nome}`:`${D.nome}`;return o.jsx(Y,{value:String(D.id),children:H},D.id)})]})]})]}),R.tipo==="APORTE"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"conta_destino",children:"Conta destino"}),o.jsxs(He,{value:R.conta_destino_id,onValueChange:D=>I({...R,conta_destino_id:D==="none"?"":D}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione a conta destino"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhuma conta"}),e.map(D=>{var J;const K=((J=D.banco_detalhes)==null?void 0:J.nome_curto)||D.banco||"",H=K?`${K}  ${D.nome}`:`${D.nome}`;return o.jsx(Y,{value:String(D.id),children:H},D.id)})]})]})]}),R.conta_id&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Saldo inicial"}),o.jsxs("p",{className:"text-sm font-semibold",children:["R$ ",B.saldoInicial.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Saldo atual"}),o.jsxs("p",{className:`text-sm font-semibold ${B.saldoAtual>=0?"text-success":"text-destructive"}`,children:["R$ ",B.saldoAtual.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Saldo ps-transao"}),o.jsxs("p",{className:`text-sm font-semibold ${L>=0?"text-success":"text-destructive"}`,children:["R$ ",L.toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"agendamento",children:"Vincular a Agendamento (Opcional)"}),o.jsxs(He,{value:R.agendamento_id,onValueChange:D=>I({...R,agendamento_id:D==="none"?"":D}),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Nenhum agendamento"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhum agendamento"}),a.map(D=>{var J,ae;const K=(ae=(J=D.projetos)==null?void 0:J.clientes)==null?void 0:ae.nome,H=K?`${K} - ${D.titulo} - ${new Date(D.data).toLocaleDateString()}`:`${D.titulo} - ${new Date(D.data).toLocaleDateString()}`;return o.jsx(Y,{value:D.id,children:H},D.id)})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"valor",children:"Valor (R$)"}),o.jsx(de,{id:"valor",type:"text",inputMode:"numeric",className:"rounded-xl",value:E(R.valor),onChange:T,placeholder:"R$ 0,00",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_vencimento",children:"Data de Vencimento"}),o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[o.jsx(Yt,{className:"mr-2 h-4 w-4"}),R.data_vencimento?Mt(Fl(R.data_vencimento,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Sr}):"dd/mm/aaaa"]})}),o.jsx(Io,{className:"w-auto p-0",align:"start",children:o.jsx(yf,{mode:"single",selected:R.data_vencimento?Fl(R.data_vencimento,"yyyy-MM-dd",new Date):void 0,onSelect:D=>{D&&I({...R,data_vencimento:Mt(D,"yyyy-MM-dd")})},locale:Sr,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"descricao",children:"Descrio"}),o.jsx(Nn,{id:"descricao",className:"rounded-xl",value:R.descricao,onChange:D=>I({...R,descricao:D.target.value}),required:!0})]}),!u&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"liquidar_futuro",children:"Liquidar no futuro?"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cf,{id:"liquidar_futuro",checked:R.liquidarFuturo,onCheckedChange:D=>I({...R,liquidarFuturo:!!D})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Desative para liquidar imediatamente."})]})]}),o.jsx(U,{type:"submit",className:"w-full rounded-xl",children:u?"Salvar Alteraes":"Salvar Transao"})]})]})]})]}),o.jsx(kt,{value:"lista",children:o.jsxs("div",{className:"grid gap-4",children:[ce.map(D=>o.jsx(ne,{className:"p-6 rounded-xl hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx(Ge,{className:`rounded-full ${D.tipo==="RECEITA"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:D.tipo}),o.jsx(Ge,{variant:"outline",className:"rounded-full",children:D.categoria}),D.data_liquidacao&&o.jsx(Ge,{className:"rounded-full bg-primary/10 text-primary",children:"Liquidada"}),D.agendamentos&&o.jsxs(Ge,{variant:"secondary",className:"rounded-full",children:[" ",D.agendamentos.titulo]})]}),o.jsx("h3",{className:"font-semibold text-lg",children:D.descricao}),o.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground flex-wrap",children:[o.jsxs("p",{children:["Valor: R$ ",Number(D.valor).toFixed(2)]}),o.jsxs("p",{children:["Vencimento: ",new Date(D.data_vencimento).toLocaleDateString()]}),D.data_liquidacao&&o.jsxs("p",{children:["Liquidao: ",new Date(D.data_liquidacao).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[!D.data_liquidacao&&o.jsxs(U,{onClick:()=>re(D),className:"rounded-xl gap-2",size:"sm",children:[o.jsx(wk,{className:"w-4 h-4"}),"Liquidar"]}),o.jsxs(U,{onClick:()=>Ue(D),variant:"outline",className:"rounded-xl gap-2",size:"sm",children:[o.jsx(fw,{className:"w-4 h-4"}),"Editar"]}),o.jsxs(Ux,{children:[o.jsx(nO,{asChild:!0,children:o.jsx(U,{variant:"destructive",className:"rounded-xl gap-2",size:"sm",children:o.jsx(Jr,{className:"w-4 h-4"})})}),o.jsxs(ip,{className:"rounded-xl",children:[o.jsxs(lp,{children:[o.jsx(up,{children:"Confirmar excluso"}),o.jsx(dp,{children:"Esta ao  irreversvel. Deseja excluir esta transao?"})]}),o.jsxs(cp,{children:[o.jsx(hp,{className:"rounded-xl",children:"Cancelar"}),o.jsx(fp,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>je(D.id),children:"Excluir"})]})]})]})]})]})},D.id)),ce.length===0&&o.jsx(ne,{className:"p-12 rounded-xl",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx("p",{children:"Nenhuma transao encontrada."}),o.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Transao" para comear.'})]})})]})}),o.jsx(kt,{value:"tabela",children:o.jsx(ne,{className:"rounded-2xl",children:o.jsx("div",{className:"p-0",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Descrio"}),o.jsx(ge,{children:"Tipo"}),o.jsx(ge,{children:"Categoria"}),o.jsx(ge,{children:"Valor"}),o.jsx(ge,{children:"Vencimento"}),o.jsx(ge,{children:"Liquidao"}),o.jsx(ge,{children:"Agendamento"}),o.jsx(ge,{className:"text-right",children:"Aes"})]})}),o.jsxs(is,{children:[ce.map(D=>{var K;return o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:D.descricao}),o.jsx(fe,{children:o.jsx(Ge,{className:`rounded-full ${D.tipo==="RECEITA"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:D.tipo})}),o.jsx(fe,{children:D.categoria}),o.jsxs(fe,{children:["R$ ",Number(D.valor).toFixed(2)]}),o.jsx(fe,{children:new Date(D.data_vencimento).toLocaleDateString()}),o.jsx(fe,{children:D.data_liquidacao?new Date(D.data_liquidacao).toLocaleDateString():""}),o.jsx(fe,{children:((K=D.agendamentos)==null?void 0:K.titulo)||""}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[!D.data_liquidacao&&o.jsxs(U,{onClick:()=>re(D),className:"rounded-xl gap-2",size:"sm",children:[o.jsx(wk,{className:"w-4 h-4"}),"Liquidar"]}),o.jsxs(U,{onClick:()=>Ue(D),variant:"outline",className:"rounded-xl gap-2",size:"sm",children:[o.jsx(fw,{className:"w-4 h-4"}),"Editar"]}),o.jsxs(Ux,{children:[o.jsx(nO,{asChild:!0,children:o.jsx(U,{variant:"destructive",className:"rounded-xl gap-2",size:"sm",children:o.jsx(Jr,{className:"w-4 h-4"})})}),o.jsxs(ip,{className:"rounded-xl",children:[o.jsxs(lp,{children:[o.jsx(up,{children:"Confirmar excluso"}),o.jsx(dp,{children:"Esta ao  irreversvel. Deseja excluir esta transao?"})]}),o.jsxs(cp,{children:[o.jsx(hp,{className:"rounded-xl",children:"Cancelar"}),o.jsx(fp,{className:"rounded-xl bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>je(D.id),children:"Excluir"})]})]})]})]})})]},D.id)}),ce.length===0&&o.jsx(zt,{children:o.jsx(fe,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Nenhuma transao encontrada."})}),ce.length>0&&o.jsxs(zt,{className:"bg-muted/30 font-semibold border-t-2",children:[o.jsx(fe,{colSpan:3,className:"text-right",children:"Total:"}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"text-success",children:["+ R$ ",ce.filter(D=>D.tipo==="RECEITA").reduce((D,K)=>D+Number(K.valor),0).toFixed(2)]}),o.jsxs("div",{className:"text-destructive",children:["- R$ ",ce.filter(D=>D.tipo==="DESPESA").reduce((D,K)=>D+Number(K.valor),0).toFixed(2)]}),o.jsxs("div",{className:"border-t pt-1",children:["R$ ",(ce.filter(D=>D.tipo==="RECEITA").reduce((D,K)=>D+Number(K.valor),0)-ce.filter(D=>D.tipo==="DESPESA").reduce((D,K)=>D+Number(K.valor),0)).toFixed(2)]})]})}),o.jsx(fe,{colSpan:4})]})]})]})})})}),o.jsx(kt,{value:"agenda",className:"space-y-6",children:o.jsx(oWe,{transacoes:ce,onTransacaoClick:Ue,onDateClick:Ye})}),o.jsx(kt,{value:"bancos",className:"space-y-6",children:o.jsx(dZ,{})}),h&&o.jsx(fr,{open:h,onOpenChange:p,children:o.jsxs(ir,{className:"rounded-xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:"Baixar Transao"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Banco/Conta"}),o.jsxs(He,{value:b,onValueChange:y,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Selecione uma conta"})}),o.jsx(We,{children:e.map(D=>o.jsx(Y,{value:String(D.id),children:D.nome},D.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Data de Liquidao"}),o.jsxs(ji,{children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"h-9 w-full justify-start text-left font-normal rounded-xl",children:[o.jsx(Yt,{className:"mr-2 h-4 w-4"}),w?Mt(Fl(w,"yyyy-MM-dd",new Date),"dd/MM/yyyy",{locale:Sr}):"dd/mm/aaaa"]})}),o.jsx(Io,{className:"w-auto p-0",align:"start",children:o.jsx(yf,{mode:"single",selected:w?Fl(w,"yyyy-MM-dd",new Date):void 0,onSelect:D=>{D&&N(Mt(D,"yyyy-MM-dd"))},locale:Sr,initialFocus:!0})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{className:"rounded-xl",onClick:se,children:"Confirmar Baixa"}),o.jsx(U,{variant:"outline",className:"rounded-xl",onClick:()=>p(!1),children:"Cancelar"})]})]})]})})]})]})};function uWe(){const t=Uo();return o.jsx("div",{className:"space-y-6",children:o.jsxs(ne,{className:"rounded-3xl border border-border/40 bg-gradient-to-br from-primary/5 to-accent/5",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:o.jsx(py,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-xl",children:"Nexus"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"rea inicial personalizada para o estdio"})]})]})}),o.jsx(he,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"text-muted-foreground",children:"Centralize aqui seus atalhos, mtricas favoritas e informaes rpidas."}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs(U,{variant:"outline",className:"justify-start gap-2",onClick:()=>t("/noxus"),children:[o.jsx(Die,{className:"w-4 h-4"}),"Tattoo"]}),o.jsxs(U,{variant:"outline",className:"justify-start gap-2",onClick:()=>t("/carteira"),children:[o.jsx(QT,{className:"w-4 h-4"}),"Carteira"]}),o.jsxs(U,{variant:"outline",className:"justify-start gap-2",onClick:()=>t("/conhecimento"),children:[o.jsx(lw,{className:"w-4 h-4"}),"Conhecimento"]}),o.jsxs(U,{variant:"outline",className:"justify-start gap-2",onClick:()=>t("/curso-mvp"),children:[o.jsx(yie,{className:"w-4 h-4"}),"curso MVP"]})]})]})})]})})}const hZ=ws({credor:$e().min(2),valor:wn().nonnegative(),data_vencimento:$e().min(1),status:ns(["ABERTA","PAGA"]),conta_id:$e().optional().nullable().or(zx("")),observacoes:$e().optional().nullable(),data_pagamento:$e().optional().nullable(),total_parcelas:wn().int().min(1).default(1),parcela_atual:wn().int().min(1).default(1),periodicidade:ns(["MENSAL","SEMANAL","QUINZENAL"]).default("MENSAL")});function mZ(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=async()=>{try{if(!t)return;a(!0);const m=tr?rr:X,{data:h,error:p}=await m.from("dividas").select("*").eq("user_id",t.id).order("data_vencimento",{ascending:!0});if(p)throw p;n(h||[]),l(null)}catch(m){console.error("Erro ao carregar dividas:",m),l((m==null?void 0:m.message)||"Erro desconhecido"),e({title:"Erro ao carregar dvidas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},u=async m=>{try{if(!t)throw new Error("Usurio no autenticado");const h=hZ.parse(m),p={user_id:t.id,credor:h.credor,valor:Number(h.valor),data_vencimento:h.data_vencimento,status:h.status,conta_id:h.conta_id||null,observacoes:h.observacoes??null,data_pagamento:h.data_pagamento??null,total_parcelas:h.total_parcelas,parcela_atual:h.parcela_atual,periodicidade:h.periodicidade},g=tr?rr:X,{data:v,error:b}=await g.from("dividas").insert(p).select("*");if(b)throw b;n(y=>v?[v[0],...y]:y),e({title:"Dvida criada",description:"Registro salvo com sucesso."})}catch(h){throw console.error("Erro ao inserir em dividas:",h),e({title:"Erro ao criar dvida",description:h.message||"Verifique os dados.",variant:"destructive"}),h}},d=async(m,h)=>{try{if(!t)throw new Error("Usurio no autenticado");const p={...h};p.valor!==void 0&&(p.valor=Number(p.valor));const g=tr?rr:X,{data:v,error:b}=await g.from("dividas").update(p).select("*").eq("id",m).eq("user_id",t.id);if(b)throw b;if(v&&v.length){const y=v[0];n(w=>w.map(N=>N.id===y.id?y:N))}else await c();e({title:"Dvida atualizada",description:"Alteraes salvas com sucesso."})}catch(p){throw console.error("Erro ao atualizar dividas:",p),e({title:"Erro ao atualizar",description:p.message||"Tente novamente.",variant:"destructive"}),p}},f=async m=>{try{if(!t)throw new Error("Usurio no autenticado");const h=tr?rr:X,{error:p}=await h.from("dividas").delete().eq("id",m).eq("user_id",t.id);if(p)throw p;n(g=>g.filter(v=>v.id!==m)),e({title:"Dvida removida",description:"Registro excludo."})}catch(h){throw console.error("Erro ao remover dividas:",h),e({title:"Erro ao remover",description:h.message||"Tente novamente.",variant:"destructive"}),h}};return x.useEffect(()=>{if(c(),!t)return;const m=tr?rr:X,h=m.channel("realtime-dividas").on("postgres_changes",{event:"INSERT",schema:"public",table:"dividas",filter:`user_id=eq.${t.id}`},p=>{n(g=>[p.new,...g])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"dividas",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.map(v=>v.id===p.new.id?p.new:v))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"dividas",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.filter(v=>v.id!==p.old.id))}).subscribe();return()=>{m.removeChannel(h)}},[t==null?void 0:t.id]),{items:r,loading:s,error:i,fetchAll:c,insert:u,update:d,remove:f}}const Q0=["Recebimento de Cliente","Depsito","Transferncia (Entrada)","Rendimento","Ajuste de Saldo","Outros"],EB=["Taxas Bancrias","Pagamento de Boleto","Transferncia (Sada)","Saque","Ajuste de Saldo","Pagamento de Dvida","Outros"],dWe=fZ.extend({divida_id:$e().optional()});function fWe(){const{items:t,insert:e,update:r,remove:n}=P_(),{items:s,update:a}=mZ(),{toast:i}=tn(),[l,c]=x.useState(!1),[u,d]=x.useState(null),{items:f}=Jp(),[m,h]=x.useState("TODOS"),[p,g]=x.useState("TODAS"),[v,b]=x.useState("TODAS"),[y,w]=x.useState(""),[N,j]=x.useState(""),[_,S]=x.useState("desc"),C=()=>{try{const E=k.watch("conta_id")||"",T=k.watch("tipo")==="RECEITA"?"receita":"despesa",q=Number(k.watch("valor")||0)||0,Z=T_(E,Array.isArray(f)?f:[],Array.isArray(t)?t:[]),M=uZ(Number(Z.saldoAtual||0),T,q,!0);return{saldoInicial:Number(Z.saldoInicial||0),saldoAtual:Number(Z.saldoAtual||0),saldoPos:Number(M||0)}}catch(E){return console.error("Erro ao calcular preview de saldo na Carteira:",E),{saldoInicial:0,saldoAtual:0,saldoPos:0}}};x.useEffect(()=>{const E=()=>P();return window.addEventListener("openAddTransaction",E),()=>window.removeEventListener("openAddTransaction",E)},[]);const k=La({resolver:Fa(dWe),defaultValues:{tipo:"RECEITA",categoria:Q0[0],valor:0,data_vencimento:new Date().toISOString().slice(0,10),descricao:"",data_liquidacao:new Date().toISOString().slice(0,10),conta_id:"",conta_destino_id:"",divida_id:""}});x.useEffect(()=>(k.register("conta_id"),k.register("conta_destino_id"),()=>{}),[]),x.useEffect(()=>{if(k.watch("tipo")==="APORTE"){const E=k.watch("conta_id")||"",T=k.watch("conta_destino_id")||"";if(E&&(!T||T===E)){const q=(Array.isArray(f)?f:[]).find(Z=>String(Z.id)!==String(E));q&&k.setValue("conta_destino_id",String(q.id))}}},[k.watch("tipo"),k.watch("conta_id"),k.watch("conta_destino_id"),f]);const A=k.watch("tipo");x.useEffect(()=>{A==="APORTE"&&k.setValue("categoria","Aporte")},[A]);const O=k.watch("divida_id");x.useEffect(()=>{if(O&&O!=="none"){const E=s.find(T=>T.id===O);E&&(k.setValue("descricao",`Pagamento: ${E.credor}`),k.setValue("valor",Number(E.valor)))}},[O,s,k]);const P=()=>{d(null),k.reset({tipo:"RECEITA",categoria:Q0[0],valor:0,data_vencimento:new Date().toISOString().slice(0,10),descricao:"",data_liquidacao:new Date().toISOString().slice(0,10),conta_id:"",conta_destino_id:"",divida_id:""}),c(!0)},R=E=>{d(E),k.reset({tipo:E.tipo,categoria:E.categoria,valor:Number(E.valor)||0,data_vencimento:E.data_vencimento,descricao:E.descricao||"",data_liquidacao:E.data_liquidacao||null,conta_id:E.conta_id||"",divida_id:""}),c(!0)},I=async E=>{try{if(E.tipo==="APORTE"){const{conta_id:T,conta_destino_id:q}=k.getValues(),Z=String(T||"").trim(),M=String(q||"").trim();if(!Z||!M||Z==="none"||M==="none"){i({title:"Selecione origem e destino",description:"Informe a conta de origem e a conta destino.",variant:"destructive"});return}if(Z===M){i({title:"Contas iguais",description:"Origem e destino devem ser diferentes.",variant:"destructive"});return}const W=Number(E.valor)||0,re={tipo:"DESPESA",categoria:"Aporte",valor:W,data_vencimento:E.data_vencimento,descricao:E.descricao||"Aporte para outra conta",data_liquidacao:E.data_liquidacao??null,conta_id:Z},se={tipo:"RECEITA",categoria:"Aporte",valor:W,data_vencimento:E.data_vencimento,descricao:E.descricao||"Aporte recebido de outra conta",data_liquidacao:E.data_liquidacao??null,conta_id:M};await e(re),await e(se),i({title:"Aporte criado",description:"Transferncia registrada nas duas contas."})}else{const T={tipo:E.tipo,categoria:E.categoria,valor:Number(E.valor),data_vencimento:E.data_vencimento,descricao:E.descricao,data_liquidacao:E.data_liquidacao??null,conta_id:E.conta_id||void 0};u!=null&&u.id?(await r(u.id,T),i({title:"Atualizado",description:"Registro alterado com sucesso."})):(await e(T),E.divida_id&&E.divida_id!=="none"&&(await a(E.divida_id,{status:"PAGA",data_pagamento:E.data_vencimento}),i({title:"Dvida quitada",description:"A dvida foi marcada como paga."})),i({title:"Criado",description:"Registro adicionado com sucesso."}))}c(!1)}catch{}},$=E=>{const T=(E||"").slice(0,10);return!(y&&T<y||N&&T>N)},B=t.filter(E=>!(m!=="TODOS"&&E.tipo!==m||p!=="TODAS"&&E.categoria!==p||v!=="TODAS"&&String(E.conta_id||"")!==v||!$(E.data_vencimento))).sort((E,T)=>{const q=new Date(E.data_vencimento).getTime(),Z=new Date(T.data_vencimento).getTime();return _==="asc"?q-Z:Z-q}),L=(Array.isArray(f)?f:[]).filter(E=>Number((E==null?void 0:E.saldo_inicial)||0)>0).filter(E=>v==="TODAS"||String(E.id)===v).filter(()=>m==="TODOS"||m==="RECEITA").filter(()=>p==="TODAS"||p==="Saldo inicial").filter(E=>$(E.created_at));return o.jsx("div",{className:"space-y-6",children:o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsxs(Oe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-lg",children:"Fluxo de caixa geral"}),o.jsxs(fr,{open:l,onOpenChange:c,children:[o.jsx(Ks,{asChild:!0,children:o.jsx(U,{variant:"default",onClick:P,"aria-label":"Adicionar transao",children:"Adicionar"})}),o.jsxs(ir,{className:"max-w-xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:u?"Editar transao":"Nova transao"})}),o.jsxs("form",{onSubmit:k.handleSubmit(I),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Tipo"}),o.jsxs(He,{value:k.watch("tipo"),onValueChange:E=>k.setValue("tipo",E),children:[o.jsx(qe,{"aria-label":"Selecionar tipo",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"RECEITA",children:"Receita"}),o.jsx(Y,{value:"DESPESA",children:"Despesa"}),o.jsx(Y,{value:"APORTE",children:"Aporte"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"valor",children:"Valor"}),o.jsx(de,{id:"valor",type:"number",step:"0.01",...k.register("valor",{valueAsNumber:!0})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_vencimento",children:"Vencimento"}),o.jsx(de,{id:"data_vencimento",type:"date",...k.register("data_vencimento")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Banco origem"}),o.jsx(Tb,{name:"conta_id",control:k.control,defaultValue:k.getValues("conta_id")||"",render:({field:E})=>o.jsxs(He,{value:E.value||"none",onValueChange:T=>E.onChange(T==="none"?"":T),children:[o.jsx(qe,{"aria-label":"Selecionar conta",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhuma conta"}),(Array.isArray(f)?f:[]).filter(T=>!!T&&!!T.id&&String(T.id).trim().length>0).map(T=>{var M;const q=((M=T.banco_detalhes)==null?void 0:M.nome_curto)||T.banco||"",Z=q?`${q}  ${T.nome}`:`${T.nome}`;return o.jsx(Y,{value:String(T.id),children:Z},String(T.id))})]})]})})]}),k.watch("conta_id")&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(()=>{const{saldoInicial:E,saldoAtual:T,saldoPos:q}=C();return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Saldo inicial"}),o.jsxs("p",{className:"text-sm font-semibold",children:["R$ ",E.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Saldo atual"}),o.jsxs("p",{className:`text-sm font-semibold ${T>=0?"text-green-600":"text-red-600"}`,children:["R$ ",T.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Saldo ps-transao"}),o.jsxs("p",{className:`text-sm font-semibold ${q>=0?"text-green-600":"text-red-600"}`,children:["R$ ",q.toFixed(2)]})]})]})})()}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.watch("tipo")!=="APORTE"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Categoria"}),o.jsxs(He,{value:k.watch("categoria"),onValueChange:E=>k.setValue("categoria",E),children:[o.jsx(qe,{"aria-label":"Selecionar categoria",children:o.jsx(Ke,{})}),o.jsx(We,{children:(k.watch("tipo")==="RECEITA"?Q0:EB).map(E=>o.jsx(Y,{value:E,children:E},E))})]})]}):null,o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"descricao",children:"Descrio"}),o.jsx(de,{id:"descricao",...k.register("descricao")})]})]}),k.watch("categoria")==="Pagamento de Dvida"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Dvida a pagar"}),o.jsx(Tb,{name:"divida_id",control:k.control,defaultValue:"",render:({field:E})=>o.jsxs(He,{value:E.value||"none",onValueChange:T=>E.onChange(T==="none"?"":T),children:[o.jsx(qe,{children:o.jsx(Ke,{placeholder:"Selecione a dvida"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Selecione..."}),s.filter(T=>T.status==="ABERTA").map(T=>o.jsxs(Y,{value:T.id||"",children:[T.credor," - R$ ",Number(T.valor).toFixed(2)," - Venc: ",new Date(T.data_vencimento).toLocaleDateString("pt-BR")]},T.id))]})]})})]}),k.watch("tipo")==="APORTE"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Banco destino"}),o.jsx(Tb,{name:"conta_destino_id",control:k.control,defaultValue:k.getValues("conta_destino_id")||"",render:({field:E})=>o.jsxs(He,{value:E.value||"none",onValueChange:T=>E.onChange(T==="none"?"":T),children:[o.jsx(qe,{"aria-label":"Selecionar conta destino",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhuma conta"}),(Array.isArray(f)?f:[]).filter(T=>!!T&&!!T.id&&String(T.id).trim().length>0).map(T=>{var M;const q=((M=T.banco_detalhes)==null?void 0:M.nome_curto)||T.banco||"",Z=q?`${q}  ${T.nome}`:`${T.nome}`;return o.jsx(Y,{value:String(T.id),children:Z},String(T.id))})]})]})})]}),k.watch("conta_id")&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{children:"Liquidar agora"}),o.jsx("input",{type:"checkbox",checked:!!k.watch("data_liquidacao"),onChange:E=>{const T=E.target.checked;k.setValue("data_liquidacao",T?new Date().toISOString().slice(0,10):null)}})]}),(()=>{const E=k.watch("tipo")==="APORTE",T=k.watch("conta_id")||"",q=k.watch("conta_destino_id")||"",Z=E&&(!T||!q||String(T)===String(q));return o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:Z,children:"Salvar"})]})})()]})]})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-5 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Tipo"}),o.jsxs(He,{value:m,onValueChange:E=>h(E),children:[o.jsx(qe,{"aria-label":"Filtrar por tipo",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODOS",children:"Todos"}),o.jsx(Y,{value:"RECEITA",children:"Receita"}),o.jsx(Y,{value:"DESPESA",children:"Despesa"}),o.jsx(Y,{value:"APORTE",children:"Aporte"})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Categoria"}),o.jsxs(He,{value:p,onValueChange:g,children:[o.jsx(qe,{"aria-label":"Filtrar por categoria",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODAS",children:"Todas"}),[...Q0,...EB,"Saldo inicial"].filter((E,T,q)=>q.indexOf(E)===T).map(E=>o.jsx(Y,{value:E,children:E},E))]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Banco"}),o.jsxs(He,{value:v,onValueChange:b,children:[o.jsx(qe,{"aria-label":"Filtrar por banco",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODAS",children:"Todos"}),(Array.isArray(f)?f:[]).filter(E=>!!E&&!!E.id).map(E=>{var Z;const T=((Z=E.banco_detalhes)==null?void 0:Z.nome_curto)||E.banco||"",q=T?`${T}  ${E.nome}`:`${E.nome}`;return o.jsx(Y,{value:String(E.id),children:q},String(E.id))})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Incio"}),o.jsx(de,{type:"date",value:y,onChange:E=>w(E.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Fim"}),o.jsx(de,{type:"date",value:N,onChange:E=>j(E.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(ie,{children:"Ordem"}),o.jsxs(He,{value:_,onValueChange:E=>S(E),children:[o.jsx(qe,{"aria-label":"Ordenar por data",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"desc",children:"Mais recentes"}),o.jsx(Y,{value:"asc",children:"Mais antigos"})]})]})]})]})]}),o.jsx(he,{children:o.jsx("div",{className:"overflow-auto rounded-xl border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Vencimento"}),o.jsx(ge,{children:"Descrio"}),o.jsx(ge,{className:"text-right",children:"Valor"}),o.jsx(ge,{children:"Tipo"}),o.jsx(ge,{children:"Categoria"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Banco"}),o.jsx(ge,{children:"Aes"})]})}),o.jsxs(is,{children:[L.map(E=>o.jsxs(zt,{children:[o.jsx(fe,{children:E.created_at?new Date(E.created_at).toLocaleDateString("pt-BR"):""}),o.jsx(fe,{className:"max-w-[320px] truncate",title:`Saldo inicial  ${E.nome}`,children:"Saldo inicial"}),o.jsx(fe,{className:"text-right",children:o.jsxs("span",{className:"text-green-600 font-semibold",children:["R$ ",Number(E.saldo_inicial||0).toFixed(2)]})}),o.jsx(fe,{children:"Receita"}),o.jsx(fe,{children:"Saldo inicial"}),o.jsx(fe,{children:o.jsx(Ge,{variant:"default",className:"rounded-full bg-green-600 text-white",children:"Liquidada"})}),o.jsx(fe,{children:E.nome}),o.jsx(fe,{children:o.jsx("div",{className:"flex gap-2"})})]},`saldo-${String(E.id)}`)),B.map(E=>{var T,q,Z;return o.jsxs(zt,{children:[o.jsx(fe,{children:E.data_vencimento?E.data_vencimento.split("-").reverse().join("/"):"-"}),o.jsxs(fe,{className:"max-w-[320px] truncate",title:E.descricao,children:[E.descricao,((Z=(q=(T=E.agendamento)==null?void 0:T.projeto)==null?void 0:q.cliente)==null?void 0:Z.nome)&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["- ",E.agendamento.projeto.cliente.nome]})]}),o.jsx(fe,{className:"text-right",children:o.jsxs("span",{className:E.tipo==="RECEITA"?"text-green-600 font-semibold":"text-red-600 font-semibold",children:["R$ ",Number(E.valor).toFixed(2)]})}),o.jsx(fe,{children:E.tipo==="RECEITA"?"Receita":"Despesa"}),o.jsx(fe,{children:E.categoria}),o.jsx(fe,{children:E.data_liquidacao?o.jsx(Ge,{variant:"default",className:"rounded-full bg-green-600 text-white",children:"Liquidada"}):o.jsx(Ge,{variant:"secondary",className:"rounded-full bg-yellow-500 text-white",children:"Pendente"})}),o.jsx(fe,{children:(()=>{const M=(Array.isArray(f)?f:[]).find(W=>String(W.id)===String(E.conta_id||""));return M?M.nome:"-"})()}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>R(E),"aria-label":`Editar ${E.descricao}`,children:"Editar"}),o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>n(E.id),"aria-label":`Excluir ${E.descricao}`,children:"Excluir"})]})})]},E.id)}),(B.length>0||L.length>0)&&o.jsxs(zt,{className:"bg-muted/30 font-semibold border-t-2",children:[o.jsx(fe,{colSpan:2,className:"text-right",children:"Total:"}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"text-green-600",children:["+ R$ ",(L.reduce((E,T)=>E+Number(T.saldo_inicial||0),0)+B.filter(E=>E.tipo==="RECEITA").reduce((E,T)=>E+Number(T.valor),0)).toFixed(2)]}),o.jsxs("div",{className:"text-red-600",children:["- R$ ",B.filter(E=>E.tipo==="DESPESA").reduce((E,T)=>E+Number(T.valor),0).toFixed(2)]}),o.jsxs("div",{className:"border-t pt-1",children:["R$ ",(L.reduce((E,T)=>E+Number(T.saldo_inicial||0),0)+B.filter(E=>E.tipo==="RECEITA").reduce((E,T)=>E+Number(T.valor),0)-B.filter(E=>E.tipo==="DESPESA").reduce((E,T)=>E+Number(T.valor),0)).toFixed(2)]})]})}),o.jsx(fe,{colSpan:5})]})]})]})})})]})})}const hWe=ws({data:$e().min(1,"Data  obrigatria"),descricao:$e().min(2,"Descrio muito curta"),valor:wn({invalid_type_error:"Valor deve ser numrico"}).nonnegative("Valor no pode ser negativo"),categoria:$e().min(1,"Categoria  obrigatria"),forma_pagamento:$e().min(1,"Forma de pagamento  obrigatria"),tipo:ns(["entrada","saida"],{errorMap:()=>({message:"Tipo deve ser entrada ou sada"})}),comprovante:$e().url().optional().or(zx("")),observacoes:$e().optional(),conta_id:$e().uuid().optional()});function mWe(t){const e=t.filter(c=>c.tipo==="entrada"),r=t.filter(c=>c.tipo==="saida"),n=e.reduce((c,u)=>c+(Number(u.valor)||0),0),s=r.reduce((c,u)=>c+(Number(u.valor)||0),0),a=n-s,i={},l={};for(const c of e){const u=c.categoria||"Outros";i[u]=(i[u]||0)+(Number(c.valor)||0)}for(const c of r){const u=c.categoria||"Outros";l[u]=(l[u]||0)+(Number(c.valor)||0)}return{totalEntradas:n,totalSaidas:s,saldo:a,porCategoriaEntradas:i,porCategoriaSaidas:l}}function pWe(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=x.useMemo(()=>mWe(r),[r]),u=async()=>{try{if(!t)return;a(!0);const h=tr?rr:X,{data:p,error:g}=await h.from("financeiro_geral").select("*").eq("user_id",t.id).order("data",{ascending:!1});if(g)throw g;const v=(p||[]).map(y=>({id:y.id,user_id:y.user_id,data:y.data,descricao:y.descricao,valor:Number(y.valor),categoria:y.categoria,forma_pagamento:y.forma_pagamento,tipo:y.tipo,comprovante:y.comprovante,observacoes:y.observacoes,conta_id:y.conta_id,created_at:y.created_at,updated_at:y.updated_at,origem:y.origem,origem_id:y.origem_id,setor:y.setor,readOnly:!!y.origem,editLink:y.origem==="financeiro_tattoo"&&y.origem_id?`/tattoo-financeiro?id=${y.origem_id}`:null,agendamento_id:y.agendamento_id})),b=v.filter(y=>y.agendamento_id).map(y=>y.agendamento_id);if(b.length>0){const{data:y}=await h.from("agendamentos").select("id, projeto_id").in("id",b);if(y&&y.length>0){const w=y.map(N=>N.projeto_id).filter(Boolean);if(w.length>0){const{data:N}=await h.from("projetos").select("id, cliente_id").in("id",w);if(N&&N.length>0){const j=N.map(_=>_.cliente_id).filter(Boolean);if(j.length>0){const{data:_}=await h.from("clientes").select("id, nome").in("id",j),S=new Map(_==null?void 0:_.map(A=>[A.id,A.nome])),C=new Map(N==null?void 0:N.map(A=>[A.id,A.cliente_id])),k=new Map(y==null?void 0:y.map(A=>[A.id,A.projeto_id]));v.forEach(A=>{if(A.agendamento_id){const O=k.get(A.agendamento_id);if(O){const P=C.get(O);P&&(A.cliente_nome=S.get(P))}}})}}}}}n(v),l(null)}catch(h){console.error("Erro ao carregar financeiro_geral:",h),l((h==null?void 0:h.message)||"Erro desconhecido"),e({title:"Erro ao carregar dados",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},d=async h=>{try{if(!t)throw new Error("Usurio no autenticado");const p=hWe.parse(h),g={user_id:t.id,data:p.data,descricao:p.descricao,valor:p.valor,categoria:p.categoria,forma_pagamento:p.forma_pagamento,tipo:p.tipo,comprovante:p.comprovante||null,observacoes:p.observacoes||null,conta_id:p.conta_id||null},v=tr?rr:X,{data:b,error:y}=await v.from("financeiro_geral").insert(g).select("*");if(y)throw y;if(b&&b.length){const w=b[0],N={id:w.id,user_id:w.user_id,data:w.data,descricao:w.descricao,valor:Number(w.valor),categoria:w.categoria,forma_pagamento:w.forma_pagamento,tipo:w.tipo,comprovante:w.comprovante,observacoes:w.observacoes,conta_id:w.conta_id,created_at:w.created_at,updated_at:w.updated_at,origem:w.origem,origem_id:w.origem_id,setor:w.setor,readOnly:!!w.origem,editLink:w.origem==="financeiro_tattoo"&&w.origem_id?`/tattoo-financeiro?id=${w.origem_id}`:null};n(j=>[N,...j])}else await u();e({title:"Registro criado",description:"Financeiro Tattoo salvo com sucesso."})}catch(p){throw console.error("Erro ao inserir em financeiro_geral:",p),e({title:"Erro ao criar registro",description:p.message||"Verifique os dados.",variant:"destructive"}),p}},f=async(h,p)=>{try{if(!t)throw new Error("Usurio no autenticado");const g={...p};g.valor!==void 0&&(g.valor=Number(g.valor)),g.comprovante===""&&(g.comprovante=null),g.data!==void 0&&(g.data=g.data),g.tipo!==void 0&&(g.tipo=g.tipo),g.conta_id===""&&(g.conta_id=null),delete g.user_id;const v=r.find(N=>N.id===h);if(v!=null&&v.origem)throw new Error("Registro sincronizado (Tattoo)  somente leitura. Edite no mdulo Tattoo.");const b=tr?rr:X,{data:y,error:w}=await b.from("financeiro_geral").update(g).select("*").eq("id",h).eq("user_id",t.id).is("origem",null);if(w)throw w;if(y&&y.length){const N=y[0],j={id:N.id,user_id:N.user_id,data:N.data,descricao:N.descricao,valor:Number(N.valor),categoria:N.categoria,forma_pagamento:N.forma_pagamento,tipo:N.tipo,comprovante:N.comprovante,observacoes:N.observacoes,conta_id:N.conta_id,created_at:N.created_at,updated_at:N.updated_at,origem:N.origem,origem_id:N.origem_id,setor:N.setor,readOnly:!!N.origem,editLink:N.origem==="financeiro_tattoo"&&N.origem_id?`/tattoo-financeiro?id=${N.origem_id}`:null};n(_=>_.map(S=>S.id===j.id?j:S))}else await u();e({title:"Registro atualizado",description:"Alteraes salvas com sucesso."})}catch(g){throw console.error("Erro ao atualizar financeiro_geral:",g),e({title:"Erro ao atualizar",description:g.message||"Tente novamente.",variant:"destructive"}),g}},m=async h=>{try{if(!t)throw new Error("Usurio no autenticado");const p=tr?rr:X,g=r.find(b=>b.id===h);if(g!=null&&g.origem)throw new Error("Registro sincronizado (Tattoo)  somente leitura. Exclua no mdulo Tattoo.");const{error:v}=await p.from("financeiro_geral").delete().eq("id",h).eq("user_id",t.id).is("origem",null);if(v)throw v;n(b=>b.filter(y=>y.id!==h)),e({title:"Registro removido",description:"Financeiro Tattoo excludo."})}catch(p){throw console.error("Erro ao remover financeiro_geral:",p),e({title:"Erro ao remover",description:p.message||"Tente novamente.",variant:"destructive"}),p}};return x.useEffect(()=>{if(u(),!t)return;const h=tr?rr:X,p=h.channel("realtime-financeiro_geral").on("postgres_changes",{event:"INSERT",schema:"public",table:"financeiro_geral",filter:`user_id=eq.${t.id}`},g=>{const v=g.new,b={id:v.id,user_id:v.user_id,data:v.data,descricao:v.descricao,valor:Number(v.valor),categoria:v.categoria,forma_pagamento:v.forma_pagamento,tipo:v.tipo,comprovante:v.comprovante,observacoes:v.observacoes,created_at:v.created_at,updated_at:v.updated_at,origem:v.origem,origem_id:v.origem_id,setor:v.setor,readOnly:!!v.origem,editLink:v.origem==="financeiro_tattoo"&&v.origem_id?`/tattoo-financeiro?id=${v.origem_id}`:null};n(y=>[b,...y])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"financeiro_geral",filter:`user_id=eq.${t.id}`},g=>{const v=g.new,b={id:v.id,user_id:v.user_id,data:v.data,descricao:v.descricao,valor:Number(v.valor),categoria:v.categoria,forma_pagamento:v.forma_pagamento,tipo:v.tipo,comprovante:v.comprovante,observacoes:v.observacoes,created_at:v.created_at,updated_at:v.updated_at,origem:v.origem,origem_id:v.origem_id,setor:v.setor,readOnly:!!v.origem,editLink:v.origem==="financeiro_tattoo"&&v.origem_id?`/tattoo-financeiro?id=${v.origem_id}`:null};n(y=>y.map(w=>w.id===b.id?b:w))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"financeiro_geral",filter:`user_id=eq.${t.id}`},g=>{n(v=>v.filter(b=>b.id!==g.old.id))}).subscribe();return()=>{h.removeChannel(p)}},[t==null?void 0:t.id]),{items:r,stats:c,loading:s,error:i,fetchAll:u,insert:d,update:f,remove:m}}function gWe(){const{items:t,stats:e}=pWe(),r=()=>{const i=dn(new Date),l=ka(new Date),c=t.filter(g=>{const v=new Date(g.data);return g.tipo==="saida"&&v>=i&&v<=l}),u=c.reduce((g,v)=>g+Number(v.valor),0),d={periodo:`${Mt(i,"MMMM yyyy",{locale:Sr})}`,totalDespesas:u,quantidadeTransacoes:c.length,mediaPorTransacao:c.length>0?u/c.length:0,categorias:{}};c.forEach(g=>{const v=g.categoria||"Outros";d.categorias[v]=(d.categorias[v]||0)+Number(g.valor)});const f=`
RELATRIO CARTEIRA - ${d.periodo.toUpperCase()}

 RESUMO GERAL
Total de Despesas: R$ ${d.totalDespesas.toFixed(2)}
Quantidade de Transaes: ${d.quantidadeTransacoes}
Mdia por Transao: R$ ${d.mediaPorTransacao.toFixed(2)}

 DESPESAS POR CATEGORIA
${Object.entries(d.categorias).map(([g,v])=>`${g}: R$ ${v.toFixed(2)}`).join(`
`)}

 PERODO
${Mt(i,"dd/MM/yyyy",{locale:Sr})} at ${Mt(l,"dd/MM/yyyy",{locale:Sr})}
    `,m=new Blob([f],{type:"text/plain"}),h=URL.createObjectURL(m),p=document.createElement("a");p.href=h,p.download=`relatorio-carteira-${Mt(i,"MM-yyyy")}.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(h)},s=(()=>{const i=new Date,l=Oo(i,7);return t.filter(c=>{const u=new Date(c.data);return c.tipo==="saida"&&u>=l&&u<=i})})(),a=s.reduce((i,l)=>i+Number(l.valor),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ne,{className:"rounded-2xl border border-border/40",children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Total de Despesas"}),o.jsx(_n,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",Number((e==null?void 0:e.totalSaidas)??0).toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Todas as despesas registradas"})]})]}),o.jsxs(ne,{className:"rounded-2xl border border-border/40",children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"ltimos 7 Dias"}),o.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",a.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.length," transaes"]})]})]}),o.jsxs(ne,{className:"rounded-2xl border border-border/40",children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-media",children:"Categorias"}),o.jsx(wu,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:Object.keys((e==null?void 0:e.porCategoriaSaidas)??{}).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Categorias diferentes"})]})]})]}),o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Te,{className:"text-lg",children:"Relatrios da Carteira"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie e exporte relatrios de despesas"})]}),o.jsxs(U,{onClick:r,className:"gap-2",children:[o.jsx(Oh,{className:"h-4 w-4"}),"Exportar Relatrio Mensal"]})]})}),o.jsx(he,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-xl bg-muted/30",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Relatrio Mensal"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Exporte um relatrio completo com todas as despesas do ms atual"}),o.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[o.jsx("li",{children:" Total de despesas por categoria"}),o.jsx("li",{children:" Nmero de transaes"}),o.jsx("li",{children:" Mdia por transao"}),o.jsx("li",{children:" Perodo completo do ms"})]})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-muted/30",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Anlise por Categoria"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Visualize o detalhamento das despesas organizadas por categoria"}),o.jsx("div",{className:"space-y-2",children:Object.entries((e==null?void 0:e.porCategoriaSaidas)??{}).map(([i,l])=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[i,":"]}),o.jsxs("span",{className:"font-medium",children:["R$ ",Number(l??0).toFixed(2)]})]},i))})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Dicas para Controle Financeiro"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Registre todas as despesas"})," - Mantenha o controle completo de todos os gastos"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Categorize corretamente"})," - Isso ajuda na anlise e tomada de deciso"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Exporte relatrios mensais"})," - Acompanhe a evoluo dos gastos"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Estabelea metas"})," - Defina limites de gastos por categoria"]})]})]})]})]})})]})]})}function vWe(){const{items:t}=P_(),{items:e}=Jp(),[r,n]=x.useState(()=>new Date(new Date().getFullYear(),0,1).toISOString().slice(0,10)),[s,a]=x.useState(()=>new Date().toISOString().slice(0,10)),[i,l]=x.useState("TODOS"),[c,u]=x.useState("ALL"),d=x.useMemo(()=>{const v=new Date(r),b=new Date(s);return(t||[]).filter(y=>!!y.data_liquidacao).filter(y=>{const w=Ml(String(y.data_liquidacao));return w>=v&&w<=b}).filter(y=>i==="TODOS"?!0:y.tipo===i).filter(y=>c==="ALL"?!0:String(y.conta_id||"")===c)},[t,r,s,i,c]),f=x.useMemo(()=>{const v={};return d.forEach(b=>{const y=Mt(Ml(String(b.data_liquidacao)),"yyyy-MM");v[y]||(v[y]={mes:y,receita:0,despesa:0}),b.tipo==="RECEITA"?v[y].receita+=Number(b.valor||0):v[y].despesa+=Number(b.valor||0)}),Object.values(v).sort((b,y)=>b.mes.localeCompare(y.mes))},[d]),m=x.useMemo(()=>{const v=[...d].sort((y,w)=>String(y.data_liquidacao).localeCompare(String(w.data_liquidacao)));let b=0;return v.map(y=>(b+=y.tipo==="RECEITA"?Number(y.valor||0):-Number(y.valor||0),{data:String(y.data_liquidacao),saldo:b}))},[d]),h=x.useMemo(()=>{const v={};d.forEach(y=>{const w=String(y.categoria||"Sem categoria");v[w]=(v[w]||0)+Number(y.valor||0)*(y.tipo==="DESPESA",1)});const b=Object.entries(v).map(([y,w])=>({categoria:y,valor:w}));return b.sort((y,w)=>w.valor-y.valor),b.slice(0,10)},[d]),p=x.useMemo(()=>(e||[]).map(b=>{const y=T_(String(b.id),e,d);return{nome:b.nome,saldo:y.saldoAtual}}).sort((b,y)=>y.saldo-b.saldo),[e,d]),g=["#6366F1","#10B981","#F59E0B","#EF4444","#8B5CF6","#14B8A6","#F97316","#22C55E","#EAB308","#06B6D4"];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Filtros"})}),o.jsx(he,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"inicio",children:"Incio"}),o.jsx(de,{id:"inicio",type:"date",value:r,onChange:v=>n(v.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"fim",children:"Fim"}),o.jsx(de,{id:"fim",type:"date",value:s,onChange:v=>a(v.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Tipo"}),o.jsxs(He,{value:i,onValueChange:v=>l(v),children:[o.jsx(qe,{"aria-label":"Filtrar tipo",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"TODOS",children:"Todos"}),o.jsx(Y,{value:"RECEITA",children:"Receita"}),o.jsx(Y,{value:"DESPESA",children:"Despesa"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Conta"}),o.jsxs(He,{value:c,onValueChange:v=>u(v),children:[o.jsx(qe,{"aria-label":"Filtrar conta",children:o.jsx(Ke,{placeholder:"Todas"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"ALL",children:"Todas"}),(e||[]).map(v=>o.jsx(Y,{value:String(v.id),children:v.nome},String(v.id)))]})]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Evoluo Receita vs Despesa"})}),o.jsx(he,{className:"h-64",children:o.jsx(Vs,{children:o.jsxs(mR,{data:f,children:[o.jsx(Po,{strokeDasharray:"3 3"}),o.jsx(Us,{dataKey:"mes"}),o.jsx(qs,{}),o.jsx(Gr,{}),o.jsx(Ia,{}),o.jsx(ll,{type:"monotone",dataKey:"receita",stroke:"#10B981",name:"Receita"}),o.jsx(ll,{type:"monotone",dataKey:"despesa",stroke:"#EF4444",name:"Despesa"})]})})})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Fluxo de Caixa Acumulado"})}),o.jsx(he,{className:"h-64",children:o.jsx(Vs,{children:o.jsxs(iQ,{data:m,children:[o.jsx(Po,{strokeDasharray:"3 3"}),o.jsx(Us,{dataKey:"data",tickFormatter:v=>Mt(Ml(v),"MM/dd")}),o.jsx(qs,{}),o.jsx(Gr,{}),o.jsx(cl,{type:"monotone",dataKey:"saldo",stroke:"#6366F1",fill:"#6366F1",fillOpacity:.2})]})})})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Top Categorias"})}),o.jsx(he,{className:"h-64",children:o.jsx(Vs,{children:o.jsxs(tp,{data:h,children:[o.jsx(Po,{strokeDasharray:"3 3"}),o.jsx(Us,{dataKey:"categoria",hide:!1}),o.jsx(qs,{}),o.jsx(Gr,{}),o.jsx(lo,{dataKey:"valor",fill:"#8B5CF6"})]})})})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Saldo por Conta"})}),o.jsx(he,{className:"h-64",children:o.jsx(Vs,{children:o.jsxs(tp,{data:p,children:[o.jsx(Po,{strokeDasharray:"3 3"}),o.jsx(Us,{dataKey:"nome"}),o.jsx(qs,{}),o.jsx(Gr,{}),o.jsx(lo,{dataKey:"saldo",fill:"#22C55E"})]})})})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{children:"Participao por Categoria"})}),o.jsx(he,{className:"h-64",children:o.jsx(Vs,{children:o.jsxs(Ly,{children:[o.jsx(Gr,{}),o.jsx(Ia,{}),o.jsx(ho,{data:h,dataKey:"valor",nameKey:"categoria",outerRadius:80,children:h.map((v,b)=>o.jsx(wi,{fill:g[b%g.length]},b))})]})})})]})]})]})}function xWe({activeTab:t="despesas",onSelectTab:e}){const[r,n]=x.useState({x:0,y:0}),[s,a]=x.useState(!1),i=x.useRef(null),l=[{icon:jm,label:"Fluxo",value:"despesas"},{icon:wu,label:"Relatrios",value:"relatorios"},{icon:lu,label:"Bancos",value:"bancos"},{icon:_n,label:"Crdito",value:"creditos"},{icon:vU,label:"Dvidas",value:"dividas"},{icon:QT,label:"Patrimnio",value:"patrimonio"}],c=f=>{if(i.current){const m=i.current.getBoundingClientRect();n({x:f.clientX-m.left,y:f.clientY-m.top})}},u=f=>{if(!s)return 1;const m=60,h=f*m+m/2,p=Math.abs(r.x-h),g=120;if(p>g)return 1;const v=1+.3*(1-p/g);return Math.max(1,Math.min(1.3,v))},d=()=>s?1+(Math.max(...l.map((m,h)=>u(h)))-1)*.2:1;return o.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 via-emerald-500/20 to-emerald-500/10 blur-2xl rounded-full transition-transform duration-200 ease-out",style:{transform:`scale(${d()})`}}),o.jsx("div",{ref:i,className:"relative bg-background/90 backdrop-blur-3xl border border-emerald-500/30 rounded-full shadow-2xl px-4 py-3 transition-transform duration-200 ease-out",style:{transform:`scale(${d()})`},onMouseMove:c,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:o.jsx(lP,{children:o.jsx("div",{className:"flex items-center gap-2",children:l.map((f,m)=>{const h=f.icon,p=u(m),g=t===f.value;return o.jsxs(jq,{children:[o.jsx(Nq,{asChild:!0,children:o.jsxs("button",{onClick:()=>e==null?void 0:e(f.value),className:Ne("relative p-2.5 rounded-full transition-all duration-200 ease-out",g?"bg-emerald-500/30 backdrop-blur-xl border border-emerald-500/40 text-emerald-600 shadow-2xl shadow-emerald-500/30":"bg-foreground/15 backdrop-blur-md border border-foreground/25 hover:bg-emerald-500/20 hover:border-emerald-500/45 hover:shadow-xl hover:shadow-emerald-500/20 active:scale-95"),style:{transform:`scale(${p})`,zIndex:Math.round(p*10)},children:[o.jsx(h,{className:"w-4 h-4"}),g&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-emerald-500/80 rounded-full shadow-lg shadow-emerald-500/30"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-0.5 bg-emerald-500/60 rounded-full animate-pulse"})]})]})}),o.jsx(cP,{side:"top",className:"rounded-2xl bg-card/95 backdrop-blur-xl border-border/50",children:o.jsx("p",{className:"font-medium text-sm",children:f.label})})]},f.label)})})})})]})})}const J0=t=>String(t||"").toLowerCase(),yWe=({contas:t,transacoes:e})=>{const r=new Date,n=dn(r),s=ka(r),a=dn(Bs(r,1)),i=ka(Bs(r,1)),l=(f,m,h)=>{const p=new Date(f||"");return p>=m&&p<=h},c=x.useMemo(()=>(t||[]).filter(f=>f.id).map(f=>{const m=T_(String(f.id),t,e),h=(e||[]).filter(j=>String(j.conta_id||"")===String(f.id)&&!!j.data_liquidacao),p=h.filter(j=>J0(j.tipo)==="receita"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,n,s)).reduce((j,_)=>j+Number(_.valor||0),0),g=h.filter(j=>J0(j.tipo)==="despesa"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,n,s)).reduce((j,_)=>j+Number(_.valor||0),0),v=p-g,b=h.filter(j=>J0(j.tipo)==="receita"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,a,i)).reduce((j,_)=>j+Number(_.valor||0),0),y=h.filter(j=>J0(j.tipo)==="despesa"&&l(j.data_liquidacao||j.data_vencimento||j.created_at||j.data,a,i)).reduce((j,_)=>j+Number(_.valor||0),0),w=b-y,N=w?Number(((v-w)/w*100).toFixed(1)):v?100:0;return{contaId:String(f.id),nome:f.nome,banco:f.banco||"",saldoAtual:m.saldoAtual,variacaoMes:v,variacaoPct:N,banco_detalhes:f.banco_detalhes}}),[t,e]),u=c.reduce((f,m)=>f+m.saldoAtual,0),d=c.reduce((f,m)=>f+m.variacaoMes,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ne,{className:"rounded-2xl border-0 shadow-xl bg-gradient-to-br from-primary/5 via-background to-primary/5",children:[o.jsx(Oe,{className:"pb-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:o.jsx(gie,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-xl font-bold",children:"Caixa Atual"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Viso geral dos seus bancos"})]})]})})}),o.jsx(he,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(vU,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-primary",children:"Saldo Total"})]}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d>=0?o.jsx(_n,{className:"w-5 h-5 text-primary"}):o.jsx(jm,{className:"w-5 h-5 text-destructive"}),o.jsxs("span",{className:"text-sm font-medium text-primary",children:["Variao ",new Date().toLocaleDateString("pt-BR",{month:"long"})]})]}),o.jsxs("p",{className:`text-2xl font-bold ${d>=0?"text-foreground":"text-destructive"}`,children:[d>=0?"+":"-"," R$ ",Math.abs(d).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"text-center p-4 rounded-xl bg-gradient-to-br from-primary/10 via-primary/5 to-primary/10",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(lu,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-primary",children:"Contas Ativas"})]}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.length})]})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:c.map(f=>{var h,p;const m=f.variacaoMes>=0;return o.jsx(ne,{className:"rounded-lg border-0 shadow transition-all duration-300",children:o.jsx(he,{className:"p-3",children:o.jsxs("div",{className:"space-y-2.5",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center overflow-hidden",style:{background:f.banco_detalhes?`linear-gradient(135deg, ${f.banco_detalhes.cor_primaria}20, ${f.banco_detalhes.cor_secundaria}10)`:"linear-gradient(135deg, rgba(var(--primary), 0.2), rgba(var(--primary), 0.1))"},children:(h=f.banco_detalhes)!=null&&h.logo_url?o.jsx("img",{src:f.banco_detalhes.logo_url,alt:f.banco_detalhes.nome_curto,className:"w-5 h-5 object-contain",referrerPolicy:"no-referrer",onError:g=>{g.currentTarget.src="/placeholder.svg"}}):o.jsx(lu,{className:"w-3.5 h-3.5",style:{color:((p=f.banco_detalhes)==null?void 0:p.cor_primaria)||"var(--primary)"}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-xs",children:f.nome}),!!f.banco_detalhes&&o.jsx(Ge,{variant:"secondary",className:"rounded-full text-[10px]",style:{backgroundColor:`${f.banco_detalhes.cor_primaria}20`,color:f.banco_detalhes.cor_primaria,borderColor:`${f.banco_detalhes.cor_primaria}30`},children:f.banco_detalhes.nome_curto})]})]})}),o.jsxs("div",{className:"text-center py-1.5",children:[o.jsx("p",{className:"text-[11px] text-muted-foreground mb-1",children:"Saldo Atual"}),o.jsxs("p",{className:"text-lg font-bold text-foreground",children:["R$ ",f.saldoAtual.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-1.5 border-t border-border/50",children:[o.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Variao ms"}),o.jsxs(Ge,{variant:m?"default":"destructive",className:"rounded-full text-[11px] flex items-center gap-1",children:[m?o.jsx(_n,{className:"w-3 h-3"}):o.jsx(jm,{className:"w-3 h-3"}),m?"+":"-"," R$ ",Math.abs(f.variacaoMes).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("span",{className:`text-[11px] font-medium ${f.variacaoPct>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[f.variacaoPct>=0?"+":"",f.variacaoPct,"%"]})})]})})},f.contaId)})}),c.length===0&&o.jsx(ne,{className:"rounded-xl border-0 shadow-lg",children:o.jsx(he,{className:"p-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx(lu,{className:"w-12 h-12 text-muted-foreground"}),o.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Nenhuma conta bancria encontrada"}),o.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Cadastre suas contas para visualizar os saldos"})]})})})]})};function bWe(){const{items:t,insert:e,update:r,remove:n}=mZ(),{items:s}=Jp(),[a,i]=x.useState(!1),[l,c]=x.useState(null),u=La({resolver:Fa(hZ),defaultValues:{credor:"",valor:0,data_vencimento:new Date().toISOString().slice(0,10),status:"ABERTA",conta_id:"",observacoes:"",data_pagamento:null,total_parcelas:1,parcela_atual:1,periodicidade:"MENSAL"}}),d=()=>{c(null),u.reset({credor:"",valor:0,data_vencimento:new Date().toISOString().slice(0,10),status:"ABERTA",conta_id:"",observacoes:"",data_pagamento:null,total_parcelas:1,parcela_atual:1,periodicidade:"MENSAL"}),i(!0)},f=h=>{c(h),u.reset({credor:h.credor,valor:Number(h.valor)||0,data_vencimento:h.data_vencimento,status:h.status,conta_id:h.conta_id||"",observacoes:h.observacoes||"",data_pagamento:h.data_pagamento||null,total_parcelas:h.total_parcelas??1,parcela_atual:h.parcela_atual??1,periodicidade:h.periodicidade??"MENSAL"}),i(!0)},m=async h=>{const p={credor:h.credor,valor:Number(h.valor),data_vencimento:h.data_vencimento,status:h.status,conta_id:h.conta_id||null,observacoes:h.observacoes||null,data_pagamento:h.status==="PAGA"?h.data_pagamento||new Date().toISOString().slice(0,10):null,total_parcelas:Number(h.total_parcelas||1),parcela_atual:Number(h.parcela_atual||1),periodicidade:h.periodicidade||"MENSAL"};l!=null&&l.id?await r(l.id,p):await e(p),i(!1)};return o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-lg",children:"Dvidas"}),o.jsxs(fr,{open:a,onOpenChange:i,children:[o.jsx(Ks,{asChild:!0,children:o.jsx(U,{variant:"default",onClick:d,"aria-label":"Adicionar dvida",children:"Adicionar"})}),o.jsxs(ir,{className:"max-w-xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:l?"Editar dvida":"Nova dvida"})}),o.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"credor",children:"Credor"}),o.jsx(de,{id:"credor",...u.register("credor")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"valor",children:"Valor"}),o.jsx(de,{id:"valor",type:"number",step:"0.01",...u.register("valor",{valueAsNumber:!0})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_vencimento",children:"Vencimento"}),o.jsx(de,{id:"data_vencimento",type:"date",...u.register("data_vencimento")})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Status"}),o.jsxs(He,{value:u.watch("status"),onValueChange:h=>u.setValue("status",h),children:[o.jsx(qe,{"aria-label":"Selecionar status",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"ABERTA",children:"Aberta"}),o.jsx(Y,{value:"PAGA",children:"Paga"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Conta"}),o.jsxs(He,{value:u.watch("conta_id")||"none",onValueChange:h=>u.setValue("conta_id",h==="none"?"":h),children:[o.jsx(qe,{"aria-label":"Selecionar conta",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhuma conta"}),(Array.isArray(s)?s:[]).filter(h=>!!h&&!!h.id&&String(h.id).trim().length>0).map(h=>o.jsx(Y,{value:String(h.id),children:h.nome},String(h.id)))]})]})]}),u.watch("status")==="PAGA"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_pagamento",children:"Pagamento"}),o.jsx(de,{id:"data_pagamento",type:"date",...u.register("data_pagamento")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"observacoes",children:"Observaes"}),o.jsx(de,{id:"observacoes",...u.register("observacoes")})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"total_parcelas",children:"Total de parcelas"}),o.jsx(de,{id:"total_parcelas",type:"number",min:1,step:1,...u.register("total_parcelas",{valueAsNumber:!0})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"parcela_atual",children:"Parcela atual"}),o.jsx(de,{id:"parcela_atual",type:"number",min:1,step:1,...u.register("parcela_atual",{valueAsNumber:!0})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Periodicidade"}),o.jsxs(He,{value:u.watch("periodicidade"),onValueChange:h=>u.setValue("periodicidade",h),children:[o.jsx(qe,{"aria-label":"Selecionar periodicidade",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"MENSAL",children:"Mensal"}),o.jsx(Y,{value:"SEMANAL",children:"Semanal"}),o.jsx(Y,{value:"QUINZENAL",children:"Quinzenal"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Prximos vencimentos"}),(()=>{const h=u.watch("data_vencimento"),p=h?new Date(h):new Date,g=Number(u.watch("total_parcelas")||1),v=Number(u.watch("parcela_atual")||1),b=u.watch("periodicidade")||"MENSAL",y=[],w=(_,S)=>{const C=new Date(_);return C.setDate(C.getDate()+S),C},N=(_,S)=>{const C=new Date(_);return C.setMonth(C.getMonth()+S),C},j=b==="SEMANAL"?7:b==="QUINZENAL"?14:30;for(let _=v+1;_<=Math.min(g,v+3);_++){const S=_-1,C=b==="MENSAL"?N(p,S):w(p,S*j);y.push(C.toISOString().slice(0,10))}return o.jsx("p",{className:"text-sm",children:y.length?y.join("  "):""})})()]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",children:"Salvar"})]})]})]})]})]})}),o.jsx(he,{children:o.jsx("div",{className:"overflow-auto rounded-xl border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Vencimento"}),o.jsx(ge,{children:"Credor"}),o.jsx(ge,{className:"text-right",children:"Valor"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Banco"}),o.jsx(ge,{children:"Parcela"}),o.jsx(ge,{children:"Prx. venc."}),o.jsx(ge,{children:"Aes"})]})}),o.jsx(is,{children:t.map(h=>o.jsxs(zt,{children:[o.jsx(fe,{children:h.data_vencimento}),o.jsx(fe,{className:"max-w-[320px] truncate",title:h.credor,children:h.credor}),o.jsx(fe,{className:"text-right",children:o.jsxs("span",{className:h.status==="ABERTA"?"text-red-600 font-semibold":"text-green-600 font-semibold",children:["R$ ",Number(h.valor).toFixed(2)]})}),o.jsx(fe,{children:h.status==="ABERTA"?"Aberta":"Paga"}),o.jsx(fe,{children:(()=>{var g;const p=(Array.isArray(s)?s:[]).find(v=>String(v.id)===String(h.conta_id||""));return p?`${p.nome}${(g=p.banco_detalhes)!=null&&g.nome?` - ${p.banco_detalhes.nome}`:""}`:"-"})()}),o.jsx(fe,{children:`${Number(h.parcela_atual||1)}/${Number(h.total_parcelas||1)}`}),o.jsx(fe,{children:(()=>{const p=h.data_vencimento,g=p?new Date(p):new Date,v=Number(h.parcela_atual||1),b=h.periodicidade||"MENSAL",y=(S,C)=>{const k=new Date(S);return k.setDate(k.getDate()+C),k},w=(S,C)=>{const k=new Date(S);return k.setMonth(k.getMonth()+C),k},N=b==="SEMANAL"?7:b==="QUINZENAL"?14:30,j=v;return(b==="MENSAL"?w(g,j):y(g,j*N)).toISOString().slice(0,10)})()}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>f(h),"aria-label":`Editar ${h.credor}`,children:"Editar"}),o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>n(h.id),"aria-label":`Excluir ${h.credor}`,children:"Excluir"})]})})]},h.id))})]})})})]})}const pZ=ws({nome:$e().min(2),categoria:$e().min(1),descricao:$e().optional().nullable(),data_aquisicao:$e().min(1),custo_inicial:wn().nonnegative(),valor_residual:wn().min(0).default(0),metodo_depreciacao:ns(["linha_reta","declinante"]).default("linha_reta"),vida_util_meses:wn().int().min(1).default(36),taxa_declinante_anual:wn().min(0).optional().nullable(),localizacao:$e().optional().nullable(),condicao:ns(["novo","bom","usado","avariado"]).default("bom"),serial_nota:$e().optional().nullable(),garantia_fim:$e().optional().nullable(),rendimento_mensal_estimado:wn().min(0).optional().nullable(),tags:JQ($e()).optional().nullable(),status:ns(["ativo","vendido","descartado"]).default("ativo"),valor_atual_cache:wn().min(0).optional().nullable()}),wWe=ws({item_id:$e().min(1),tipo:ns(["entrada","saida"]),valor:wn().nonnegative(),data:$e().min(1),descricao:$e().optional().nullable(),categoria:$e().optional().nullable(),comprovante_url:$e().url().optional().nullable()});function jWe(t,e){return(e.getFullYear()-t.getFullYear())*12+(e.getMonth()-t.getMonth())}function hv(t,e=new Date){const r=Number(t.custo_inicial)||0,n=Number(t.valor_residual||0)||0,s=Number(t.vida_util_meses||36)||36,a=t.data_aquisicao?new Date(t.data_aquisicao):e,i=Math.max(0,jWe(a,e));if(t.metodo_depreciacao==="declinante"){const u=Number(t.taxa_declinante_anual||0)/100,d=i/12,f=r*Math.pow(1-u,d);return Math.max(n,Number(f.toFixed(2)))}const l=(r-n)/s,c=r-l*i;return Math.max(n,Number(c.toFixed(2)))}function NWe(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState({}),[i,l]=x.useState(!1),[c,u]=x.useState(null),d=x.useMemo(()=>{const N=r.reduce((k,A)=>k+Number(A.valor_atual_cache??hv(A)),0),j=r.reduce((k,A)=>k+(Number(A.custo_inicial)||0),0),_=r.filter(k=>{var A;return!Array.isArray(k.tags)||!((A=k.tags)!=null&&A.includes("no_roi"))}),S=_.reduce((k,A)=>k+Number(A.valor_atual_cache??hv(A)),0),C=_.reduce((k,A)=>k+(Number(A.custo_inicial)||0),0);return{valorAtualTotal:N,custoTotal:j,valorAtualRoiTotal:S,custoRoiTotal:C}},[r]),f=tr?rr:X,m=async()=>{try{if(!t)return;l(!0);const{data:N,error:j}=await f.from("patrimonio_itens").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(j)throw j;n(N||[]),u(null)}catch(N){console.error("Erro ao carregar patrimonio_itens:",N),u((N==null?void 0:N.message)||"Erro desconhecido"),e({title:"Erro ao carregar patrimnio",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{l(!1)}},h=async N=>{try{if(!t)throw new Error("Usurio no autenticado");const j=pZ.parse(N),_={user_id:t.id,...j},{data:S,error:C}=await f.from("patrimonio_itens").insert(_).select("*");if(C)throw C;n(k=>S?[S[0],...k]:k),e({title:"Item criado",description:"Patrimnio salvo com sucesso."})}catch(j){throw console.error("Erro ao inserir patrimonio_itens:",j),e({title:"Erro ao criar item",description:j.message||"Verifique os dados.",variant:"destructive"}),j}},p=async(N,j)=>{try{if(!t)throw new Error("Usurio no autenticado");const _={...j};_.custo_inicial!==void 0&&(_.custo_inicial=Number(_.custo_inicial)),_.valor_residual!==void 0&&(_.valor_residual=Number(_.valor_residual)),_.valor_atual_cache!==void 0&&_.valor_atual_cache!=null&&(_.valor_atual_cache=Number(_.valor_atual_cache));const{data:S,error:C}=await f.from("patrimonio_itens").update(_).select("*").eq("id",N).eq("user_id",t.id);if(C)throw C;if(S&&S.length){const k=S[0];n(A=>A.map(O=>O.id===k.id?k:O))}else await m();e({title:"Item atualizado",description:"Alteraes salvas com sucesso."})}catch(_){throw console.error("Erro ao atualizar patrimonio_itens:",_),e({title:"Erro ao atualizar",description:_.message||"Tente novamente.",variant:"destructive"}),_}},g=async N=>{try{if(!t)throw new Error("Usurio no autenticado");const{error:j}=await f.from("patrimonio_itens").delete().eq("id",N).eq("user_id",t.id);if(j)throw j;n(_=>_.filter(S=>S.id!==N)),e({title:"Item removido",description:"Registro excludo."})}catch(j){throw console.error("Erro ao remover patrimonio_itens:",j),e({title:"Erro ao remover",description:j.message||"Tente novamente.",variant:"destructive"}),j}},v=async N=>{try{if(!t)return[];const{data:j,error:_}=await f.from("patrimonio_movimentos").select("*").eq("user_id",t.id).eq("item_id",N).order("data",{ascending:!1});if(_)throw _;return a(S=>({...S,[N]:j||[]})),j||[]}catch(j){return console.error("Erro ao carregar movimentos:",j),e({title:"Erro ao carregar lanamentos",description:"Tente novamente mais tarde.",variant:"destructive"}),[]}},b=async N=>{try{if(!t)throw new Error("Usurio no autenticado");const j=wWe.parse(N),_={user_id:t.id,...j},{data:S,error:C}=await f.from("patrimonio_movimentos").insert(_).select("*");if(C)throw C;const k=S==null?void 0:S[0];a(A=>{const O=A[j.item_id]||[];return{...A,[j.item_id]:[k,...O]}}),e({title:"Lanamento criado",description:"Registro salvo com sucesso."})}catch(j){throw console.error("Erro ao inserir patrimonio_movimentos:",j),e({title:"Erro ao criar lanamento",description:j.message||"Verifique os dados.",variant:"destructive"}),j}},y=async(N,j)=>{try{if(!t)throw new Error("Usurio no autenticado");const{error:_}=await f.from("patrimonio_movimentos").delete().eq("id",N).eq("user_id",t.id);if(_)throw _;a(S=>({...S,[j]:(S[j]||[]).filter(C=>C.id!==N)})),e({title:"Lanamento removido",description:"Registro excludo."})}catch(_){throw console.error("Erro ao remover patrimonio_movimentos:",_),e({title:"Erro ao remover",description:_.message||"Tente novamente.",variant:"destructive"}),_}},w=N=>{const j=s[N]||[],_=j.filter(A=>A.tipo==="entrada").reduce((A,O)=>A+(Number(O.valor)||0),0),S=j.filter(A=>A.tipo==="saida").reduce((A,O)=>A+(Number(O.valor)||0),0),C=r.find(A=>A.id===N),k=C&&Number(C.custo_inicial)||0;return k?Number(((_-S)/k).toFixed(4)):0};return x.useEffect(()=>{if(m(),!t)return;const N=f.channel("realtime-patrimonio").on("postgres_changes",{event:"INSERT",schema:"public",table:"patrimonio_itens",filter:`user_id=eq.${t.id}`},j=>{n(_=>[j.new,..._])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"patrimonio_itens",filter:`user_id=eq.${t.id}`},j=>{n(_=>_.map(S=>S.id===j.new.id?j.new:S))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"patrimonio_itens",filter:`user_id=eq.${t.id}`},j=>{n(_=>_.filter(S=>S.id!==j.old.id))}).subscribe();return()=>{f.removeChannel(N)}},[t==null?void 0:t.id]),{items:r,movimentos:s,stats:d,loading:i,error:c,fetchItems:m,insertItem:h,updateItem:p,removeItem:g,fetchMovimentos:v,insertMovimento:b,removeMovimento:y,calcularRoiDoItem:w,calcularValorAtual:hv}}const kB=["Roupas","Acessrios","Tecnologia","Produtos","Ferramenta","Imvel","Mvel","Veculo","Empresa","Colecionvel","Marca","Outro"],_We={Tecnologia:36,Veculo:60,Roupas:24,Marca:36},Z0=t=>t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});function SWe(){const{items:t,insertItem:e,updateItem:r,removeItem:n,stats:s}=NWe(),[a,i]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState("todos"),[f,m]=x.useState(""),[h,p]=x.useState("todos"),[g,v]=x.useState(!1),b=La({resolver:Fa(pZ),defaultValues:{nome:"",categoria:"Outro",descricao:"",data_aquisicao:new Date().toISOString().slice(0,10),custo_inicial:0,valor_residual:0,metodo_depreciacao:"linha_reta",vida_util_meses:36,taxa_declinante_anual:null,localizacao:"",condicao:"bom",serial_nota:"",garantia_fim:null,rendimento_mensal_estimado:null,tags:[],status:"ativo",valor_atual_cache:null}}),y=()=>{c(null),b.reset({nome:"",categoria:"Outro",descricao:"",data_aquisicao:new Date().toISOString().slice(0,10),custo_inicial:0,valor_residual:0,metodo_depreciacao:"linha_reta",vida_util_meses:36,taxa_declinante_anual:null,localizacao:"",condicao:"bom",serial_nota:"",garantia_fim:null,rendimento_mensal_estimado:null,tags:[],status:"ativo",valor_atual_cache:null,metrificar_roi:!0}),i(!0)},w=C=>{var k;c(C),b.reset({nome:C.nome,categoria:C.categoria,descricao:C.descricao||"",data_aquisicao:C.data_aquisicao,custo_inicial:Number(C.custo_inicial)||0,valor_residual:Number(C.valor_residual||0)||0,metodo_depreciacao:C.metodo_depreciacao,vida_util_meses:Number(C.vida_util_meses||36),taxa_declinante_anual:C.taxa_declinante_anual??null,localizacao:C.localizacao||"",condicao:C.condicao||"bom",serial_nota:C.serial_nota||"",garantia_fim:C.garantia_fim||null,rendimento_mensal_estimado:C.rendimento_mensal_estimado??null,tags:C.tags??[],status:C.status||"ativo",valor_atual_cache:C.valor_atual_cache??null,metrificar_roi:!Array.isArray(C.tags)||!((k=C.tags)!=null&&k.includes("no_roi"))}),i(!0)},N=async C=>{const k={nome:C.nome,categoria:C.categoria,descricao:C.descricao||null,data_aquisicao:C.data_aquisicao,custo_inicial:Number(C.custo_inicial)||0,valor_residual:Number(C.valor_residual||0)||0,metodo_depreciacao:C.metodo_depreciacao,vida_util_meses:Number(C.vida_util_meses||36),taxa_declinante_anual:C.taxa_declinante_anual?Number(C.taxa_declinante_anual):null,localizacao:C.localizacao||null,condicao:C.condicao,serial_nota:C.serial_nota||null,garantia_fim:C.garantia_fim||null,rendimento_mensal_estimado:C.rendimento_mensal_estimado?Number(C.rendimento_mensal_estimado):null,tags:(()=>{const A=(C.tags||[]).filter(P=>P!=="no_roi");return C.metrificar_roi===!0?A:[...A,"no_roi"]})(),status:C.status,valor_atual_cache:C.valor_atual_cache!=null?Number(C.valor_atual_cache):null};l!=null&&l.id?await r(l.id,k):await e(k),i(!1)},j=x.useMemo(()=>t.filter(C=>u==="todos"?!0:C.categoria===u).filter(C=>!f||C.nome.toLowerCase().includes(f.toLowerCase())),[t,u,f]),_=x.useMemo(()=>{const C={};return j.filter(k=>h==="todos"?!0:String(k.status||"")===h).forEach(k=>{const A=String(k.categoria||"Outro"),O=Number(k.valor_atual_cache??hv(k));C[A]=(C[A]||0)+O}),Object.entries(C).map(([k,A])=>({categoria:k,valor:A}))},[j,h]),S=["#6366F1","#10B981","#F59E0B","#EF4444","#8B5CF6","#14B8A6","#F97316","#22C55E","#EAB308","#06B6D4"];return o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsxs(Oe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-lg",children:"Patrimnio"}),o.jsxs(fr,{open:a,onOpenChange:i,children:[o.jsx(Ks,{asChild:!0,children:o.jsx(U,{variant:"default",onClick:y,"aria-label":"Adicionar item",children:"Adicionar"})}),o.jsxs(ir,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"text-xl font-semibold flex items-center gap-2",children:[l?o.jsx(Ma,{className:"w-5 h-5"}):o.jsx(Ma,{className:"w-5 h-5"}),l?"Editar Item":"Novo Item de Patrimnio"]})}),o.jsxs("form",{onSubmit:b.handleSubmit(N),className:"space-y-6 mt-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(jn,{className:"w-4 h-4"})," Informaes Bsicas"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"nome",children:"Nome do Item"}),o.jsx(de,{id:"nome",placeholder:"Ex: MacBook Pro M1",...b.register("nome")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Categoria"}),o.jsxs(He,{value:b.watch("categoria"),onValueChange:C=>{b.setValue("categoria",C);const k=_We[C]??36;b.setValue("vida_util_meses",k,{shouldDirty:!0,shouldValidate:!0})},children:[o.jsx(qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ji,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(Ke,{})]})}),o.jsx(We,{children:kB.map(C=>o.jsx(Y,{value:C,children:C},C))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_aquisicao",children:"Data de Aquisio"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"data_aquisicao",type:"date",className:"pl-9",...b.register("data_aquisicao")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Status Atual"}),o.jsxs(He,{value:b.watch("status"),onValueChange:C=>b.setValue("status",C),children:[o.jsx(qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oie,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(Ke,{})]})}),o.jsxs(We,{children:[o.jsx(Y,{value:"ativo",children:"Ativo"}),o.jsx(Y,{value:"vendido",children:"Vendido"}),o.jsx(Y,{value:"descartado",children:"Descartado"})]})]})]})]})]}),o.jsx("div",{className:"h-px bg-border/50"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Zr,{className:"w-4 h-4"})," Detalhes Financeiros"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"custo_inicial",children:"Custo Inicial"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-muted-foreground text-sm",children:"R$"}),o.jsx(de,{id:"custo_inicial",type:"number",step:"0.01",className:"pl-9",...b.register("custo_inicial",{valueAsNumber:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"valor_atual_cache",children:"Valor Atual (Manual)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-muted-foreground text-sm",children:"R$"}),o.jsx(de,{id:"valor_atual_cache",type:"number",step:"0.01",className:"pl-9",placeholder:"Auto",...b.register("valor_atual_cache",{valueAsNumber:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"valor_residual",children:"Valor Residual Estimado"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-muted-foreground text-sm",children:"R$"}),o.jsx(de,{id:"valor_residual",type:"number",step:"0.01",className:"pl-9",...b.register("valor_residual",{valueAsNumber:!0})})]})]})]})]}),o.jsx("div",{className:"h-px bg-border/50"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(jm,{className:"w-4 h-4"})," Depreciao"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Mtodo"}),o.jsxs(He,{value:b.watch("metodo_depreciacao"),onValueChange:C=>b.setValue("metodo_depreciacao",C),children:[o.jsx(qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yU,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(Ke,{})]})}),o.jsxs(We,{children:[o.jsx(Y,{value:"linha_reta",children:"Linha Reta"}),o.jsx(Y,{value:"declinante",children:"Declinante"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"vida_util_meses",children:"Vida til (Meses)"}),o.jsxs("div",{className:"relative",children:[o.jsx(ra,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"vida_util_meses",type:"number",min:1,step:1,className:"pl-9",...b.register("vida_util_meses",{valueAsNumber:!0})})]})]}),b.watch("metodo_depreciacao")==="declinante"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"taxa_declinante_anual",children:"Taxa Anual (%)"}),o.jsx(de,{id:"taxa_declinante_anual",type:"number",step:"0.01",...b.register("taxa_declinante_anual",{valueAsNumber:!0})})]})]})]}),o.jsx("div",{className:"h-px bg-border/50"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(zd,{className:"w-4 h-4"})," Outros Detalhes"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"localizacao",children:"Localizao"}),o.jsxs("div",{className:"relative",children:[o.jsx(Uv,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"localizacao",className:"pl-9",placeholder:"Ex: Escritrio SP",...b.register("localizacao")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"serial_nota",children:"Serial / Nota Fiscal"}),o.jsxs("div",{className:"relative",children:[o.jsx(bie,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"serial_nota",className:"pl-9",...b.register("serial_nota")})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"garantia_fim",children:"Fim da Garantia"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bie,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{id:"garantia_fim",type:"date",className:"pl-9",...b.register("garantia_fim")})]})]}),o.jsx("div",{className:"flex items-end pb-2",children:o.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg w-full bg-muted/20",children:[o.jsx(cf,{checked:!!b.watch("metrificar_roi"),onCheckedChange:C=>b.setValue("metrificar_roi",!!C),id:"metrificar_roi"}),o.jsx(ie,{htmlFor:"metrificar_roi",className:"cursor-pointer",children:"Metrificar ROI deste item"})]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",className:"px-8",children:"Salvar Item"})]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(U,{variant:"outline",onClick:()=>v(C=>!C),"aria-label":"Mostrar grfico",children:g?"Ocultar grfico":"Mostrar grfico"})})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx("div",{className:"w-48",children:o.jsxs(He,{value:u,onValueChange:d,children:[o.jsx(qe,{"aria-label":"Filtrar categoria",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"todos",children:"Todas categorias"}),kB.map(C=>o.jsx(Y,{value:C,children:C},C))]})]})}),o.jsx(de,{className:"max-w-xs",placeholder:"Buscar por nome",value:f,onChange:C=>m(C.target.value)})]})]}),o.jsxs(he,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",Z0(s.valorAtualTotal)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-xl",children:[o.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",Z0(s.custoTotal)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Custo Total"})]}),o.jsx("div",{className:"text-center p-4 border rounded-xl",children:(()=>{const C=s.custoRoiTotal||0,k=C?(s.valorAtualRoiTotal-s.custoRoiTotal)/C:0,A=(k*100).toFixed(2);return o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:k>=0?"text-2xl font-bold text-green-600":"text-2xl font-bold text-red-600",children:[A,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"ROI mdio"})]})})()})]}),g&&o.jsxs(ne,{className:"rounded-xl mb-4",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{children:"Distribuio por Categoria"}),o.jsx("div",{className:"w-48",children:o.jsxs(He,{value:h,onValueChange:p,children:[o.jsx(qe,{"aria-label":"Filtrar status",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"todos",children:"Todos status"}),o.jsx(Y,{value:"ativo",children:"Ativo"}),o.jsx(Y,{value:"vendido",children:"Vendido"}),o.jsx(Y,{value:"descartado",children:"Descartado"})]})]})})]})}),o.jsx(he,{className:"h-64",children:o.jsx(Vs,{children:o.jsxs(Ly,{children:[o.jsx(Gr,{}),o.jsx(Ia,{}),o.jsx(ho,{data:_,dataKey:"valor",nameKey:"categoria",outerRadius:80,children:_.map((C,k)=>o.jsx(wi,{fill:S[k%S.length]},k))})]})})})]}),o.jsx("div",{className:"overflow-auto rounded-xl border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Nome"}),o.jsx(ge,{children:"Categoria"}),o.jsx(ge,{className:"text-right",children:"Custo"}),o.jsx(ge,{className:"text-right",children:"Valor atual"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Aes"})]})}),o.jsx(is,{children:j.map(C=>o.jsxs(zt,{children:[o.jsx(fe,{className:"max-w-[320px] truncate",title:C.nome,children:C.nome}),o.jsx(fe,{children:C.categoria}),o.jsxs(fe,{className:"text-right",children:["R$ ",Z0(Number(C.custo_inicial))]}),o.jsxs(fe,{className:"text-right",children:["R$ ",Z0(Number(C.valor_atual_cache??hv(C)))]}),o.jsx(fe,{children:C.status==="ativo"?"Ativo":C.status==="vendido"?"Vendido":"Descartado"}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>w(C),"aria-label":`Editar ${C.nome}`,children:"Editar"}),o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>n(C.id),"aria-label":`Excluir ${C.nome}`,children:"Excluir"})]})})]},C.id))})]})})]})]})}const gZ=ws({nome:$e().min(2),banco_id:$e().optional().nullable().or(zx("")),limite:wn().nonnegative().default(0),utilizado:wn().nonnegative().default(0),taxa_juros:wn().optional().nullable(),modalidade:ns(["ROTATIVO","PARCELADO","CARTAO","EMPRESTIMO"]).default("ROTATIVO"),vencimento_dia:wn().int().min(1).max(31).optional().nullable(),data_abertura:$e().optional().nullable(),status:ns(["ATIVA","INATIVA"]).default("ATIVA"),observacoes:$e().optional().nullable()});function CWe(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=async()=>{try{if(!t)return;a(!0);const m=tr?rr:X,{data:h,error:p}=await m.from("linhas_credito").select("*").eq("user_id",t.id).order("nome",{ascending:!0});if(p)throw p;n(h||[]),l(null)}catch(m){console.error("Erro ao carregar linhas_credito:",m),l((m==null?void 0:m.message)||"Erro desconhecido"),e({title:"Erro ao carregar linhas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},u=async m=>{try{if(!t)throw new Error("Usurio no autenticado");const h=gZ.parse(m),p={user_id:t.id,nome:h.nome,banco_id:h.banco_id||null,limite:Number(h.limite||0),utilizado:Number(h.utilizado||0),taxa_juros:h.taxa_juros??null,modalidade:h.modalidade,vencimento_dia:h.vencimento_dia??null,data_abertura:h.data_abertura??null,status:h.status,observacoes:h.observacoes??null},g=tr?rr:X,{data:v,error:b}=await g.from("linhas_credito").insert(p).select("*");if(b)throw b;n(y=>v?[v[0],...y]:y),e({title:"Linha criada",description:"Registro salvo com sucesso."})}catch(h){throw console.error("Erro ao inserir em linhas_credito:",h),e({title:"Erro ao criar linha",description:h.message||"Verifique os dados.",variant:"destructive"}),h}},d=async(m,h)=>{try{if(!t)throw new Error("Usurio no autenticado");const p={...h};p.limite!==void 0&&(p.limite=Number(p.limite)),p.utilizado!==void 0&&(p.utilizado=Number(p.utilizado));const g=tr?rr:X,{data:v,error:b}=await g.from("linhas_credito").update(p).select("*").eq("id",m).eq("user_id",t.id);if(b)throw b;if(v&&v.length){const y=v[0];n(w=>w.map(N=>N.id===y.id?y:N))}else await c();e({title:"Linha atualizada",description:"Alteraes salvas com sucesso."})}catch(p){throw console.error("Erro ao atualizar linhas_credito:",p),e({title:"Erro ao atualizar",description:p.message||"Tente novamente.",variant:"destructive"}),p}},f=async m=>{try{if(!t)throw new Error("Usurio no autenticado");const h=tr?rr:X,{error:p}=await h.from("linhas_credito").delete().eq("id",m).eq("user_id",t.id);if(p)throw p;n(g=>g.filter(v=>v.id!==m)),e({title:"Linha removida",description:"Registro excludo."})}catch(h){throw console.error("Erro ao remover linhas_credito:",h),e({title:"Erro ao remover",description:h.message||"Tente novamente.",variant:"destructive"}),h}};return x.useEffect(()=>{if(c(),!t)return;const m=tr?rr:X,h=m.channel("realtime-linhas-credito").on("postgres_changes",{event:"INSERT",schema:"public",table:"linhas_credito",filter:`user_id=eq.${t.id}`},p=>{n(g=>[p.new,...g])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"linhas_credito",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.map(v=>v.id===p.new.id?p.new:v))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"linhas_credito",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.filter(v=>v.id!==p.old.id))}).subscribe();return()=>{m.removeChannel(h)}},[t==null?void 0:t.id]),{items:r,loading:s,error:i,fetchAll:c,insert:u,update:d,remove:f}}function EWe(){const{items:t,insert:e,update:r,remove:n}=CWe(),[s,a]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState([]),{user:d}=Fr();x.useEffect(()=>{(async()=>{if(!d)return;const{data:b,error:y}=await X.from("contas_bancarias").select("banco_id, banco_detalhes:bancos(*)").eq("user_id",d.id).eq("is_arquivada",!1);if(y)return u([]);const w={};(b||[]).forEach(N=>{const j=String(N.banco_id||"");if(j&&!w[j]){const _=N.banco_detalhes||{};w[j]={id:j,nome_curto:_.nome_curto||_.nome||j,nome:_.nome||_.nome_curto||j}}}),u(Object.values(w))})()},[d]);const f=La({resolver:Fa(gZ),defaultValues:{nome:"",banco_id:"",limite:0,utilizado:0,taxa_juros:null,modalidade:"ROTATIVO",vencimento_dia:null,data_abertura:new Date().toISOString().slice(0,10),status:"ATIVA",observacoes:""}}),m=()=>{l(null),f.reset({nome:"",banco_id:"",limite:0,utilizado:0,taxa_juros:null,modalidade:"ROTATIVO",vencimento_dia:null,data_abertura:new Date().toISOString().slice(0,10),status:"ATIVA",observacoes:""}),a(!0)},h=v=>{l(v),f.reset({nome:v.nome,banco_id:v.banco_id||"",limite:Number(v.limite)||0,utilizado:Number(v.utilizado)||0,taxa_juros:v.taxa_juros??null,modalidade:v.modalidade,vencimento_dia:v.vencimento_dia??null,data_abertura:v.data_abertura||new Date().toISOString().slice(0,10),status:v.status,observacoes:v.observacoes||""}),a(!0)},p=async v=>{const b={nome:v.nome,banco_id:v.banco_id||null,limite:Number(v.limite||0),utilizado:Number(v.utilizado||0),taxa_juros:v.taxa_juros??null,modalidade:v.modalidade,vencimento_dia:v.vencimento_dia??null,data_abertura:v.data_abertura||null,status:v.status,observacoes:v.observacoes||null};i!=null&&i.id?await r(i.id,b):await e(b),a(!1)},g=v=>Number(v.limite||0)-Number(v.utilizado||0);return o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-lg",children:"Linhas de Crdito"}),o.jsxs(fr,{open:s,onOpenChange:a,children:[o.jsx(Ks,{asChild:!0,children:o.jsx(U,{variant:"default",onClick:m,"aria-label":"Adicionar linha",children:"Adicionar"})}),o.jsxs(ir,{className:"max-w-xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:i?"Editar linha":"Nova linha de crdito"})}),o.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"nome",children:"Nome"}),o.jsx(de,{id:"nome",...f.register("nome")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"limite",children:"Limite"}),o.jsx(de,{id:"limite",type:"number",step:"0.01",...f.register("limite",{valueAsNumber:!0})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"utilizado",children:"Utilizado"}),o.jsx(de,{id:"utilizado",type:"number",step:"0.01",...f.register("utilizado",{valueAsNumber:!0})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Banco"}),o.jsxs(He,{value:f.watch("banco_id")||"none",onValueChange:v=>f.setValue("banco_id",v==="none"?"":v),children:[o.jsx(qe,{"aria-label":"Selecionar banco",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"none",children:"Nenhum"}),(Array.isArray(c)?c:[]).filter(v=>!!v&&!!v.id).map(v=>o.jsx(Y,{value:String(v.id),children:v.nome_curto||v.nome},String(v.id)))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Modalidade"}),o.jsxs(He,{value:f.watch("modalidade"),onValueChange:v=>f.setValue("modalidade",v),children:[o.jsx(qe,{"aria-label":"Selecionar modalidade",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"ROTATIVO",children:"Rotativo"}),o.jsx(Y,{value:"PARCELADO",children:"Parcelado"}),o.jsx(Y,{value:"CARTAO",children:"Carto"}),o.jsx(Y,{value:"EMPRESTIMO",children:"Emprstimo"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"taxa_juros",children:"Taxa (%)"}),o.jsx(de,{id:"taxa_juros",type:"number",step:"0.001",...f.register("taxa_juros",{valueAsNumber:!0})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"vencimento_dia",children:"Vencimento (dia)"}),o.jsx(de,{id:"vencimento_dia",type:"number",min:1,max:31,step:1,...f.register("vencimento_dia",{valueAsNumber:!0})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"data_abertura",children:"Abertura"}),o.jsx(de,{id:"data_abertura",type:"date",...f.register("data_abertura")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Status"}),o.jsxs(He,{value:f.watch("status"),onValueChange:v=>f.setValue("status",v),children:[o.jsx(qe,{"aria-label":"Selecionar status",children:o.jsx(Ke,{})}),o.jsxs(We,{children:[o.jsx(Y,{value:"ATIVA",children:"Ativa"}),o.jsx(Y,{value:"INATIVA",children:"Inativa"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"observacoes",children:"Observaes"}),o.jsx(de,{id:"observacoes",...f.register("observacoes")})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",children:"Salvar"})]})]})]})]})]})}),o.jsx(he,{children:o.jsx("div",{className:"overflow-auto rounded-xl border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Banco"}),o.jsx(ge,{children:"Nome"}),o.jsx(ge,{className:"text-right",children:"Limite"}),o.jsx(ge,{className:"text-right",children:"Utilizado"}),o.jsx(ge,{className:"text-right",children:"Disponvel"}),o.jsx(ge,{children:"Modalidade"}),o.jsx(ge,{children:"Taxa"}),o.jsx(ge,{children:"Venc. dia"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Aes"})]})}),o.jsx(is,{children:t.map(v=>o.jsxs(zt,{children:[o.jsx(fe,{children:(()=>{const b=(c||[]).find(y=>String(y.id)===String(v.banco_id||""));return b?b.nome_curto||b.nome:"-"})()}),o.jsx(fe,{className:"max-w-[320px] truncate",title:v.nome,children:v.nome}),o.jsxs(fe,{className:"text-right",children:["R$ ",Number(v.limite).toFixed(2)]}),o.jsxs(fe,{className:"text-right",children:["R$ ",Number(v.utilizado).toFixed(2)]}),o.jsxs(fe,{className:"text-right",children:["R$ ",g(v).toFixed(2)]}),o.jsx(fe,{children:v.modalidade}),o.jsx(fe,{children:v.taxa_juros!=null?`${Number(v.taxa_juros).toFixed(3)}%`:"-"}),o.jsx(fe,{children:v.vencimento_dia??"-"}),o.jsx(fe,{children:v.status}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>h(v),"aria-label":`Editar ${v.nome}`,children:"Editar"}),o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>n(v.id),"aria-label":`Excluir ${v.nome}`,children:"Excluir"})]})})]},v.id))})]})})})]})}function kWe(){x.useEffect(()=>{document.title="Carteira - Noxus"},[]);const[t,e]=x.useState("despesas"),{items:r}=Jp(),{items:n}=P_();return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:o.jsx(QT,{className:"w-8 h-8 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carteira"}),o.jsx("p",{className:"text-muted-foreground",children:"Gesto financeira completa"})]})]})}),o.jsx(yWe,{contas:r,transacoes:n}),o.jsxs(va,{value:t,onValueChange:e,className:"space-y-4",children:[o.jsxs(Gs,{className:"w-full justify-start h-auto p-2 bg-muted/30 backdrop-blur-sm rounded-2xl border border-border/50 overflow-x-auto flex-nowrap",children:[o.jsxs(Et,{value:"despesas",className:"gap-2 rounded-xl py-2.5 px-4 data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:[o.jsx(lie,{className:"w-4 h-4"}),"Fluxo"]}),o.jsxs(Et,{value:"relatorios",className:"gap-2 rounded-xl py-2.5 px-4 data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:[o.jsx(wu,{className:"w-4 h-4"}),"Relatrios"]}),o.jsxs(Et,{value:"bancos",className:"gap-2 rounded-xl py-2.5 px-4 data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:[o.jsx(Sie,{className:"w-4 h-4"}),"Bancos"]}),o.jsxs(Et,{value:"creditos",className:"gap-2 rounded-xl py-2.5 px-4 data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:[o.jsx(xie,{className:"w-4 h-4"}),"Crdito"]}),o.jsxs(Et,{value:"dividas",className:"gap-2 rounded-xl py-2.5 px-4 data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:[o.jsx(zd,{className:"w-4 h-4"}),"Dvidas"]}),o.jsxs(Et,{value:"patrimonio",className:"gap-2 rounded-xl py-2.5 px-4 data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:[o.jsx(lu,{className:"w-4 h-4"}),"Patrimnio"]})]}),o.jsx(kt,{value:"despesas",className:"space-y-4",children:o.jsx(fWe,{})}),o.jsxs(kt,{value:"relatorios",className:"space-y-4",children:[o.jsx(vWe,{}),o.jsx(gWe,{})]}),o.jsx(kt,{value:"bancos",className:"space-y-4",children:o.jsx(dZ,{})}),o.jsx(kt,{value:"creditos",className:"space-y-4",children:o.jsx(EWe,{})}),o.jsx(kt,{value:"dividas",className:"space-y-4",children:o.jsx(bWe,{})}),o.jsx(kt,{value:"patrimonio",className:"space-y-4",children:o.jsx(SWe,{})})]}),o.jsx(xWe,{activeTab:t,onSelectTab:s=>e(s)})]})}const AWe=[{id:"1",titulo:"Tcnicas Avanadas de Sombreamento",categoria:"Tcnica",autor:"Carlos Silva",data:"2024-01-15",tempoLeitura:8,visualizacoes:245,curtidas:32,tags:["sombreamento","tcnica","avanado"],resumo:"Aprenda tcnicas profissionais de sombreamento que vo elevar seu trabalho para o prximo nvel."},{id:"2",titulo:"Cuidados com a Pele Ps-Tatuagem",categoria:"Ps-Tratamento",autor:"Ana Santos",data:"2024-01-10",tempoLeitura:5,visualizacoes:189,curtidas:28,tags:["ps-tratamento","cuidados","pele"],resumo:"Guia completo sobre os melhores cuidados para garantir uma cicatrizao perfeita."},{id:"3",titulo:"Escolhendo as Mquinas Certas",categoria:"Equipamentos",autor:"Roberto Lima",data:"2024-01-08",tempoLeitura:6,visualizacoes:156,curtidas:22,tags:["mquinas","equipamentos","dicas"],resumo:"Como escolher as melhores mquinas de tatuagem para cada estilo de trabalho."},{id:"4",titulo:"Colorimetria para Tatuadores",categoria:"Teoria",autor:"Mariana Costa",data:"2024-01-05",tempoLeitura:12,visualizacoes:298,curtidas:45,tags:["cores","teoria","colorimetria"],resumo:"Entenda a teoria das cores e como aplic-la nas suas tatuagens."}],OWe=["Todas","Tcnica","Ps-Tratamento","Equipamentos","Teoria","Design","Negcios"];function TWe(){const[t,e]=x.useState(""),[r,n]=x.useState("Todas"),[s,a]=x.useState(AWe),i=s.filter(l=>{const c=l.titulo.toLowerCase().includes(t.toLowerCase())||l.resumo.toLowerCase().includes(t.toLowerCase())||l.tags.some(d=>d.toLowerCase().includes(t.toLowerCase())),u=r==="Todas"||l.categoria===r;return c&&u});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[o.jsx(lw,{className:"w-8 h-8 text-primary"}),"Centro de Conhecimento"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Artigos, tutoriais e recursos para aprimorar suas habilidades"})]}),o.jsxs(U,{className:"gap-2",children:[o.jsx(en,{className:"w-4 h-4"}),"Novo Artigo"]})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar artigos, tags...",value:t,onChange:l=>e(l.target.value),className:"pl-10"})]}),o.jsx("div",{className:"flex gap-2",children:OWe.map(l=>o.jsx(Ge,{variant:r===l?"default":"outline",className:"cursor-pointer",onClick:()=>n(l),children:l},l))})]}),o.jsxs(va,{defaultValue:"artigos",className:"space-y-4",children:[o.jsxs(Gs,{children:[o.jsxs(Et,{value:"artigos",className:"gap-2",children:[o.jsx(lw,{className:"w-4 h-4"}),"Artigos"]}),o.jsxs(Et,{value:"populares",className:"gap-2",children:[o.jsx(_n,{className:"w-4 h-4"}),"Mais Populares"]}),o.jsxs(Et,{value:"comunidade",className:"gap-2",children:[o.jsx(ca,{className:"w-4 h-4"}),"Comunidade"]})]}),o.jsx(kt,{value:"artigos",className:"space-y-4",children:o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(l=>o.jsxs(ne,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[o.jsxs(Oe,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx(Ge,{variant:"outline",children:l.categoria}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(ra,{className:"w-3 h-3"}),l.tempoLeitura,"min"]})]}),o.jsx(Te,{className:"text-lg",children:l.titulo}),o.jsx(An,{children:l.resumo})]}),o.jsxs(he,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Por ",l.autor]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[o.jsx("span",{className:"flex items-center gap-1",children:l.visualizacoes}),o.jsx("span",{className:"flex items-center gap-1",children:l.curtidas})]})]}),o.jsx("div",{className:"flex gap-1 mt-3",children:l.tags.map(c=>o.jsxs(Ge,{variant:"secondary",className:"text-xs",children:["#",c]},c))})]})]},l.id))})}),o.jsx(kt,{value:"populares",className:"space-y-4",children:o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.sort((l,c)=>c.visualizacoes-l.visualizacoes).slice(0,6).map(l=>o.jsxs(ne,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[o.jsxs(Oe,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx(Ge,{variant:"outline",children:l.categoria}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[o.jsx(_n,{className:"w-3 h-3"}),"Popular"]})]}),o.jsx(Te,{className:"text-lg",children:l.titulo}),o.jsx(An,{children:l.resumo})]}),o.jsx(he,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Por ",l.autor]}),o.jsx("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:o.jsxs("span",{children:[l.visualizacoes," visualizaes"]})})]})})]},l.id))})}),o.jsx(kt,{value:"comunidade",className:"space-y-4",children:o.jsxs(ne,{children:[o.jsxs(Oe,{children:[o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"w-5 h-5"}),"Comunidade de Tatuadores"]}),o.jsx(An,{children:"Conecte-se com outros profissionais, compartilhe experincias e aprenda juntos."})]}),o.jsx(he,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Frum de Discusso"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Participe de discusses sobre tcnicas, equipamentos e tendncias do mercado."}),o.jsx(U,{size:"sm",children:"Acessar Frum"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Grupos de Estudo"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Junte-se a grupos focados em aprimoramento especfico de tcnicas."}),o.jsx(U,{size:"sm",variant:"outline",children:"Explorar Grupos"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Mentoria"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Encontre mentores experientes ou oferea mentoria para iniciantes."}),o.jsx(U,{size:"sm",variant:"outline",children:"Saber Mais"})]})]})})]})})]})]})}const vZ=ws({titulo:$e().min(2),objetivo:$e().optional().nullable(),publico_alvo:$e().optional().nullable(),canal:ns(["INSTAGRAM","FACEBOOK","TIKTOK","GOOGLE_ADS","ORGANICO","EMAIL"]),estagio_funil:ns(["TOPO","MEIO","FUNDO"]).optional().nullable(),orcamento:wn().nonnegative().optional().nullable(),data_inicio:$e().optional().nullable(),data_fim:$e().optional().nullable(),status:ns(["RASCUNHO","ATIVA","PAUSADA","ENCERRADA"]).default("RASCUNHO"),tags:JQ($e()).optional().nullable(),notas:$e().optional().nullable()});function LR(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState({status:"TODOS",canal:"TODOS"}),d=x.useMemo(()=>{const b={RASCUNHO:r.filter(w=>w.status==="RASCUNHO").length,ATIVA:r.filter(w=>w.status==="ATIVA").length,PAUSADA:r.filter(w=>w.status==="PAUSADA").length,ENCERRADA:r.filter(w=>w.status==="ENCERRADA").length},y=r.reduce((w,N)=>w+Number(N.orcamento||0),0);return{porStatus:b,totalOrcamento:y}},[r]),f=async b=>{var y,w,N;try{if(!t)return;a(!0);let _=(tr?rr:X).from("campanhas").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});const S=b||c;S!=null&&S.status&&S.status!=="TODOS"&&(_=_.eq("status",S.status)),S!=null&&S.canal&&S.canal!=="TODOS"&&(_=_.eq("canal",S.canal)),(y=S==null?void 0:S.periodo)!=null&&y.inicio&&(_=_.gte("data_inicio",S.periodo.inicio)),(w=S==null?void 0:S.periodo)!=null&&w.fim&&(_=_.lte("data_fim",S.periodo.fim)),S!=null&&S.q&&(_=_.ilike("titulo",`%${S.q}%`));const{data:C,error:k}=await _;if(k){if(k.code==="PGRST205"||(N=k.message)!=null&&N.includes("schema cache")){n([]),l("Tabela campanhas no encontrada. Aplique o schema e recarregue."),e({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"});return}throw k}n(C||[]),l(null)}catch(j){console.error("Erro ao carregar campanhas:",j),l((j==null?void 0:j.message)||"Erro desconhecido"),e({title:"Erro ao carregar campanhas",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},m=async b=>{try{if(!t)throw new Error("Usurio no autenticado");const y=vZ.parse(b),w={user_id:t.id,titulo:y.titulo,objetivo:y.objetivo??null,publico_alvo:y.publico_alvo??null,canal:y.canal,estagio_funil:y.estagio_funil??null,orcamento:y.orcamento??null,data_inicio:y.data_inicio??null,data_fim:y.data_fim??null,status:y.status,tags:y.tags??null,notas:y.notas??null},N=tr?rr:X,{data:j,error:_}=await N.from("campanhas").insert(w).select("*");if(_)throw _.code==="PGRST205"&&e({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"}),_;n(S=>j?[j[0],...S]:S),e({title:"Campanha criada",description:"Registro salvo com sucesso."})}catch(y){throw console.error("Erro ao criar campanha:",y),e({title:"Erro ao criar",description:y.message||"Verifique os dados.",variant:"destructive"}),y}},h=async(b,y)=>{try{if(!t)throw new Error("Usurio no autenticado");const w={...y};w.orcamento!==void 0&&(w.orcamento=Number(w.orcamento));const N=tr?rr:X,{data:j,error:_}=await N.from("campanhas").update(w).select("*").eq("id",b).eq("user_id",t.id);if(_)throw _.code==="PGRST205"&&e({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"}),_;if(j&&j.length){const S=j[0];n(C=>C.map(k=>k.id===S.id?S:k))}else await f();e({title:"Campanha atualizada",description:"Alteraes salvas com sucesso."})}catch(w){throw console.error("Erro ao atualizar campanha:",w),e({title:"Erro ao atualizar",description:w.message||"Tente novamente.",variant:"destructive"}),w}},p=async b=>{try{if(!t)throw new Error("Usurio no autenticado");const y=tr?rr:X,{error:w}=await y.from("campanhas").delete().eq("id",b).eq("user_id",t.id);if(w)throw w.code==="PGRST205"&&e({title:"Campanhas indisponveis",description:"Tabela campanhas no existe no Supabase. Aplique a migration e recarregue.",variant:"destructive"}),w;n(N=>N.filter(j=>j.id!==b)),e({title:"Campanha removida",description:"Registro excludo."})}catch(y){throw console.error("Erro ao remover campanha:",y),e({title:"Erro ao remover",description:y.message||"Tente novamente.",variant:"destructive"}),y}},g=async b=>{const y=r.find(N=>N.id===b);if(!y)return;const w={titulo:`${y.titulo} (cpia)`,objetivo:y.objetivo??null,publico_alvo:y.publico_alvo??null,canal:y.canal,orcamento:y.orcamento??null,data_inicio:y.data_inicio??null,data_fim:y.data_fim??null,status:"RASCUNHO",tags:y.tags??null,notas:y.notas??null};await m(w)},v=async(b,y)=>{await h(b,{status:y})};return x.useEffect(()=>{if(f(),!t)return;const b=tr?rr:X,y=b.channel("realtime-campanhas").on("postgres_changes",{event:"INSERT",schema:"public",table:"campanhas",filter:`user_id=eq.${t.id}`},w=>{n(N=>[w.new,...N])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"campanhas",filter:`user_id=eq.${t.id}`},w=>{n(N=>N.map(j=>j.id===w.new.id?w.new:j))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"campanhas",filter:`user_id=eq.${t.id}`},w=>{n(N=>N.filter(j=>j.id!==w.old.id))}).subscribe();return()=>{b.removeChannel(y)}},[t==null?void 0:t.id]),{items:r,stats:d,filters:c,setFilters:u,loading:s,error:i,fetchAll:f,create:m,update:h,remove:p,duplicate:g,setStatus:v}}function PWe(){const{stats:t}=LR(),{porStatus:e,totalOrcamento:r}=t;return o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[o.jsxs(ne,{className:"rounded-2xl border",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm",children:"Rascunhos"})}),o.jsx(he,{children:o.jsx("p",{className:"text-2xl font-semibold",children:e.RASCUNHO})})]}),o.jsxs(ne,{className:"rounded-2xl border",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm",children:"Ativas"})}),o.jsx(he,{children:o.jsx("p",{className:"text-2xl font-semibold",children:e.ATIVA})})]}),o.jsxs(ne,{className:"rounded-2xl border",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm",children:"Pausadas"})}),o.jsx(he,{children:o.jsx("p",{className:"text-2xl font-semibold",children:e.PAUSADA})})]}),o.jsxs(ne,{className:"rounded-2xl border",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-sm",children:"Oramento total"})}),o.jsx(he,{children:o.jsxs("p",{className:"text-2xl font-semibold",children:["R$ ",r.toFixed(2)]})})]})]})}const MWe=["INSTAGRAM","FACEBOOK","TIKTOK","GOOGLE_ADS","ORGANICO","EMAIL"],RWe=["RASCUNHO","ATIVA","PAUSADA","ENCERRADA"],AB=[{value:"TOPO",label:"Topo do Funil",description:"Conscientizao - Atrair e educar novos pblicos",icon:py,color:"text-blue-500"},{value:"MEIO",label:"Meio do Funil",description:"Considerao - Nutrir leads e gerar interesse",icon:Hie,color:"text-amber-500"},{value:"FUNDO",label:"Fundo do Funil",description:"Converso - Fechar vendas e converter clientes",icon:PU,color:"text-green-500"}],OB=t=>!t&&t!==0?"":t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),DWe=t=>{const e=t.replace(/\./g,"").replace(",",".");return parseFloat(e)||0};function IWe({open:t,onOpenChange:e,onSubmit:r,editing:n}){const s=La({resolver:Fa(vZ),defaultValues:n||{titulo:"",objetivo:"",publico_alvo:"",canal:"INSTAGRAM",estagio_funil:null,orcamento:0,data_inicio:new Date().toISOString().slice(0,10),data_fim:new Date().toISOString().slice(0,10),status:"RASCUNHO",tags:[],notas:""}}),[a,i]=x.useState("");x.useEffect(()=>{const d=s.watch("orcamento");i(OB(d))},[n,t]);const l=d=>{const f=d.target.value.replace(/[^\d,]/g,"");i(f);const m=DWe(f);s.setValue("orcamento",m)},c=()=>{const d=s.watch("orcamento");i(OB(d))},u=async d=>{await r({titulo:d.titulo,objetivo:d.objetivo??null,publico_alvo:d.publico_alvo??null,canal:d.canal,estagio_funil:d.estagio_funil??null,orcamento:d.orcamento??null,data_inicio:d.data_inicio??null,data_fim:d.data_fim??null,status:d.status,tags:d.tags??null,notas:d.notas??null}),e(!1)};return o.jsx(fr,{open:t,onOpenChange:e,children:o.jsxs(ir,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[n?o.jsx(J1,{className:"h-5 w-5"}):o.jsx(nf,{className:"h-5 w-5"}),n?"Editar campanha":"Nova campanha"]})}),o.jsx(dl,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(u),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Ro,{className:"h-4 w-4"})," Informaes Bsicas"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"titulo",control:s.control,render:({field:d})=>o.jsxs(yt,{className:"col-span-2",children:[o.jsx(gt,{children:"Ttulo"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(nf,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Nome da campanha",className:"pl-9",...d})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"canal",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Canal"}),o.jsxs(He,{value:d.value,onValueChange:d.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{"aria-label":"Selecionar canal",children:o.jsx(Ke,{})})}),o.jsx(We,{children:MWe.map(f=>o.jsx(Y,{value:f,children:f.replace("_"," ")},f))})]}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"status",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Status"}),o.jsxs(He,{value:d.value,onValueChange:d.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{"aria-label":"Selecionar status",children:o.jsx(Ke,{})})}),o.jsx(We,{children:RWe.map(f=>o.jsx(Y,{value:f,children:f},f))})]}),o.jsx(wt,{})]})})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Yt,{className:"h-4 w-4"})," Perodo e Oramento"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Nt,{name:"data_inicio",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Data de incio"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"date",className:"pl-9",...d})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"data_fim",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Data de trmino"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"date",className:"pl-9",...d})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"orcamento",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Oramento"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Zr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{className:"pl-9",value:a,onChange:l,onBlur:c,placeholder:"0,00"})]})}),o.jsx(wt,{})]})})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Ap,{className:"h-4 w-4"})," Estgio do Funil"]}),o.jsx(Nt,{name:"estagio_funil",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Posio no Funil de Marketing"}),o.jsxs(He,{value:d.value||void 0,onValueChange:d.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{"aria-label":"Selecionar estgio do funil",className:"h-auto min-h-[2.5rem]",children:o.jsx(Ke,{placeholder:"Selecione o estgio...",children:d.value&&(()=>{const f=AB.find(h=>h.value===d.value);if(!f)return null;const m=f.icon;return o.jsxs("div",{className:"flex items-center gap-3 py-1",children:[o.jsx(m,{className:`h-5 w-5 ${f.color}`}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-sm",children:f.label}),o.jsx("span",{className:"text-xs text-muted-foreground",children:f.description})]})]})})()})})}),o.jsx(We,{children:AB.map(f=>{const m=f.icon;return o.jsx(Y,{value:f.value,className:"cursor-pointer",children:o.jsxs("div",{className:"flex items-center gap-3 py-2",children:[o.jsx(m,{className:`h-5 w-5 ${f.color} flex-shrink-0`}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-sm",children:f.label}),o.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:f.description})]})]})},f.value)})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Classifique sua campanha de acordo com o objetivo no funil de vendas"}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(_n,{className:"h-4 w-4"})," Objetivo e Pblico"]}),o.jsx(Nt,{name:"objetivo",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Objetivo"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ro,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex.: Aumentar vendas, gerar leads...",className:"pl-9",...d})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"publico_alvo",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Pblico-alvo"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(ca,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Descreva o pblico-alvo",className:"pl-9",...d})]})}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(jn,{className:"h-4 w-4"})," Detalhes Adicionais"]}),o.jsx(Nt,{name:"tags",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Tags (separadas por vrgula)"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ji,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex.: vero, promoo, lanamento",className:"pl-9",value:(d.value||[]).join(", "),onChange:f=>d.onChange(f.target.value.split(",").map(m=>m.trim()).filter(Boolean))})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"notas",control:s.control,render:({field:d})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Notas"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(jn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Nn,{placeholder:"Observaes adicionais",className:"pl-9 min-h-[80px]",...d})]})}),o.jsx(wt,{})]})})]}),o.jsxs(Da,{children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",children:n?"Salvar":"Criar campanha"})]})]})})]})})}const $We=["TODOS","INSTAGRAM","FACEBOOK","TIKTOK","GOOGLE_ADS","ORGANICO","EMAIL"],LWe=["TODOS","RASCUNHO","ATIVA","PAUSADA","ENCERRADA"];function FWe(){var b,y;const{items:t,filters:e,setFilters:r,create:n,update:s,remove:a,duplicate:i,setStatus:l}=LR(),[c,u]=x.useState(!1),[d,f]=x.useState(null),[m,h]=x.useState({});x.useEffect(()=>{h(w=>{const N={...w};return t.forEach((j,_)=>{const S=String(j.id||`temp-${_}-${j.titulo}`);N[S]||(N[S]={leads:0,alcance:0})}),N})},[t]);const p=x.useMemo(()=>{const w={};return t.forEach((N,j)=>{var k;const _=String(N.id||`temp-${j}-${N.titulo}`),S=((k=m[_])==null?void 0:k.leads)||0,C=Number(N.orcamento||0);w[_]=S>0?C/S:0}),w},[t,m]),g=()=>{f(null),u(!0)},v=w=>{f(w),u(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Te,{className:"text-lg",children:"Campanhas"}),o.jsx(U,{onClick:g,children:"Nova campanha"})]})}),o.jsxs(he,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Status"}),o.jsxs(He,{value:e.status||"TODOS",onValueChange:w=>r({...e,status:w}),children:[o.jsx(qe,{"aria-label":"Filtrar status",children:o.jsx(Ke,{})}),o.jsx(We,{children:LWe.map(w=>o.jsx(Y,{value:w,children:w},w))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Canal"}),o.jsxs(He,{value:e.canal||"TODOS",onValueChange:w=>r({...e,canal:w}),children:[o.jsx(qe,{"aria-label":"Filtrar canal",children:o.jsx(Ke,{})}),o.jsx(We,{children:$We.map(w=>o.jsx(Y,{value:w,children:String(w).replace("_"," ")},w))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"inicio",children:"Incio"}),o.jsx(de,{id:"inicio",type:"date",value:((b=e.periodo)==null?void 0:b.inicio)||"",onChange:w=>r({...e,periodo:{...e.periodo,inicio:w.target.value}})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{htmlFor:"fim",children:"Fim"}),o.jsx(de,{id:"fim",type:"date",value:((y=e.periodo)==null?void 0:y.fim)||"",onChange:w=>r({...e,periodo:{...e.periodo,fim:w.target.value}})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx(ie,{htmlFor:"busca",children:"Busca"}),o.jsx(de,{id:"busca",placeholder:"Buscar por ttulo",value:e.q||"",onChange:w=>r({...e,q:w.target.value})})]}),o.jsx("div",{className:"overflow-auto rounded-xl border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Ttulo"}),o.jsx(ge,{children:"Canal"}),o.jsx(ge,{children:"Perodo"}),o.jsx(ge,{className:"text-right",children:"Oramento"}),o.jsx(ge,{className:"text-right",children:"Leads"}),o.jsx(ge,{className:"text-right",children:"Alcance"}),o.jsx(ge,{className:"text-right",children:"CPL"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Aes"})]})}),o.jsx(is,{children:t.map((w,N)=>{var _,S,C;const j=String(w.id||`temp-${N}-${w.titulo}`);return o.jsxs(zt,{children:[o.jsx(fe,{className:"max-w-[280px] truncate",title:w.titulo,children:w.titulo}),o.jsx(fe,{children:String(w.canal).replace("_"," ")}),o.jsx(fe,{children:[w.data_inicio,w.data_fim].filter(Boolean).join("  ")}),o.jsxs(fe,{className:"text-right",children:["R$ ",Number(w.orcamento||0).toFixed(2)]}),o.jsx(fe,{className:"text-right",children:o.jsx(de,{className:"w-24 text-right",type:"number",min:0,value:((_=m[j])==null?void 0:_.leads)??0,onChange:k=>{const A=Math.max(0,Number(k.target.value||0));h(O=>{var P;return{...O,[j]:{leads:A,alcance:((P=O[j])==null?void 0:P.alcance)??0}}})}})}),o.jsx(fe,{className:"text-right",children:o.jsx(de,{className:"w-28 text-right",type:"number",min:0,value:((S=m[j])==null?void 0:S.alcance)??0,onChange:k=>{const A=Math.max(0,Number(k.target.value||0));h(O=>{var P;return{...O,[j]:{leads:((P=O[j])==null?void 0:P.leads)??0,alcance:A}}})}})}),o.jsx(fe,{className:"text-right",children:(C=m[j])!=null&&C.leads?o.jsxs("span",{className:"font-semibold",children:["R$ ",p[j].toFixed(2)]}):o.jsx("span",{className:"text-muted-foreground",children:""})}),o.jsx(fe,{children:w.status}),o.jsx(fe,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>v(w),children:"Editar"}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>i(w.id),children:"Duplicar"}),w.status!=="ATIVA"&&o.jsx(U,{variant:"default",size:"sm",onClick:()=>l(w.id,"ATIVA"),children:"Ativar"}),w.status==="ATIVA"&&o.jsx(U,{variant:"secondary",size:"sm",onClick:()=>l(w.id,"PAUSADA"),children:"Pausar"}),o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>a(w.id),children:"Excluir"})]})})]},j)})})]})})]})]}),o.jsx(IWe,{open:c,onOpenChange:u,editing:d||void 0,onSubmit:async w=>{d!=null&&d.id?await s(d.id,w):await n(w)}})]})}function BWe({assets:t}){const e=t.filter(a=>a.type==="logo").length,r=t.filter(a=>a.type==="color").length,n=t.filter(a=>a.type==="font").length,s=t.filter(a=>a.type==="manual").length;return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Logos"}),o.jsx(wm,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Variaes de marca"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Cores"}),o.jsx(dw,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Paleta oficial"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Tipografia"}),o.jsx(MU,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Fontes cadastradas"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Manuais"}),o.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Guias de uso"})]})]})]})}function zWe({assets:t,onDelete:e}){const r=n=>{navigator.clipboard.writeText(n),Be.toast.success("Copiado para a rea de transferncia!")};return t.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum ativo de marca cadastrado."}):o.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4 mt-6",children:t.map(n=>o.jsxs(ne,{className:"overflow-hidden",children:[o.jsx(Oe,{className:"p-4",children:o.jsx(Te,{className:"text-base truncate",title:n.title,children:n.title})}),o.jsxs(he,{className:"p-4 pt-0 flex items-center justify-center h-32 bg-muted/20",children:[n.type==="color"&&o.jsx("div",{className:"w-20 h-20 rounded-full shadow-sm border",style:{backgroundColor:n.value}}),n.type==="logo"&&n.asset_url&&o.jsx("img",{src:n.asset_url,alt:n.title,className:"max-w-full max-h-full object-contain"}),n.type==="font"&&o.jsx("div",{className:"text-3xl",style:{fontFamily:n.value},children:"Aa"}),n.type==="manual"&&o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Documento PDF"})]}),o.jsxs(TH,{className:"p-2 bg-muted/50 flex justify-between items-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[120px]",children:n.value||n.type}),o.jsxs("div",{className:"flex gap-1",children:[n.value&&o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(n.value),children:o.jsx(vie,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>e(n.id),children:o.jsx(Jr,{className:"h-4 w-4"})})]})]})]},n.id))})}const VWe=ws({title:$e().min(1,"Ttulo  obrigatrio"),type:ns(["color","logo","font","manual"]),value:$e().optional(),description:$e().optional()});function UWe({onSave:t,onUpload:e}){const[r,n]=x.useState(!1),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=La({resolver:Fa(VWe),defaultValues:{title:"",type:"color",value:"",description:""}}),u=c.watch("type");x.useEffect(()=>{r||(c.reset(),l(null))},[r,c]);const d=async g=>{a(!0);try{let v=g.type==="logo"||g.type==="manual"?g.value:void 0;i&&(v=await e(i)),await t({title:g.title,type:g.type,value:g.type==="color"||g.type==="font"?g.value:void 0,asset_url:v,description:g.description}),n(!1),c.reset(),l(null)}catch{}finally{a(!1)}},f=()=>{switch(u){case"color":return"Cdigo da Cor (HEX/RGB)";case"font":return"Nome da Famlia da Fonte";default:return"URL do Arquivo"}},m=()=>{switch(u){case"color":return"#000000";case"font":return"Inter, Roboto, etc.";default:return"https://..."}},p=(()=>{switch(u){case"color":return dw;case"font":return MU;default:return wm}})();return o.jsxs(fr,{open:r,onOpenChange:n,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"}),"Novo Asset"]})}),o.jsxs(ir,{className:"sm:max-w-[500px]",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[o.jsx(dw,{className:"h-5 w-5"}),"Adicionar Asset de Marca"]})}),o.jsx(dl,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(J1,{className:"h-4 w-4"})," Informaes do Asset"]}),o.jsx(Nt,{name:"type",control:c.control,render:({field:g})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Tipo"}),o.jsxs(He,{value:g.value,onValueChange:g.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{children:o.jsx(Ke,{})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"color",children:"Cor"}),o.jsx(Y,{value:"logo",children:"Logo (URL)"}),o.jsx(Y,{value:"font",children:"Fonte"}),o.jsx(Y,{value:"manual",children:"Manual (URL)"})]})]}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"title",control:c.control,render:({field:g})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Ttulo"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(jn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex: Cor Primria, Logo Horizontal...",className:"pl-9",...g})]})}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(p,{className:"h-4 w-4"})," Detalhes"]}),o.jsx(Nt,{name:"value",control:c.control,render:({field:g})=>o.jsxs(yt,{children:[o.jsx(gt,{children:f()}),o.jsx(bt,{children:o.jsxs("div",{className:"space-y-2",children:[(u==="logo"||u==="manual")&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(de,{type:"file",accept:u==="logo"?"image/*":".pdf,.doc,.docx",onChange:v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];b&&l(b)},className:"cursor-pointer"})}),o.jsxs("div",{className:"relative",children:[o.jsx(p,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:m(),className:"pl-9",...g,disabled:!!i,value:i?i.name:g.value})]}),i&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Arquivo selecionado: ",i.name," (O URL ser gerado aps salvar)"]})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"description",control:c.control,render:({field:g})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Descrio (Opcional)"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(jn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Nn,{placeholder:"Detalhes adicionais...",className:"pl-9 min-h-[80px]",...g})]})}),o.jsx(wt,{})]})})]}),o.jsxs(Da,{children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:s,children:s?"Salvando...":"Salvar"})]})]})})]})]})}const qWe=t=>{switch(t){case"logo":return"LOGO";case"color":return"PALETA_CORES";case"font":return"TIPOGRAFIA";case"manual":return"DIRETRIZ";default:return"TEMPLATE"}},TB=t=>{switch(t){case"LOGO":return"logo";case"PALETA_CORES":return"color";case"TIPOGRAFIA":return"font";case"DIRETRIZ":return"manual";default:return"manual"}};function WWe(){const[t,e]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{s()},[]);async function s(){try{n(!0);const{data:c,error:u}=await X.from("ativos_marca").select("*").order("created_at",{ascending:!1});if(u)throw u;const d=(c||[]).map(f=>{var m;return{id:f.id,title:f.nome,type:TB(f.tipo),asset_url:f.arquivo_url,value:(m=f.dados_json)==null?void 0:m.value,description:f.descricao,created_at:f.created_at}});e(d)}catch(c){console.error("Erro ao buscar assets de branding:",c),Be.toast.error("Erro ao carregar assets de branding")}finally{n(!1)}}async function a(c){var u;try{const{data:{user:d}}=await X.auth.getUser();if(!d){Be.toast.error("Usurio no autenticado");return}const f={user_id:d.id,nome:c.title,tipo:qWe(c.type),arquivo_url:c.asset_url,dados_json:c.value?{value:c.value}:null,descricao:c.description},{data:m,error:h}=await X.from("ativos_marca").insert([f]).select().single();if(h)throw h;const p={id:m.id,title:m.nome,type:TB(m.tipo),asset_url:m.arquivo_url,value:(u=m.dados_json)==null?void 0:u.value,description:m.descricao,created_at:m.created_at};return e([p,...t]),Be.toast.success("Asset adicionado com sucesso!"),p}catch(d){throw console.error("Erro ao adicionar asset:",d),Be.toast.error(`Erro ao adicionar asset: ${d.message||"Erro desconhecido"}`),d}}async function i(c){try{const{error:u}=await X.from("ativos_marca").delete().eq("id",c);if(u)throw u;e(t.filter(d=>d.id!==c)),Be.toast.success("Asset removido com sucesso!")}catch(u){console.error("Erro ao remover asset:",u),Be.toast.error("Erro ao remover asset")}}async function l(c){try{const u=c.name.split(".").pop(),f=`${`${Math.random()}.${u}`}`,{error:m}=await X.storage.from("branding").upload(f,c);if(m)throw m;const{data:h}=X.storage.from("branding").getPublicUrl(f);return h.publicUrl}catch(u){throw console.error("Erro ao fazer upload da imagem:",u),Be.toast.error(`Erro ao fazer upload: ${u.message}`),u}}return{assets:t,loading:r,addAsset:a,deleteAsset:i,uploadImage:l,refresh:s}}const HWe=ws({nome:$e().min(1,"Nome da marca  obrigatrio"),descricao:$e().optional(),descricao_produto:$e().optional(),campanha_id:$e().optional().nullable()});function KWe({open:t,onOpenChange:e,onSave:r,editing:n}){const{items:s}=LR(),a=La({resolver:Fa(HWe),defaultValues:{nome:"",descricao:"",descricao_produto:"",campanha_id:null}});x.useEffect(()=>{n?a.reset({nome:n.nome,descricao:n.descricao||"",descricao_produto:n.descricao_produto||"",campanha_id:n.campanha_id||null}):a.reset({nome:"",descricao:"",descricao_produto:"",campanha_id:null})},[n,t,a]);const i=async l=>{await r({nome:l.nome,descricao:l.descricao||void 0,descricao_produto:l.descricao_produto||void 0,campanha_id:l.campanha_id||null}),a.reset(),e(!1)};return o.jsx(fr,{open:t,onOpenChange:e,children:o.jsxs(ir,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[o.jsx(Ji,{className:"h-5 w-5"}),n?"Editar Marca":"Nova Marca"]})}),o.jsx(dl,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Ji,{className:"h-4 w-4"})," Informaes da Marca"]}),o.jsx(Nt,{name:"nome",control:a.control,render:({field:l})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Nome da Marca *"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ji,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex: Nike, Apple, Coca-Cola...",className:"pl-9",...l})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"descricao",control:a.control,render:({field:l})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Descrio da Marca"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(jn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Nn,{placeholder:"Descreva o que  a marca, seus valores, misso...",className:"pl-9 min-h-[80px]",...l})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"descricao_produto",control:a.control,render:({field:l})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Descrio do Produto/Servio"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ma,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Nn,{placeholder:"Descreva os produtos ou servios oferecidos pela marca...",className:"pl-9 min-h-[80px]",...l})]})}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(nf,{className:"h-4 w-4"})," Campanha Vinculada"]}),o.jsx(Nt,{name:"campanha_id",control:a.control,render:({field:l})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Selecione uma Campanha (Opcional)"}),o.jsxs(He,{value:l.value||void 0,onValueChange:l.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{"aria-label":"Selecionar campanha",children:o.jsx(Ke,{placeholder:"Nenhuma campanha selecionada"})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"null",children:"Nenhuma campanha"}),s.map(c=>o.jsx(Y,{value:c.id,children:c.titulo},c.id))]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Vincule esta marca a uma campanha de marketing especfica"}),o.jsx(wt,{})]})})]}),o.jsxs(Da,{children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",children:n?"Salvar Alteraes":"Criar Marca"})]})]})})]})})}function GWe({marcas:t,onEdit:e,onDelete:r}){return t.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Ji,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"Nenhuma marca cadastrada"}),o.jsx("p",{className:"text-sm",children:'Clique em "Nova Marca" para adicionar sua primeira marca'})]}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{className:"w-[200px]",children:"Nome da Marca"}),o.jsx(ge,{children:"Descrio"}),o.jsx(ge,{children:"Produto/Servio"}),o.jsx(ge,{className:"w-[180px]",children:"Campanha Vinculada"}),o.jsx(ge,{className:"w-[100px] text-right",children:"Aes"})]})}),o.jsx(is,{children:t.map(n=>o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ji,{className:"h-4 w-4 text-primary"}),n.nome]})}),o.jsx(fe,{children:o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:n.descricao||"-"})}),o.jsx(fe,{children:o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:n.descricao_produto||"-"})}),o.jsx(fe,{children:n.campanha_nome?o.jsxs(Ge,{variant:"secondary",className:"flex items-center gap-1 w-fit",children:[o.jsx(nf,{className:"h-3 w-3"}),n.campanha_nome]}):o.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e(n),className:"h-8 w-8",children:o.jsx(yi,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>r(n.id),className:"h-8 w-8 text-destructive hover:text-destructive",children:o.jsx(Jr,{className:"h-4 w-4"})})]})})]},n.id))})]})})}function YWe(){const[t,e]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{s()},[]);async function s(){try{n(!0);const{data:c,error:u}=await X.from("marcas").select(`
                    *,
                    campanhas:campanha_id (
                        titulo
                    )
                `).order("created_at",{ascending:!1});if(u)throw u;const d=(c||[]).map(f=>{var m;return{id:f.id,nome:f.nome,descricao:f.descricao,descricao_produto:f.descricao_produto,campanha_id:f.campanha_id,campanha_nome:(m=f.campanhas)==null?void 0:m.titulo,created_at:f.created_at,updated_at:f.updated_at}});e(d)}catch(c){console.error("Erro ao buscar marcas:",c),Be.toast.error("Erro ao carregar marcas")}finally{n(!1)}}async function a(c){var u;try{const{data:{user:d}}=await X.auth.getUser();if(!d){Be.toast.error("Usurio no autenticado");return}const{data:f,error:m}=await X.from("marcas").insert([{user_id:d.id,nome:c.nome,descricao:c.descricao||null,descricao_produto:c.descricao_produto||null,campanha_id:c.campanha_id||null}]).select(`
                    *,
                    campanhas:campanha_id (
                        titulo
                    )
                `).single();if(m)throw m;const h={id:f.id,nome:f.nome,descricao:f.descricao,descricao_produto:f.descricao_produto,campanha_id:f.campanha_id,campanha_nome:(u=f.campanhas)==null?void 0:u.titulo,created_at:f.created_at,updated_at:f.updated_at};return e([h,...t]),Be.toast.success("Marca adicionada com sucesso!"),h}catch(d){throw console.error("Erro ao adicionar marca:",d),Be.toast.error(`Erro ao adicionar marca: ${d.message||"Erro desconhecido"}`),d}}async function i(c,u){var d;try{const{data:f,error:m}=await X.from("marcas").update({nome:u.nome,descricao:u.descricao||null,descricao_produto:u.descricao_produto||null,campanha_id:u.campanha_id||null}).eq("id",c).select(`
                    *,
                    campanhas:campanha_id (
                        titulo
                    )
                `).single();if(m)throw m;const h={id:f.id,nome:f.nome,descricao:f.descricao,descricao_produto:f.descricao_produto,campanha_id:f.campanha_id,campanha_nome:(d=f.campanhas)==null?void 0:d.titulo,created_at:f.created_at,updated_at:f.updated_at};return e(t.map(p=>p.id===c?h:p)),Be.toast.success("Marca atualizada com sucesso!"),h}catch(f){throw console.error("Erro ao atualizar marca:",f),Be.toast.error(`Erro ao atualizar marca: ${f.message||"Erro desconhecido"}`),f}}async function l(c){try{const{error:u}=await X.from("marcas").delete().eq("id",c);if(u)throw u;e(t.filter(d=>d.id!==c)),Be.toast.success("Marca removida com sucesso!")}catch(u){console.error("Erro ao remover marca:",u),Be.toast.error("Erro ao remover marca")}}return{marcas:t,loading:r,addMarca:a,updateMarca:i,deleteMarca:l,refresh:s}}function XWe({items:t}){const e=t.filter(a=>a.status==="IDEIA").length,r=t.filter(a=>a.status==="EM_PRODUCAO"||a.status==="REVISAO"||a.status==="AGENDADO").length,n=t.filter(a=>a.status==="PUBLICADO").length;t.filter(a=>a.plataforma==="INSTAGRAM").length;const s=t.filter(a=>a.plataforma==="YOUTUBE").length;return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Ideias"}),o.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando aprovao"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Em Produo"}),o.jsx(qv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Roteiro, Gravao ou Edio"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Publicados"}),o.jsx(HT,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Contedos publicados"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Youtube / Longos"}),o.jsx(Wie,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Vdeos longos"})]})]})]})}const PB={IDEIA:"bg-gray-500",EM_PRODUCAO:"bg-blue-500",REVISAO:"bg-yellow-500",AGENDADO:"bg-purple-500",PUBLICADO:"bg-green-500",ARQUIVADO:"bg-red-500"},QWe={IDEIA:"Ideia",EM_PRODUCAO:"Em Produo",REVISAO:"Reviso",AGENDADO:"Agendado",PUBLICADO:"Publicado",ARQUIVADO:"Arquivado"};function JWe({items:t,onDelete:e,onStatusChange:r,onEdit:n}){return t.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum contedo encontrado."}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Ttulo"}),o.jsx(ge,{children:"Plataforma"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Data Prevista"}),o.jsx(ge,{className:"text-right",children:"Aes"})]})}),o.jsx(is,{children:t.map(s=>o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:s.titulo}),s.link&&o.jsxs("a",{href:s.link,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 hover:underline flex items-center gap-1",children:["Ver link ",o.jsx(WT,{className:"h-3 w-3"})]})]})}),o.jsx(fe,{className:"capitalize",children:s.plataforma.toLowerCase()}),o.jsx(fe,{children:o.jsx(Ge,{className:`${PB[s.status]} hover:${PB[s.status]}`,children:QWe[s.status]})}),o.jsx(fe,{children:s.data_agendamento?Mt(new Date(s.data_agendamento),"dd/MM/yyyy HH:mm",{locale:Sr}):"-"}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[s.status!=="PUBLICADO"&&s.status!=="ARQUIVADO"&&o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{const a={IDEIA:"EM_PRODUCAO",EM_PRODUCAO:"REVISAO",REVISAO:"AGENDADO",AGENDADO:"PUBLICADO",PUBLICADO:"PUBLICADO",ARQUIVADO:"ARQUIVADO"};r(s.id,a[s.status])},children:"Avanar"}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>n(s),title:"Editar",children:o.jsx(yi,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>e(s.id),title:"Excluir",children:o.jsx(Jr,{className:"h-4 w-4"})})]})})]},s.id))})]})})}function Ss(t){this.content=t}Ss.prototype={constructor:Ss,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),a=n.content.slice();return s==-1?a.push(r||t,e):(a[s+1]=e,r&&(a[s]=r)),new Ss(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ss(r)},addToStart:function(t,e){return new Ss([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ss(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),a=n.find(t);return s.splice(a==-1?s.length:a,0,e,r),new Ss(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ss.from(t),t.size?new Ss(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ss.from(t),t.size?new Ss(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ss.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ss.from=function(t){if(t instanceof Ss)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ss(e)};function xZ(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),a=e.child(n);if(s==a){r+=s.nodeSize;continue}if(!s.sameMarkup(a))return r;if(s.isText&&s.text!=a.text){for(let i=0;s.text[i]==a.text[i];i++)r++;return r}if(s.content.size||a.content.size){let i=xZ(s.content,a.content,r+1);if(i!=null)return i}r+=s.nodeSize}}function yZ(t,e,r,n){for(let s=t.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:r,b:n};let i=t.child(--s),l=e.child(--a),c=i.nodeSize;if(i==l){r-=c,n-=c;continue}if(!i.sameMarkup(l))return{a:r,b:n};if(i.isText&&i.text!=l.text){let u=0,d=Math.min(i.text.length,l.text.length);for(;u<d&&i.text[i.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(i.content.size||l.content.size){let u=yZ(i.content,l.content,r-1,n-1);if(u)return u}r-=c,n-=c}}class Ae{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,a){for(let i=0,l=0;l<r;i++){let c=this.content[i],u=l+c.nodeSize;if(u>e&&n(c,s+l,a||null,i)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,r-d),n,s+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let a="",i=!0;return this.nodesBetween(e,r,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&n&&(i?i=!1:a+=n),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new Ae(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let a=0,i=0;i<r;a++){let l=this.content[a],c=i+l.nodeSize;c>e&&((i<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-i),Math.min(l.text.length,r-i)):l=l.cut(Math.max(0,e-i-1),Math.min(l.content.size,r-i-1))),n.push(l),s+=l.nodeSize),i=c}return new Ae(n,s)}cutByIndex(e,r){return e==r?Ae.empty:e==0&&r==this.content.length?this:new Ae(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new Ae(s,a)}addToStart(e){return new Ae([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ae(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return xZ(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return yZ(this,e,r,n)}findIndex(e){if(e==0)return eb(0,e);if(e==this.size)return eb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),a=n+s.nodeSize;if(a>=e)return a==e?eb(r+1,a):eb(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ae.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ae(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ae.empty;let r,n=0;for(let s=0;s<e.length;s++){let a=e[s];n+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(r||(r=e.slice(0,s)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new Ae(r||e,n)}static from(e){if(!e)return Ae.empty;if(e instanceof Ae)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ae([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ae.empty=new Ae([],0);const UC={index:0,offset:0};function eb(t,e){return UC.index=t,UC.offset=e,UC}function zj(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!zj(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!zj(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Pr=class aO{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&zj(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return aO.none;if(e instanceof aO)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};Pr.none=[];class Vj extends Error{}class rt{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=wZ(this.content,e+this.openStart,r);return n&&new rt(n,this.openStart,this.openEnd)}removeBetween(e,r){return new rt(bZ(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return rt.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new rt(Ae.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)s++;return new rt(e,n,s)}}rt.empty=new rt(Ae.empty,0,0);function bZ(t,e,r){let{index:n,offset:s}=t.findIndex(e),a=t.maybeChild(n),{index:i,offset:l}=t.findIndex(r);if(s==e||a.isText){if(l!=r&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(bZ(a.content,e-s-1,r-s-1)))}function wZ(t,e,r,n){let{index:s,offset:a}=t.findIndex(e),i=t.maybeChild(s);if(a==e||i.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=wZ(i.content,e-a-1,r,i);return l&&t.replaceChild(s,i.copy(l))}function ZWe(t,e,r){if(r.openStart>t.depth)throw new Vj("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Vj("Inconsistent open depths");return jZ(t,e,r,0)}function jZ(t,e,r,n){let s=t.index(n),a=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let i=jZ(t,e,r,n+1);return a.copy(a.content.replaceChild(s,i))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let i=t.parent,l=i.content;return Kd(i,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:i,end:l}=eHe(r,t);return Kd(a,_Z(t,i,l,e,n))}else return Kd(a,Uj(t,e,n))}function NZ(t,e){if(!e.type.compatibleContent(t.type))throw new Vj("Cannot join "+e.type.name+" onto "+t.type.name)}function oO(t,e,r){let n=t.node(r);return NZ(n,e.node(r)),n}function Hd(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function mv(t,e,r,n){let s=(e||t).node(r),a=0,i=e?e.index(r):s.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(Hd(t.nodeAfter,n),a++));for(let l=a;l<i;l++)Hd(s.child(l),n);e&&e.depth==r&&e.textOffset&&Hd(e.nodeBefore,n)}function Kd(t,e){return t.type.checkContent(e),t.copy(e)}function _Z(t,e,r,n,s){let a=t.depth>s&&oO(t,e,s+1),i=n.depth>s&&oO(r,n,s+1),l=[];return mv(null,t,s,l),a&&i&&e.index(s)==r.index(s)?(NZ(a,i),Hd(Kd(a,_Z(t,e,r,n,s+1)),l)):(a&&Hd(Kd(a,Uj(t,e,s+1)),l),mv(e,r,s,l),i&&Hd(Kd(i,Uj(r,n,s+1)),l)),mv(n,null,s,l),new Ae(l)}function Uj(t,e,r){let n=[];if(mv(null,t,r,n),t.depth>r){let s=oO(t,e,r+1);Hd(Kd(s,Uj(t,e,r+1)),n)}return mv(e,null,r,n),new Ae(n)}function eHe(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)s=e.node(a).copy(Ae.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class Wx{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)s+=n.child(a).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Pr.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let l=n;n=s,s=l}let a=n.marks;for(var i=0;i<a.length;i++)a[i].type.spec.inclusive===!1&&(!s||!a[i].isInSet(s.marks))&&(a=a[i--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!s||!n[a].isInSet(s.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new qj(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,a=r;for(let i=e;;){let{index:l,offset:c}=i.content.findIndex(a),u=a-c;if(n.push(i,l,s+c),!u||(i=i.child(l),i.isText))break;a=u-1,s+=c+1}return new Wx(r,n,a)}static resolveCached(e,r){let n=MB.get(e);if(n)for(let a=0;a<n.elts.length;a++){let i=n.elts[a];if(i.pos==r)return i}else MB.set(e,n=new tHe);let s=n.elts[n.i]=Wx.resolve(e,r);return n.i=(n.i+1)%rHe,s}}class tHe{constructor(){this.elts=[],this.i=0}}const rHe=12,MB=new WeakMap;class qj{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const nHe=Object.create(null);let mu=class iO{constructor(e,r,n,s=Pr.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||Ae.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&zj(this.attrs,r||e.defaultAttrs||nHe)&&Pr.sameSet(this.marks,n||Pr.none)}copy(e=null){return e==this.content?this:new iO(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new iO(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return rt.empty;let s=this.resolve(e),a=this.resolve(r),i=n?0:s.sharedDepth(r),l=s.start(i),u=s.node(i).content.cut(s.pos-l,a.pos-l);return new rt(u,s.depth-i,a.depth-i)}replace(e,r,n){return ZWe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return Wx.resolveCached(this,e)}resolveNoCache(e){return Wx.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),SZ(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Ae.empty,s=0,a=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,s,a),l=i&&i.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=s;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(n),i=a&&a.matchFragment(this.content,r);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pr.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Pr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=Ae.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,s,n);return a.type.checkAttrs(a.attrs),a}};mu.prototype.text=void 0;class Wj extends mu{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):SZ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wj(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wj(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function SZ(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class jf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new sHe(e,r);if(n.next==null)return jf.empty;let s=CZ(n);n.next&&n.err("Unexpected trailing text");let a=dHe(uHe(s));return fHe(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let a=r;s&&a<n;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function a(i,l){let c=i.matchFragment(e,n);if(c&&(!r||c.validEnd))return Ae.from(l.map(u=>u.createAndFill()));for(let u=0;u<i.next.length;u++){let{type:d,next:f}=i.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let m=a(f,l.concat(d));if(m)return m}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),a=s.match;if(a.matchType(e)){let i=[];for(let l=s;l.type;l=l.via)i.push(l.type);return i.reverse()}for(let i=0;i<a.next.length;i++){let{type:l,next:c}=a.next[i];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!s.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:s}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let a=s+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)a+=(i?", ":"")+n.next[i].type.name+"->"+e.indexOf(n.next[i].next);return a}).join(`
`)}}jf.empty=new jf(!0);class sHe{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function CZ(t){let e=[];do e.push(aHe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function aHe(t){let e=[];do e.push(oHe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function oHe(t){let e=cHe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=iHe(t,e);else break;return e}function RB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function iHe(t,e){let r=RB(t),n=r;return t.eat(",")&&(t.next!="}"?n=RB(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function lHe(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let a in r){let i=r[a];i.isInGroup(e)&&s.push(i)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function cHe(t){if(t.eat("(")){let e=CZ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=lHe(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function uHe(t){let e=[[]];return s(a(t,0),r()),e;function r(){return e.push([])-1}function n(i,l,c){let u={term:c,to:l};return e[i].push(u),u}function s(i,l){i.forEach(c=>c.to=l)}function a(i,l){if(i.type=="choice")return i.exprs.reduce((c,u)=>c.concat(a(u,l)),[]);if(i.type=="seq")for(let c=0;;c++){let u=a(i.exprs[c],l);if(c==i.exprs.length-1)return u;s(u,l=r())}else if(i.type=="star"){let c=r();return n(l,c),s(a(i.expr,c),c),[n(c)]}else if(i.type=="plus"){let c=r();return s(a(i.expr,l),c),s(a(i.expr,c),c),[n(c)]}else{if(i.type=="opt")return[n(l)].concat(a(i.expr,l));if(i.type=="range"){let c=l;for(let u=0;u<i.min;u++){let d=r();s(a(i.expr,c),d),c=d}if(i.max==-1)s(a(i.expr,c),c);else for(let u=i.min;u<i.max;u++){let d=r();n(c,d),s(a(i.expr,c),d),c=d}return[n(c)]}else{if(i.type=="name")return[n(l,void 0,i.value)];throw new Error("Unknown expr type")}}}}function EZ(t,e){return e-t}function DB(t,e){let r=[];return n(e),r.sort(EZ);function n(s){let a=t[s];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(s);for(let i=0;i<a.length;i++){let{term:l,to:c}=a[i];!l&&r.indexOf(c)==-1&&n(c)}}}function dHe(t){let e=Object.create(null);return r(DB(t,0));function r(n){let s=[];n.forEach(i=>{t[i].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);DB(t,c).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let a=e[n.join(",")]=new jf(n.indexOf(t.length-1)>-1);for(let i=0;i<s.length;i++){let l=s[i][1].sort(EZ);a.next.push({type:s[i][0],next:e[l.join(",")]||r(l)})}return a}}function fHe(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],a=!s.validEnd,i=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];i.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kZ(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function AZ(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let a=t[n];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function OZ(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let a=t[s];a.validate&&a.validate(e[s])}}function TZ(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new mHe(t,n,e[n]);return r}let IB=class PZ{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=TZ(e,n.attrs),this.defaultAttrs=kZ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==jf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:AZ(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new mu(this,this.computeAttrs(e),Ae.from(r),Pr.setFrom(n))}createChecked(e=null,r,n){return r=Ae.from(r),this.checkContent(r),new mu(this,this.computeAttrs(e),r,Pr.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Ae.from(r),r.size){let i=this.contentMatch.fillBefore(r);if(!i)return null;r=i.append(r)}let s=this.contentMatch.matchFragment(r),a=s&&s.fillBefore(Ae.empty,!0);return a?new mu(this,e,r.append(a),Pr.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){OZ(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Pr.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,i)=>n[a]=new PZ(a,r,i));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function hHe(t,e,r){let n=r.split("|");return s=>{let a=s===null?"null":typeof s;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}class mHe{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?hHe(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class M_{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=TZ(e,s.attrs),this.excluded=null;let a=kZ(this.attrs);this.instance=a?new Pr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Pr(this,AZ(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((a,i)=>n[a]=new M_(a,s++,r,i)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){OZ(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class MZ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=Ss.from(e.nodes),r.marks=Ss.from(e.marks||{}),this.nodes=IB.compile(this.spec.nodes,this),this.marks=M_.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],i=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=n[i]||(n[i]=jf.parse(i,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?$B(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],i=a.spec.excludes;a.excluded=i==null?[a]:i==""?[]:$B(this,i.split(" "))}this.nodeFromJSON=s=>mu.fromJSON(this,s),this.markFromJSON=s=>Pr.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof IB){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new Wj(n,n.defaultAttrs,e,Pr.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function $B(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],a=t.marks[s],i=a;if(a)r.push(a);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function pHe(t){return t.tag!=null}function gHe(t){return t.style!=null}class pu{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(pHe(s))this.tags.push(s);else if(gHe(s)){let a=/[^=]*/.exec(s.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new FB(this,r,!1);return n.addAll(e,Pr.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new FB(this,r,!0);return n.addAll(e,Pr.none,r.from,r.to),rt.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(yHe(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let i=a.getAttrs(e);if(i===!1)continue;a.attrs=i||void 0}return a}}}matchStyle(e,r,n,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let i=this.styles[a],l=i.style;if(!(l.indexOf(e)!=0||i.context&&!n.matchesContext(i.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(i.getAttrs){let c=i.getAttrs(r);if(c===!1)continue;i.attrs=c||void 0}return i}}}static schemaRules(e){let r=[];function n(s){let a=s.priority==null?50:s.priority,i=0;for(;i<r.length;i++){let l=r[i];if((l.priority==null?50:l.priority)<a)break}r.splice(i,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(i=>{n(i=BB(i)),i.mark||i.ignore||i.clearMark||(i.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(i=>{n(i=BB(i)),i.node||i.ignore||i.mark||(i.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new pu(e,pu.schemaRules(e)))}}const RZ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},vHe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},DZ={ol:!0,ul:!0},Hx=1,lO=2,pv=4;function LB(t,e,r){return e!=null?(e?Hx:0)|(e==="full"?lO:0):t&&t.whitespace=="pre"?Hx|lO:r&~pv}class tb{constructor(e,r,n,s,a,i){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=i,this.content=[],this.activeMarks=Pr.none,this.match=a||(i&pv?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ae.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Hx)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let r=Ae.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ae.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!RZ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class FB{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,a,i=LB(null,r.preserveWhitespace,0)|(n?pv:0);s?a=new tb(s.type,s.attrs,Pr.none,!0,r.topMatch||s.type.contentMatch,i):n?a=new tb(null,null,Pr.none,!0,null,i):a=new tb(e.schema.topNodeType,null,Pr.none,!0,null,i),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,a=s.options&lO?"full":this.localPreserveWS||(s.options&Hx)>0,{schema:i}=this.parser;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)if(a==="full")n=n.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let l=n.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(i.linebreakReplacement.create(),r,!0),l[c]&&this.insertNode(i.text(l[c]),r,!/\S/.test(l[c]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),l;DZ.hasOwnProperty(i)&&this.parser.normalizeLists&&xHe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:vHe.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(RZ.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let f=c&&c.skip?r:this.readStyles(e,r);f&&this.addAll(e,f),u&&this.sync(a),this.needsBlock=d}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],i=n.getPropertyValue(a);if(i)for(let l=void 0;;){let c=this.parser.matchStyle(a,i,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(u=>!c.clearMark(u)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,s){let a,i;if(r.node)if(i=this.parser.schema.nodes[r.node],i.isLeaf)this.insertNode(i.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(i,r.attrs||null,n,r.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(i&&i.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}a&&this.sync(l)&&this.open--}addAll(e,r,n,s){let a=n||0;for(let i=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];i!=l;i=i.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(i,r);this.findAtPoint(e,a)}findPlace(e,r,n){let s,a;for(let i=this.open,l=0;i>=0;i--){let c=this.nodes[i],u=c.findWrapping(e);if(u&&(!s||s.length>u.length+l)&&(s=u,a=c,!u.length))break;if(c.solid){if(n)break;l+=2}}if(!s)return null;this.sync(a);for(let i=0;i<s.length;i++)r=this.enterInner(s[i],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let i=Pr.none;for(let l of s.concat(e.marks))(a.type?a.type.allowsMarkType(l.type):zB(l.type,e.type))&&(i=l.addToSet(i));return a.content.push(e.mark(i)),!0}return!1}enter(e,r,n,s){let a=this.findPlace(e.create(r),n,!1);return a&&(a=this.enterInner(e,r,n,!0,s)),a}enterInner(e,r,n,s=!1,a){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let l=LB(e,a,i.options);i.options&pv&&i.content.length==0&&(l|=pv);let c=Pr.none;return n=n.filter(u=>(i.type?i.type.allowsMarkType(u.type):zB(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new tb(e,r,c,s,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Hx)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(s?0:1),i=(l,c)=>{for(;l>=0;l--){let u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;c>=a;c--)if(i(l-1,c))return!0;return!1}else{let d=c>0||c==0&&s?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return i(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function xHe(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&DZ.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function yHe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function BB(t){let e={};for(let r in t)e[r]=t[r];return e}function zB(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let a=[],i=l=>{a.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||a.indexOf(d)<0&&i(d))return!0}};if(i(s.contentMatch))return!0}}class Bf{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=qC(r).createDocumentFragment());let s=n,a=[];return e.forEach(i=>{if(a.length||i.marks.length){let l=0,c=0;for(;l<a.length&&c<i.marks.length;){let u=i.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(a[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<a.length;)s=a.pop()[1];for(;c<i.marks.length;){let u=i.marks[c++],d=this.serializeMark(u,i.isInline,r);d&&(a.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(i,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=Pb(qC(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&Pb(qC(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return Pb(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=VB(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return VB(e.marks)}}function VB(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function qC(t){return t.document||window.document}const UB=new WeakMap;function bHe(t){let e=UB.get(t);return e===void 0&&UB.set(t,e=wHe(t)),e}function wHe(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function Pb(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=bHe(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let l,c=r?t.createElementNS(r,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let m=f.indexOf(" ");m>0?c.setAttributeNS(f.slice(0,m),f.slice(m+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let m=e[f];if(m===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:p}=Pb(t,m,r,n);if(c.appendChild(h),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:c,contentDOM:l}}const IZ=65535,$Z=Math.pow(2,16);function jHe(t,e){return t+e*$Z}function qB(t){return t&IZ}function NHe(t){return(t-(t&IZ))/$Z}const LZ=1,FZ=2,Mb=4,BZ=8;class cO{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&BZ)>0}get deletedBefore(){return(this.delInfo&(LZ|Mb))>0}get deletedAfter(){return(this.delInfo&(FZ|Mb))>0}get deletedAcross(){return(this.delInfo&Mb)>0}}class Ja{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Ja.empty)return Ja.empty}recover(e){let r=0,n=qB(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+NHe(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,a=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[l+a],d=this.ranges[l+i],f=c+u;if(e<=f){let m=u?e==c?-1:e==f?1:r:r,h=c+s+(m<0?0:d);if(n)return h;let p=e==(r<0?c:f)?null:jHe(l/3,e-c),g=e==c?FZ:e==f?LZ:Mb;return(r<0?e!=c:e!=f)&&(g|=BZ),new cO(h,g,p)}s+=d-u}return n?e+s:new cO(e+s,0,null)}touches(e,r){let n=0,s=qB(r),a=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let u=this.ranges[l+a],d=c+u;if(e<=d&&l==s*3)return!0;n+=this.ranges[l+i]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let i=this.ranges[s],l=i-(this.inverted?a:0),c=i+(this.inverted?0:a),u=this.ranges[s+r],d=this.ranges[s+n];e(l,l+u,c,c+d),a+=d-u}}invert(){return new Ja(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ja.empty:new Ja(e<0?[0,-e,0]:[0,0,e])}}Ja.empty=new Ja([]);class Kx{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new Kx(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new Kx;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let a=this.from;a<this.to;a++){let i=this._maps[a],l=i.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return n?e:new cO(e,s,null)}}const WC=Object.create(null);class Ys{getMap(){return Ja.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=WC[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in WC)throw new RangeError("Duplicate use of step JSON ID "+e);return WC[e]=r,r.prototype.jsonID=e,r}}class Bn{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Bn(e,null)}static fail(e){return new Bn(null,e)}static fromReplace(e,r,n,s){try{return Bn.ok(e.replace(r,n,s))}catch(a){if(a instanceof Vj)return Bn.fail(a.message);throw a}}}function FR(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let a=t.child(s);a.content.size&&(a=a.copy(FR(a.content,e,a))),a.isInline&&(a=e(a,r,s)),n.push(a)}return Ae.fromArray(n)}class Xc extends Ys{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),a=new rt(FR(r.content,(i,l)=>!i.isAtom||!l.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),r.openStart,r.openEnd);return Bn.fromReplace(e,this.from,this.to,a)}invert(){return new gi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Xc(r.pos,n.pos,this.mark)}merge(e){return e instanceof Xc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xc(r.from,r.to,e.markFromJSON(r.mark))}}Ys.jsonID("addMark",Xc);class gi extends Ys{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new rt(FR(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return Bn.fromReplace(e,this.from,this.to,n)}invert(){return new Xc(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new gi(r.pos,n.pos,this.mark)}merge(e){return e instanceof gi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new gi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new gi(r.from,r.to,e.markFromJSON(r.mark))}}Ys.jsonID("removeMark",gi);class Qc extends Ys{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new rt(Ae.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new Qc(this.pos,r.marks[s]);return new Qc(this.pos,this.mark)}}return new Nf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Qc(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Qc(r.pos,e.markFromJSON(r.mark))}}Ys.jsonID("addNodeMark",Qc);class Nf extends Ys{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new rt(Ae.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Qc(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Nf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Nf(r.pos,e.markFromJSON(r.mark))}}Ys.jsonID("removeNodeMark",Nf);class ms extends Ys{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&uO(e,this.from,this.to)?Bn.fail("Structure replace would overwrite content"):Bn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ja([this.from,this.to-this.from,this.slice.size])}invert(e){return new ms(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new ms(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ms)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?rt.empty:new rt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ms(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?rt.empty:new rt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ms(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ms(r.from,r.to,rt.fromJSON(e,r.slice),!!r.structure)}}Ys.jsonID("replace",ms);class vs extends Ys{constructor(e,r,n,s,a,i,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=a,this.insert=i,this.structure=l}apply(e){if(this.structure&&(uO(e,this.from,this.gapFrom)||uO(e,this.gapTo,this.to)))return Bn.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Bn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Bn.fromReplace(e,this.from,this.to,n):Bn.fail("Content does not fit in gap")}getMap(){return new Ja([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new vs(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||a>n.pos?null:new vs(r.pos,n.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new vs(r.from,r.to,r.gapFrom,r.gapTo,rt.fromJSON(e,r.slice),r.insert,!!r.structure)}}Ys.jsonID("replaceAround",vs);function uO(t,e,r){let n=t.resolve(e),s=r-e,a=n.depth;for(;s>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,s--;if(s>0){let i=n.node(a).maybeChild(n.indexAfter(a));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function _He(t,e,r,n){let s=[],a=[],i,l;t.doc.nodesBetween(e,r,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!n.isInSet(f)&&d.type.allowsMarkType(n.type)){let m=Math.max(u,e),h=Math.min(u+c.nodeSize,r),p=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(i&&i.to==m&&i.mark.eq(f[g])?i.to=h:s.push(i=new gi(m,h,f[g])));l&&l.to==m?l.to=h:a.push(l=new Xc(m,h,n))}}),s.forEach(c=>t.step(c)),a.forEach(c=>t.step(c))}function SHe(t,e,r,n){let s=[],a=0;t.doc.nodesBetween(e,r,(i,l)=>{if(!i.isInline)return;a++;let c=null;if(n instanceof M_){let u=i.marks,d;for(;d=n.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length){let u=Math.min(l+i.nodeSize,r);for(let d=0;d<c.length;d++){let f=c[d],m;for(let h=0;h<s.length;h++){let p=s[h];p.step==a-1&&f.eq(s[h].style)&&(m=p)}m?(m.to=u,m.step=a):s.push({style:f,from:Math.max(l,e),to:u,step:a})}}}),s.forEach(i=>t.step(new gi(i.from,i.to,i.style)))}function BR(t,e,r,n=r.contentMatch,s=!0){let a=t.doc.nodeAt(e),i=[],l=e+1;for(let c=0;c<a.childCount;c++){let u=a.child(c),d=l+u.nodeSize,f=n.matchType(u.type);if(!f)i.push(new ms(l,d,rt.empty));else{n=f;for(let m=0;m<u.marks.length;m++)r.allowsMarkType(u.marks[m].type)||t.step(new gi(l,d,u.marks[m]));if(s&&u.isText&&r.whitespace!="pre"){let m,h=/\r?\n|\r/g,p;for(;m=h.exec(u.text);)p||(p=new rt(Ae.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),i.push(new ms(l+m.index,l+m.index+m[0].length,p))}}l=d}if(!n.validEnd){let c=n.fillBefore(Ae.empty,!0);t.replace(l,l,new rt(c,0,0))}for(let c=i.length-1;c>=0;c--)t.step(i[c])}function CHe(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Zp(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,s=0,a=0;;--n){let i=t.$from.node(n),l=t.$from.index(n)+s,c=t.$to.indexAfter(n)-a;if(n<t.depth&&i.canReplace(l,c,r))return n;if(n==0||i.type.spec.isolating||!CHe(i,l,c))break;l&&(s=1),c<i.childCount&&(a=1)}return null}function EHe(t,e,r){let{$from:n,$to:s,depth:a}=e,i=n.before(a+1),l=s.after(a+1),c=i,u=l,d=Ae.empty,f=0;for(let p=a,g=!1;p>r;p--)g||n.index(p)>0?(g=!0,d=Ae.from(n.node(p).copy(d)),f++):c--;let m=Ae.empty,h=0;for(let p=a,g=!1;p>r;p--)g||s.after(p+1)<s.end(p)?(g=!0,m=Ae.from(s.node(p).copy(m)),h++):u++;t.step(new vs(c,u,i,l,new rt(d.append(m),f,h),d.size-f,!0))}function zR(t,e,r=null,n=t){let s=kHe(t,e),a=s&&AHe(n,e);return a?s.map(WB).concat({type:e,attrs:r}).concat(a.map(WB)):null}function WB(t){return{type:t,attrs:null}}function kHe(t,e){let{parent:r,startIndex:n,endIndex:s}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let i=a.length?a[0]:e;return r.canReplaceWith(n,s,i)?a:null}function AHe(t,e){let{parent:r,startIndex:n,endIndex:s}=t,a=r.child(n),i=e.contentMatch.findWrapping(a.type);if(!i)return null;let c=(i.length?i[i.length-1]:e).contentMatch;for(let u=n;c&&u<s;u++)c=c.matchType(r.child(u).type);return!c||!c.validEnd?null:i}function OHe(t,e,r){let n=Ae.empty;for(let i=r.length-1;i>=0;i--){if(n.size){let l=r[i].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ae.from(r[i].type.create(r[i].attrs,n))}let s=e.start,a=e.end;t.step(new vs(s,a,s,a,new rt(n,0,0),r.length,!0))}function THe(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(i,l)=>{let c=typeof s=="function"?s(i):s;if(i.isTextblock&&!i.hasMarkup(n,c)&&PHe(t.doc,t.mapping.slice(a).map(l),n)){let u=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!p?u=!1:!h&&p&&(u=!0)}u===!1&&VZ(t,i,l,a),BR(t,t.mapping.slice(a).map(l,1),n,void 0,u===null);let d=t.mapping.slice(a),f=d.map(l,1),m=d.map(l+i.nodeSize,1);return t.step(new vs(f,m,f+1,m-1,new rt(Ae.from(n.create(c,null,i.marks)),0,0),1,!0)),u===!0&&zZ(t,i,l,a),!1}})}function zZ(t,e,r,n){e.forEach((s,a)=>{if(s.isText){let i,l=/\r?\n|\r/g;for(;i=l.exec(s.text);){let c=t.mapping.slice(n).map(r+1+a+i.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function VZ(t,e,r,n){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let i=t.mapping.slice(n).map(r+1+a);t.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function PHe(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function MHe(t,e,r,n,s){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let i=r.create(n,null,s||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,i);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new vs(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new rt(Ae.from(i),0,0),1,!0))}function Kl(t,e,r=1,n){let s=t.resolve(e),a=s.depth-r,i=n&&n[n.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=r-2;u>a;u--,d--){let f=s.node(u),m=s.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(m,f.childCount),p=n&&n[d+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[d]||f;if(!f.canReplace(m+1,f.childCount)||!g.type.validContent(h))return!1}let l=s.indexAfter(a),c=n&&n[0];return s.node(a).canReplaceWith(l,l,c?c.type:s.node(a+1).type)}function RHe(t,e,r=1,n){let s=t.doc.resolve(e),a=Ae.empty,i=Ae.empty;for(let l=s.depth,c=s.depth-r,u=r-1;l>c;l--,u--){a=Ae.from(s.node(l).copy(a));let d=n&&n[u];i=Ae.from(d?d.type.create(d.attrs,i):s.node(l).copy(i))}t.step(new ms(e,e,new rt(a.append(i),r,r),!0))}function Ku(t,e){let r=t.resolve(e),n=r.index();return UZ(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function DHe(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),i=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(i),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}function UZ(t,e){return!!(t&&e&&!t.isLeaf&&DHe(t,e))}function R_(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let a,i,l=n.index(s);if(s==n.depth?(a=n.nodeBefore,i=n.nodeAfter):r>0?(a=n.node(s+1),l++,i=n.node(s).maybeChild(l)):(a=n.node(s).maybeChild(l-1),i=n.node(s+1)),a&&!a.isTextblock&&UZ(a,i)&&n.node(s).canReplace(l,l+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function IHe(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(e-r),i=a.node().type;if(s&&i.inlineContent){let d=i.whitespace=="pre",f=!!i.contentMatch.matchType(s);d&&!f?n=!1:!d&&f&&(n=!0)}let l=t.steps.length;if(n===!1){let d=t.doc.resolve(e+r);VZ(t,d.node(),d.before(),l)}i.inlineContent&&BR(t,e+r-1,i,a.node().contentMatchAt(a.index()),n==null);let c=t.mapping.slice(l),u=c.map(e-r);if(t.step(new ms(u,c.map(e+r,-1),rt.empty,!0)),n===!0){let d=t.doc.resolve(u);zZ(t,d.node(),d.before(),t.steps.length)}return t}function $He(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let a=n.index(s);if(n.node(s).canReplaceWith(a,a,r))return n.before(s+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let a=n.indexAfter(s);if(n.node(s).canReplaceWith(a,a,r))return n.after(s+1);if(a<n.node(s).childCount)return null}return null}function qZ(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let a=0;a<r.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let i=n.depth;i>=0;i--){let l=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,c=n.index(i)+(l>0?1:0),u=n.node(i),d=!1;if(a==1)d=u.canReplace(c,c,s);else{let f=u.contentMatchAt(c).findWrapping(s.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?n.pos:l<0?n.before(i+1):n.after(i+1)}return null}function D_(t,e,r=e,n=rt.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),a=t.resolve(r);return WZ(s,a,n)?new ms(e,r,n):new LHe(s,a,n).fit()}function WZ(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class LHe{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ae.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Ae.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let a=this.placed,i=n.depth,l=s.depth;for(;i&&l&&a.childCount==1;)a=a.firstChild.content,i--,l--;let c=new rt(a,i,l);return e>-1?new vs(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new ms(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(s=0),a.type.spec.isolating&&s<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,a=null;n?(a=HC(this.unplaced.content,n-1).firstChild,s=a.content):s=this.unplaced.content;let i=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(r==1&&(i?u.matchType(i.type)||(f=u.fillBefore(Ae.from(i),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:l,parent:a,inject:f};if(r==2&&i&&(d=u.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:l,parent:a,wrap:d};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=HC(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new rt(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=HC(e,r);if(s.childCount<=1&&r>0){let a=e.size-r<=r+s.size;this.unplaced=new rt($g(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new rt($g(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let g=0;g<a.length;g++)this.openFrontierNode(a[g]);let i=this.unplaced,l=n?n.content:i.content,c=i.openStart-e,u=0,d=[],{match:f,type:m}=this.frontier[r];if(s){for(let g=0;g<s.childCount;g++)d.push(s.child(g));f=f.matchFragment(s)}let h=l.size+e-(i.content.size-i.openEnd);for(;u<l.childCount;){let g=l.child(u),v=f.matchType(g.type);if(!v)break;u++,(u>1||c==0||g.content.size)&&(f=v,d.push(HZ(g.mark(m.allowedMarks(g.marks)),u==1?c:0,u==l.childCount?h:-1)))}let p=u==l.childCount;p||(h=-1),this.placed=Lg(this.placed,r,Ae.from(d)),this.frontier[r].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=l;g<h;g++){let b=v.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),v=b.content}this.unplaced=p?e==0?rt.empty:new rt($g(i.content,e-1,1),e-1,h<0?i.openEnd:e-1):new rt($g(i.content,e,u),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!KC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),i=KC(e,r,s,n,a);if(i){for(let l=r-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=KC(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:r,fit:i,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Lg(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Lg(this.placed,this.depth,Ae.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ae.empty,!0);r.childCount&&(this.placed=Lg(this.placed,this.frontier.length,r))}}function $g(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy($g(t.firstChild.content,e-1,r)))}function Lg(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Lg(t.lastChild.content,e-1,r)))}function HC(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function HZ(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,HZ(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Ae.empty,!0)))),t.copy(n)}function KC(t,e,r,n,s){let a=t.node(e),i=s?t.indexAfter(e):t.index(e);if(i==a.childCount&&!r.compatibleContent(a.type))return null;let l=n.fillBefore(a.content,!0,i);return l&&!FHe(r,a.content,i)?l:null}function FHe(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function BHe(t){return t.spec.defining||t.spec.definingForContent}function zHe(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),a=t.doc.resolve(r);if(WZ(s,a,n))return t.step(new ms(e,r,n));let i=GZ(s,a);i[i.length-1]==0&&i.pop();let l=-(s.depth+1);i.unshift(l);for(let m=s.depth,h=s.pos-1;m>0;m--,h--){let p=s.node(m).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;i.indexOf(m)>-1?l=m:s.before(m)==h&&i.splice(1,0,-m)}let c=i.indexOf(l),u=[],d=n.openStart;for(let m=n.content,h=0;;h++){let p=m.firstChild;if(u.push(p),h==n.openStart)break;m=p.content}for(let m=d-1;m>=0;m--){let h=u[m],p=BHe(h.type);if(p&&!h.sameMarkup(s.node(Math.abs(l)-1)))d=m;else if(p||!h.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let h=(m+d+1)%(n.openStart+1),p=u[h];if(p)for(let g=0;g<i.length;g++){let v=i[(g+c)%i.length],b=!0;v<0&&(b=!1,v=-v);let y=s.node(v-1),w=s.index(v-1);if(y.canReplaceWith(w,w,p.type,p.marks))return t.replace(s.before(v),b?a.after(v):r,new rt(KZ(n.content,0,n.openStart,h),h,n.openEnd))}}let f=t.steps.length;for(let m=i.length-1;m>=0&&(t.replace(e,r,n),!(t.steps.length>f));m--){let h=i[m];h<0||(e=s.before(h),r=a.after(h))}}function KZ(t,e,r,n,s){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(KZ(a.content,e+1,r,n,a)))}if(e>n){let a=s.contentMatchAt(0),i=a.fillBefore(t).append(t);t=i.append(a.matchFragment(i).fillBefore(Ae.empty,!0))}return t}function VHe(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=$He(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new rt(Ae.from(n),0,0))}function UHe(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),a=GZ(n,s);for(let i=0;i<a.length;i++){let l=a[i],c=i==a.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),s.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),s.indexAfter(l-1))))return t.delete(n.before(l),s.after(l))}for(let i=1;i<=n.depth&&i<=s.depth;i++)if(e-n.start(i)==n.depth-i&&r>n.end(i)&&s.end(i)-r!=s.depth-i&&n.start(i-1)==s.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),s.index(i-1)))return t.delete(n.before(i),r);t.delete(e,r)}function GZ(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let a=t.start(s);if(a<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&r.push(s)}return r}class em extends Ys{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Bn.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return Bn.fromReplace(e,this.pos,this.pos+1,new rt(Ae.from(s),0,r.isLeaf?0:1))}getMap(){return Ja.empty}invert(e){return new em(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new em(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new em(r.pos,r.attr,r.value)}}Ys.jsonID("attr",em);class Gx extends Ys{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Bn.ok(n)}getMap(){return Ja.empty}invert(e){return new Gx(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gx(r.attr,r.value)}}Ys.jsonID("docAttr",Gx);let mp=class extends Error{};mp=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};mp.prototype=Object.create(Error.prototype);mp.prototype.constructor=mp;mp.prototype.name="TransformError";class YZ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Kx}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new mp(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=rt.empty){let s=D_(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new rt(Ae.from(n),0,0))}delete(e,r){return this.replace(e,r,rt.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return zHe(this,e,r,n),this}replaceRangeWith(e,r,n){return VHe(this,e,r,n),this}deleteRange(e,r){return UHe(this,e,r),this}lift(e,r){return EHe(this,e,r),this}join(e,r=1){return IHe(this,e,r),this}wrap(e,r){return OHe(this,e,r),this}setBlockType(e,r=e,n,s=null){return THe(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return MHe(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new em(e,r,n)),this}setDocAttribute(e,r){return this.step(new Gx(e,r)),this}addNodeMark(e,r){return this.step(new Qc(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Pr)r.isInSet(n.marks)&&this.step(new Nf(e,r));else{let s=n.marks,a,i=[];for(;a=r.isInSet(s);)i.push(new Nf(e,a)),s=a.removeFromSet(s);for(let l=i.length-1;l>=0;l--)this.step(i[l])}return this}split(e,r=1,n){return RHe(this,e,r,n),this}addMark(e,r,n){return _He(this,e,r,n),this}removeMark(e,r,n){return SHe(this,e,r,n),this}clearIncompatible(e,r,n){return BR(this,e,r,n),this}}const GC=Object.create(null);class Qt{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new qHe(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=rt.empty){let n=r.content.lastChild,s=null;for(let l=0;l<r.openEnd;l++)s=n,n=n.lastChild;let a=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){let{$from:c,$to:u}=i[l],d=e.mapping.slice(a);e.replaceRange(d.map(c.pos),d.map(u.pos),l?rt.empty:r),l==0&&GB(e,a,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:i,$to:l}=s[a],c=e.mapping.slice(n),u=c.map(i.pos),d=c.map(l.pos);a?e.deleteRange(u,d):(e.replaceRangeWith(u,d,r),GB(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new Ft(e):fh(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let a=e.depth-1;a>=0;a--){let i=r<0?fh(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):fh(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(i)return i}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new so(e.node(0))}static atStart(e){return fh(e,e,0,0,1)||new so(e)}static atEnd(e){return fh(e,e,e.content.size,e.childCount,-1)||new so(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=GC[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in GC)throw new RangeError("Duplicate use of selection JSON ID "+e);return GC[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Ft.between(this.$anchor,this.$head).getBookmark()}}Qt.prototype.visible=!0;class qHe{constructor(e,r){this.$from=e,this.$to=r}}let HB=!1;function KB(t){!HB&&!t.parent.inlineContent&&(HB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ft extends Qt{constructor(e,r=e){KB(e),KB(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Qt.near(n);let s=e.resolve(r.map(this.anchor));return new Ft(s.parent.inlineContent?s:n,n)}replace(e,r=rt.empty){if(super.replace(e,r),r==rt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Ft&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new I_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ft(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let a=Qt.findFrom(r,n,!0)||Qt.findFrom(r,-n,!0);if(a)r=a.$head;else return Qt.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(Qt.findFrom(e,-n,!0)||Qt.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new Ft(e,r)}}Qt.jsonID("text",Ft);class I_{constructor(e,r){this.anchor=e,this.head=r}map(e){return new I_(e.map(this.anchor),e.map(this.head))}resolve(e){return Ft.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ct extends Qt{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),a=e.resolve(s);return n?Qt.near(a):new Ct(a)}content(){return new rt(Ae.from(this.node),0,0)}eq(e){return e instanceof Ct&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new VR(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ct(e.resolve(r.anchor))}static create(e,r){return new Ct(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ct.prototype.visible=!1;Qt.jsonID("node",Ct);class VR{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new I_(n,n):new VR(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ct.isSelectable(n)?new Ct(r):Qt.near(r)}}class so extends Qt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=rt.empty){if(r==rt.empty){e.delete(0,e.doc.content.size);let n=Qt.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new so(e)}map(e){return new so(e)}eq(e){return e instanceof so}getBookmark(){return WHe}}Qt.jsonID("all",so);const WHe={map(){return this},resolve(t){return new so(t)}};function fh(t,e,r,n,s,a=!1){if(e.inlineContent)return Ft.create(t,r);for(let i=n-(s>0?0:1);s>0?i<e.childCount:i>=0;i+=s){let l=e.child(i);if(l.isAtom){if(!a&&Ct.isSelectable(l))return Ct.create(t,r-(s<0?l.nodeSize:0))}else{let c=fh(t,l,r+s,s<0?l.childCount:0,s,a);if(c)return c}r+=l.nodeSize*s}return null}function GB(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof ms||s instanceof vs))return;let a=t.mapping.maps[n],i;a.forEach((l,c,u,d)=>{i==null&&(i=d)}),t.setSelection(Qt.near(t.doc.resolve(i),r))}const YB=1,rb=2,XB=4;class HHe extends YZ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|YB)&~rb,this.storedMarks=null,this}get selectionSet(){return(this.updated&YB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=rb,this}ensureMarks(e){return Pr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&rb)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~rb,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Pr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let i=this.doc.resolve(r);a=n==r?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,a)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(Qt.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=XB,this}get scrolledIntoView(){return(this.updated&XB)>0}}function QB(t,e){return!e||!t?t:t.bind(e)}class Fg{constructor(e,r,n){this.name=e,this.init=QB(r.init,n),this.apply=QB(r.apply,n)}}const KHe=[new Fg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Fg("selection",{init(t,e){return t.selection||Qt.atStart(e.doc)},apply(t){return t.selection}}),new Fg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Fg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class YC{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=KHe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Fg(n.key,n.spec.state,n))})}}class $h{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let a=!1;for(let i=0;i<this.config.plugins.length;i++){let l=this.config.plugins[i];if(l.spec.appendTransaction){let c=s?s[i].n:0,u=s?s[i].state:this,d=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,u,n);if(d&&n.filterTransaction(d,i)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<i?{state:n,n:r.length}:{state:this,n:0})}r.push(d),n=n.applyInner(d),a=!0}s&&(s[i]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new $h(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let a=n[s];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new HHe(this)}static create(e){let r=new YC(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new $h(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new YC(this.schema,e.plugins),n=r.fields,s=new $h(r);for(let a=0;a<n.length;a++){let i=n[a].name;s[i]=this.hasOwnProperty(i)?this[i]:n[a].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],a=s.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new YC(e.schema,e.plugins),a=new $h(s);return s.fields.forEach(i=>{if(i.name=="doc")a.doc=mu.fromJSON(e.schema,r.doc);else if(i.name=="selection")a.selection=Qt.fromJSON(a.doc,r.selection);else if(i.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],u=c.spec.state;if(c.key==i.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){a[i.name]=u.fromJSON.call(c,e,r[l],a);return}}a[i.name]=i.init(e,a)}}),a}}function XZ(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=XZ(s,e,{})),r[n]=s}return r}class hn{constructor(e){this.spec=e,this.props={},e.props&&XZ(e.props,this,this.props),this.key=e.key?e.key.key:QZ("plugin")}getState(e){return e[this.key]}}const XC=Object.create(null);function QZ(t){return t in XC?t+"$"+ ++XC[t]:(XC[t]=0,t+"$")}class cs{constructor(e="key"){this.key=QZ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const UR=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function JZ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const ZZ=(t,e,r)=>{let n=JZ(t,r);if(!n)return!1;let s=qR(n);if(!s){let i=n.blockRange(),l=i&&Zp(i);return l==null?!1:(e&&e(t.tr.lift(i,l).scrollIntoView()),!0)}let a=s.nodeBefore;if(lee(t,s,e,-1))return!0;if(n.parent.content.size==0&&(pp(a,"end")||Ct.isSelectable(a)))for(let i=n.depth;;i--){let l=D_(t.doc,n.before(i),n.after(i),rt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(pp(a,"end")?Qt.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Ct.create(c.doc,s.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return a.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},GHe=(t,e,r)=>{let n=JZ(t,r);if(!n)return!1;let s=qR(n);return s?eee(t,s,e):!1},YHe=(t,e,r)=>{let n=ree(t,r);if(!n)return!1;let s=WR(n);return s?eee(t,s,e):!1};function eee(t,e,r){let n=e.nodeBefore,s=n,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let i=e.nodeAfter,l=i,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=D_(t.doc,a,c,rt.empty);if(!u||u.from!=a||u instanceof ms&&u.slice.size>=c-a)return!1;if(r){let d=t.tr.step(u);d.setSelection(Ft.create(d.doc,a)),r(d.scrollIntoView())}return!0}function pp(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const tee=(t,e,r)=>{let{$head:n,empty:s}=t.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=qR(n)}let i=a&&a.nodeBefore;return!i||!Ct.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Ct.create(t.doc,a.pos-i.nodeSize)).scrollIntoView()),!0)};function qR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ree(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const nee=(t,e,r)=>{let n=ree(t,r);if(!n)return!1;let s=WR(n);if(!s)return!1;let a=s.nodeAfter;if(lee(t,s,e,1))return!0;if(n.parent.content.size==0&&(pp(a,"start")||Ct.isSelectable(a))){let i=D_(t.doc,n.before(),n.after(),rt.empty);if(i&&i.slice.size<i.to-i.from){if(e){let l=t.tr.step(i);l.setSelection(pp(a,"start")?Qt.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Ct.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},see=(t,e,r)=>{let{$head:n,empty:s}=t.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=WR(n)}let i=a&&a.nodeAfter;return!i||!Ct.isSelectable(i)?!1:(e&&e(t.tr.setSelection(Ct.create(t.doc,a.pos)).scrollIntoView()),!0)};function WR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const XHe=(t,e)=>{let r=t.selection,n=r instanceof Ct,s;if(n){if(r.node.isTextblock||!Ku(t.doc,r.from))return!1;s=r.from}else if(s=R_(t.doc,r.from,-1),s==null)return!1;if(e){let a=t.tr.join(s);n&&a.setSelection(Ct.create(a.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},QHe=(t,e)=>{let r=t.selection,n;if(r instanceof Ct){if(r.node.isTextblock||!Ku(t.doc,r.to))return!1;n=r.to}else if(n=R_(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},JHe=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),a=s&&Zp(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)},aee=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function HR(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const ZHe=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),a=r.indexAfter(-1),i=HR(s.contentMatchAt(a));if(!i||!s.canReplaceWith(a,a,i))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,i.createAndFill());c.setSelection(Qt.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},oee=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof so||n.parent.inlineContent||s.parent.inlineContent)return!1;let a=HR(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let i=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,l=t.tr.insert(i,a.createAndFill());l.setSelection(Ft.create(l.doc,i+1)),e(l.scrollIntoView())}return!0},iee=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(Kl(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),s=n&&Zp(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)};function e7e(t){return(e,r)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof Ct&&e.selection.node.isBlock)return!n.parentOffset||!Kl(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],i,l,c=!1,u=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){c=n.end(h)==n.pos+(n.depth-h),u=n.start(h)==n.pos-(n.depth-h),l=HR(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),a.unshift(c&&l?{type:l}:null),i=h;break}else{if(h==1)return!1;a.unshift(null)}let d=e.tr;(e.selection instanceof Ft||e.selection instanceof so)&&d.deleteSelection();let f=d.mapping.map(n.pos),m=Kl(d.doc,f,a.length,a);if(m||(a[0]=l?{type:l}:null,m=Kl(d.doc,f,a.length,a)),!m)return!1;if(d.split(f,a.length,a),!c&&u&&n.node(i).type!=l){let h=d.mapping.map(n.before(i)),p=d.doc.resolve(h);l&&n.node(i-1).canReplaceWith(p.index(),p.index()+1,l)&&d.setNodeMarkup(d.mapping.map(n.before(i)),l)}return r&&r(d.scrollIntoView()),!0}}const t7e=e7e(),r7e=(t,e)=>{let{$from:r,to:n}=t.selection,s,a=r.sharedDepth(n);return a==0?!1:(s=r.before(a),e&&e(t.tr.setSelection(Ct.create(t.doc,s))),!0)};function n7e(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,a=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||Ku(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function lee(t,e,r,n){let s=e.nodeBefore,a=e.nodeAfter,i,l,c=s.type.spec.isolating||a.type.spec.isolating;if(!c&&n7e(t,e,r))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(l=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&l.matchType(i[0]||a.type).validEnd){if(r){let h=e.pos+a.nodeSize,p=Ae.empty;for(let b=i.length-1;b>=0;b--)p=Ae.from(i[b].create(null,p));p=Ae.from(s.copy(p));let g=t.tr.step(new vs(e.pos-1,h,e.pos,h,new rt(p,1,0),i.length,!0)),v=g.doc.resolve(h+2*i.length);v.nodeAfter&&v.nodeAfter.type==s.type&&Ku(g.doc,v.pos)&&g.join(v.pos),r(g.scrollIntoView())}return!0}let d=a.type.spec.isolating||n>0&&c?null:Qt.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),m=f&&Zp(f);if(m!=null&&m>=e.depth)return r&&r(t.tr.lift(f,m).scrollIntoView()),!0;if(u&&pp(a,"start",!0)&&pp(s,"end")){let h=s,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=a,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(r){let b=Ae.empty;for(let w=p.length-1;w>=0;w--)b=Ae.from(p[w].copy(b));let y=t.tr.step(new vs(e.pos-p.length,e.pos+a.nodeSize,e.pos+v,e.pos+a.nodeSize-v,new rt(b,p.length,0),0,!0));r(y.scrollIntoView())}return!0}}return!1}function cee(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(r&&r(e.tr.setSelection(Ft.create(e.doc,t<0?s.start(a):s.end(a)))),!0):!1}}const s7e=cee(-1),a7e=cee(1);function o7e(t,e=null){return function(r,n){let{$from:s,$to:a}=r.selection,i=s.blockRange(a),l=i&&zR(i,t,e);return l?(n&&n(r.tr.wrap(i,l).scrollIntoView()),!0):!1}}function JB(t,e=null){return function(r,n){let s=!1;for(let a=0;a<r.selection.ranges.length&&!s;a++){let{$from:{pos:i},$to:{pos:l}}=r.selection.ranges[a];r.doc.nodesBetween(i,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let d=r.doc.resolve(u),f=d.index();s=d.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(n){let a=r.tr;for(let i=0;i<r.selection.ranges.length;i++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[i];a.setBlockType(l,c,t,e)}n(a.scrollIntoView())}return!0}}function KR(...t){return function(e,r,n){for(let s=0;s<t.length;s++)if(t[s](e,r,n))return!0;return!1}}KR(UR,ZZ,tee);KR(UR,nee,see);KR(aee,oee,iee,t7e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function i7e(t,e=null){return function(r,n){let{$from:s,$to:a}=r.selection,i=s.blockRange(a);if(!i)return!1;let l=n?r.tr:null;return l7e(l,i,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function l7e(t,e,r,n=null){let s=!1,a=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=i.resolve(e.start-2);a=new qj(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new qj(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=zR(a,r,n,e);return l?(t&&c7e(t,e,l,s,r),!0):!1}function c7e(t,e,r,n,s){let a=Ae.empty;for(let d=r.length-1;d>=0;d--)a=Ae.from(r[d].type.create(r[d].attrs,a));t.step(new vs(e.start-(n?2:0),e.end,e.start,e.end,new rt(a,0,0),r.length,!0));let i=0;for(let d=0;d<r.length;d++)r[d].type==s&&(i=d+1);let l=r.length-i,c=e.start+r.length-(n?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,m=!0;d<f;d++,m=!1)!m&&Kl(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function u7e(t){return function(e,r){let{$from:n,$to:s}=e.selection,a=n.blockRange(s,i=>i.childCount>0&&i.firstChild.type==t);return a?r?n.node(a.depth-1).type==t?d7e(e,r,t,a):f7e(e,r,a):!0:!1}}function d7e(t,e,r,n){let s=t.tr,a=n.end,i=n.$to.end(n.depth);a<i&&(s.step(new vs(a-1,i,a,i,new rt(Ae.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new qj(s.doc.resolve(n.$from.pos),s.doc.resolve(i),n.depth));const l=Zp(n);if(l==null)return!1;s.lift(n,l);let c=s.doc.resolve(s.mapping.map(a,-1)-1);return Ku(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function f7e(t,e,r){let n=t.tr,s=r.parent;for(let h=r.end,p=r.endIndex-1,g=r.startIndex;p>g;p--)h-=s.child(p).nodeSize,n.delete(h-1,h+1);let a=n.doc.resolve(r.start),i=a.nodeAfter;if(n.mapping.map(r.end)!=r.start+a.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==s.childCount,u=a.node(-1),d=a.index(-1);if(!u.canReplace(d+(l?0:1),d+1,i.content.append(c?Ae.empty:Ae.from(s))))return!1;let f=a.pos,m=f+i.nodeSize;return n.step(new vs(f-(l?1:0),m+(c?1:0),f+1,m-1,new rt((l?Ae.empty:Ae.from(s.copy(Ae.empty))).append(c?Ae.empty:Ae.from(s.copy(Ae.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function h7e(t){return function(e,r){let{$from:n,$to:s}=e.selection,a=n.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!a)return!1;let i=a.startIndex;if(i==0)return!1;let l=a.parent,c=l.child(i-1);if(c.type!=t)return!1;if(r){let u=c.lastChild&&c.lastChild.type==l.type,d=Ae.from(u?t.create():null),f=new rt(Ae.from(t.create(null,Ae.from(l.type.create(null,d)))),u?3:1,0),m=a.start,h=a.end;r(e.tr.step(new vs(m-(u?3:1),h,m,h,f,1,!0)).scrollIntoView())}return!0}}const As=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},gp=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let dO=null;const Tl=function(t,e,r){let n=dO||(dO=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},m7e=function(){dO=null},_f=function(t,e,r,n){return r&&(ZB(t,e,r,n,-1)||ZB(t,e,r,n,1))},p7e=/^(img|br|input|textarea|hr)$/i;function ZB(t,e,r,n,s){for(var a;;){if(t==r&&e==n)return!0;if(e==(s<0?0:ko(t))){let i=t.parentNode;if(!i||i.nodeType!=1||qy(t)||p7e.test(t.nodeName)||t.contentEditable=="false")return!1;e=As(t)+(s<0?0:1),t=i}else if(t.nodeType==1){let i=t.childNodes[e+(s<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((a=i.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else t=i,e=s<0?ko(t):0}else return!1}}function ko(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function g7e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ko(t)}else if(t.parentNode&&!qy(t))e=As(t),t=t.parentNode;else return null}}function v7e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!qy(t))e=As(t)+1,t=t.parentNode;else return null}}function x7e(t,e,r){for(let n=e==0,s=e==ko(t);n||s;){if(t==r)return!0;let a=As(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,s=s&&a==ko(t)}}function qy(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const $_=function(t){return t.focusNode&&_f(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function hd(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function y7e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function b7e(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(ko(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(ko(n.startContainer),n.startOffset)}}}const fl=typeof navigator<"u"?navigator:null,ez=typeof document<"u"?document:null,Gu=fl&&fl.userAgent||"",fO=/Edge\/(\d+)/.exec(Gu),uee=/MSIE \d/.exec(Gu),hO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gu),$a=!!(uee||hO||fO),gu=uee?document.documentMode:hO?+hO[1]:fO?+fO[1]:0,$o=!$a&&/gecko\/(\d+)/i.test(Gu);$o&&+(/Firefox\/(\d+)/.exec(Gu)||[0,0])[1];const mO=!$a&&/Chrome\/(\d+)/.exec(Gu),Ws=!!mO,dee=mO?+mO[1]:0,ua=!$a&&!!fl&&/Apple Computer/.test(fl.vendor),vp=ua&&(/Mobile\/\w+/.test(Gu)||!!fl&&fl.maxTouchPoints>2),jo=vp||(fl?/Mac/.test(fl.platform):!1),w7e=fl?/Win/.test(fl.platform):!1,Ul=/Android \d/.test(Gu),Wy=!!ez&&"webkitFontSmoothing"in ez.documentElement.style,j7e=Wy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function N7e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Nl(t,e){return typeof t=="number"?t:t[e]}function _7e(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function tz(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let i=r||t.dom;i;){if(i.nodeType!=1){i=gp(i);continue}let l=i,c=l==a.body,u=c?N7e(a):_7e(l),d=0,f=0;if(e.top<u.top+Nl(n,"top")?f=-(u.top-e.top+Nl(s,"top")):e.bottom>u.bottom-Nl(n,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Nl(s,"top")-u.top:e.bottom-u.bottom+Nl(s,"bottom")),e.left<u.left+Nl(n,"left")?d=-(u.left-e.left+Nl(s,"left")):e.right>u.right-Nl(n,"right")&&(d=e.right-u.right+Nl(s,"right")),d||f)if(c)a.defaultView.scrollBy(d,f);else{let h=l.scrollLeft,p=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let g=l.scrollLeft-h,v=l.scrollTop-p;e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v}}let m=c?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(m))break;i=m=="absolute"?i.offsetParent:gp(i)}}function S7e(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let a=(e.left+e.right)/2,i=r+1;i<Math.min(innerHeight,e.bottom);i+=5){let l=t.root.elementFromPoint(a,i);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,s=c.top;break}}return{refDOM:n,refTop:s,stack:fee(t.dom)}}function fee(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=gp(n));return e}function C7e({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;hee(r,n==0?0:n-e)}function hee(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:a}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let oh=null;function E7e(t){if(t.setActive)return t.setActive();if(oh)return t.focus(oh);let e=fee(t);t.focus(oh==null?{get preventScroll(){return oh={preventScroll:!0},!0}}:void 0),oh||(oh=!1,hee(e,0))}function mee(t,e){let r,n=2e8,s,a=0,i=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=Tl(d).getClientRects();else continue;for(let h=0;h<m.length;h++){let p=m[h];if(p.top<=i&&p.bottom>=l){i=Math.max(p.bottom,i),l=Math.min(p.top,l);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<n){r=d,n=g,s=g&&r.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,d.nodeType==1&&g&&(a=f+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!c&&p.left<=e.left&&p.right>=e.left&&(c=d,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!r&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(a=f+1)}}return!r&&c&&(r=c,s=u,n=0),r&&r.nodeType==3?k7e(r,s):!r||n&&r.nodeType==1?{node:t,offset:a}:mee(r,s)}function k7e(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let a=jc(n,1);if(a.top!=a.bottom&&GR(e,a))return{node:t,offset:s+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function GR(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function A7e(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function O7e(t,e,r){let{node:n,offset:s}=mee(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();a=i.left!=i.right&&r.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(n,s,a)}function T7e(t,e,r,n){let s=-1;for(let a=e,i=!1;a!=t.dom;){let l=t.docView.nearestDesc(a,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!i&&c.left>n.left||c.top>n.top?s=l.posBefore:(!i&&c.right<n.left||c.bottom<n.top)&&(s=l.posAfter),i=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;a=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function pee(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=s;;){let i=t.childNodes[a];if(i.nodeType==1){let l=i.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(GR(e,u))return pee(i,e,u)}}if((a=(a+1)%n)==s)break}return t}function P7e(t,e){let r=t.dom.ownerDocument,n,s=0,a=b7e(r,e.left,e.top);a&&({node:n,offset:s}=a);let i=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let u=t.dom.getBoundingClientRect();if(!GR(e,u)||(i=pee(t.dom,e,u),!i))return null}if(ua)for(let u=i;n&&u;u=gp(u))u.draggable&&(n=void 0);if(i=A7e(i,e),n){if($o&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let d=n.childNodes[s],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let u;Wy&&s&&n.nodeType==1&&(u=n.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(l=T7e(t,n,s,e))}l==null&&(l=O7e(t,i,e));let c=t.docView.nearestDesc(i,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function rz(t){return t.top<t.bottom||t.left<t.right}function jc(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(rz(n))return n}return Array.prototype.find.call(r,rz)||t.getBoundingClientRect()}const M7e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gee(t,e,r){let{node:n,offset:s,atom:a}=t.docView.domFromPos(e,r<0?-1:1),i=Wy||$o;if(n.nodeType==3)if(i&&(M7e.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=jc(Tl(n,s,s),r);if($o&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let u=jc(Tl(n,s-1,s-1),-1);if(u.top==c.top){let d=jc(Tl(n,s,s+1),-1);if(d.top!=c.top)return _g(d,d.left<u.left)}}return c}else{let c=s,u=s,d=r<0?1:-1;return r<0&&!s?(u++,d=-1):r>=0&&s==n.nodeValue.length?(c--,d=1):r<0?c--:u++,_g(jc(Tl(n,c,u),d),d<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(r<0||s==ko(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return QC(c.getBoundingClientRect(),!1)}if(a==null&&s<ko(n)){let c=n.childNodes[s];if(c.nodeType==1)return QC(c.getBoundingClientRect(),!0)}return QC(n.getBoundingClientRect(),r>=0)}if(a==null&&s&&(r<0||s==ko(n))){let c=n.childNodes[s-1],u=c.nodeType==3?Tl(c,ko(c)-(i?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return _g(jc(u,1),!1)}if(a==null&&s<ko(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?Tl(c,0,i?0:1):c.nodeType==1?c:null:null;if(u)return _g(jc(u,-1),!0)}return _g(jc(n.nodeType==3?Tl(n):n,-r),r>=0)}function _g(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function QC(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function vee(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function R7e(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return vee(t,e,()=>{let{node:a}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.contentDOM||l.dom;break}a=l.dom.parentNode}let i=gee(t,s.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Tl(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(r=="up"?i.top-d.top>(d.bottom-i.top)*2:d.bottom-i.bottom>(i.bottom-d.top)*2))return!1}}return!0})}const D7e=/[\u0590-\u08ac]/;function I7e(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,a=!s,i=s==n.parent.content.size,l=t.domSelection();return l?!D7e.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?a:i:vee(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),m=l.caretBidiLevel;l.modify("move",r,"character");let h=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),v=p&&!h.contains(p.nodeType==1?p:p.parentNode)||c==p&&u==g;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return m!=null&&(l.caretBidiLevel=m),v}):n.pos==n.start()||n.pos==n.end()}let nz=null,sz=null,az=!1;function $7e(t,e,r){return nz==e&&sz==r?az:(nz=e,sz=r,az=r=="up"||r=="down"?R7e(t,e,r):I7e(t,e,r))}const Lo=0,oz=1,Cd=2,hl=3;class Hy{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=Lo,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,i;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(i)+i.size:this.posAtStart}else{let a,i;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(i):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>As(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),i;if(a&&(!r||a.node))if(n&&(i=a.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],a=n+s.size;if(n==e&&a!=n){for(;!s.border&&s.children.length;)for(let i=0;i<s.children.length;i++){let l=s.children[i];if(l.size){s=l;break}}return s}if(e<a)return s.descAt(e-n-s.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let a=0;n<this.children.length;n++){let i=this.children[n],l=a+i.size;if(l>e||i instanceof yee){s=e-a;break}a=l}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof xee&&a.side>=0;n--);if(r<=0){let a,i=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,i=!1);return a&&r&&i&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?As(a.dom)+1:0}}else{let a,i=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,i=!1);return a&&i&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?As(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let i=n,l=0;;l++){let c=this.children[l],u=i+c.size;if(s==-1&&e<=u){let d=i+c.border;if(e>=d&&r<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,d);e=i;for(let f=l;f>0;f--){let m=this.children[f-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){s=As(m.dom)+1;break}e-=m.size}s==-1&&(s=0)}if(s>-1&&(u>r||l==this.children.length-1)){r=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){a=As(f.dom);break}r+=f.size}a==-1&&(a=this.contentDOM.childNodes.length);break}i=u}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let a=Math.min(e,r),i=Math.max(e,r);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],v=p+g.size;if(a>p&&i<v)return g.setSelection(e-p-g.border,r-p-g.border,n,s);p=v}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),d=n.domSelectionRange(),f=!1;if(($o||ua)&&e==r){let{node:h,offset:p}=l;if(h.nodeType==3){if(f=!!(p&&h.nodeValue[p-1]==`
`),f&&p==h.nodeValue.length)for(let g=h,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(l=c={node:v.parentNode,offset:As(v)+1});break}let b=g.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let g=h.childNodes[p-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if($o&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let h=d.focusNode.childNodes[d.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||f&&ua)&&_f(l.node,l.offset,d.anchorNode,d.anchorOffset)&&_f(c.node,c.offset,d.focusNode,d.focusOffset))return;let m=!1;if((u.extend||e==r)&&!(f&&$o)){u.collapse(l.node,l.offset);try{e!=r&&u.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>r){let p=l;l=c,c=p}let h=document.createRange();h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let a=this.children[s],i=n+a.size;if(n==i?e<=i&&r>=n:e<i&&r>n){let l=n+a.border,c=i-a.border;if(e>=l&&r<=c){this.dirty=e==n||r==i?Cd:oz,e==l&&r==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=hl:a.markDirty(e-l,r-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Cd:hl}n=i}this.dirty=Cd}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Cd:oz;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class xee extends Hy{constructor(e,r,n,s){let a,i=r.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(i.nodeType!=1){let l=document.createElement("span");l.appendChild(i),i=l}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Lo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class L7e extends Hy{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Sf extends Hy{constructor(e,r,n,s,a){super(e,[],n,s),this.mark=r,this.spec=a}static create(e,r,n,s){let a=s.nodeViews[r.type.name],i=a&&a(r,s,n);return(!i||!i.dom)&&(i=Bf.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Sf(e,r,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&hl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hl&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Lo){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Lo}}slice(e,r,n){let s=Sf.create(this.parent,this.mark,!0,n),a=this.children,i=this.size;r<i&&(a=gO(a,r,i,n)),e>0&&(a=gO(a,0,e,n));for(let l=0;l<a.length;l++)a[l].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class vu extends Hy{constructor(e,r,n,s,a,i,l,c,u){super(e,[],a,i),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=l}static create(e,r,n,s,a,i){let l=a.nodeViews[r.type.name],c,u=l&&l(r,a,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)},n,s),d=u&&u.dom,f=u&&u.contentDOM;if(r.isText){if(!d)d=document.createTextNode(r.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Bf.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),r.type.spec.draggable&&(d.draggable=!0));let m=d;return d=jee(d,n,r),u?c=new F7e(e,r,n,s,d,f||null,m,u,a,i+1):r.isText?new L_(e,r,n,s,d,m,a):new vu(e,r,n,s,d,f||null,m,a,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ae.empty)}return e}matchesNode(e,r,n){return this.dirty==Lo&&e.eq(this.node)&&Hj(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,a=e.composing?this.localCompositionInfo(e,r):null,i=a&&a.pos>-1?a:null,l=a&&a.pos<0,c=new z7e(this,i&&i.node,e);q7e(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?Pr.none:this.node.child(d).marks,n,e),c.placeWidget(u,e,s)},(u,d,f,m)=>{c.syncToMarks(u.marks,n,e);let h;c.findNodeMatch(u,d,f,m)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(h=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(u,d,f,h,e)||c.updateNextNode(u,d,f,e,m,s)||c.addNode(u,d,f,e,s),s+=u.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Cd)&&(i&&this.protectLocalComposition(e,i),bee(this.contentDOM,this.children,e),vp&&W7e(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof Ft)||n<r||s>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let i=a.nodeValue,l=H7e(this.node.content,i,n-r,s-r);return l<0?null:{node:a,pos:l,text:i}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let i=new L7e(this,a,r,s);e.input.compositionNodes.push(i),this.children=gO(this.children,n,n+s.length,e,i)}update(e,r,n,s){return this.dirty==hl||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Lo}updateOuterDeco(e){if(Hj(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=wee(this.dom,this.nodeDOM,pO(this.outerDeco,this.node,r),pO(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function iz(t,e,r,n,s){jee(n,e,t);let a=new vu(void 0,t,e,r,n,n,n,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class L_ extends vu{constructor(e,r,n,s,a,i,l){super(e,r,n,s,a,null,i,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==hl||this.dirty!=Lo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Lo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Lo,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),a=document.createTextNode(s.text);return new L_(this.parent,s,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=hl)}get domAtom(){return!1}isText(e){return this.node.text==e}}class yee extends Hy{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Lo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class F7e extends vu{constructor(e,r,n,s,a,i,l,c,u,d){super(e,r,n,s,a,i,l,u,d),this.spec=c}update(e,r,n,s){if(this.dirty==hl)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function bee(t,e,r){let n=t.firstChild,s=!1;for(let a=0;a<e.length;a++){let i=e[a],l=i.dom;if(l.parentNode==t){for(;l!=n;)n=lz(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(l,n);if(i instanceof Sf){let c=n?n.previousSibling:t.lastChild;bee(i.contentDOM,i.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=lz(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const gv=function(t){t&&(this.nodeName=t)};gv.prototype=Object.create(null);const Ed=[new gv];function pO(t,e,r){if(t.length==0)return Ed;let n=r?Ed[0]:new gv,s=[n];for(let a=0;a<t.length;a++){let i=t[a].type.attrs;if(i){i.nodeName&&s.push(n=new gv(i.nodeName));for(let l in i){let c=i[l];c!=null&&(r&&s.length==1&&s.push(n=new gv(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return s}function wee(t,e,r,n){if(r==Ed&&n==Ed)return e;let s=e;for(let a=0;a<n.length;a++){let i=n[a],l=r[a];if(a){let c;l&&l.nodeName==i.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=Ed[0]),s=c}B7e(s,l||Ed[0],i)}return s}function B7e(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)s.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<s.length;a++)n.indexOf(s[a])==-1&&t.classList.add(s[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function jee(t,e,r){return wee(t,t,Ed,pO(e,r,t.nodeType!=1))}function Hj(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function lz(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class z7e{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=V7e(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,a=this.stack.length>>1,i=Math.min(a,e.length);for(;s<i&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=Lo,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[a])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Sf.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,s){let a=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(e,r,n))a=this.top.children.indexOf(i,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,s,a){let i=this.top.children[s];return i.dirty==hl&&i.dom==i.contentDOM&&(i.dirty=Cd),i.update(e,r,n,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,a,i){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof vu){let u=this.preMatch.matched.get(c);if(u!=null&&u!=a)return!1;let d=c.dom,f,m=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=hl&&Hj(r,c.outerDeco));if(!m&&c.update(e,r,n,s))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(f=this.recreateWrapper(c,e,r,n,s,i)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Cd,f.updateChildren(s,i+1),f.dirty=Lo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,a,i){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Hj(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=vu.create(this.top,r,n,s,a,i);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,s,a){let i=vu.create(this.top,e,r,n,s,a);i.contentDOM&&i.updateChildren(s,a+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new xee(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Sf;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof L_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ua||Ws)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new yee(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function V7e(t,e){let r=e,n=r.children.length,s=t.childCount,a=new Map,i=[];e:for(;s>0;){let l;for(;;)if(n){let u=r.children[n-1];if(u instanceof Sf)r=u,n=u.children.length;else{l=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,a.set(l,s),i.push(l)}}return{index:s,matched:a,matches:i.reverse()}}function U7e(t,e){return t.type.side-e.type.side}function q7e(t,e,r,n){let s=e.locals(t),a=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);n(d,s,e.forChild(a,d),u),a+=d.nodeSize}return}let i=0,l=[],c=null;for(let u=0;;){let d,f;for(;i<s.length&&s[i].to==a;){let v=s[i++];v.widget&&(d?(f||(f=[d])).push(v):d=v)}if(d)if(f){f.sort(U7e);for(let v=0;v<f.length;v++)r(f[v],u,!!c)}else r(d,u,!!c);let m,h;if(c)h=-1,m=c,c=null;else if(u<t.childCount)h=u,m=t.child(u++);else break;for(let v=0;v<l.length;v++)l[v].to<=a&&l.splice(v--,1);for(;i<s.length&&s[i].from<=a&&s[i].to>a;)l.push(s[i++]);let p=a+m.nodeSize;if(m.isText){let v=p;i<s.length&&s[i].from<v&&(v=s[i].from);for(let b=0;b<l.length;b++)l[b].to<v&&(v=l[b].to);v<p&&(c=m.cut(v-a),m=m.cut(0,v-a),p=v,h=-1)}else for(;i<s.length&&s[i].to<p;)i++;let g=m.isInline&&!m.isLeaf?l.filter(v=>!v.inline):l.slice();n(m,g,e.forChild(a,m),h),a=p}}function W7e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function H7e(t,e,r,n){for(let s=0,a=0;s<t.childCount&&a<=n;){let i=t.child(s++),l=a;if(a+=i.nodeSize,!i.isText)continue;let c=i.text;for(;s<t.childCount;){let u=t.child(s++);if(a+=u.nodeSize,!u.isText)break;c+=u.text}if(a>=r){if(a>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let u=l<n?c.lastIndexOf(e,n-l-1):-1;if(u>=0&&u+e.length+l>=r)return l+u;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function gO(t,e,r,n,s){let a=[];for(let i=0,l=0;i<t.length;i++){let c=t[i],u=l,d=l+=c.size;u>=r||d<=e?a.push(c):(u<e&&a.push(c.slice(0,e-u,n)),s&&(a.push(s),s=void 0),d>r&&a.push(c.slice(r-u,c.size,n)))}return a}function YR(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),a=s&&s.size==0,i=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(i<0)return null;let l=n.resolve(i),c,u;if($_(r)){for(c=i;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&Ct.isSelectable(f)&&s.parent&&!(f.isInline&&x7e(r.focusNode,r.focusOffset,s.dom))){let m=s.posBefore;u=new Ct(i==m?l:n.resolve(m))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let f=i,m=i;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[c,i]=m==t.state.selection.anchor?[m,f]:[f,m],l=n.resolve(i)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let d=n.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!a?1:-1;u=XR(t,d,l,f)}return u}function Nee(t){return t.editable?t.hasFocus():See(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Gl(t,e=!1){let r=t.state.selection;if(_ee(t,r),!!Nee(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ws){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&_f(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)G7e(t);else{let{anchor:n,head:s}=r,a,i;cz&&!(r instanceof Ft)&&(r.$from.parent.inlineContent||(a=uz(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(i=uz(t,r.to))),t.docView.setSelection(n,s,t,e),cz&&(a&&dz(a),i&&dz(i)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&K7e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const cz=ua||Ws&&dee<63;function uz(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(ua&&s&&s.contentEditable=="false")return JC(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return JC(s);if(a)return JC(a)}}function JC(t){return t.contentEditable="true",ua&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function dz(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function K7e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Nee(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function G7e(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,As(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&$a&&gu<=11&&(r.disabled=!0,r.disabled=!1)}function _ee(t,e){if(e instanceof Ct){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(fz(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else fz(t)}function fz(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function XR(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||Ft.between(e,r,n)}function hz(t){return t.editable&&!t.hasFocus()?!1:See(t)}function See(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Y7e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return _f(e.node,e.offset,r.anchorNode,r.anchorOffset)}function vO(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Qt.findFrom(a,e)}function Ec(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function mz(t,e,r){let n=t.state.selection;if(n instanceof Ft)if(r.indexOf("s")>-1){let{$head:s}=n,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let i=t.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return Ec(t,new Ft(n.$anchor,i))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=vO(t.state,e);return s&&s instanceof Ct?Ec(t,s):!1}else if(!(jo&&r.indexOf("m")>-1)){let s=n.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,i;if(!a||a.isText)return!1;let l=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(i=t.docView.descAt(l))&&!i.contentDOM?Ct.isSelectable(a)?Ec(t,new Ct(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):Wy?Ec(t,new Ft(t.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ct&&n.node.isInline)return Ec(t,new Ft(e>0?n.$to:n.$from));{let s=vO(t.state,e);return s?Ec(t,s):!1}}}function Kj(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vv(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ih(t,e){return e<0?X7e(t):Q7e(t)}function X7e(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,a,i=!1;for($o&&r.nodeType==1&&n<Kj(r)&&vv(r.childNodes[n],-1)&&(i=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(vv(l,-1))s=r,a=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(Cee(r))break;{let l=r.previousSibling;for(;l&&vv(l,-1);)s=r.parentNode,a=As(l),l=l.previousSibling;if(l)r=l,n=Kj(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}i?xO(t,r,n):s&&xO(t,s,a)}function Q7e(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=Kj(r),a,i;for(;;)if(n<s){if(r.nodeType!=1)break;let l=r.childNodes[n];if(vv(l,1))a=r,i=++n;else break}else{if(Cee(r))break;{let l=r.nextSibling;for(;l&&vv(l,1);)a=l.parentNode,i=As(l)+1,l=l.nextSibling;if(l)r=l,n=0,s=Kj(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}a&&xO(t,a,i)}function Cee(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function J7e(t,e){for(;t&&e==t.childNodes.length&&!qy(t);)e=As(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function Z7e(t,e){for(;t&&!e&&!qy(t);)e=As(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function xO(t,e,r){if(e.nodeType!=3){let a,i;(i=J7e(e,r))?(e=i,r=0):(a=Z7e(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if($_(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Gl(t)},50)}function pz(t,e){let r=t.state.doc.resolve(e);if(!(Ws||w7e)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function gz(t,e,r){let n=t.state.selection;if(n instanceof Ft&&!n.empty||r.indexOf("s")>-1||jo&&r.indexOf("m")>-1)return!1;let{$from:s,$to:a}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=vO(t.state,e);if(i&&i instanceof Ct)return Ec(t,i)}if(!s.parent.inlineContent){let i=e<0?s:a,l=n instanceof so?Qt.near(i,e):Qt.findFrom(i,e);return l?Ec(t,l):!1}return!1}function vz(t,e){if(!(t.state.selection instanceof Ft))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let i=t.state.tr;return e<0?i.delete(r.pos-a.nodeSize,r.pos):i.delete(r.pos,r.pos+a.nodeSize),t.dispatch(i),!0}return!1}function xz(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function eKe(t){if(!ua||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;xz(t,n,"true"),setTimeout(()=>xz(t,n,"false"),20)}return!1}function tKe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function rKe(t,e){let r=e.keyCode,n=tKe(e);if(r==8||jo&&r==72&&n=="c")return vz(t,-1)||ih(t,-1);if(r==46&&!e.shiftKey||jo&&r==68&&n=="c")return vz(t,1)||ih(t,1);if(r==13||r==27)return!0;if(r==37||jo&&r==66&&n=="c"){let s=r==37?pz(t,t.state.selection.from)=="ltr"?-1:1:-1;return mz(t,s,n)||ih(t,s)}else if(r==39||jo&&r==70&&n=="c"){let s=r==39?pz(t,t.state.selection.from)=="ltr"?1:-1:1;return mz(t,s,n)||ih(t,s)}else{if(r==38||jo&&r==80&&n=="c")return gz(t,-1,n)||ih(t,-1);if(r==40||jo&&r==78&&n=="c")return eKe(t)||gz(t,1,n)||ih(t,1);if(n==(jo?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function QR(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let r=[],{content:n,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,a--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let i=t.someProp("clipboardSerializer")||Bf.fromSchema(t.state.schema),l=Pee(),c=l.createElement("div");c.appendChild(i.serializeFragment(n,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=Tee[u.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let p=l.createElement(d[h]);for(;c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${a}${f?` -${f}`:""} ${JSON.stringify(r)}`);let m=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function Eee(t,e,r,n,s){let a=s.parent.type.spec.code,i,l;if(!r&&!e)return null;let c=!!e&&(n||a||!r);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,a||n,t)}),a)return l=new rt(Ae.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{l=m(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",m=>m(e,s,n,t));if(f)l=f;else{let m=s.marks(),{schema:h}=t.state,p=Bf.fromSchema(h);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=i.appendChild(document.createElement("p"));g&&v.appendChild(p.serializeNode(h.text(g,m)))})}}else t.someProp("transformPastedHTML",f=>{r=f(r,t)}),i=oKe(r),Wy&&iKe(i);let u=i&&i.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let m=i.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;i=m}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||pu.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||d),context:s,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!nKe.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)l=lKe(yz(l,+d[1],+d[2]),d[4]);else if(l=rt.maxOpen(sKe(l.content,s),!0),l.openStart||l.openEnd){let f=0,m=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;m<l.openEnd&&!h.type.spec.isolating;m++,h=h.lastChild);l=yz(l,f,m)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const nKe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sKe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),a,i=[];if(t.forEach(l=>{if(!i)return;let c=s.findWrapping(l.type),u;if(!c)return i=null;if(u=i.length&&a.length&&Aee(c,a,l,i[i.length-1],0))i[i.length-1]=u;else{i.length&&(i[i.length-1]=Oee(i[i.length-1],a.length));let d=kee(l,c);i.push(d),s=s.matchType(d.type),a=c}}),i)return Ae.from(i)}return t}function kee(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Ae.from(t));return t}function Aee(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let a=Aee(t,e,r,n.lastChild,s+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(Ae.from(kee(r,t,s+1))))}}function Oee(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,Oee(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Ae.empty,!0);return t.copy(r.append(n))}function yO(t,e,r,n,s,a){let i=e<0?t.firstChild:t.lastChild,l=i.content;return t.childCount>1&&(a=0),s<n-1&&(l=yO(l,e,r,n,s+1,a)),s>=r&&(l=e<0?i.contentMatchAt(0).fillBefore(l,a<=s).append(l):l.append(i.contentMatchAt(i.childCount).fillBefore(Ae.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(l))}function yz(t,e,r){return e<t.openStart&&(t=new rt(yO(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new rt(yO(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const Tee={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bz=null;function Pee(){return bz||(bz=document.implementation.createHTMLDocument("title"))}let ZC=null;function aKe(t){let e=window.trustedTypes;return e?(ZC||(ZC=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),ZC.createHTML(t)):t}function oKe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=Pee().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&Tee[n[1].toLowerCase()])&&(t=s.map(a=>"<"+a+">").join("")+t+s.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=aKe(t),s)for(let a=0;a<s.length;a++)r=r.querySelector(s[a])||r;return r}function iKe(t){let e=t.querySelectorAll(Ws?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function lKe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:a,openEnd:i}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;s=Ae.from(c.create(n[l+1],s)),a++,i++}return new rt(s,a,i)}const da={},fa={},cKe={touchstart:!0,touchmove:!0};class uKe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dKe(t){for(let e in da){let r=da[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{hKe(t,n)&&!JR(t,n)&&(t.editable||!(n.type in fa))&&r(t,n)},cKe[e]?{passive:!0}:void 0)}ua&&t.dom.addEventListener("input",()=>null),bO(t)}function Jc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function fKe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function bO(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>JR(t,n))})}function JR(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function hKe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function mKe(t,e){!JR(t,e)&&da[e.type]&&(t.editable||!(e.type in fa))&&da[e.type](t,e)}fa.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!Ree(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ul&&Ws&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),vp&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,hd(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||rKe(t,r)?r.preventDefault():Jc(t,"key")};fa.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};fa.keypress=(t,e)=>{let r=e;if(Ree(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||jo&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Ft)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),a=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,n.$from.pos,n.$to.pos,s,a))&&t.dispatch(a()),r.preventDefault()}};function F_(t){return{left:t.clientX,top:t.clientY}}function pKe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function ZR(t,e,r,n,s){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let i=a.depth+1;i>0;i--)if(t.someProp(e,l=>i>a.depth?l(t,r,a.nodeAfter,a.before(i),s,!0):l(t,r,a.node(i),a.before(i),s,!1)))return!0;return!1}function tm(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function gKe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ct.isSelectable(n)?(tm(t,new Ct(r)),!0):!1}function vKe(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof Ct&&(n=r.node);let a=t.state.doc.resolve(e);for(let i=a.depth+1;i>0;i--){let l=i>a.depth?a.nodeAfter:a.node(i);if(Ct.isSelectable(l)){n&&r.$from.depth>0&&i>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?s=a.before(r.$from.depth):s=a.before(i);break}}return s!=null?(tm(t,Ct.create(t.state.doc,s)),!0):!1}function xKe(t,e,r,n,s){return ZR(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(s?vKe(t,r):gKe(t,r))}function yKe(t,e,r,n){return ZR(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function bKe(t,e,r,n){return ZR(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||wKe(t,r,n)}function wKe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(tm(t,Ft.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let a=s.depth+1;a>0;a--){let i=a>s.depth?s.nodeAfter:s.node(a),l=s.before(a);if(i.inlineContent)tm(t,Ft.create(n,l+1,l+1+i.content.size));else if(Ct.isSelectable(i))tm(t,Ct.create(n,l));else continue;return!0}}function eD(t){return Gj(t)}const Mee=jo?"metaKey":"ctrlKey";da.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=eD(t),s=Date.now(),a="singleClick";s-t.input.lastClick.time<500&&pKe(r,t.input.lastClick)&&!r[Mee]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:a,button:r.button};let i=t.posAtCoords(F_(r));i&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new jKe(t,i,r,!!n)):(a=="doubleClick"?yKe:bKe)(t,i.pos,i.inside,r)?r.preventDefault():Jc(t,"pointer"))};class jKe{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Mee],this.allowDefault=n.shiftKey;let a,i;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),i=r.inside;else{let d=e.state.doc.resolve(r.pos);a=d.parent,i=d.depth?d.before():0}const l=s?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof Ct&&u.from<=i&&u.to>i)&&(this.mightDrag={node:a,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$o&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Jc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(F_(e))),this.updateAllowDefault(e),this.allowDefault||!r?Jc(this.view,"pointer"):xKe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ua&&this.mightDrag&&!this.mightDrag.node.isAtom||Ws&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(tm(this.view,Qt.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Jc(this.view,"pointer")}move(e){this.updateAllowDefault(e),Jc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}da.touchstart=t=>{t.input.lastTouch=Date.now(),eD(t),Jc(t,"pointer")};da.touchmove=t=>{t.input.lastTouch=Date.now(),Jc(t,"pointer")};da.contextmenu=t=>eD(t);function Ree(t,e){return t.composing?!0:ua&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const NKe=Ul?5e3:-1;fa.compositionstart=fa.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Ft&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Gj(t,!0),t.markCursor=null;else if(Gj(t,!e.selection.empty),$o&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,a=n.focusOffset;s&&s.nodeType==1&&a!=0;){let i=a<0?s.lastChild:s.childNodes[a-1];if(!i)break;if(i.nodeType==3){let l=t.domSelection();l&&l.collapse(i,i.nodeValue.length);break}else s=i,a=-1}}t.input.composing=!0}Dee(t,NKe)};fa.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Dee(t,20))};function Dee(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Gj(t),e))}function Iee(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=SKe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function _Ke(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=g7e(e.focusNode,e.focusOffset),n=v7e(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let i=r.pmViewDesc;if(!(!i||!i.isText(r.nodeValue)))return n}}return r||n}function SKe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Gj(t,e=!1){if(!(Ul&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Iee(t),e||t.docView&&t.docView.dirty){let r=YR(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function CKe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Yx=$a&&gu<15||vp&&j7e<604;da.copy=fa.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let a=Yx?null:r.clipboardData,i=n.content(),{dom:l,text:c}=QR(t,i);a?(r.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",c)):CKe(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function EKe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function kKe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Xx(t,n.value,null,s,e):Xx(t,n.textContent,n.innerHTML,s,e)},50)}function Xx(t,e,r,n,s){let a=Eee(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,a||rt.empty)))return!0;if(!a)return!1;let i=EKe(a),l=i?t.state.tr.replaceSelectionWith(i,n):t.state.tr.replaceSelection(a);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $ee(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}fa.paste=(t,e)=>{let r=e;if(t.composing&&!Ul)return;let n=Yx?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Xx(t,$ee(n),n.getData("text/html"),s,r)?r.preventDefault():kKe(t,r)};class Lee{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const AKe=jo?"altKey":"ctrlKey";function Fee(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[AKe]}da.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,a=s.empty?null:t.posAtCoords(F_(r)),i;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof Ct?s.to-1:s.to))){if(n&&n.mightDrag)i=Ct.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=t.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(i=Ct.create(t.state.doc,f.posBefore))}}let l=(i||t.state.selection).content(),{dom:c,text:u,slice:d}=QR(t,l);(!r.dataTransfer.files.length||!Ws||dee>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Yx?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Yx||r.dataTransfer.setData("text/plain",u),t.dragging=new Lee(d,Fee(t,r),i)};da.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};fa.dragover=fa.dragenter=(t,e)=>e.preventDefault();fa.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(F_(r));if(!s)return;let a=t.state.doc.resolve(s.pos),i=n&&n.slice;i?t.someProp("transformPasted",p=>{i=p(i,t,!1)}):i=Eee(t,$ee(r.dataTransfer),Yx?null:r.dataTransfer.getData("text/html"),!1,a);let l=!!(n&&Fee(t,r));if(t.someProp("handleDrop",p=>p(t,r,i||rt.empty,l))){r.preventDefault();return}if(!i)return;r.preventDefault();let c=i?qZ(t.state.doc,a.pos,i):a.pos;c==null&&(c=a.pos);let u=t.state.tr;if(l){let{node:p}=n;p?p.replace(u):u.deleteSelection()}let d=u.mapping.map(c),f=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,m=u.doc;if(f?u.replaceRangeWith(d,d,i.content.firstChild):u.replaceRange(d,d,i),u.doc.eq(m))return;let h=u.doc.resolve(d);if(f&&Ct.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new Ct(h));else{let p=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((g,v,b,y)=>p=y),u.setSelection(XR(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};da.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Gl(t)},20))};da.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};da.beforeinput=(t,e)=>{if(Ws&&Ul&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,hd(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in fa)da[t]=fa[t];function Qx(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Yj{constructor(e,r){this.toDOM=e,this.spec=r||Gd,this.side=this.spec.side||0}map(e,r,n,s){let{pos:a,deleted:i}=e.mapResult(r.from+s,this.side<0?-1:1);return i?null:new ia(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Yj&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Qx(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class xu{constructor(e,r){this.attrs=e,this.spec=r||Gd}map(e,r,n,s){let a=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,i=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return a>=i?null:new ia(a,i,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof xu&&Qx(this.attrs,e.attrs)&&Qx(this.spec,e.spec)}static is(e){return e.type instanceof xu}destroy(){}}class tD{constructor(e,r){this.attrs=e,this.spec=r||Gd}map(e,r,n,s){let a=e.mapResult(r.from+s,1);if(a.deleted)return null;let i=e.mapResult(r.to+s,-1);return i.deleted||i.pos<=a.pos?null:new ia(a.pos-n,i.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),a;return s==r.from&&!(a=e.child(n)).isText&&s+a.nodeSize==r.to}eq(e){return this==e||e instanceof tD&&Qx(this.attrs,e.attrs)&&Qx(this.spec,e.spec)}destroy(){}}class ia{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new ia(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new ia(e,e,new Yj(r,n))}static inline(e,r,n,s){return new ia(e,r,new xu(n,s))}static node(e,r,n,s){return new ia(e,r,new tD(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof xu}get widget(){return this.type instanceof Yj}}const hh=[],Gd={};class on{constructor(e,r){this.local=e.length?e:hh,this.children=r.length?r:hh}static create(e,r){return r.length?Xj(r,e,0,Gd):Ls}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,a){for(let i=0;i<this.local.length;i++){let l=this.local[i];l.from<=r&&l.to>=e&&(!a||a(l.spec))&&n.push(l.copy(l.from+s,l.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<r&&this.children[i+1]>e){let l=this.children[i]+1;this.children[i+2].findInner(e-l,r-l,n,s+l,a)}}map(e,r,n){return this==Ls||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Gd)}mapInner(e,r,n,s,a){let i;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,s);c&&c.type.valid(r,c)?(i||(i=[])).push(c):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?OKe(this.children,i||[],e,r,n,s,a):i?new on(i.sort(Yd),hh):Ls}add(e,r){return r.length?this==Ls?on.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,a=0;e.forEach((l,c)=>{let u=c+n,d;if(d=zee(r,l,u)){for(s||(s=this.children.slice());a<s.length&&s[a]<c;)a+=3;s[a]==c?s[a+2]=s[a+2].addInner(l,d,u+1):s.splice(a,0,c,c+l.nodeSize,Xj(d,l,u+1,Gd)),a+=3}});let i=Bee(a?Vee(r):r,-n);for(let l=0;l<i.length;l++)i[l].type.valid(e,i[l])||i.splice(l--,1);return new on(i.length?this.local.concat(i).sort(Yd):this.local,s||this.children)}remove(e){return e.length==0||this==Ls?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let a=0;a<n.length;a+=3){let i,l=n[a]+r,c=n[a+1]+r;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(i||(i=[])).push(f));if(!i)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(i,l+1);u!=Ls?n[a+2]=u:(n.splice(a,3),a-=3)}if(s.length){for(let a=0,i;a<e.length;a++)if(i=e[a])for(let l=0;l<s.length;l++)s[l].eq(i,r)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new on(s,n):Ls}forChild(e,r){if(this==Ls)return this;if(r.isLeaf)return on.empty;let n,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let a=e+1,i=a+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<i&&c.to>a&&c.type instanceof xu){let u=Math.max(a,c.from)-a,d=Math.min(i,c.to)-a;u<d&&(s||(s=[])).push(c.copy(u,d))}}if(s){let l=new on(s.sort(Yd),hh);return n?new Rc([l,n]):l}return n||Ls}eq(e){if(this==e)return!0;if(!(e instanceof on)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return rD(this.localsInner(e))}localsInner(e){if(this==Ls)return hh;if(e.inlineContent||!this.local.some(xu.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof xu||r.push(this.local[n]);return r}forEachSet(e){e(this)}}on.empty=new on([],[]);on.removeOverlap=rD;const Ls=on.empty;class Rc{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,Gd));return Rc.from(n)}forChild(e,r){if(r.isLeaf)return on.empty;let n=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,r);a!=Ls&&(a instanceof Rc?n=n.concat(a.members):n.push(a))}return Rc.from(n)}eq(e){if(!(e instanceof Rc)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let i=0;i<a.length;i++)r.push(a[i])}}return r?rD(n?r:r.sort(Yd)):hh}static from(e){switch(e.length){case 0:return Ls;case 1:return e[0];default:return new Rc(e.every(r=>r instanceof on)?e:e.reduce((r,n)=>r.concat(n instanceof on?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function OKe(t,e,r,n,s,a,i){let l=t.slice();for(let u=0,d=a;u<r.maps.length;u++){let f=0;r.maps[u].forEach((m,h,p,g)=>{let v=g-p-(h-m);for(let b=0;b<l.length;b+=3){let y=l[b+1];if(y<0||m>y+d-f)continue;let w=l[b]+d-f;h>=w?l[b+1]=m<=w?-2:-1:m>=d&&v&&(l[b]+=v,l[b+1]+=v)}f+=v}),d=r.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=r.map(t[u]+a),f=d-s;if(f<0||f>=n.content.size){c=!0;continue}let m=r.map(t[u+1]+a,-1),h=m-s,{index:p,offset:g}=n.content.findIndex(f),v=n.maybeChild(p);if(v&&g==f&&g+v.nodeSize==h){let b=l[u+2].mapInner(r,v,d+1,t[u]+a+1,i);b!=Ls?(l[u]=f,l[u+1]=h,l[u+2]=b):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=TKe(l,t,e,r,s,a,i),d=Xj(u,n,0,i);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,m=0;f<d.children.length;f+=3){let h=d.children[f];for(;m<l.length&&l[m]<h;)m+=3;l.splice(m,0,d.children[f],d.children[f+1],d.children[f+2])}}return new on(e.sort(Yd),l)}function Bee(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new ia(s.from+e,s.to+e,s.type))}return r}function TKe(t,e,r,n,s,a,i){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(n,s,u);f?r.push(f):i.onRemove&&i.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+a+1);return r}function zee(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let a=0,i;a<t.length;a++)(i=t[a])&&i.from>r&&i.to<n&&((s||(s=[])).push(i),t[a]=null);return s}function Vee(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Xj(t,e,r,n){let s=[],a=!1;e.forEach((l,c)=>{let u=zee(t,l,c+r);if(u){a=!0;let d=Xj(u,l,r+c+1,n);d!=Ls&&s.push(c,c+l.nodeSize,d)}});let i=Bee(a?Vee(t):t,-r).sort(Yd);for(let l=0;l<i.length;l++)i[l].type.valid(e,i[l])||(n.onRemove&&n.onRemove(i[l].spec),i.splice(l--,1));return i.length||s.length?new on(i,s):Ls}function Yd(t,e){return t.from-e.from||t.to-e.to}function rD(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let a=e[s];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,n.to),wz(e,s+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),wz(e,s,n.copy(a.from,n.to)));break}}}return e}function wz(t,e,r){for(;e<t.length&&Yd(r,t[e])>0;)e++;t.splice(e,0,r)}function eE(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Ls&&e.push(n)}),t.cursorWrapper&&e.push(on.create(t.state.doc,[t.cursorWrapper.deco])),Rc.from(e)}const PKe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MKe=$a&&gu<=11;class RKe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DKe{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new RKe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);$a&&gu<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),MKe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,PKe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hz(this.view)){if(this.suppressingSelectionUpdates)return Gl(this.view);if($a&&gu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&_f(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=gp(a))r.add(a);for(let a=e.anchorNode;a;a=gp(a))if(r.has(a)){n=a;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&hz(e)&&!this.ignoreSelectionChange(n),a=-1,i=-1,l=!1,c=[];if(e.editable)for(let d=0;d<r.length;d++){let f=this.registerMutation(r[d],c);f&&(a=a<0?f.from:Math.min(f.from,a),i=i<0?f.to:Math.max(f.to,i),f.typeOver&&(l=!0))}if($o&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,m]=d;f.parentNode&&f.parentNode.parentNode==m.parentNode?m.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let m of d){let h=m.parentNode;h&&h.nodeName=="LI"&&(!f||LKe(e,f)!=h)&&m.remove()}}}let u=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&$_(n)&&(u=YR(e))&&u.eq(Qt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Gl(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,i),IKe(e)),this.handleDOMChange(a,i,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Gl(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,a=e.nextSibling;if($a&&gu<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:m}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(a=m)}let i=s&&s.parentNode==e.target?As(s)+1:0,l=n.localPosFromDOM(e.target,i,-1),c=a&&a.parentNode==e.target?As(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jz=new WeakMap,Nz=!1;function IKe(t){if(!jz.has(t)&&(jz.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=$o,Nz)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Nz=!0}}function _z(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,a=e.endOffset,i=t.domAtPos(t.state.selection.anchor);return _f(i.node,i.offset,s,a)&&([r,n,s,a]=[s,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:a}}function $Ke(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return _z(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?_z(t,r):null}function LKe(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function FKe(t,e,r){let{node:n,fromOffset:s,toOffset:a,from:i,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],$_(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Ws&&t.input.lastKeyCode===8)for(let v=a;v>s;v--){let b=n.childNodes[v-1],y=b.pmViewDesc;if(b.nodeName=="BR"&&!y){a=v;break}if(!y||y.size)break}let f=t.state.doc,m=t.someProp("domParser")||pu.fromSchema(t.state.schema),h=f.resolve(i),p=null,g=m.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:a,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:BKe,context:h});if(u&&u[0].pos!=null){let v=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=v),p={anchor:v+i,head:b+i}}return{doc:g,sel:p,from:i,to:l}}function BKe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ua&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||ua&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zKe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function VKe(t,e,r,n,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let S=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=YR(t,S);if(C&&!t.state.selection.eq(C)){if(Ws&&Ul&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",A=>A(t,hd(13,"Enter"))))return;let k=t.state.tr.setSelection(C);S=="pointer"?k.setMeta("pointer",!0):S=="key"&&k.scrollIntoView(),a&&k.setMeta("composition",a),t.dispatch(k)}return}let i=t.state.doc.resolve(e),l=i.sharedDepth(r);e=i.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,u=FKe(t,e,r),d=t.state.doc,f=d.slice(u.from,u.to),m,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,h="end"):(m=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=WKe(f.content,u.doc.content,u.from,m,h);if(p&&t.input.domChangeCount++,(vp&&t.input.lastIOSEnter>Date.now()-225||Ul)&&s.some(S=>S.nodeType==1&&!zKe.test(S.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",S=>S(t,hd(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(n&&c instanceof Ft&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let S=Sz(t,t.state.doc,u.sel);if(S&&!S.eq(t.state.selection)){let C=t.state.tr.setSelection(S);a&&C.setMeta("composition",a),t.dispatch(C)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Ft&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),$a&&gu<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=u.doc.resolveNoCache(p.start-u.from),v=u.doc.resolveNoCache(p.endB-u.from),b=d.resolve(p.start),y=g.sameParent(v)&&g.parent.inlineContent&&b.end()>=p.endA;if((vp&&t.input.lastIOSEnter>Date.now()-225&&(!y||s.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!y&&g.pos<u.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&g.pos<v.pos&&!/\S/.test(u.doc.textBetween(g.pos,v.pos,"","")))&&t.someProp("handleKeyDown",S=>S(t,hd(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&qKe(d,p.start,p.endA,g,v)&&t.someProp("handleKeyDown",S=>S(t,hd(8,"Backspace")))){Ul&&Ws&&t.domObserver.suppressSelectionUpdates();return}Ws&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),Ul&&!y&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,v=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(S){return S(t,hd(13,"Enter"))})},20));let w=p.start,N=p.endA,j=S=>{let C=S||t.state.tr.replace(w,N,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let k=Sz(t,C.doc,u.sel);k&&!(Ws&&t.composing&&k.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(k.head==w||k.head==C.mapping.map(N)-1)||$a&&k.empty&&k.head==w)&&C.setSelection(k)}return a&&C.setMeta("composition",a),C.scrollIntoView()},_;if(y)if(g.pos==v.pos){$a&&gu<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gl(t),20));let S=j(t.state.tr.delete(w,N)),C=d.resolve(p.start).marksAcross(d.resolve(p.endA));C&&S.ensureMarks(C),t.dispatch(S)}else if(p.endA==p.endB&&(_=UKe(g.parent.content.cut(g.parentOffset,v.parentOffset),b.parent.content.cut(b.parentOffset,p.endA-b.start())))){let S=j(t.state.tr);_.type=="add"?S.addMark(w,N,_.mark):S.removeMark(w,N,_.mark),t.dispatch(S)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let S=g.parent.textBetween(g.parentOffset,v.parentOffset),C=()=>j(t.state.tr.insertText(S,w,N));t.someProp("handleTextInput",k=>k(t,w,N,S,C))||t.dispatch(C())}else t.dispatch(j());else t.dispatch(j())}function Sz(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:XR(t,e.resolve(r.anchor),e.resolve(r.head))}function UKe(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,a=n,i,l,c;for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);for(let d=0;d<r.length;d++)a=r[d].removeFromSet(a);if(s.length==1&&a.length==0)l=s[0],i="add",c=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&a.length==1)l=a[0],i="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(Ae.from(u).eq(t))return{mark:l,type:i}}function qKe(t,e,r,n,s){if(r-e<=s.pos-n.pos||tE(n,!0,!1)<s.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let l=a.nodeAfter;return l!=null&&r==e+l.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let i=t.resolve(tE(a,!0,!0));return!i.parent.isTextblock||i.pos>r||tE(i,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function tE(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function WKe(t,e,r,n,s){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:i,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let c=Math.max(0,a-Math.min(i,l));n-=i+c-a}if(i<a&&t.size<e.size){let c=n<=a&&n>=i?a-n:0;a-=c,a&&a<e.size&&Cz(e.textBetween(a-1,a+1))&&(a+=c?1:-1),l=a+(l-i),i=a}else if(l<a){let c=n<=a&&n>=l?a-n:0;a-=c,a&&a<t.size&&Cz(t.textBetween(a-1,a+1))&&(a+=c?1:-1),i=a+(i-l),l=a}return{start:a,endA:i,endB:l}}function Cz(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class Uee{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uKe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Tz),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Az(this),kz(this),this.nodeViews=Oz(this),this.docView=iz(this.state.doc,Ez(this),eE(this),this.dom,this),this.domObserver=new DKe(this,(n,s,a,i)=>VKe(this,n,s,a,i)),this.domObserver.start(),dKe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&bO(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Tz),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,a=!1,i=!1;e.storedMarks&&this.composing&&(Iee(this),i=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let h=Oz(this);KKe(h,this.nodeViews)&&(this.nodeViews=h,a=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&bO(this),this.editable=Az(this),kz(this);let c=eE(this),u=Ez(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=a||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(s.selection))&&(i=!0);let m=d=="preserve"&&i&&this.dom.style.overflowAnchor==null&&S7e(this);if(i){this.domObserver.stop();let h=f&&($a||Ws)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&HKe(s.selection,e.selection);if(f){let p=Ws?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_Ke(this)),(a||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=iz(e.doc,u,c,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Y7e(this))?Gl(this,h):(_ee(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&C7e(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ct){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&tz(this,r.getBoundingClientRect(),e)}else tz(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(s=a)}this.dragging=new Lee(e.slice,e.move,s<0?void 0:Ct.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let i=0;i<this.directPlugins.length;i++){let l=this.directPlugins[i].props[e];if(l!=null&&(s=r?r(l):l))return s}let a=this.state.plugins;if(a)for(let i=0;i<a.length;i++){let l=a[i].props[e];if(l!=null&&(s=r?r(l):l))return s}}hasFocus(){if($a){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&E7e(this.dom),Gl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return P7e(this,e)}coordsAtPos(e,r=1){return gee(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return $7e(this,r||this.state,e)}pasteHTML(e,r){return Xx(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Xx(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return QR(this,e)}destroy(){this.docView&&(fKe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],eE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,m7e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mKe(this,e)}domSelectionRange(){let e=this.domSelection();return e?ua&&this.root.nodeType===11&&y7e(this.dom.ownerDocument)==this.dom&&$Ke(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Uee.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Ez(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[ia.node(0,t.state.doc.content.size,e)]}function kz(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ia.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Az(t){return!t.someProp("editable",e=>e(t.state)===!1)}function HKe(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function Oz(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function KKe(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function Tz(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Eu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GKe=typeof navigator<"u"&&/Mac/.test(navigator.platform),YKe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Os=0;Os<10;Os++)Eu[48+Os]=Eu[96+Os]=String(Os);for(var Os=1;Os<=24;Os++)Eu[Os+111]="F"+Os;for(var Os=65;Os<=90;Os++)Eu[Os]=String.fromCharCode(Os+32),Qj[Os]=String.fromCharCode(Os);for(var rE in Eu)Qj.hasOwnProperty(rE)||(Qj[rE]=Eu[rE]);function XKe(t){var e=GKe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||YKe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Qj:Eu)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const QKe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),JKe=typeof navigator<"u"&&/Win/.test(navigator.platform);function ZKe(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,a,i;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))QKe?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),i&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function eGe(t){let e=Object.create(null);for(let r in t)e[ZKe(r)]=t[r];return e}function nE(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function tGe(t){return new hn({props:{handleKeyDown:qee(t)}})}function qee(t){let e=eGe(t);return function(r,n){let s=XKe(n),a,i=e[nE(s,n)];if(i&&i(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let l=e[nE(s,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(JKe&&n.ctrlKey&&n.altKey)&&(a=Eu[n.keyCode])&&a!=s){let l=e[nE(a,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}var rGe=Object.defineProperty,nD=(t,e)=>{for(var r in e)rGe(t,r,{get:e[r],enumerable:!0})};function B_(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:a}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,a=r.storedMarks,r}}}var z_=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:a}=n,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,m])=>[f,(...p)=>{const g=this.buildProps(c,e),v=m(...p)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:r}=this,n=!1,s=t||r.tr,a=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:a}=n,i={tr:t,editor:n,view:a,state:B_({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},Wee={};nD(Wee,{blur:()=>nGe,clearContent:()=>sGe,clearNodes:()=>aGe,command:()=>oGe,createParagraphNear:()=>iGe,cut:()=>lGe,deleteCurrentNode:()=>cGe,deleteNode:()=>uGe,deleteRange:()=>dGe,deleteSelection:()=>fGe,enter:()=>hGe,exitCode:()=>mGe,extendMarkRange:()=>pGe,first:()=>gGe,focus:()=>xGe,forEach:()=>yGe,insertContent:()=>bGe,insertContentAt:()=>NGe,joinBackward:()=>CGe,joinDown:()=>SGe,joinForward:()=>EGe,joinItemBackward:()=>kGe,joinItemForward:()=>AGe,joinTextblockBackward:()=>OGe,joinTextblockForward:()=>TGe,joinUp:()=>_Ge,keyboardShortcut:()=>MGe,lift:()=>RGe,liftEmptyBlock:()=>DGe,liftListItem:()=>IGe,newlineInCode:()=>$Ge,resetAttributes:()=>LGe,scrollIntoView:()=>FGe,selectAll:()=>BGe,selectNodeBackward:()=>zGe,selectNodeForward:()=>VGe,selectParentNode:()=>UGe,selectTextblockEnd:()=>qGe,selectTextblockStart:()=>WGe,setContent:()=>HGe,setMark:()=>uYe,setMeta:()=>dYe,setNode:()=>fYe,setNodeSelection:()=>hYe,setTextDirection:()=>mYe,setTextSelection:()=>pYe,sinkListItem:()=>gYe,splitBlock:()=>vYe,splitListItem:()=>xYe,toggleList:()=>yYe,toggleMark:()=>bYe,toggleNode:()=>wYe,toggleWrap:()=>jYe,undoInputRule:()=>NYe,unsetAllMarks:()=>_Ye,unsetMark:()=>SYe,unsetTextDirection:()=>CYe,updateAttributes:()=>EYe,wrapIn:()=>kYe,wrapInList:()=>AYe});var nGe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),sGe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),aGe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:a,$to:i})=>{t.doc.nodesBetween(a.pos,i.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),m=u.resolve(d.map(c+l.nodeSize)),h=f.blockRange(m);if(!h)return;const p=Zp(h);if(l.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},oGe=t=>e=>t(e),iGe=()=>({state:t,dispatch:e})=>oee(t,e),lGe=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,a=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const i=n.mapping.map(e);return n.insert(i,a.content),n.setSelection(new Ft(n.doc.resolve(Math.max(i-1,0)))),!0},cGe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===n.type){if(e){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1};function Un(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var uGe=t=>({tr:e,state:r,dispatch:n})=>{const s=Un(t,r.schema),a=e.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===s){if(n){const c=a.before(i),u=a.after(i);e.delete(c,u).scrollIntoView()}return!0}return!1},dGe=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},fGe=()=>({state:t,dispatch:e})=>UR(t,e),hGe=()=>({commands:t})=>t.keyboardShortcut("Enter"),mGe=()=>({state:t,dispatch:e})=>ZHe(t,e);function sD(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Jj(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:sD(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function Hee(t,e,r={}){return t.find(n=>n.type===e&&Jj(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function Pz(t,e,r={}){return!!Hee(t,e,r)}function aD(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!Hee([...s.node.marks],e,r)))return;let i=s.index,l=t.start()+s.offset,c=i+1,u=l+s.node.nodeSize;for(;i>0&&Pz([...t.parent.child(i-1).marks],e,r);)i-=1,l-=t.parent.child(i).nodeSize;for(;c<t.parent.childCount&&Pz([...t.parent.child(c).marks],e,r);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function fc(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var pGe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const a=fc(t,n.schema),{doc:i,selection:l}=r,{$from:c,from:u,to:d}=l;if(s){const f=aD(c,a,e);if(f&&f.from<=u&&f.to>=d){const m=Ft.create(i,f.from,f.to);r.setSelection(m)}}return!0},gGe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function Kee(t){return t instanceof Ft}function kd(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function Gee(t,e=null){if(!e)return null;const r=Qt.atStart(t),n=Qt.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,a=n.to;return e==="all"?Ft.create(t,kd(0,s,a),kd(t.content.size,s,a)):Ft.create(t,kd(e,s,a),kd(e,s,a))}function vGe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function oD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var xGe=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const i=()=>{(oD()||vGe())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!Kee(r.state.selection))return i(),!0;const l=Gee(s.doc,t)||r.state.selection,c=r.state.selection.eq(l);return a&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},yGe=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),bGe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),Yee=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&Yee(n)}return t};function nb(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return Yee(r)}function Jx(t,e,r){if(t instanceof mu||t instanceof Ae)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Ae.fromArray(t.map(l=>e.nodeFromJSON(l)));const i=e.nodeFromJSON(t);return r.errorOnInvalidContent&&i.check(),i}catch(a){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),Jx("",e,r)}if(s){if(r.errorOnInvalidContent){let i=!1,l="";const c=new MZ({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(i=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?pu.fromSchema(c).parseSlice(nb(t),r.parseOptions):pu.fromSchema(c).parse(nb(t),r.parseOptions),r.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const a=pu.fromSchema(e);return r.slice?a.parseSlice(nb(t),r.parseOptions).content:a.parse(nb(t),r.parseOptions)}return Jx("",e,r)}function wGe(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof ms||s instanceof vs))return;const a=t.mapping.maps[n];let i=0;a.forEach((l,c,u,d)=>{i===0&&(i=d)}),t.setSelection(Qt.near(t.doc.resolve(i),r))}var jGe=t=>!("type"in t),NGe=(t,e,r)=>({tr:n,dispatch:s,editor:a})=>{var i;if(s){r={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=v=>{a.emit("contentError",{editor:a,error:v,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{Jx(e,a.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(v){c(v)}try{l=Jx(e,a.schema,{parseOptions:u,errorOnInvalidContent:(i=r.errorOnInvalidContent)!=null?i:a.options.enableContentCheck})}catch(v){return c(v),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,h=!0;if((jGe(l)?l:[l]).forEach(v=>{v.check(),m=m?v.isText&&v.marks.length===0:!1,h=h?v.isBlock:!1}),d===f&&h){const{parent:v}=n.doc.resolve(d);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(d-=1,f+=1)}let g;if(m){if(Array.isArray(e))g=e.map(v=>v.text||"").join("");else if(e instanceof Ae){let v="";e.forEach(b=>{b.text&&(v+=b.text)}),g=v}else typeof e=="object"&&e&&e.text?g=e.text:g=e;n.insertText(g,d,f)}else{g=l;const v=n.doc.resolve(d),b=v.node(),y=v.parentOffset===0,w=b.isText||b.isTextblock,N=b.content.size>0;y&&w&&N&&(d=Math.max(0,d-1)),n.replaceWith(d,f,g)}r.updateSelection&&wGe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:d,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:d,text:g})}return!0},_Ge=()=>({state:t,dispatch:e})=>XHe(t,e),SGe=()=>({state:t,dispatch:e})=>QHe(t,e),CGe=()=>({state:t,dispatch:e})=>ZZ(t,e),EGe=()=>({state:t,dispatch:e})=>nee(t,e),kGe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=R_(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},AGe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=R_(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},OGe=()=>({state:t,dispatch:e})=>GHe(t,e),TGe=()=>({state:t,dispatch:e})=>YHe(t,e);function Xee(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function PGe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,a,i;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))oD()||Xee()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),i&&(r=`Meta-${r}`),a&&(r=`Shift-${r}`),r}var MGe=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const a=PGe(t).split(/-(?!$)/),i=a.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,l))});return c==null||c.steps.forEach(u=>{const d=u.map(n.mapping);d&&s&&n.maybeStep(d)}),!0};function ku(t,e,r={}){const{from:n,to:s,empty:a}=t.selection,i=e?Un(e,t.schema):null,l=[];t.doc.nodesBetween(n,s,(f,m)=>{if(f.isText)return;const h=Math.max(n,m),p=Math.min(s,m+f.nodeSize);l.push({node:f,from:h,to:p})});const c=s-n,u=l.filter(f=>i?i.name===f.node.type.name:!0).filter(f=>Jj(f.node.attrs,r,{strict:!1}));return a?!!u.length:u.reduce((f,m)=>f+m.to-m.from,0)>=c}var RGe=(t,e={})=>({state:r,dispatch:n})=>{const s=Un(t,r.schema);return ku(r,s,e)?JHe(r,n):!1},DGe=()=>({state:t,dispatch:e})=>iee(t,e),IGe=t=>({state:e,dispatch:r})=>{const n=Un(t,e.schema);return u7e(n)(e,r)},$Ge=()=>({state:t,dispatch:e})=>aee(t,e);function V_(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Mz(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}var LGe=(t,e)=>({tr:r,state:n,dispatch:s})=>{let a=null,i=null;const l=V_(typeof t=="string"?t:t.name,n.schema);if(!l)return!1;l==="node"&&(a=Un(t,n.schema)),l==="mark"&&(i=fc(t,n.schema));let c=!1;return r.selection.ranges.forEach(u=>{n.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,f)=>{a&&a===d.type&&(c=!0,s&&r.setNodeMarkup(f,void 0,Mz(d.attrs,e))),i&&d.marks.length&&d.marks.forEach(m=>{i===m.type&&(c=!0,s&&r.addMark(f,f+d.nodeSize,i.create(Mz(m.attrs,e))))})})}),c},FGe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),BGe=()=>({tr:t,dispatch:e})=>{if(e){const r=new so(t.doc);t.setSelection(r)}return!0},zGe=()=>({state:t,dispatch:e})=>tee(t,e),VGe=()=>({state:t,dispatch:e})=>see(t,e),UGe=()=>({state:t,dispatch:e})=>r7e(t,e),qGe=()=>({state:t,dispatch:e})=>a7e(t,e),WGe=()=>({state:t,dispatch:e})=>s7e(t,e);function wO(t,e,r={},n={}){return Jx(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var HGe=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:a,dispatch:i,commands:l})=>{const{doc:c}=a;if(n.preserveWhitespace!=="full"){const u=wO(t,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return i&&a.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!r),!0}return i&&a.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function Qee(t,e){const r=fc(e,t.schema),{from:n,to:s,empty:a}=t.selection,i=[];a?(t.storedMarks&&i.push(...t.storedMarks),i.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,c=>{i.push(...c.marks)});const l=i.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function Jee(t,e){const r=new YZ(t);return e.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}function KGe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function GGe(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(s,a)=>{r(s)&&n.push({node:s,pos:a})}),n}function YGe(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function U_(t){return e=>YGe(e.$from,t)}function St(t,e,r){return t.config[e]===void 0&&t.parent?St(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?St(t.parent,e,r):null}):t.config[e]}function iD(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=St(e,"addExtensions",r);return n?[e,...iD(n())]:e}).flat(10)}function lD(t,e){const r=Bf.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function Zee(t){return typeof t=="function"}function Nr(t,e=void 0,...r){return Zee(t)?e?t.bind(e)(...r):t(...r):t}function XGe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function xp(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function ete(t){const e=[],{nodeExtensions:r,markExtensions:n}=xp(t),s=[...r,...n],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(i=>{const l={name:i.name,options:i.options,storage:i.storage,extensions:s},c=St(i,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([m,h])=>{e.push({type:f,name:m,attribute:{...a,...h}})})})})}),s.forEach(i=>{const l={name:i.name,options:i.options,storage:i.storage},c=St(i,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const m={...a,...f};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:i.name,name:d,attribute:m})})}),e}function qn(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,a])=>{if(!n[s]){n[s]=a;return}if(s==="class"){const l=a?String(a).split(" "):[],c=n[s]?n[s].split(" "):[],u=l.filter(d=>!c.includes(d));n[s]=[...c,...u].join(" ")}else if(s==="style"){const l=a?a.split(";").map(d=>d.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,m]=d.split(":").map(h=>h.trim());u.set(f,m)}),l.forEach(d=>{const[f,m]=d.split(":").map(h=>h.trim());u.set(f,m)}),n[s]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else n[s]=a}),n},{})}function Zj(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>qn(r,n),{})}function QGe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Rz(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((a,i)=>{const l=i.attribute.parseHTML?i.attribute.parseHTML(r):QGe(r.getAttribute(i.name));return l==null?a:{...a,[i.name]:l}},{});return{...n,...s}}}}function Dz(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&XGe(r)?!1:r!=null))}function Iz(t){var e,r;const n={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(n.default=t.attribute.default),((r=t==null?void 0:t.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=t.attribute.validate),[t.name,n]}function JGe(t,e){var r;const n=ete(t),{nodeExtensions:s,markExtensions:a}=xp(t),i=(r=s.find(u=>St(u,"topNode")))==null?void 0:r.name,l=Object.fromEntries(s.map(u=>{const d=n.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((b,y)=>{const w=St(y,"extendNodeSchema",f);return{...b,...w?w(u):{}}},{}),h=Dz({...m,content:Nr(St(u,"content",f)),marks:Nr(St(u,"marks",f)),group:Nr(St(u,"group",f)),inline:Nr(St(u,"inline",f)),atom:Nr(St(u,"atom",f)),selectable:Nr(St(u,"selectable",f)),draggable:Nr(St(u,"draggable",f)),code:Nr(St(u,"code",f)),whitespace:Nr(St(u,"whitespace",f)),linebreakReplacement:Nr(St(u,"linebreakReplacement",f)),defining:Nr(St(u,"defining",f)),isolating:Nr(St(u,"isolating",f)),attrs:Object.fromEntries(d.map(Iz))}),p=Nr(St(u,"parseHTML",f));p&&(h.parseDOM=p.map(b=>Rz(b,d)));const g=St(u,"renderHTML",f);g&&(h.toDOM=b=>g({node:b,HTMLAttributes:Zj(b,d)}));const v=St(u,"renderText",f);return v&&(h.toText=v),[u.name,h]})),c=Object.fromEntries(a.map(u=>{const d=n.filter(v=>v.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((v,b)=>{const y=St(b,"extendMarkSchema",f);return{...v,...y?y(u):{}}},{}),h=Dz({...m,inclusive:Nr(St(u,"inclusive",f)),excludes:Nr(St(u,"excludes",f)),group:Nr(St(u,"group",f)),spanning:Nr(St(u,"spanning",f)),code:Nr(St(u,"code",f)),attrs:Object.fromEntries(d.map(Iz))}),p=Nr(St(u,"parseHTML",f));p&&(h.parseDOM=p.map(v=>Rz(v,d)));const g=St(u,"renderHTML",f);return g&&(h.toDOM=v=>g({mark:v,HTMLAttributes:Zj(v,d)})),[u.name,h]}));return new MZ({topNode:i,nodes:l,marks:c})}function ZGe(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function cD(t){return t.sort((r,n)=>{const s=St(r,"priority")||100,a=St(n,"priority")||100;return s>a?-1:s<a?1:0})}function tte(t){const e=cD(iD(t)),r=ZGe(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function rte(t,e,r){const{from:n,to:s}=e,{blockSeparator:a=`

`,textSerializers:i={}}=r||{};let l="";return t.nodesBetween(n,s,(c,u,d,f)=>{var m;c.isBlock&&u>n&&(l+=a);const h=i==null?void 0:i[c.type.name];if(h)return d&&(l+=h({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(m=c==null?void 0:c.text)==null?void 0:m.slice(Math.max(n,u)-u,s-u))}),l}function eYe(t,e){const r={from:0,to:t.content.size};return rte(t,r,e)}function nte(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function tYe(t,e){const r=Un(e,t.schema),{from:n,to:s}=t.selection,a=[];t.doc.nodesBetween(n,s,l=>{a.push(l)});const i=a.reverse().find(l=>l.type.name===r.name);return i?{...i.attrs}:{}}function ste(t,e){const r=V_(typeof e=="string"?e:e.name,t.schema);return r==="node"?tYe(t,e):r==="mark"?Qee(t,e):{}}function rYe(t,e=JSON.stringify){const r={};return t.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function nYe(t){const e=rYe(t);return e.length===1?e:e.filter((r,n)=>!e.filter((a,i)=>i!==n).some(a=>r.oldRange.from>=a.oldRange.from&&r.oldRange.to<=a.oldRange.to&&r.newRange.from>=a.newRange.from&&r.newRange.to<=a.newRange.to))}function ate(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((s,a)=>{const i=[];if(s.ranges.length)s.forEach((l,c)=>{i.push({from:l,to:c})});else{const{from:l,to:c}=r[a];if(l===void 0||c===void 0)return;i.push({from:l,to:c})}i.forEach(({from:l,to:c})=>{const u=e.slice(a).map(l,-1),d=e.slice(a).map(c),f=e.invert().map(u,-1),m=e.invert().map(d);n.push({oldRange:{from:f,to:m},newRange:{from:u,to:d}})})}),nYe(n)}function uD(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const a=r.resolve(t),i=aD(a,s.type);i&&n.push({mark:s,...i})}):r.nodesBetween(t,e,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(i=>({from:a,to:a+s.nodeSize,mark:i})))}),n}var sYe=(t,e,r,n=20)=>{const s=t.doc.resolve(r);let a=n,i=null;for(;a>0&&i===null;){const l=s.node(a);(l==null?void 0:l.type.name)===e?i=l:a-=1}return[i,a]};function sE(t,e){return e.nodes[t]||e.marks[t]||null}function Rb(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(a=>a.type===e&&a.name===n);return s?s.attribute.keepOnSplit:!1}))}var aYe=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,a,i,l)=>{var c,u;const d=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:a,parent:i,index:l}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,n-a))}),r};function jO(t,e,r={}){const{empty:n,ranges:s}=t.selection,a=e?fc(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>a?a.name===f.type.name:!0).find(f=>Jj(f.attrs,r,{strict:!1}));let i=0;const l=[];if(s.forEach(({$from:f,$to:m})=>{const h=f.pos,p=m.pos;t.doc.nodesBetween(h,p,(g,v)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(h,v),y=Math.min(p,v+g.nodeSize),w=y-b;i+=w,l.push(...g.marks.map(N=>({mark:N,from:b,to:y})))})}),i===0)return!1;const c=l.filter(f=>a?a.name===f.mark.type.name:!0).filter(f=>Jj(f.mark.attrs,r,{strict:!1})).reduce((f,m)=>f+m.to-m.from,0),u=l.filter(f=>a?f.mark.type!==a&&f.mark.type.excludes(a):!0).reduce((f,m)=>f+m.to-m.from,0);return(c>0?c+u:c)>=i}function oYe(t,e,r={}){if(!e)return ku(t,null,r)||jO(t,null,r);const n=V_(e,t.schema);return n==="node"?ku(t,e,r):n==="mark"?jO(t,e,r):!1}var iYe=(t,e)=>{const{$from:r,$to:n,$anchor:s}=t.selection;if(e){const a=U_(l=>l.type.name===e)(t.selection);if(!a)return!1;const i=t.doc.resolve(a.pos+1);return s.pos+1===i.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},lYe=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function $z(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function Lz(t,e){const{nodeExtensions:r}=xp(e),n=r.find(i=>i.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},a=Nr(St(n,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function q_(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(a=>{s!==!1&&(q_(a,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function ote(t){return t instanceof Ct}function cYe(t,e,r){var n;const{selection:s}=e;let a=null;if(Kee(s)&&(a=s.$cursor),a){const l=(n=t.storedMarks)!=null?n:a.marks();return a.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(u=>u.type.excludes(r)))}const{ranges:i}=s;return i.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,m)=>{if(u)return!1;if(d.isInline){const h=!m||m.type.allowsMarkType(r),p=!!r.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(r));u=h&&p}return!u}),u})}var uYe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:a}=r,{empty:i,ranges:l}=a,c=fc(t,n.schema);if(s)if(i){const u=Qee(n,c);r.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;n.doc.nodesBetween(d,f,(m,h)=>{const p=Math.max(h,d),g=Math.min(h+m.nodeSize,f);m.marks.find(b=>b.type===c)?m.marks.forEach(b=>{c===b.type&&r.addMark(p,g,c.create({...b.attrs,...e}))}):r.addMark(p,g,c.create(e))})});return cYe(n,r,c)},dYe=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),fYe=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const a=Un(t,r.schema);let i;return r.selection.$anchor.sameParent(r.selection.$head)&&(i=r.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:l})=>JB(a,{...i,...e})(r)?!0:l.clearNodes()).command(({state:l})=>JB(a,{...i,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},hYe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=kd(t,0,n.content.size),a=Ct.create(n,s);e.setSelection(a)}return!0},mYe=(t,e)=>({tr:r,state:n,dispatch:s})=>{const{selection:a}=n;let i,l;return typeof e=="number"?(i=e,l=e):e&&"from"in e&&"to"in e?(i=e.from,l=e.to):(i=a.from,l=a.to),s&&r.doc.nodesBetween(i,l,(c,u)=>{c.isText||r.setNodeMarkup(u,void 0,{...c.attrs,dir:t})}),!0},pYe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:a}=typeof t=="number"?{from:t,to:t}:t,i=Ft.atStart(n).from,l=Ft.atEnd(n).to,c=kd(s,i,l),u=kd(a,i,l),d=Ft.create(n,c,u);e.setSelection(d)}return!0},gYe=t=>({state:e,dispatch:r})=>{const n=Un(t,e.schema);return h7e(n)(e,r)};function Fz(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}var vYe=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:a,doc:i}=e,{$from:l,$to:c}=a,u=s.extensionManager.attributes,d=Rb(u,l.node().type.name,l.node().attrs);if(a instanceof Ct&&a.node.isBlock)return!l.parentOffset||!Kl(i,l.pos)?!1:(n&&(t&&Fz(r,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,m=l.depth===0?void 0:KGe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&m?[{type:m,attrs:d}]:void 0,p=Kl(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&Kl(e.doc,e.mapping.map(l.pos),1,m?[{type:m}]:void 0)&&(p=!0,h=m?[{type:m,attrs:d}]:void 0),n){if(p&&(a instanceof Ft&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),m&&!f&&!l.parentOffset&&l.parent.type!==m)){const g=e.mapping.map(l.before()),v=e.doc.resolve(g);l.node(-1).canReplaceWith(v.index(),v.index()+1,m)&&e.setNodeMarkup(e.mapping.map(l.before()),m)}t&&Fz(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return p},xYe=(t,e={})=>({tr:r,state:n,dispatch:s,editor:a})=>{var i;const l=Un(t,n.schema),{$from:c,$to:u}=n.selection,d=n.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const m=a.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let b=Ae.empty;const y=c.index(-1)?1:c.index(-2)?2:3;for(let C=c.depth-y;C>=c.depth-3;C-=1)b=Ae.from(c.node(C).copy(b));const w=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,N={...Rb(m,c.node().type.name,c.node().attrs),...e},j=((i=l.contentMatch.defaultType)==null?void 0:i.createAndFill(N))||void 0;b=b.append(Ae.from(l.createAndFill(null,j)||void 0));const _=c.before(c.depth-(y-1));r.replace(_,c.after(-w),new rt(b,4-y,0));let S=-1;r.doc.nodesBetween(_,r.doc.content.size,(C,k)=>{if(S>-1)return!1;C.isTextblock&&C.content.size===0&&(S=k+1)}),S>-1&&r.setSelection(Ft.near(r.doc.resolve(S))),r.scrollIntoView()}return!0}const h=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,p={...Rb(m,f.type.name,f.attrs),...e},g={...Rb(m,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,u.pos);const v=h?[{type:l,attrs:p},{type:h,attrs:g}]:[{type:l,attrs:p}];if(!Kl(r.doc,c.pos,2))return!1;if(s){const{selection:b,storedMarks:y}=n,{splittableMarks:w}=a.extensionManager,N=y||b.$to.parentOffset&&b.$from.marks();if(r.split(c.pos,2,v).scrollIntoView(),!N||!s)return!0;const j=N.filter(_=>w.includes(_.type.name));r.ensureMarks(j)}return!0},aE=(t,e)=>{const r=U_(i=>i.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Ku(t.doc,r.pos)&&t.join(r.pos),!0},oE=(t,e)=>{const r=U_(i=>i.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Ku(t.doc,n)&&t.join(n),!0},yYe=(t,e,r,n={})=>({editor:s,tr:a,state:i,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:m}=s.extensionManager,h=Un(t,i.schema),p=Un(e,i.schema),{selection:g,storedMarks:v}=i,{$from:b,$to:y}=g,w=b.blockRange(y),N=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const j=U_(_=>Lz(_.type.name,f))(g);if(w.depth>=1&&j&&w.depth-j.depth<=1){if(j.node.type===h)return u.liftListItem(p);if(Lz(j.node.type.name,f)&&h.validContent(j.node.content)&&l)return c().command(()=>(a.setNodeMarkup(j.pos,h),!0)).command(()=>aE(a,h)).command(()=>oE(a,h)).run()}return!r||!N||!l?c().command(()=>d().wrapInList(h,n)?!0:u.clearNodes()).wrapInList(h,n).command(()=>aE(a,h)).command(()=>oE(a,h)).run():c().command(()=>{const _=d().wrapInList(h,n),S=N.filter(C=>m.includes(C.type.name));return a.ensureMarks(S),_?!0:u.clearNodes()}).wrapInList(h,n).command(()=>aE(a,h)).command(()=>oE(a,h)).run()},bYe=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:a=!1}=r,i=fc(t,n.schema);return jO(n,i,e)?s.unsetMark(i,{extendEmptyMarkRange:a}):s.setMark(i,e)},wYe=(t,e,r={})=>({state:n,commands:s})=>{const a=Un(t,n.schema),i=Un(e,n.schema),l=ku(n,a,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?s.setNode(i,c):s.setNode(a,{...c,...r})},jYe=(t,e={})=>({state:r,commands:n})=>{const s=Un(t,r.schema);return ku(r,s,e)?n.lift(s):n.wrapIn(s,e)},NYe=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let a;if(s.spec.isInputRules&&(a=s.getState(t))){if(e){const i=t.tr,l=a.transform;for(let c=l.steps.length-1;c>=0;c-=1)i.step(l.steps[c].invert(l.docs[c]));if(a.text){const c=i.doc.resolve(a.from).marks();i.replaceWith(a.from,a.to,t.schema.text(a.text,c))}else i.delete(a.from,a.to)}return!0}}return!1},_Ye=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},SYe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var a;const{extendEmptyMarkRange:i=!1}=e,{selection:l}=r,c=fc(t,n.schema),{$from:u,empty:d,ranges:f}=l;if(!s)return!0;if(d&&i){let{from:m,to:h}=l;const p=(a=u.marks().find(v=>v.type===c))==null?void 0:a.attrs,g=aD(u,c,p);g&&(m=g.from,h=g.to),r.removeMark(m,h,c)}else f.forEach(m=>{r.removeMark(m.$from.pos,m.$to.pos,c)});return r.removeStoredMark(c),!0},CYe=t=>({tr:e,state:r,dispatch:n})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),n&&e.doc.nodesBetween(a,i,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,e.setNodeMarkup(c,void 0,u)}),!0},EYe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let a=null,i=null;const l=V_(typeof t=="string"?t:t.name,n.schema);if(!l)return!1;l==="node"&&(a=Un(t,n.schema)),l==="mark"&&(i=fc(t,n.schema));let c=!1;return r.selection.ranges.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;let m,h,p,g;r.selection.empty?n.doc.nodesBetween(d,f,(v,b)=>{a&&a===v.type&&(c=!0,p=Math.max(b,d),g=Math.min(b+v.nodeSize,f),m=b,h=v)}):n.doc.nodesBetween(d,f,(v,b)=>{b<d&&a&&a===v.type&&(c=!0,p=Math.max(b,d),g=Math.min(b+v.nodeSize,f),m=b,h=v),b>=d&&b<=f&&(a&&a===v.type&&(c=!0,s&&r.setNodeMarkup(b,void 0,{...v.attrs,...e})),i&&v.marks.length&&v.marks.forEach(y=>{if(i===y.type&&(c=!0,s)){const w=Math.max(b,d),N=Math.min(b+v.nodeSize,f);r.addMark(w,N,i.create({...y.attrs,...e}))}}))}),h&&(m!==void 0&&s&&r.setNodeMarkup(m,void 0,{...h.attrs,...e}),i&&h.marks.length&&h.marks.forEach(v=>{i===v.type&&s&&r.addMark(p,g,i.create({...v.attrs,...e}))}))}),c},kYe=(t,e={})=>({state:r,dispatch:n})=>{const s=Un(t,r.schema);return o7e(s,e)(r,n)},AYe=(t,e={})=>({state:r,dispatch:n})=>{const s=Un(t,r.schema);return i7e(s,e)(r,n)},OYe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const r=this.callbacks[t];return r&&r.forEach(n=>n.apply(this,e)),this}off(t,e){const r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(n=>n!==e):delete this.callbacks[t]),this}once(t,e){const r=(...n)=>{this.off(t,r),e.apply(this,n)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},W_=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},TYe=(t,e)=>{if(sD(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function sb(t){var e;const{editor:r,from:n,to:s,text:a,rules:i,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const u=c.state.doc.resolve(n);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const f=aYe(u)+a;return i.forEach(m=>{if(d)return;const h=TYe(f,m.find);if(!h)return;const p=c.state.tr,g=B_({state:c.state,transaction:p}),v={from:n-(h[0].length-a.length),to:s},{commands:b,chain:y,can:w}=new z_({editor:r,state:g});m.handler({state:g,range:v,match:h,commands:b,chain:y,can:w})===null||!p.steps.length||(m.undoable&&p.setMeta(l,{transform:p,from:n,to:s,text:a}),c.dispatch(p),d=!0)}),d}function PYe(t){const{editor:e,rules:r}=t,n=new hn({state:{init(){return null},apply(s,a,i){const l=s.getMeta(n);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=lD(Ae.from(d),i.schema);const{from:f}=c,m=f+d.length;sb({editor:e,from:f,to:m,text:d,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,i,l){return sb({editor:e,from:a,to:i,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&sb({editor:e,from:a.pos,to:a.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:i}=s.state.selection;return i?sb({editor:e,from:i.pos,to:i.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function MYe(t){return Object.prototype.toString.call(t).slice(8,-1)}function ab(t){return MYe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ite(t,e){const r={...t};return ab(t)&&ab(e)&&Object.keys(e).forEach(n=>{ab(e[n])&&ab(t[n])?r[n]=ite(t[n],e[n]):r[n]=e[n]}),r}var dD=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Nr(St(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Nr(St(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>ite(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},zf=class lte extends dD{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new lte(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!!!i.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const c=i.find(u=>(u==null?void 0:u.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function RYe(t){return typeof t=="number"}var DYe=class{constructor(t){this.find=t.find,this.handler=t.handler}},IYe=(t,e,r)=>{if(sD(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function $Ye(t){const{editor:e,state:r,from:n,to:s,rule:a,pasteEvent:i,dropEvent:l}=t,{commands:c,chain:u,can:d}=new z_({editor:e,state:r}),f=[];return r.doc.nodesBetween(n,s,(h,p)=>{var g,v,b,y,w;if((v=(g=h.type)==null?void 0:g.spec)!=null&&v.code||!(h.isText||h.isTextblock||h.isInline))return;const N=(w=(y=(b=h.content)==null?void 0:b.size)!=null?y:h.nodeSize)!=null?w:0,j=Math.max(n,p),_=Math.min(s,p+N);if(j>=_)return;const S=h.isText?h.text||"":h.textBetween(j-p,_-p,void 0,"");IYe(S,a.find,i).forEach(k=>{if(k.index===void 0)return;const A=j+k.index+1,O=A+k[0].length,P={from:r.tr.mapping.map(A),to:r.tr.mapping.map(O)},R=a.handler({state:r,range:P,match:k,commands:c,chain:u,can:d,pasteEvent:i,dropEvent:l});f.push(R)})}),f.every(h=>h!==null)}var ob=null,LYe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function FYe(t){const{editor:e,rules:r}=t;let n=null,s=!1,a=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:m,rule:h,pasteEvt:p})=>{const g=d.tr,v=B_({state:d,transaction:g});if(!(!$Ye({editor:e,state:v,from:Math.max(f-1,0),to:m.b-1,rule:h,pasteEvent:p,dropEvent:l})||!g.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(d=>new hn({view(f){const m=p=>{var g;n=(g=f.dom.parentElement)!=null&&g.contains(p.target)?f.dom.parentElement:null,n&&(ob=e)},h=()=>{ob&&(ob=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,m)=>{if(a=n===f.dom.parentElement,l=m,!a){const h=ob;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(f,m)=>{var h;const p=(h=m.clipboardData)==null?void 0:h.getData("text/html");return i=m,s=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(f,m,h)=>{const p=f[0],g=p.getMeta("uiEvent")==="paste"&&!s,v=p.getMeta("uiEvent")==="drop"&&!a,b=p.getMeta("applyPasteRules"),y=!!b;if(!g&&!v&&!y)return;if(y){let{text:j}=b;typeof j=="string"?j=j:j=lD(Ae.from(j),h.schema);const{from:_}=b,S=_+j.length,C=LYe(j);return c({rule:d,state:h,from:_,to:{b:S},pasteEvt:C})}const w=m.doc.content.findDiffStart(h.doc.content),N=m.doc.content.findDiffEnd(h.doc.content);if(!(!RYe(w)||!N||w===N.b))return c({rule:d,state:h,from:w,to:N,pasteEvt:i})}}))}var H_=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=tte(t),this.schema=JGe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:sE(e.name,this.schema)},n=St(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return cD([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:sE(n.name,this.schema)},a=[],i=St(n,"addKeyboardShortcuts",s);let l={};if(n.type==="mark"&&St(n,"exitable",s)&&(l.ArrowRight=()=>zf.handleExit({editor:t,mark:n})),i){const m=Object.fromEntries(Object.entries(i()).map(([h,p])=>[h,()=>p({editor:t})]));l={...l,...m}}const c=tGe(l);a.push(c);const u=St(n,"addInputRules",s);if($z(n,t.options.enableInputRules)&&u){const m=u();if(m&&m.length){const h=PYe({editor:t,rules:m}),p=Array.isArray(h)?h:[h];a.push(...p)}}const d=St(n,"addPasteRules",s);if($z(n,t.options.enablePasteRules)&&d){const m=d();if(m&&m.length){const h=FYe({editor:t,rules:m});a.push(...h)}}const f=St(n,"addProseMirrorPlugins",s);if(f){const m=f();a.push(...m)}return a})}get attributes(){return ete(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=xp(this.extensions);return Object.fromEntries(e.filter(r=>!!St(r,"addNodeView")).map(r=>{const n=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Un(r.name,this.schema)},a=St(r,"addNodeView",s);if(!a)return[];const i=a();if(!i)return[];const l=(c,u,d,f,m)=>{const h=Zj(c,n);return i({node:c,view:u,getPos:d,decorations:f,innerDecorations:m,editor:t,extension:r,HTMLAttributes:h})};return[r.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=xp(this.extensions);return Object.fromEntries(e.filter(r=>!!St(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:fc(r.name,this.schema)},a=St(r,"addMarkView",s);if(!a)return[];const i=(l,c,u)=>{const d=Zj(l,n);return a()({mark:l,view:c,inline:u,editor:t,extension:r,HTMLAttributes:d,updateAttributes:f=>{ZYe(l,t,f)}})};return[r.name,i]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:sE(e.name,this.schema)};e.type==="mark"&&((r=Nr(St(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const s=St(e,"onBeforeCreate",n),a=St(e,"onCreate",n),i=St(e,"onUpdate",n),l=St(e,"onSelectionUpdate",n),c=St(e,"onTransaction",n),u=St(e,"onFocus",n),d=St(e,"onBlur",n),f=St(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),i&&this.editor.on("update",i),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};H_.resolve=tte;H_.sort=cD;H_.flatten=iD;var BYe={};nD(BYe,{ClipboardTextSerializer:()=>ute,Commands:()=>dte,Delete:()=>fte,Drop:()=>hte,Editable:()=>mte,FocusEvents:()=>gte,Keymap:()=>vte,Paste:()=>xte,Tabindex:()=>yte,TextDirection:()=>bte,focusEventsPluginKey:()=>pte});var Rn=class cte extends dD{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new cte(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},ute=Rn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new hn({key:new cs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:a}=s,i=Math.min(...a.map(d=>d.$from.pos)),l=Math.max(...a.map(d=>d.$to.pos)),c=nte(r);return rte(n,{from:i,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),dte=Rn.create({name:"commands",addCommands(){return{...Wee}}}),fte=Rn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,s;const a=()=>{var i,l,c,u;if((u=(c=(l=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=Jee(t.before,[t,...e]);ate(d).forEach(h=>{d.mapping.mapResult(h.oldRange.from).deletedAfter&&d.mapping.mapResult(h.oldRange.to).deletedBefore&&d.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,g)=>{const v=g+p.nodeSize-2,b=h.oldRange.from<=g&&v<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:g,to:v,newFrom:d.mapping.map(g),newTo:d.mapping.map(v),deletedRange:h.oldRange,newRange:h.newRange,partial:!b,editor:this.editor,transaction:t,combinedTransform:d})})});const m=d.mapping;d.steps.forEach((h,p)=>{var g,v;if(h instanceof gi){const b=m.slice(p).map(h.from,-1),y=m.slice(p).map(h.to),w=m.invert().map(b,-1),N=m.invert().map(y),j=(g=d.doc.nodeAt(b-1))==null?void 0:g.marks.some(S=>S.eq(h.mark)),_=(v=d.doc.nodeAt(y))==null?void 0:v.marks.some(S=>S.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:w,to:N},newRange:{from:b,to:y},partial:!!(_||j),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(a,0):a()}}),hte=Rn.create({name:"drop",addProseMirrorPlugins(){return[new hn({key:new cs("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),mte=Rn.create({name:"editable",addProseMirrorPlugins(){return[new hn({key:new cs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pte=new cs("focusEvents"),gte=Rn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new hn({key:pte,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),vte=Rn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:m,parent:h}=f,p=f.parent.isTextblock&&m>0?l.doc.resolve(m-1):f,g=p.parent.type.spec.isolating,v=f.pos-f.parentOffset,b=g&&p.parent.childCount===1?v===f.pos:Qt.atStart(u).from===m;return!d||!h.type.isTextblock||h.textContent.length||!b||b&&f.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},a={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return oD()||Xee()?a:s},addProseMirrorPlugins(){return[new hn({key:new cs("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(g=>g.getMeta("composition")))return;const n=t.some(g=>g.docChanged)&&!e.doc.eq(r.doc),s=t.some(g=>g.getMeta("preventClearDocument"));if(!n||s)return;const{empty:a,from:i,to:l}=e.selection,c=Qt.atStart(e.doc).from,u=Qt.atEnd(e.doc).to;if(a||!(i===c&&l===u)||!q_(r.doc))return;const m=r.tr,h=B_({state:r,transaction:m}),{commands:p}=new z_({editor:this.editor,state:h});if(p.clearNodes(),!!m.steps.length)return m}})]}}),xte=Rn.create({name:"paste",addProseMirrorPlugins(){return[new hn({key:new cs("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),yte=Rn.create({name:"tabindex",addProseMirrorPlugins(){return[new hn({key:new cs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),bte=Rn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=xp(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new hn({key:new cs("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),zYe=class mh{constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new mh(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new mh(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new mh(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,a=r.isAtom&&!r.isText,i=this.pos+n+(a?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(i);if(!s&&l.depth<=this.depth)return;const c=new mh(l,this.editor,s,s?r:null);s&&(c.actualDepth=this.depth+1),e.push(new mh(l,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const a=s.node.attrs,i=Object.keys(r);for(let l=0;l<i.length;l+=1){const c=i[l];if(a[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(r);return this.children.forEach(i=>{n&&s.length>0||(i.node.type.name===e&&a.every(c=>r[c]===i.node.attrs[c])&&s.push(i),!(n&&s.length>0)&&(s=s.concat(i.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},VYe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function UYe(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var qYe=class extends OYe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:a})=>this.options.onDrop(n,s,a)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=Gee(e,this.options.autofocus);this.editorState=$h.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=UYe(VYe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=Zee(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(i=>!i.key.startsWith(a))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[mte,ute.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),dte,gte,vte,yte,hte,xte,fte,bte.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new H_(n,this)}createCommandManager(){this.commandManager=new z_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=wO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=wO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Uee(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),s=r.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=i==null?void 0:i.getMeta("focus"),c=i==null?void 0:i.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:i}),c&&this.emit("blur",{editor:this,event:c.event,transaction:i}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return ste(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return oYe(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lD(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return eYe(this.state.doc,{blockSeparator:e,textSerializers:{...nte(this.schema),...r}})}get isEmpty(){return q_(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new zYe(e,this)}get $doc(){return this.$pos(0)}};function yp(t){return new W_({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Nr(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:a}=e,i=n[n.length-1],l=n[0];if(i){const c=l.search(/\S/),u=r.from+l.indexOf(i),d=u+i.length;if(uD(r.from,r.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;d<r.to&&a.delete(d,r.to),u>r.from&&a.delete(r.from+c,u);const m=r.from+c+i.length;a.addMark(r.from+c,m,t.type.create(s||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function WYe(t){return new W_({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Nr(t.getAttributes,void 0,n)||{},{tr:a}=e,i=r.from;let l=r.to;const c=t.type.create(s);if(n[1]){const u=n[0].lastIndexOf(n[1]);let d=i+u;d>l?d=l:l=d+n[1].length;const f=n[0][n[0].length-1];a.insertText(f,i+n[0].length-1),a.replaceWith(d,l,c)}else if(n[0]){const u=t.type.isInline?i:i-1;a.insert(u,t.type.create(s)).delete(a.mapping.map(i),a.mapping.map(l))}a.scrollIntoView()},undoable:t.undoable})}function NO(t){return new W_({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),a=Nr(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,a)},undoable:t.undoable})}function bp(t){return new W_({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const a=Nr(t.getAttributes,void 0,n)||{},i=e.tr.delete(r.from,r.to),c=i.doc.resolve(r.from).blockRange(),u=c&&zR(c,t.type,a);if(!u)return null;if(i.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:m}=e,{splittableMarks:h}=t.editor.extensionManager,p=m||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(v=>h.includes(v.type.name));i.ensureMarks(g)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,a).run()}const d=i.doc.resolve(r.from-1).nodeBefore;d&&d.type===t.type&&Ku(i.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,d))&&i.join(r.from-1)},undoable:t.undoable})}function HYe(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Ct){const a=n.index();return n.parent.canReplaceWith(a,a+1,e)}let s=n.depth;for(;s>=0;){const a=n.index(s);if(n.node(s).contentMatchAt(a).matchType(e))return!0;s-=1}return!1}var KYe={};nD(KYe,{createAtomBlockMarkdownSpec:()=>GYe,createBlockMarkdownSpec:()=>YYe,createInlineMarkdownSpec:()=>JYe,parseAttributes:()=>fD,parseIndentedBlocks:()=>_O,renderNestedMarkdownContent:()=>mD,serializeAttributes:()=>hD});function fD(t){if(!(t!=null&&t.trim()))return{};const e={},r=[],n=t.replace(/["']([^"']*)["']/g,u=>(r.push(u),`__QUOTED_${r.length-1}__`)),s=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));e.class=u.join(" ")}const a=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(i)).forEach(([,u,d])=>{var f;const m=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=r[m];h&&(e[u]=h.slice(1,-1))});const c=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function hD(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function GYe(t){const{nodeName:e,name:r,parseAttributes:n=fD,serializeAttributes:s=hD,defaultAttributes:a={},requiredAttributes:i=[],allowedAttributes:l}=t,c=r||e,u=d=>{if(!l)return d;const f={};return l.forEach(m=>{m in d&&(f[m]=d[m])}),f};return{parseMarkdown:(d,f)=>{const m={...a,...d.attributes};return f.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const m=new RegExp(`^:::${c}(?:\\s|$)`,"m"),h=(f=d.match(m))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(d,f,m){const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),p=d.match(h);if(!p)return;const g=p[1]||"",v=n(g);if(!i.find(y=>!(y in v)))return{type:e,raw:p[0],attributes:v}}},renderMarkdown:d=>{const f=u(d.attrs||{}),m=s(f),h=m?` {${m}}`:"";return`:::${c}${h} :::`}}}function YYe(t){const{nodeName:e,name:r,getContent:n,parseAttributes:s=fD,serializeAttributes:a=hD,defaultAttributes:i={},content:l="block",allowedAttributes:c}=t,u=r||e,d=f=>{if(!c)return f;const m={};return c.forEach(h=>{h in f&&(m[h]=f[h])}),m};return{parseMarkdown:(f,m)=>{let h;if(n){const g=n(f);h=typeof g=="string"?[{type:"text",text:g}]:g}else l==="block"?h=m.parseChildren(f.tokens||[]):h=m.parseInline(f.tokens||[]);const p={...i,...f.attributes};return m.createNode(e,p,h)},markdownTokenizer:{name:e,level:"block",start(f){var m;const h=new RegExp(`^:::${u}`,"m"),p=(m=f.match(h))==null?void 0:m.index;return p!==void 0?p:-1},tokenize(f,m,h){var p;const g=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),v=f.match(g);if(!v)return;const[b,y=""]=v,w=s(y);let N=1;const j=b.length;let _="";const S=/^:::([\w-]*)(\s.*)?/gm,C=f.slice(j);for(S.lastIndex=0;;){const k=S.exec(C);if(k===null)break;const A=k.index,O=k[1];if(!((p=k[2])!=null&&p.endsWith(":::"))){if(O)N+=1;else if(N-=1,N===0){const P=C.slice(0,A);_=P.trim();const R=f.slice(0,j+A+k[0].length);let I=[];if(_)if(l==="block")for(I=h.blockTokens(P),I.forEach($=>{$.text&&(!$.tokens||$.tokens.length===0)&&($.tokens=h.inlineTokens($.text))});I.length>0;){const $=I[I.length-1];if($.type==="paragraph"&&(!$.text||$.text.trim()===""))I.pop();else break}else I=h.inlineTokens(_);return{type:e,raw:R,attributes:w,content:_,tokens:I}}}}}},renderMarkdown:(f,m)=>{const h=d(f.attrs||{}),p=a(h),g=p?` {${p}}`:"",v=m.renderChildren(f.content||[],`

`);return`:::${u}${g}

${v}

:::`}}}function XYe(t){if(!t.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(t);for(;n!==null;){const[,s,a,i]=n;e[s]=a||i,n=r.exec(t)}return e}function QYe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function JYe(t){const{nodeName:e,name:r,getContent:n,parseAttributes:s=XYe,serializeAttributes:a=QYe,defaultAttributes:i={},selfClosing:l=!1,allowedAttributes:c}=t,u=r||e,d=m=>{if(!c)return m;const h={};return c.forEach(p=>{p in m&&(h[p]=m[p])}),h},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,h)=>{const p={...i,...m.attributes};if(l)return h.createNode(e,p);const g=n?n(m):m.content||"";return g?h.createNode(e,p,[h.createTextNode(g)]):h.createNode(e,p,[])},markdownTokenizer:{name:e,level:"inline",start(m){const h=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),p=m.match(h),g=p==null?void 0:p.index;return g!==void 0?g:-1},tokenize(m,h,p){const g=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),v=m.match(g);if(!v)return;let b="",y="";if(l){const[,N]=v;y=N}else{const[,N,j]=v;y=N,b=j||""}const w=s(y.trim());return{type:e,raw:v[0],content:b.trim(),attributes:w}}},renderMarkdown:m=>{let h="";n?h=n(m):m.content&&m.content.length>0&&(h=m.content.filter(b=>b.type==="text").map(b=>b.text).join(""));const p=d(m.attrs||{}),g=a(p),v=g?` ${g}`:"";return l?`[${u}${v}]`:`[${u}${v}]${h}[/${u}]`}}}function _O(t,e,r){var n,s,a,i;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const m=l[d],h=m.match(e.itemPattern);if(!h){if(c.length>0)break;if(m.trim()===""){d+=1,u=`${u}${m}
`;continue}else return}const p=e.extractItemData(h),{indentLevel:g,mainContent:v}=p;u=`${u}${m}
`;const b=[v];for(d+=1;d<l.length;){const j=l[d];if(j.trim()===""){const S=l.slice(d+1).findIndex(A=>A.trim()!=="");if(S===-1)break;if((((s=(n=l[d+1+S].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:s.length)||0)>g){b.push(j),u=`${u}${j}
`,d+=1;continue}else break}if((((i=(a=j.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:i.length)||0)>g)b.push(j),u=`${u}${j}
`,d+=1;else break}let y;const w=b.slice(1);if(w.length>0){const j=w.map(_=>_.slice(g+f)).join(`
`);j.trim()&&(e.customNestedParser?y=e.customNestedParser(j):y=r.blockTokens(j))}const N=e.createToken(p,y);c.push(N)}if(c.length!==0)return{items:c,raw:u}}function mD(t,e,r,n){if(!t||!Array.isArray(t.content))return"";const s=typeof r=="function"?r(n):r,[a,...i]=t.content,l=e.renderChildren([a]),c=[`${s}${l}`];return i&&i.length>0&&i.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(m=>m?e.indent(m):"").join(`
`);c.push(f)}}),c.join(`
`)}function ZYe(t,e,r={}){const{state:n}=e,{doc:s,tr:a}=n,i=t;s.descendants((l,c)=>{const u=a.mapping.map(c),d=a.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(h=>{if(h!==i)return!1;f=h}),!f)return;let m=!1;if(Object.keys(r).forEach(h=>{r[h]!==f.attrs[h]&&(m=!0)}),m){const h=t.type.create({...t.attrs,...r});a.removeMark(u,d,t.type),a.addMark(u,d,h)}}),a.docChanged&&e.view.dispatch(a)}var mo=class wte extends dD{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new wte(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Cf(t){return new DYe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const a=Nr(t.getAttributes,void 0,n,s);if(a===!1||a===null)return null;const{tr:i}=e,l=n[n.length-1],c=n[0];let u=r.to;if(l){const d=c.search(/\S/),f=r.from+c.indexOf(l),m=f+l.length;if(uD(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===t.type&&v!==p.mark.type)).filter(p=>p.to>f).length)return null;m<r.to&&i.delete(m,r.to),f>r.from&&i.delete(r.from+d,f),u=r.from+d+l.length,i.addMark(r.from+d,u,t.type.create(a||{})),i.removeStoredMark(t.type)}}})}var eXe=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r};const tXe=vr(eXe);var jte={exports:{}},Nte={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=x,rXe=SN;function nXe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sXe=typeof Object.is=="function"?Object.is:nXe,aXe=rXe.useSyncExternalStore,oXe=K_.useRef,iXe=K_.useEffect,lXe=K_.useMemo,cXe=K_.useDebugValue;Nte.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var a=oXe(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=lXe(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),s!==void 0&&i.hasValue){var p=i.value;if(s(p,h))return f=p}return f=h}if(p=f,sXe(d,h))return p;var g=n(h);return s!==void 0&&s(p,g)?(d=h,p):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,s]);var l=aXe(t,a[0],a[1]);return iXe(function(){i.hasValue=!0,i.value=l},[l]),cXe(l),l};jte.exports=Nte;var uXe=jte.exports,dXe=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},fXe=({contentComponent:t})=>{const e=SN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function hXe(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:O8.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}var mXe=class extends z.Component{constructor(t){var e;super(t),this.editorContentRef=z.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=hXe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:dXe(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&o.jsx(fXe,{contentComponent:t.contentComponent})]})}},pXe=x.forwardRef((t,e)=>{const r=z.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return z.createElement(mXe,{key:r,innerRef:e,...t})}),gXe=z.memo(pXe),vXe=typeof window<"u"?x.useLayoutEffect:x.useEffect,xXe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function yXe(t){var e;const[r]=x.useState(()=>new xXe(t.editor)),n=uXe.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:tXe);return vXe(()=>r.watch(t.editor),[t.editor,r]),x.useDebugValue(n),n}var bXe=!1,SO=typeof window>"u",wXe=SO||!!(typeof window<"u"&&window.next),jXe=class _te{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?SO||wXe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...n)},onBlur:(...n)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...n)},onCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...n)},onDestroy:(...n)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...n)},onFocus:(...n)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...n)},onSelectionUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...n)},onTransaction:(...n)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...n)},onUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...n)},onContentError:(...n)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...n)},onDrop:(...n)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...n)},onPaste:(...n)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...n)},onDelete:(...n)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...n)}};return new qYe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,a)=>{var i;return s===((i=r.extensions)==null?void 0:i[a])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?_te.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function NXe(t={},e=[]){const r=x.useRef(t);r.current=t;const[n]=x.useState(()=>new jXe(r)),s=SN.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return x.useDebugValue(s),x.useEffect(n.onRender(e)),yXe({editor:s,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),s}var _Xe=x.createContext({editor:null});_Xe.Consumer;var SXe=x.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),CXe=()=>x.useContext(SXe);z.forwardRef((t,e)=>{const{onDragStart:r}=CXe(),n=t.as||"div";return o.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});z.createContext({markViewContentRef:()=>{}});var e1=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},EXe=/^\s*>\s$/,kXe=mo.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return e1("blockquote",{...qn(this.options.HTMLAttributes,t),children:e1("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const r=">",n=[];return t.content.forEach(s=>{const l=e.renderChildren([s]).split(`
`).map(c=>c.trim()===""?r:`${r} ${c}`);n.push(l.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[bp({find:EXe,type:this.type})]}}),AXe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,OXe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,TXe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,PXe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,MXe=zf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return e1("strong",{...qn(this.options.HTMLAttributes,t),children:e1("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[yp({find:AXe,type:this.type}),yp({find:TXe,type:this.type})]},addPasteRules(){return[Cf({find:OXe,type:this.type}),Cf({find:PXe,type:this.type})]}}),RXe=/(^|[^`])`([^`]+)`(?!`)$/,DXe=/(^|[^`])`([^`]+)`(?!`)/g,IXe=zf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",qn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[yp({find:RXe,type:this.type})]},addPasteRules(){return[Cf({find:DXe,type:this.type})]}}),iE=4,$Xe=/^```([a-z]+)?[\s\n]$/,LXe=/^~~~([a-z]+)?[\s\n]$/,FXe=mo.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:iE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(i=>i.startsWith(r)).map(i=>i.replace(r,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",qn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var r;return((r=t.raw)==null?void 0:r.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var r;let n="";const s=((r=t.attrs)==null?void 0:r.language)||"";return t.content?n=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):n=`\`\`\`${s}

\`\`\``,n},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:iE,{state:n}=t,{selection:s}=n,{$from:a,empty:i}=s;if(a.parent.type!==this.type)return!1;const l=" ".repeat(r);return i?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=s,h=n.doc.textBetween(u,d,`
`,`
`).split(`
`).map(p=>l+p).join(`
`);return c.replaceWith(u,d,n.schema.text(h)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:iE,{state:n}=t,{selection:s}=n,{$from:a,empty:i}=s;return a.parent.type!==this.type?!1:i?t.commands.command(({tr:l})=>{var c;const{pos:u}=a,d=a.start(),f=a.end(),h=n.doc.textBetween(d,f,`
`,`
`).split(`
`);let p=0,g=0;const v=u-d;for(let _=0;_<h.length;_+=1){if(g+h[_].length>=v){p=_;break}g+=h[_].length+1}const y=((c=h[p].match(/^ */))==null?void 0:c[0])||"",w=Math.min(y.length,r);if(w===0)return!0;let N=d;for(let _=0;_<p;_+=1)N+=h[_].length+1;return l.delete(N,N+w),u-N<=w&&l.setSelection(Ft.create(l.doc,N)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,m=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(h=>{var p;const g=((p=h.match(/^ */))==null?void 0:p[0])||"",v=Math.min(g.length,r);return h.slice(v)}).join(`
`);return l.replaceWith(c,u,n.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const a=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!a||!i?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:a}=r;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Qt.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[NO({find:$Xe,type:this.type,getAttributes:t=>({language:t[1]})}),NO({find:LXe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new hn({key:new cs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,a=s==null?void 0:s.mode;if(!r||!a)return!1;const{tr:i,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:a},c)),i.selection.$from.parent.type!==this.type&&i.setSelection(Ft.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),BXe=mo.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),zXe=mo.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",qn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:a}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:l}=n.extensionManager,c=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&i){const f=c.filter(m=>l.includes(m.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),VXe=mo.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,qn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var r;const n=(r=t.attrs)!=null&&r.level?parseInt(t.attrs.level,10):1,s="#".repeat(n);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>NO({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),UXe=mo.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",qn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!HYe(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,s=t();return ote(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:i,dispatch:l})=>{if(l){const{$to:c}=i.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?i.setSelection(Ft.create(i.doc,c.pos+1)):c.nodeAfter.isBlock?i.setSelection(Ct.create(i.doc,c.pos)):i.setSelection(Ft.create(i.doc,c.pos));else{const d=a.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d==null?void 0:d.create();f&&(i.insert(u,f),i.setSelection(Ft.create(i.doc,u+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[WYe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),qXe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WXe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,HXe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KXe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,GXe=zf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",qn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[yp({find:qXe,type:this.type}),yp({find:HXe,type:this.type})]},addPasteRules(){return[Cf({find:WXe,type:this.type}),Cf({find:KXe,type:this.type})]}});const YXe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",XXe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",CO="numeric",EO="ascii",kO="alpha",xv="asciinumeric",Bg="alphanumeric",AO="domain",Ste="emoji",QXe="scheme",JXe="slashscheme",lE="whitespace";function ZXe(t,e){return t in e||(e[t]=[]),e[t]}function Ad(t,e,r){e[CO]&&(e[xv]=!0,e[Bg]=!0),e[EO]&&(e[xv]=!0,e[kO]=!0),e[xv]&&(e[Bg]=!0),e[kO]&&(e[Bg]=!0),e[Bg]&&(e[AO]=!0),e[Ste]&&(e[AO]=!0);for(const n in e){const s=ZXe(n,r);s.indexOf(t)<0&&s.push(t)}}function eQe(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function Sa(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Sa.groups={};Sa.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],a=e.jr[n][1];if(a&&s.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,n)},tr(t,e,r,n){n=n||Sa.groups;let s;return e&&e.j?s=e:(s=new Sa(e),r&&n&&Ad(e,r,n)),this.jr.push([t,s]),s},ts(t,e,r,n){let s=this;const a=t.length;if(!a)return s;for(let i=0;i<a-1;i++)s=s.tt(t[i]);return s.tt(t[a-1],e,r,n)},tt(t,e,r,n){n=n||Sa.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const a=e;let i,l=s.go(t);if(l?(i=new Sa,Object.assign(i.j,l.j),i.jr.push.apply(i.jr,l.jr),i.jd=l.jd,i.t=l.t):i=new Sa,a){if(n)if(i.t&&typeof i.t=="string"){const c=Object.assign(eQe(i.t,n),r);Ad(a,c,n)}else r&&Ad(a,r,n);i.t=a}return s.j[t]=i,i}};const Xt=(t,e,r,n,s)=>t.ta(e,r,n,s),pn=(t,e,r,n,s)=>t.tr(e,r,n,s),Bz=(t,e,r,n,s)=>t.ts(e,r,n,s),De=(t,e,r,n,s)=>t.tt(e,r,n,s),El="WORD",OO="UWORD",Cte="ASCIINUMERICAL",Ete="ALPHANUMERICAL",Zx="LOCALHOST",TO="TLD",PO="UTLD",Db="SCHEME",ph="SLASH_SCHEME",pD="NUM",MO="WS",gD="NL",yv="OPENBRACE",bv="CLOSEBRACE",t1="OPENBRACKET",r1="CLOSEBRACKET",n1="OPENPAREN",s1="CLOSEPAREN",a1="OPENANGLEBRACKET",o1="CLOSEANGLEBRACKET",i1="FULLWIDTHLEFTPAREN",l1="FULLWIDTHRIGHTPAREN",c1="LEFTCORNERBRACKET",u1="RIGHTCORNERBRACKET",d1="LEFTWHITECORNERBRACKET",f1="RIGHTWHITECORNERBRACKET",h1="FULLWIDTHLESSTHAN",m1="FULLWIDTHGREATERTHAN",p1="AMPERSAND",g1="APOSTROPHE",v1="ASTERISK",kc="AT",x1="BACKSLASH",y1="BACKTICK",b1="CARET",Dc="COLON",vD="COMMA",w1="DOLLAR",Ri="DOT",j1="EQUALS",xD="EXCLAMATION",yo="HYPHEN",wv="PERCENT",N1="PIPE",_1="PLUS",S1="POUND",jv="QUERY",yD="QUOTE",kte="FULLWIDTHMIDDLEDOT",bD="SEMI",Di="SLASH",Nv="TILDE",C1="UNDERSCORE",Ate="EMOJI",E1="SYM";var Ote=Object.freeze({__proto__:null,ALPHANUMERICAL:Ete,AMPERSAND:p1,APOSTROPHE:g1,ASCIINUMERICAL:Cte,ASTERISK:v1,AT:kc,BACKSLASH:x1,BACKTICK:y1,CARET:b1,CLOSEANGLEBRACKET:o1,CLOSEBRACE:bv,CLOSEBRACKET:r1,CLOSEPAREN:s1,COLON:Dc,COMMA:vD,DOLLAR:w1,DOT:Ri,EMOJI:Ate,EQUALS:j1,EXCLAMATION:xD,FULLWIDTHGREATERTHAN:m1,FULLWIDTHLEFTPAREN:i1,FULLWIDTHLESSTHAN:h1,FULLWIDTHMIDDLEDOT:kte,FULLWIDTHRIGHTPAREN:l1,HYPHEN:yo,LEFTCORNERBRACKET:c1,LEFTWHITECORNERBRACKET:d1,LOCALHOST:Zx,NL:gD,NUM:pD,OPENANGLEBRACKET:a1,OPENBRACE:yv,OPENBRACKET:t1,OPENPAREN:n1,PERCENT:wv,PIPE:N1,PLUS:_1,POUND:S1,QUERY:jv,QUOTE:yD,RIGHTCORNERBRACKET:u1,RIGHTWHITECORNERBRACKET:f1,SCHEME:Db,SEMI:bD,SLASH:Di,SLASH_SCHEME:ph,SYM:E1,TILDE:Nv,TLD:TO,UNDERSCORE:C1,UTLD:PO,UWORD:OO,WORD:El,WS:MO});const _l=/[a-z]/,Sg=new RegExp("\\p{L}","u"),cE=new RegExp("\\p{Emoji}","u"),Sl=/\d/,uE=/\s/,zz="\r",dE=`
`,tQe="",rQe="",fE="";let ib=null,lb=null;function nQe(t=[]){const e={};Sa.groups=e;const r=new Sa;ib==null&&(ib=Vz(YXe)),lb==null&&(lb=Vz(XXe)),De(r,"'",g1),De(r,"{",yv),De(r,"}",bv),De(r,"[",t1),De(r,"]",r1),De(r,"(",n1),De(r,")",s1),De(r,"<",a1),De(r,">",o1),De(r,"",i1),De(r,"",l1),De(r,"",c1),De(r,"",u1),De(r,"",d1),De(r,"",f1),De(r,"",h1),De(r,"",m1),De(r,"&",p1),De(r,"*",v1),De(r,"@",kc),De(r,"`",y1),De(r,"^",b1),De(r,":",Dc),De(r,",",vD),De(r,"$",w1),De(r,".",Ri),De(r,"=",j1),De(r,"!",xD),De(r,"-",yo),De(r,"%",wv),De(r,"|",N1),De(r,"+",_1),De(r,"#",S1),De(r,"?",jv),De(r,'"',yD),De(r,"/",Di),De(r,";",bD),De(r,"~",Nv),De(r,"_",C1),De(r,"\\",x1),De(r,"",kte);const n=pn(r,Sl,pD,{[CO]:!0});pn(n,Sl,n);const s=pn(n,_l,Cte,{[xv]:!0}),a=pn(n,Sg,Ete,{[Bg]:!0}),i=pn(r,_l,El,{[EO]:!0});pn(i,Sl,s),pn(i,_l,i),pn(s,Sl,s),pn(s,_l,s);const l=pn(r,Sg,OO,{[kO]:!0});pn(l,_l),pn(l,Sl,a),pn(l,Sg,l),pn(a,Sl,a),pn(a,_l),pn(a,Sg,a);const c=De(r,dE,gD,{[lE]:!0}),u=De(r,zz,MO,{[lE]:!0}),d=pn(r,uE,MO,{[lE]:!0});De(r,fE,d),De(u,dE,c),De(u,fE,d),pn(u,uE,d),De(d,zz),De(d,dE),pn(d,uE,d),De(d,fE,d);const f=pn(r,cE,Ate,{[Ste]:!0});De(f,"#"),pn(f,cE,f),De(f,tQe,f);const m=De(f,rQe);De(m,"#"),pn(m,cE,f);const h=[[_l,i],[Sl,s]],p=[[_l,null],[Sg,l],[Sl,a]];for(let g=0;g<ib.length;g++)xc(r,ib[g],TO,El,h);for(let g=0;g<lb.length;g++)xc(r,lb[g],PO,OO,p);Ad(TO,{tld:!0,ascii:!0},e),Ad(PO,{utld:!0,alpha:!0},e),xc(r,"file",Db,El,h),xc(r,"mailto",Db,El,h),xc(r,"http",ph,El,h),xc(r,"https",ph,El,h),xc(r,"ftp",ph,El,h),xc(r,"ftps",ph,El,h),Ad(Db,{scheme:!0,ascii:!0},e),Ad(ph,{slashscheme:!0,ascii:!0},e),t=t.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<t.length;g++){const v=t[g][0],y=t[g][1]?{[QXe]:!0}:{[JXe]:!0};v.indexOf("-")>=0?y[AO]=!0:_l.test(v)?Sl.test(v)?y[xv]=!0:y[EO]=!0:y[CO]=!0,Bz(r,v,v,y)}return Bz(r,"localhost",Zx,{ascii:!0}),r.jd=new Sa(E1),{start:r,tokens:Object.assign({groups:e},Ote)}}function Tte(t,e){const r=sQe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,s=[];let a=0,i=0;for(;i<n;){let l=t,c=null,u=0,d=null,f=-1,m=-1;for(;i<n&&(c=l.go(r[i]));)l=c,l.accepts()?(f=0,m=0,d=l):f>=0&&(f+=r[i].length,m++),u+=r[i].length,a+=r[i].length,i++;a-=f,i-=m,u-=f,s.push({t:d.t,v:e.slice(a-u,a),s:a-u,e:a})}return s}function sQe(t){const e=[],r=t.length;let n=0;for(;n<r;){let s=t.charCodeAt(n),a,i=s<55296||s>56319||n+1===r||(a=t.charCodeAt(n+1))<56320||a>57343?t[n]:t.slice(n,n+2);e.push(i),n+=i.length}return e}function xc(t,e,r,n,s){let a;const i=e.length;for(let l=0;l<i-1;l++){const c=e[l];t.j[c]?a=t.j[c]:(a=new Sa(n),a.jr=s.slice(),t.j[c]=a),t=a}return a=new Sa(r),a.jr=s.slice(),t.j[e[i-1]]=a,a}function Vz(t){const e=[],r=[];let n=0,s="0123456789";for(;n<t.length;){let a=0;for(;s.indexOf(t[n+a])>=0;)a++;if(a>0){e.push(r.join(""));for(let i=parseInt(t.substring(n,n+a),10);i>0;i--)r.pop();n+=a}else r.push(t[n]),n++}return e}const ey={defaultProtocol:"http",events:null,format:Uz,formatHref:Uz,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function wD(t,e=null){let r=Object.assign({},ey);t&&(r=Object.assign(r,t instanceof wD?t.o:t));const n=r.ignoreTags,s=[];for(let a=0;a<n.length;a++)s.push(n[a].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}wD.prototype={o:ey,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:ey[t],typeof s=="function"&&n&&(s=s(e,r))):typeof s=="function"&&n&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Uz(t){return t}function Pte(t,e){this.t="token",this.v=t,this.tk=e}Pte.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ey.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),s=t.get("tagName",r,e),a=this.toFormattedString(t),i={},l=t.get("className",r,e),c=t.get("target",r,e),u=t.get("rel",r,e),d=t.getObj("attributes",r,e),f=t.getObj("events",r,e);return i.href=n,l&&(i.class=l),c&&(i.target=c),u&&(i.rel=u),d&&Object.assign(i,d),{tagName:s,attributes:i,content:a,eventListeners:f}}};function G_(t,e){class r extends Pte{constructor(s,a){super(s,a),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const qz=G_("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Wz=G_("text"),aQe=G_("nl"),cb=G_("url",{isLink:!0,toHref(t=ey.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Zx&&t[1].t===Dc}}),xo=t=>new Sa(t);function oQe({groups:t}){const e=t.domain.concat([p1,v1,kc,x1,y1,b1,w1,j1,yo,pD,wv,N1,_1,S1,Di,E1,Nv,C1]),r=[g1,Dc,vD,Ri,xD,wv,jv,yD,bD,a1,o1,yv,bv,r1,t1,n1,s1,i1,l1,c1,u1,d1,f1,h1,m1],n=[p1,g1,v1,x1,y1,b1,w1,j1,yo,yv,bv,wv,N1,_1,S1,jv,Di,E1,Nv,C1],s=xo(),a=De(s,Nv);Xt(a,n,a),Xt(a,t.domain,a);const i=xo(),l=xo(),c=xo();Xt(s,t.domain,i),Xt(s,t.scheme,l),Xt(s,t.slashscheme,c),Xt(i,n,a),Xt(i,t.domain,i);const u=De(i,kc);De(a,kc,u),De(l,kc,u),De(c,kc,u);const d=De(a,Ri);Xt(d,n,a),Xt(d,t.domain,a);const f=xo();Xt(u,t.domain,f),Xt(f,t.domain,f);const m=De(f,Ri);Xt(m,t.domain,f);const h=xo(qz);Xt(m,t.tld,h),Xt(m,t.utld,h),De(u,Zx,h);const p=De(f,yo);De(p,yo,p),Xt(p,t.domain,f),Xt(h,t.domain,f),De(h,Ri,m),De(h,yo,p);const g=De(h,Dc);Xt(g,t.numeric,qz);const v=De(i,yo),b=De(i,Ri);De(v,yo,v),Xt(v,t.domain,i),Xt(b,n,a),Xt(b,t.domain,i);const y=xo(cb);Xt(b,t.tld,y),Xt(b,t.utld,y),Xt(y,t.domain,i),Xt(y,n,a),De(y,Ri,b),De(y,yo,v),De(y,kc,u);const w=De(y,Dc),N=xo(cb);Xt(w,t.numeric,N);const j=xo(cb),_=xo();Xt(j,e,j),Xt(j,r,_),Xt(_,e,j),Xt(_,r,_),De(y,Di,j),De(N,Di,j);const S=De(l,Dc),C=De(c,Dc),k=De(C,Di),A=De(k,Di);Xt(l,t.domain,i),De(l,Ri,b),De(l,yo,v),Xt(c,t.domain,i),De(c,Ri,b),De(c,yo,v),Xt(S,t.domain,j),De(S,Di,j),De(S,jv,j),Xt(A,t.domain,j),Xt(A,e,j),De(A,Di,j);const O=[[yv,bv],[t1,r1],[n1,s1],[a1,o1],[i1,l1],[c1,u1],[d1,f1],[h1,m1]];for(let P=0;P<O.length;P++){const[R,I]=O[P],$=De(j,R);De(_,R,$),De($,I,j);const B=xo(cb);Xt($,e,B);const L=xo();Xt($,r),Xt(B,e,B),Xt(B,r,L),Xt(L,e,B),Xt(L,r,L),De(B,I,j),De(L,I,j)}return De(s,Zx,y),De(s,gD,aQe),{start:s,tokens:Ote}}function iQe(t,e,r){let n=r.length,s=0,a=[],i=[];for(;s<n;){let l=t,c=null,u=null,d=0,f=null,m=-1;for(;s<n&&!(c=l.go(r[s].t));)i.push(r[s++]);for(;s<n&&(u=c||l.go(r[s].t));)c=null,l=u,l.accepts()?(m=0,f=l):m>=0&&m++,s++,d++;if(m<0)s-=d,s<n&&(i.push(r[s]),s++);else{i.length>0&&(a.push(hE(Wz,e,i)),i=[]),s-=m,d-=m;const h=f.t,p=r.slice(s-d,s);a.push(hE(h,e,p))}}return i.length>0&&a.push(hE(Wz,e,i)),a}function hE(t,e,r){const n=r[0].s,s=r[r.length-1].e,a=e.slice(n,s);return new t(a,r)}const lQe=typeof console<"u"&&console&&console.warn||(()=>{}),cQe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Hr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function uQe(){return Sa.groups={},Hr.scanner=null,Hr.parser=null,Hr.tokenQueue=[],Hr.pluginQueue=[],Hr.customSchemes=[],Hr.initialized=!1,Hr}function Hz(t,e=!1){if(Hr.initialized&&lQe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${cQe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Hr.customSchemes.push([t,e])}function dQe(){Hr.scanner=nQe(Hr.customSchemes);for(let t=0;t<Hr.tokenQueue.length;t++)Hr.tokenQueue[t][1]({scanner:Hr.scanner});Hr.parser=oQe(Hr.scanner.tokens);for(let t=0;t<Hr.pluginQueue.length;t++)Hr.pluginQueue[t][1]({scanner:Hr.scanner,parser:Hr.parser});return Hr.initialized=!0,Hr}function jD(t){return Hr.initialized||dQe(),iQe(Hr.parser.start,t,Tte(Hr.scanner.start,t))}jD.scan=Tte;function Mte(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new wD(r),s=jD(t),a=[];for(let i=0;i<s.length;i++){const l=s[i];l.isLink&&(!e||l.t===e)&&n.check(l)&&a.push(l.toFormattedObject(n))}return a}var ND="[\0- -\u2029]",fQe=new RegExp(ND),hQe=new RegExp(`${ND}$`),mQe=new RegExp(ND,"g");function pQe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function gQe(t){return new hn({key:new cs("autolink"),appendTransaction:(e,r,n)=>{const s=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),a=e.some(u=>u.getMeta("preventAutolink"));if(!s||a)return;const{tr:i}=n,l=Jee(r.doc,[...e]);if(ate(l).forEach(({newRange:u})=>{const d=GGe(n.doc,u,h=>h.isTextblock);let f,m;if(d.length>1)f=d[0],m=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const h=n.doc.textBetween(u.from,u.to," "," ");if(!hQe.test(h))return;f=d[0],m=n.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&m){const h=m.split(fQe).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],g=f.pos+m.lastIndexOf(p);if(!p)return!1;const v=jD(p).map(b=>b.toObject(t.defaultProtocol));if(!pQe(v))return!1;v.filter(b=>b.isLink).map(b=>({...b,from:g+b.start+1,to:g+b.end+1})).filter(b=>n.schema.marks.code?!n.doc.rangeHasMark(b.from,b.to,n.schema.marks.code):!0).filter(b=>t.validate(b.value)).filter(b=>t.shouldAutoLink(b.value)).forEach(b=>{uD(b.from,b.to,n.doc).some(y=>y.mark.type===t.type)||i.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!i.steps.length)return i}})}function vQe(t){return new hn({key:new cs("handleClickLink"),props:{handleClick:(e,r,n)=>{var s,a;if(n.button!==0||!e.editable)return!1;let i=null;if(n.target instanceof HTMLAnchorElement)i=n.target;else{let d=n.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;i=f.find(m=>m.nodeName==="A")}if(!i)return!1;const l=ste(e.state,t.type.name),c=(s=i==null?void 0:i.href)!=null?s:l.href,u=(a=i==null?void 0:i.target)!=null?a:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),i&&c?(window.open(c,u),!0):!1}}})}function xQe(t){return new hn({key:new cs("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:s}=t,{state:a}=e,{selection:i}=a,{empty:l}=i;if(l)return!1;let c="";n.content.forEach(d=>{c+=d.textContent});const u=Mte(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||s!==void 0&&!s(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function ed(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!t||t.replace(mQe,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var yQe=zf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Hz(t);return}Hz(t.scheme,t.optionalSlashes)})},onDestroy(){uQe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ed(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!ed(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ed(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",qn(this.options.HTMLAttributes,t),0]:["a",qn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var r;const n=((r=t.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(t)}](${n})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!ed(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!ed(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Cf({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,s=Mte(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:i=>!!ed(i,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(gQe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!ed(s,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(vQe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(xQe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),bQe=Object.defineProperty,wQe=(t,e)=>{for(var r in e)bQe(t,r,{get:e[r],enumerable:!0})},jQe="listItem",Kz="textStyle",Gz=/^\s*([-+*])\s$/,Rte=mo.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",qn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(jQe,this.editor.getAttributes(Kz)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=bp({find:Gz,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=bp({find:Gz,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Kz),editor:this.editor})),[t]}}),Dte=mo.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",qn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let r=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))r=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const i=t.tokens.slice(1),l=e.parseChildren(i);r.push(...l)}}else r=e.parseChildren(t.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(t,e,r)=>mD(t,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),NQe={};wQe(NQe,{findListItemPos:()=>Ky,getNextListDepth:()=>_D,handleBackspace:()=>RO,handleDelete:()=>DO,hasListBefore:()=>Ite,hasListItemAfter:()=>_Qe,hasListItemBefore:()=>$te,listItemHasSubList:()=>Lte,nextListIsDeeper:()=>Fte,nextListIsHigher:()=>Bte});var Ky=(t,e)=>{const{$from:r}=e.selection,n=Un(t,e.schema);let s=null,a=r.depth,i=r.pos,l=null;for(;a>0&&l===null;)s=r.node(a),s.type===n?l=a:(a-=1,i-=1);return l===null?null:{$pos:e.doc.resolve(i),depth:l}},_D=(t,e)=>{const r=Ky(t,e);if(!r)return!1;const[,n]=sYe(e,t,r.$pos.pos+4);return n},Ite=(t,e,r)=>{const{$anchor:n}=t.selection,s=Math.max(0,n.pos-2),a=t.doc.resolve(s).node();return!(!a||!r.includes(a.type.name))},$te=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==t)},Lte=(t,e,r)=>{if(!r)return!1;const n=Un(t,e.schema);let s=!1;return r.descendants(a=>{a.type===n&&(s=!0)}),s},RO=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ku(t.state,e)&&Ite(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((m,h)=>{m.type.name===e&&u.push({node:m,pos:h})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!ku(t.state,e)||!lYe(t.state))return!1;const n=Ky(e,t.state);if(!n)return!1;const a=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),i=Lte(e,t.state,a);return $te(e,t.state)&&!i?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Fte=(t,e)=>{const r=_D(t,e),n=Ky(t,e);return!n||!r?!1:r>n.depth},Bte=(t,e)=>{const r=_D(t,e),n=Ky(t,e);return!n||!r?!1:r<n.depth},DO=(t,e)=>{if(!ku(t.state,e)||!iYe(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:Fte(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Bte(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},_Qe=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==t)},zte=Rn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&DO(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&DO(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&RO(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&RO(t,r,n)&&(e=!0)}),e}}}}),Yz=/^(\s*)(\d+)\.\s+(.*)$/,SQe=/^\s/;function CQe(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r],a=s.match(Yz);if(!a)break;const[,i,l,c]=a,u=i.length;let d=c,f=r+1;const m=[s];for(;f<t.length;){const h=t[f];if(h.match(Yz))break;if(h.trim()==="")m.push(h),d+=`
`,f+=1;else if(h.match(SQe))m.push(h),d+=`
${h.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:m.join(`
`)}),n=f,r=f}return[e,n]}function Vte(t,e,r){var n;const s=[];let a=0;for(;a<t.length;){const i=t[a];if(i.indent===e){const l=i.content.split(`
`),c=((n=l[0])==null?void 0:n.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:r.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const h=r.blockTokens(d);u.push(...h)}let f=a+1;const m=[];for(;f<t.length&&t[f].indent>e;)m.push(t[f]),f+=1;if(m.length>0){const h=Math.min(...m.map(g=>g.indent)),p=Vte(m,h,r);u.push({type:"list",ordered:!0,start:m[0].number,items:p,raw:m.map(g=>g.raw).join(`
`)})}s.push({type:"list_item",raw:i.raw,tokens:u}),a=f}else a+=1}return s}function EQe(t,e){return t.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")n.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=e.parseChildren([s]);n.push({type:"paragraph",content:a})}else{const a=e.parseChildren([s]);a.length>0&&n.push(...a)}}),{type:"listItem",content:n}})}var kQe="listItem",Xz="textStyle",Qz=/^(\d+)\.\s$/,Ute=mo.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",qn(this.options.HTMLAttributes,r),0]:["ol",qn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const r=t.start||1,n=t.items?EQe(t.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(t,e,r)=>{var n;const s=t.split(`
`),[a,i]=CQe(s);if(a.length===0)return;const l=Vte(a,0,r);return l.length===0?void 0:{type:"list",ordered:!0,start:((n=a[0])==null?void 0:n.number)||1,items:l,raw:s.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kQe,this.editor.getAttributes(Xz)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=bp({find:Qz,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=bp({find:Qz,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Xz)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),AQe=/^\s*(\[([( |x])?\])\s$/,OQe=mo.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",qn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const r=[];if(t.tokens&&t.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):r.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const n=e.parseChildren(t.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:t.checked||!1},r)},renderMarkdown:(t,e)=>{var r;const s=`- [${(r=t.attrs)!=null&&r.checked?"x":" "}] `;return mD(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const s=document.createElement("li"),a=document.createElement("label"),i=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,m;l.ariaLabel=((m=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:m.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),a.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const h=r();if(typeof h!="number")return!1;const p=m.doc.nodeAt(h);return m.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:f}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{s.setAttribute(d,f)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,a.append(l,i),s.append(a,c),Object.entries(e).forEach(([d,f])=>{s.setAttribute(d,f)}),{dom:s,contentDOM:c,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[bp({find:AQe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),TQe=mo.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",qn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const r=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(t,e,r){const n=a=>{const i=_O(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:n},r);return i?[{type:"taskList",raw:i.raw,items:i.items}]:r.blockTokens(a)},s=_O(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,i)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:r.inlineTokens(a.mainContent),nestedTokens:i}),customNestedParser:n},r);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Rn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Rte.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Dte.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(zte.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Ute.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(OQe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(TQe.configure(this.options.taskList)),t}});var PQe=mo.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",qn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const r=t.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),MQe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,RQe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,DQe=zf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",qn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[yp({find:MQe,type:this.type})]},addPasteRules(){return[Cf({find:RQe,type:this.type})]}}),IQe=mo.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),$Qe=zf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",qn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,r){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:r.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function LQe(t={}){return new hn({view(e){return new FQe(e,t)}})}class FQe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=i=>{this[s](i)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,a=s.getBoundingClientRect(),i=a.width/s.offsetWidth,l=a.height/s.offsetHeight;if(r){let f=e.nodeBefore,m=e.nodeAfter;if(f||m){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=f?p.bottom:p.top;f&&m&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*l;n={left:p.left,right:p.right,top:g-v,bottom:g+v}}}}if(!n){let f=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*i;n={left:f.left-m,right:f.left+m,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),m=f.width/c.offsetWidth,h=f.height/c.offsetHeight;u=f.left-c.scrollLeft*m,d=f.top-c.scrollTop*h}this.element.style.left=(n.left-u)/i+"px",this.element.style.top=(n.top-d)/l+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!a){let i=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=qZ(this.editorView.state.doc,i,this.editorView.dragging.slice);l!=null&&(i=l)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class bn extends Qt{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return bn.valid(n)?new bn(n):Qt.near(n)}content(){return rt.empty}eq(e){return e instanceof bn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bn(e.resolve(r.pos))}getBookmark(){return new SD(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!BQe(e)||!zQe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&bn.valid(e))return e;let s=e.pos,a=null;for(let i=e.depth;;i--){let l=e.node(i);if(r>0?e.indexAfter(i)<l.childCount:e.index(i)>0){a=l.child(r>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;s+=r;let c=e.doc.resolve(s);if(bn.valid(c))return c}for(;;){let i=r>0?a.firstChild:a.lastChild;if(!i){if(a.isAtom&&!a.isText&&!Ct.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*r),n=!1;continue e}break}a=i,s+=r;let l=e.doc.resolve(s);if(bn.valid(l))return l}return null}}}bn.prototype.visible=!1;bn.findFrom=bn.findGapCursorFrom;Qt.jsonID("gapcursor",bn);class SD{constructor(e){this.pos=e}map(e){return new SD(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return bn.valid(r)?new bn(r):Qt.near(r)}}function qte(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function BQe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||qte(s.type))return!0;if(s.inlineContent)return!1}}return!0}function zQe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||qte(s.type))return!0;if(s.inlineContent)return!1}}return!0}function VQe(){return new hn({props:{decorations:HQe,createSelectionBetween(t,e,r){return e.pos==r.pos&&bn.valid(r)?new bn(r):null},handleClick:qQe,handleKeyDown:UQe,handleDOMEvents:{beforeinput:WQe}}})}const UQe=qee({ArrowLeft:ub("horiz",-1),ArrowRight:ub("horiz",1),ArrowUp:ub("vert",-1),ArrowDown:ub("vert",1)});function ub(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,a){let i=n.selection,l=e>0?i.$to:i.$from,c=i.empty;if(i instanceof Ft){if(!a.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let u=bn.findGapCursorFrom(l,e,c);return u?(s&&s(n.tr.setSelection(new bn(u))),!0):!1}}function qQe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!bn.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&Ct.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new bn(n))),!0)}function WQe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof bn))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=Ae.empty;for(let i=n.length-1;i>=0;i--)s=Ae.from(n[i].createAndFill(null,s));let a=t.state.tr.replace(r.pos,r.pos,new rt(s,0,0));return a.setSelection(Ft.near(a.doc.resolve(r.pos+1))),t.dispatch(a),!1}function HQe(t){if(!(t.selection instanceof bn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",on.create(t.doc,[ia.widget(t.selection.head,e,{key:"gapcursor"})])}var k1=200,xs=function(){};xs.prototype.append=function(e){return e.length?(e=xs.from(e),!this.length&&e||e.length<k1&&this.leafAppend(e)||this.length<k1&&e.leafPrepend(this)||this.appendInner(e)):this};xs.prototype.prepend=function(e){return e.length?xs.from(e).append(this):this};xs.prototype.appendInner=function(e){return new KQe(this,e)};xs.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?xs.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};xs.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};xs.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};xs.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(a,i){return s.push(e(a,i))},r,n),s};xs.from=function(e){return e instanceof xs?e:e&&e.length?new Wte(e):xs.empty};var Wte=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,i,l){for(var c=a;c<i;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,i,l){for(var c=a-1;c>=i;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=k1)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=k1)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(xs);xs.empty=new Wte([]);var KQe=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,a,i){var l=this.left.length;if(s<l&&this.left.forEachInner(n,s,Math.min(a,l),i)===!1||a>l&&this.right.forEachInner(n,Math.max(s-l,0),Math.min(this.length,a)-l,i+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,a,i){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(n,s-l,Math.max(a,l)-l,i+l)===!1||a<l&&this.left.forEachInvertedInner(n,Math.min(s,l),a,i)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(n,s):n>=a?this.right.slice(n-a,s-a):this.left.slice(n,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(xs);const GQe=500;class hi{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,a;r&&(s=this.remapping(n,this.items.length),a=s.maps.length);let i=e.tr,l,c,u=[],d=[];return this.items.forEach((f,m)=>{if(!f.step){s||(s=this.remapping(n,m+1),a=s.maps.length),a--,d.push(f);return}if(s){d.push(new Ii(f.map));let h=f.step.map(s.slice(a)),p;h&&i.maybeStep(h).doc&&(p=i.mapping.maps[i.mapping.maps.length-1],u.push(new Ii(p,void 0,void 0,u.length+d.length))),a--,p&&s.appendMap(p,a)}else i.maybeStep(f.step);if(f.selection)return l=s?f.selection.map(s.slice(a)):f.selection,c=new hi(this.items.slice(0,n).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:i,selection:l}}addTransform(e,r,n,s){let a=[],i=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),m=new Ii(e.mapping.maps[d],f,r),h;(h=c&&c.merge(m))&&(m=h,d?a.pop():l=l.slice(0,l.length-1)),a.push(m),r&&(i++,r=void 0),s||(c=m)}let u=i-n.depth;return u>XQe&&(l=YQe(l,u),i-=u),new hi(l.append(a),i)}remapping(e,r){let n=new Kx;return this.items.forEach((s,a)=>{let i=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,i)},e,r),n}addMaps(e){return this.eventCount==0?this:new hi(this.items.append(e.map(r=>new Ii(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),a=e.mapping,i=e.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},s);let c=r;this.items.forEach(m=>{let h=a.getMirror(--c);if(h==null)return;i=Math.min(i,h);let p=a.maps[h];if(m.step){let g=e.steps[h].invert(e.docs[h]),v=m.selection&&m.selection.map(a.slice(c+1,h));v&&l++,n.push(new Ii(p,g,v))}else n.push(new Ii(p))},s);let u=[];for(let m=r;m<i;m++)u.push(new Ii(a.maps[m]));let d=this.items.slice(0,s).append(u).append(n),f=new hi(d,l);return f.emptyItemCount()>GQe&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],a=0;return this.items.forEach((i,l)=>{if(l>=e)s.push(i),i.selection&&a++;else if(i.step){let c=i.step.map(r.slice(n)),u=c&&c.getMap();if(n--,u&&r.appendMap(u,n),c){let d=i.selection&&i.selection.map(r.slice(n));d&&a++;let f=new Ii(u.invert(),c,d),m,h=s.length-1;(m=s.length&&s[h].merge(f))?s[h]=m:s.push(f)}}else i.map&&n--},this.items.length,0),new hi(xs.from(s.reverse()),a)}}hi.empty=new hi(xs.empty,0);function YQe(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class Ii{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ii(r.getMap().invert(),r,this.selection)}}}class Ac{constructor(e,r,n,s,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=a}}const XQe=20;function QQe(t,e,r,n){let s=r.getMeta(Xd),a;if(s)return s.historyState;r.getMeta(eJe)&&(t=new Ac(t.done,t.undone,null,0,-1));let i=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(i&&i.getMeta(Xd))return i.getMeta(Xd).redo?new Ac(t.done.addTransform(r,void 0,n,Ib(e)),t.undone,Jz(r.mapping.maps),t.prevTime,t.prevComposition):new Ac(t.done,t.undone.addTransform(r,void 0,n,Ib(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!i&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!JQe(r,t.prevRanges)),u=i?mE(t.prevRanges,r.mapping):Jz(r.mapping.maps);return new Ac(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,Ib(e)),hi.empty,u,r.time,l??t.prevComposition)}else return(a=r.getMeta("rebased"))?new Ac(t.done.rebased(r,a),t.undone.rebased(r,a),mE(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Ac(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),mE(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function JQe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&s>=e[a]&&(r=!0)}),r}function Jz(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,a,i)=>e.push(a,i));return e}function mE(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),a=e.map(t[n+1],-1);s<=a&&r.push(s,a)}return r}function ZQe(t,e,r){let n=Ib(e),s=Xd.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let i=a.selection.resolve(a.transform.doc),l=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),s,n),c=new Ac(r?l:a.remaining,r?a.remaining:l,null,0,-1);return a.transform.setSelection(i).setMeta(Xd,{redo:r,historyState:c})}let pE=!1,Zz=null;function Ib(t){let e=t.plugins;if(Zz!=e){pE=!1,Zz=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){pE=!0;break}}return pE}const Xd=new cs("history"),eJe=new cs("closeHistory");function tJe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new hn({key:Xd,state:{init(){return new Ac(hi.empty,hi.empty,null,0,-1)},apply(e,r,n){return QQe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?Kte:n=="historyRedo"?Gte:null;return!s||!e.editable?!1:(r.preventDefault(),s(e.state,e.dispatch))}}}})}function Hte(t,e){return(r,n)=>{let s=Xd.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let a=ZQe(s,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}const Kte=Hte(!1,!0),Gte=Hte(!0,!0);Rn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new hn({key:new cs("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const a=this.storage.characters({node:n.doc});if(a>s){const i=a-s,l=0,c=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=n.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),a=this.storage.characters({node:e.doc});if(a<=n||s>n&&a>n&&a<=s)return!0;if(s>n&&a>n&&a>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=a-n,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>n)}})]}});var rJe=Rn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[LQe(this.options)]}});Rn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new hn({key:new cs("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=e,a=[];if(!r||!n)return on.create(t,[]);let i=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;i+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&i-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";a.push(ia.node(u,u+c.nodeSize,{class:this.options.className}))}),on.create(t,a)}}})]}});var nJe=Rn.create({name:"gapCursor",addProseMirrorPlugins(){return[VQe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Nr(St(t,"allowGapCursor",r)))!=null?e:null}}}),sJe=Rn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new hn({key:new cs("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const a=this.editor.isEmpty;return t.descendants((i,l)=>{const c=n>=l&&n<=l+i.nodeSize,u=!i.isLeaf&&q_(i);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];a&&d.push(this.options.emptyEditorClass);const f=ia.node(l,l+i.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:l,hasAnchor:c}):this.options.placeholder});s.push(f)}return this.options.includeChildren}),on.create(t,s)}}})]}});Rn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new hn({key:new cs("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||ote(r.selection)||t.view.dragging?null:on.create(r.doc,[ia.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function e6({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var aJe=Rn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new cs(this.name),r=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(r).includes(s.name));return[new hn({key:e,appendTransaction:(s,a,i)=>{const{doc:l,tr:c,schema:u}=i,d=e.getState(i),f=l.content.size,m=u.nodes[r];if(d)return c.insert(f,m.create())},state:{init:(s,a)=>{const i=a.tr.doc.lastChild;return!e6({node:i,types:n})},apply:(s,a)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return a;const i=s.doc.lastChild;return!e6({node:i,types:n})}}})]}}),oJe=Rn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Kte(t,e),redo:()=>({state:t,dispatch:e})=>Gte(t,e)}},addProseMirrorPlugins(){return[tJe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),iJe=Rn.create({name:"starterKit",addExtensions(){var t,e,r,n;const s=[];return this.options.bold!==!1&&s.push(MXe.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(kXe.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Rte.configure(this.options.bulletList)),this.options.code!==!1&&s.push(IXe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(FXe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(BXe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(rJe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(nJe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(zXe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(VXe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(oJe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(UXe.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(GXe.configure(this.options.italic)),this.options.listItem!==!1&&s.push(Dte.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(zte.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(yQe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(Ute.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(PQe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(DQe.configure(this.options.strike)),this.options.text!==!1&&s.push(IQe.configure(this.options.text)),this.options.underline!==!1&&s.push($Qe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(aJe.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),lJe=iJe,cJe=sJe,Yte="Toggle",Xte=x.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...a}=t,[i,l]=oo({prop:r,onChange:s,defaultProp:n??!1,caller:Yte});return o.jsx(ct.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...a,ref:e,onClick:Ee(t.onClick,()=>{t.disabled||l(!i)})})});Xte.displayName=Yte;var Qte=Xte;const uJe=Tf.cva("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),ld=x.forwardRef(({className:t,variant:e,size:r,...n},s)=>o.jsx(Qte,{ref:s,className:Ne(uJe({variant:e,size:r,className:t})),...n}));ld.displayName=Qte.displayName;function dJe({value:t,onChange:e,placeholder:r}){const n=NXe({extensions:[lJe,cJe.configure({placeholder:r||"Digite aqui...",emptyEditorClass:"is-editor-empty before:content-[attr(data-placeholder)] before:text-muted-foreground before:float-left before:pointer-events-none before:h-0"})],content:t,editorProps:{attributes:{class:"prose prose-sm sm:prose-base dark:prose-invert focus:outline-none max-w-none min-h-[150px] px-3 py-2"}},onUpdate:({editor:s})=>{e(s.getHTML())}});return n?o.jsxs("div",{className:"border rounded-md bg-background",children:[o.jsxs("div",{className:"flex items-center gap-1 p-1 border-b bg-muted/20",children:[o.jsx(ld,{size:"sm",pressed:n.isActive("bold"),onPressedChange:()=>n.chain().focus().toggleBold().run(),"aria-label":"Negrito",children:o.jsx(die,{className:"h-4 w-4"})}),o.jsx(ld,{size:"sm",pressed:n.isActive("italic"),onPressedChange:()=>n.chain().focus().toggleItalic().run(),"aria-label":"Itlico",children:o.jsx(_ie,{className:"h-4 w-4"})}),o.jsx(Bj,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(ld,{size:"sm",pressed:n.isActive("heading",{level:2}),onPressedChange:()=>n.chain().focus().toggleHeading({level:2}).run(),"aria-label":"Ttulo 2",children:o.jsx(wie,{className:"h-4 w-4"})}),o.jsx(ld,{size:"sm",pressed:n.isActive("heading",{level:3}),onPressedChange:()=>n.chain().focus().toggleHeading({level:3}).run(),"aria-label":"Ttulo 3",children:o.jsx(jie,{className:"h-4 w-4"})}),o.jsx(Bj,{orientation:"vertical",className:"h-6 mx-1"}),o.jsx(ld,{size:"sm",pressed:n.isActive("bulletList"),onPressedChange:()=>n.chain().focus().toggleBulletList().run(),"aria-label":"Lista com marcadores",children:o.jsx(Z1,{className:"h-4 w-4"})}),o.jsx(ld,{size:"sm",pressed:n.isActive("orderedList"),onPressedChange:()=>n.chain().focus().toggleOrderedList().run(),"aria-label":"Lista numerada",children:o.jsx(kie,{className:"h-4 w-4"})})]}),o.jsx(gXe,{editor:n})]}):null}const fJe=ws({titulo:$e().min(1,"Ttulo  obrigatrio"),tipo:ns(["POST","STORY","REEL","VIDEO","ARTIGO","EMAIL"]),plataforma:ns(["INSTAGRAM","FACEBOOK","TIKTOK","YOUTUBE","LINKEDIN","EMAIL","BLOG","CURSO_NOXUS_MVP"]),status:ns(["IDEIA","EM_PRODUCAO","REVISAO","AGENDADO","PUBLICADO","ARQUIVADO"]),data_agendamento:$e().optional(),descricao:$e().optional(),link:$e().optional()});function hJe({onSave:t,itemToEdit:e,open:r,onOpenChange:n}){const[s,a]=x.useState(!1),[i,l]=x.useState(!1),c=r!==void 0,u=c?r:s,d=c?n:a,f=La({resolver:Fa(fJe),defaultValues:{titulo:"",tipo:"POST",plataforma:"INSTAGRAM",status:"IDEIA",data_agendamento:"",descricao:"",link:""}});x.useEffect(()=>{u&&(e?f.reset({titulo:e.titulo,tipo:e.tipo,plataforma:e.plataforma,status:e.status,data_agendamento:e.data_agendamento||"",descricao:e.descricao||"",link:e.link||""}):f.reset({titulo:"",tipo:"POST",plataforma:"INSTAGRAM",status:"IDEIA",data_agendamento:"",descricao:"",link:""}))},[u,e,f]);const m=async h=>{l(!0);try{await t({titulo:h.titulo,tipo:h.tipo,plataforma:h.plataforma,status:h.status,data_agendamento:h.data_agendamento?new Date(h.data_agendamento).toISOString():void 0,descricao:h.descricao,link:h.link}),d(!1),f.reset()}catch{}finally{l(!1)}};return o.jsxs(fr,{open:u,onOpenChange:d,children:[!c&&o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"}),"Novo Contedo"]})}),o.jsxs(ir,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[e?o.jsx(yi,{className:"h-5 w-5"}):o.jsx(qv,{className:"h-5 w-5"}),e?"Editar Contedo":"Planejar Contedo"]})}),o.jsx(dl,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(m),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(_n,{className:"h-4 w-4"})," Informaes Bsicas"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"tipo",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Tipo"}),o.jsxs(He,{value:h.value,onValueChange:h.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{children:o.jsx(Ke,{})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"POST",children:"Post"}),o.jsx(Y,{value:"STORY",children:"Story"}),o.jsx(Y,{value:"REEL",children:"Reel"}),o.jsx(Y,{value:"VIDEO",children:"Vdeo"}),o.jsx(Y,{value:"ARTIGO",children:"Artigo"}),o.jsx(Y,{value:"EMAIL",children:"E-mail"})]})]}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"plataforma",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Plataforma"}),o.jsxs(He,{value:h.value,onValueChange:h.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{children:o.jsx(Ke,{})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"INSTAGRAM",children:"Instagram"}),o.jsx(Y,{value:"FACEBOOK",children:"Facebook"}),o.jsx(Y,{value:"YOUTUBE",children:"YouTube"}),o.jsx(Y,{value:"TIKTOK",children:"TikTok"}),o.jsx(Y,{value:"LINKEDIN",children:"LinkedIn"}),o.jsx(Y,{value:"BLOG",children:"Blog"}),o.jsx(Y,{value:"EMAIL",children:"E-mail"}),o.jsx(Y,{value:"CURSO_NOXUS_MVP",children:"Curso Noxus MVP"})]})]}),o.jsx(wt,{})]})})]}),o.jsx(Nt,{name:"titulo",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Ttulo / Tema"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(qv,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex: Reels sobre Dicas de Tatuagem",className:"pl-9",...h})]})}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Yt,{className:"h-4 w-4"})," Agendamento e Status"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"status",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Status Inicial"}),o.jsxs(He,{value:h.value,onValueChange:h.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{children:o.jsx(Ke,{})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"IDEIA",children:"Ideia"}),o.jsx(Y,{value:"EM_PRODUCAO",children:"Em Produo"}),o.jsx(Y,{value:"REVISAO",children:"Reviso"}),o.jsx(Y,{value:"AGENDADO",children:"Agendado"}),o.jsx(Y,{value:"PUBLICADO",children:"Publicado"}),o.jsx(Y,{value:"ARQUIVADO",children:"Arquivado"})]})]}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"data_agendamento",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Data Prevista"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"datetime-local",className:"pl-9",...h})]})}),o.jsx(wt,{})]})})]}),o.jsx(Nt,{name:"link",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Link (Opcional)"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(SU,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"https://...",className:"pl-9",...h})]})}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(jn,{className:"h-4 w-4"})," Detalhes"]}),o.jsx(Nt,{name:"descricao",control:f.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Descrio / Roteiro"}),o.jsx(bt,{children:o.jsx("div",{className:"relative",children:o.jsx(dJe,{value:h.value||"",onChange:h.onChange,placeholder:"Detalhes do contedo..."})})}),o.jsx(wt,{})]})})]}),o.jsxs(Da,{children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:i,children:i?"Salvando...":"Salvar"})]})]})})]})]})}function mJe(){const[t,e]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{s()},[]);async function s(){try{n(!0);const{data:c,error:u}=await X.from("conteudo_producao").select("*").order("data_agendamento",{ascending:!0});if(u)throw u;e(c||[])}catch(c){console.error("Erro ao buscar contedo:",c),Be.toast.error("Erro ao carregar lista de contedo")}finally{n(!1)}}async function a(c){try{const{data:{user:u}}=await X.auth.getUser();if(!u){Be.toast.error("Voc precisa estar logado para adicionar contedo");return}const{data:d,error:f}=await X.from("conteudo_producao").insert([{...c,user_id:u.id}]).select().single();if(f)throw f;return e([...t,d]),Be.toast.success("Contedo adicionado com sucesso!"),d}catch(u){throw console.error("Erro ao adicionar contedo:",u),Be.toast.error(`Erro ao adicionar contedo: ${u.message||"Erro desconhecido"}`),u}}async function i(c,u){try{const{data:d,error:f}=await X.from("conteudo_producao").update(u).eq("id",c).select().single();if(f)throw f;e(t.map(m=>m.id===c?d:m)),Be.toast.success("Contedo atualizado com sucesso!")}catch(d){console.error("Erro ao atualizar contedo:",d),Be.toast.error("Erro ao atualizar contedo")}}async function l(c){try{const{error:u}=await X.from("conteudo_producao").delete().eq("id",c);if(u)throw u;e(t.filter(d=>d.id!==c)),Be.toast.success("Contedo removido com sucesso!")}catch(u){console.error("Erro ao remover contedo:",u),Be.toast.error("Erro ao remover contedo")}}return{items:t,loading:r,addItem:a,updateItem:i,deleteItem:l,refresh:s}}function pJe(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var CD="ScrollArea",[Jte]=Ms(CD),[gJe,Ko]=Jte(CD),Zte=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=t,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,m]=x.useState(null),[h,p]=x.useState(null),[g,v]=x.useState(null),[b,y]=x.useState(0),[w,N]=x.useState(0),[j,_]=x.useState(!1),[S,C]=x.useState(!1),k=Ot(e,O=>c(O)),A=Dp(s);return o.jsx(gJe,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:N,children:o.jsx(ct.div,{dir:A,...i,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Zte.displayName=CD;var ere="ScrollAreaViewport",tre=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=t,i=Ko(ere,r),l=x.useRef(null),c=Ot(e,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});tre.displayName=ere;var vl="ScrollAreaScrollbar",ED=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ko(vl,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=t.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(vJe,{...n,ref:e,forceMount:r}):s.type==="scroll"?o.jsx(xJe,{...n,ref:e,forceMount:r}):s.type==="auto"?o.jsx(rre,{...n,ref:e,forceMount:r}):s.type==="always"?o.jsx(kD,{...n,ref:e}):null});ED.displayName=vl;var vJe=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ko(vl,t.__scopeScrollArea),[a,i]=x.useState(!1);return x.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(ys,{present:r||a,children:o.jsx(rre,{"data-state":a?"visible":"hidden",...n,ref:e})})}),xJe=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ko(vl,t.__scopeScrollArea),a=t.orientation==="horizontal",i=X_(()=>c("SCROLL_END"),100),[l,c]=pJe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),x.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),i()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(ys,{present:r||l!=="hidden",children:o.jsx(kD,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ee(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),rre=x.forwardRef((t,e)=>{const r=Ko(vl,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,i]=x.useState(!1),l=t.orientation==="horizontal",c=X_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return wp(r.viewport,c),wp(r.content,c),o.jsx(ys,{present:n||a,children:o.jsx(kD,{"data-state":a?"visible":"hidden",...s,ref:e})})}),kD=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Ko(vl,t.__scopeScrollArea),a=x.useRef(null),i=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ire(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,h){return _Je(m,i.current,l,h)}return r==="horizontal"?o.jsx(yJe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,h=t6(m,l,s.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?o.jsx(bJe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,h=t6(m,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),yJe=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Ko(vl,t.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Ot(e,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(sre,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),cre(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:O1(i.paddingLeft),paddingEnd:O1(i.paddingRight)}})}})}),bJe=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Ko(vl,t.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Ot(e,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(sre,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),cre(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:O1(i.paddingTop),paddingEnd:O1(i.paddingBottom)}})}})}),[wJe,nre]=Jte(vl),sre=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,h=Ko(vl,r),[p,g]=x.useState(null),v=Ot(e,k=>g(k)),b=x.useRef(null),y=x.useRef(""),w=h.viewport,N=n.content-n.viewport,j=ln(d),_=ln(c),S=X_(f,10);function C(k){if(b.current){const A=k.clientX-b.current.left,O=k.clientY-b.current.top;u({x:A,y:O})}}return x.useEffect(()=>{const k=A=>{const O=A.target;(p==null?void 0:p.contains(O))&&j(A,N)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,p,N,j]),x.useEffect(_,[n,_]),wp(p,S),wp(h.content,S),o.jsx(wJe,{scope:r,scrollbar:p,hasThumb:s,onThumbChange:ln(a),onThumbPointerUp:ln(i),onThumbPositionChange:_,onThumbPointerDown:ln(l),children:o.jsx(ct.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:Ee(t.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),b.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(k))}),onPointerMove:Ee(t.onPointerMove,C),onPointerUp:Ee(t.onPointerUp,k=>{const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),A1="ScrollAreaThumb",are=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=nre(A1,t.__scopeScrollArea);return o.jsx(ys,{present:r||s.hasThumb,children:o.jsx(jJe,{ref:e,...n})})}),jJe=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=Ko(A1,r),i=nre(A1,r),{onThumbPositionChange:l}=i,c=Ot(e,f=>i.onThumbChange(f)),u=x.useRef(void 0),d=X_(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(d(),!u.current){const h=SJe(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,d,l]),o.jsx(ct.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;i.onThumbPointerDown({x:p,y:g})}),onPointerUp:Ee(t.onPointerUp,i.onThumbPointerUp)})});are.displayName=A1;var AD="ScrollAreaCorner",ore=x.forwardRef((t,e)=>{const r=Ko(AD,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(NJe,{...t,ref:e}):null});ore.displayName=AD;var NJe=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Ko(AD,r),[a,i]=x.useState(0),[l,c]=x.useState(0),u=!!(a&&l);return wp(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),wp(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(ct.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function O1(t){return t?parseInt(t,10):0}function ire(t,e){const r=t/e;return isNaN(r)?0:r}function Y_(t){const e=ire(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function _Je(t,e,r,n="ltr"){const s=Y_(r),a=s/2,i=e||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return lre([c,u],f)(t)}function t6(t,e,r="ltr"){const n=Y_(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,i=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=nx(t,c);return lre([0,i],[0,l])(u)}function lre(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function cre(t,e){return t>0&&t<e}var SJe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function X_(t,e){const r=ln(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function wp(t,e){const r=ln(e);Mn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var ure=Zte,CJe=tre,EJe=ore;const dre=x.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(ure,{ref:n,className:Ne("relative overflow-hidden",t),...r,children:[o.jsx(CJe,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(fre,{}),o.jsx(EJe,{})]}));dre.displayName=ure.displayName;const fre=x.forwardRef(({className:t,orientation:e="vertical",...r},n)=>o.jsx(ED,{ref:n,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:o.jsx(are,{className:"relative flex-1 rounded-full bg-border"})}));fre.displayName=ED.displayName;const kJe=[{id:"IDEIA",title:"Ideias",dotColor:"bg-yellow-500"},{id:"EM_PRODUCAO",title:"Em Produo",dotColor:"bg-blue-500"},{id:"REVISAO",title:"Reviso",dotColor:"bg-purple-500"},{id:"AGENDADO",title:"Agendado",dotColor:"bg-orange-500"},{id:"PUBLICADO",title:"Publicado",dotColor:"bg-green-500"},{id:"ARQUIVADO",title:"Arquivado",dotColor:"bg-gray-500"}],AJe=t=>{switch(t){case"VIDEO":case"REEL":return o.jsx(qv,{className:"h-3 w-3"});case"EMAIL":return o.jsx(my,{className:"h-3 w-3"});case"ARTIGO":return o.jsx(jn,{className:"h-3 w-3"});default:return o.jsx(wm,{className:"h-3 w-3"})}};function OJe({items:t,onStatusChange:e,onDelete:r,onEdit:n}){const[s,a]=x.useState(null),i=(d,f)=>{a(f),d.dataTransfer.setData("text/plain",f),d.dataTransfer.effectAllowed="move"},l=d=>{d.preventDefault()},c=(d,f)=>{d.preventDefault();const m=d.dataTransfer.getData("text/plain");m&&e(m,f),a(null)},u=d=>o.jsx(ne,{className:`mb-3 cursor-grab active:cursor-grabbing hover:shadow-md transition-all ${s===d.id?"opacity-50":""}`,draggable:!0,onDragStart:f=>i(f,d.id),onDoubleClick:()=>n(d),children:o.jsxs(he,{className:"p-3 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1 flex-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[AJe(d.tipo),o.jsx("span",{className:"font-medium text-sm line-clamp-2",children:d.titulo})]})}),o.jsxs(Cy,{children:[o.jsx(Ey,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 -mr-2",children:o.jsx(jU,{className:"h-4 w-4"})})}),o.jsxs(Ip,{align:"end",children:[o.jsxs(el,{onClick:()=>n(d),children:[o.jsx(yi,{className:"mr-2 h-4 w-4"}),"Editar"]}),o.jsxs(el,{onClick:()=>r(d.id),className:"text-destructive",children:[o.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(Ge,{variant:"outline",className:"text-[10px] px-1.5 py-0.5 h-5 font-normal",children:d.plataforma}),o.jsx(Ge,{variant:"secondary",className:"text-[10px] px-1.5 py-0.5 h-5 font-normal",children:d.tipo})]}),d.data_agendamento&&o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground pt-1 border-t",children:[o.jsx(Yt,{className:"h-3 w-3"}),Mt(new Date(d.data_agendamento),"dd/MM HH:mm",{locale:Sr})]})]})},d.id);return o.jsx("div",{className:"flex gap-4 h-[calc(100vh-250px)] overflow-x-auto pb-4",children:kJe.map(d=>{const f=t.filter(m=>m.status===d.id);return o.jsxs("div",{className:"flex flex-col h-full min-w-[280px] w-[280px] bg-muted/30 rounded-xl border p-2",onDragOver:l,onDrop:m=>c(m,d.id),children:[o.jsxs("div",{className:"p-3 mb-2 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${d.dotColor}`}),o.jsx("span",{className:"font-medium text-sm text-foreground",children:d.title})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-medium px-2 py-0.5 bg-background rounded-full border",children:f.length})]}),o.jsx(dre,{className:"flex-1 -mr-2 pr-2",children:o.jsx("div",{className:"min-h-[100px]",children:f.length===0?o.jsx("div",{className:"h-24 border-2 border-dashed border-muted-foreground/20 rounded-lg flex items-center justify-center text-xs text-muted-foreground",children:"Arraste itens para c"}):f.map(u)})})]},d.id)})})}function TJe({item:t,onClick:e,compact:r=!1,draggable:n=!1,isDragging:s=!1}){const a=d=>{switch(d){case"IDEIA":return{bg:"bg-yellow-500",text:"text-yellow-700 dark:text-yellow-300",bgLight:"bg-yellow-50 dark:bg-yellow-950/50",border:"border-yellow-200 dark:border-yellow-800"};case"EM_PRODUCAO":return{bg:"bg-blue-500",text:"text-blue-700 dark:text-blue-300",bgLight:"bg-blue-50 dark:bg-blue-950/50",border:"border-blue-200 dark:border-blue-800"};case"REVISAO":return{bg:"bg-purple-500",text:"text-purple-700 dark:text-purple-300",bgLight:"bg-purple-50 dark:bg-purple-950/50",border:"border-purple-200 dark:border-purple-800"};case"AGENDADO":return{bg:"bg-orange-500",text:"text-orange-700 dark:text-orange-300",bgLight:"bg-orange-50 dark:bg-orange-950/50",border:"border-orange-200 dark:border-orange-800"};case"PUBLICADO":return{bg:"bg-green-500",text:"text-green-700 dark:text-green-300",bgLight:"bg-green-50 dark:bg-green-950/50",border:"border-green-200 dark:border-green-800"};case"ARQUIVADO":return{bg:"bg-gray-500",text:"text-gray-700 dark:text-gray-300",bgLight:"bg-gray-50 dark:bg-gray-950/50",border:"border-gray-200 dark:border-gray-800"};default:return{bg:"bg-gray-500",text:"text-gray-700 dark:text-gray-300",bgLight:"bg-gray-50 dark:bg-gray-950/50",border:"border-gray-200 dark:border-gray-800"}}},i=d=>{switch(d){case"VIDEO":case"REEL":return o.jsx(qv,{className:"h-3 w-3"});case"EMAIL":return o.jsx(my,{className:"h-3 w-3"});case"ARTIGO":return o.jsx(jn,{className:"h-3 w-3"});default:return o.jsx(wm,{className:"h-3 w-3"})}},l=a(t.status),c=d=>d?Mt(new Date(d),"HH:mm"):"",u=d=>{switch(d){case"IDEIA":return"Ideia";case"EM_PRODUCAO":return"Em Produo";case"REVISAO":return"Reviso";case"AGENDADO":return"Agendado";case"PUBLICADO":return"Publicado";case"ARQUIVADO":return"Arquivado";default:return d}};return r?o.jsx("div",{className:`
          relative p-2 rounded-lg border-l-4 cursor-pointer
          transition-all duration-200 hover:shadow-sm
          ${l.bgLight} ${l.border}
          ${s?"opacity-50 scale-95":""}
          ${n?"cursor-grab active:cursor-grabbing":""}
        `,style:{borderLeftColor:l.bg.replace("bg-","")},onClick:e,children:o.jsx("div",{className:"space-y-1",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i(t.tipo),o.jsx("span",{className:`text-xs font-medium truncate ${l.text}`,children:t.titulo})]}),t.data_agendamento&&o.jsx("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap",children:c(t.data_agendamento)})]})})}):o.jsx(ne,{className:`
        cursor-pointer transition-all duration-200 hover:shadow-lg
        ${l.border} ${l.bgLight}
        ${s?"opacity-50 scale-95 rotate-2":""}
        ${n?"cursor-grab active:cursor-grabbing":""}
      `,onClick:e,children:o.jsxs(he,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs(Ge,{variant:"outline",className:`${l.text} ${l.border} ${l.bgLight}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${l.bg} mr-2`}),u(t.status)]}),t.data_agendamento&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(Yt,{className:"w-4 h-4"}),o.jsx("span",{children:Mt(new Date(t.data_agendamento),"dd/MM HH:mm",{locale:Sr})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[i(t.tipo),o.jsx("span",{className:"font-medium text-foreground",children:t.titulo})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ge,{variant:"secondary",className:"text-xs",children:t.plataforma}),o.jsx(Ge,{variant:"outline",className:"text-xs",children:t.tipo})]})]})]})})}function PJe({items:t,onDateChange:e,onEdit:r}){const[n,s]=x.useState(new Date),[a,i]=x.useState(null),[l,c]=x.useState(null),u=()=>{s(C=>new Date(C.getFullYear(),C.getMonth()-1,1))},d=()=>{s(C=>new Date(C.getFullYear(),C.getMonth()+1,1))},f=()=>{s(new Date)},m=x.useMemo(()=>{const C=n.getFullYear(),k=n.getMonth(),A=new Date(C,k,1),O=new Date(C,k+1,0),P=new Date(A);P.setDate(P.getDate()-A.getDay());const R=new Date(O);R.setDate(R.getDate()+(6-O.getDay()));const I=[],$=new Date(P);for(;$<=R;)I.push(new Date($)),$.setDate($.getDate()+1);return I},[n]),h=x.useMemo(()=>{const C={};return t.forEach(k=>{if(!k.data_agendamento)return;const A=new Date(k.data_agendamento),O=A.getFullYear(),P=String(A.getMonth()+1).padStart(2,"0"),R=String(A.getDate()).padStart(2,"0"),I=`${O}-${P}-${R}`;C[I]||(C[I]=[]),C[I].push(k)}),Object.keys(C).forEach(k=>{C[k].sort((A,O)=>!A.data_agendamento||!O.data_agendamento?0:new Date(A.data_agendamento).getTime()-new Date(O.data_agendamento).getTime())}),C},[t]),p=C=>{const k=C.getFullYear(),A=String(C.getMonth()+1).padStart(2,"0"),O=String(C.getDate()).padStart(2,"0");return`${k}-${A}-${O}`},g=C=>C.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),v=C=>{const k=new Date;return C.toDateString()===k.toDateString()},b=C=>C.getMonth()===n.getMonth(),y=(C,k)=>{i(k),C.dataTransfer.setData("text/plain",k),C.dataTransfer.effectAllowed="move",setTimeout(()=>{const A=document.querySelector(`[data-item-id="${k}"]`);A&&A.classList.add("dragging")},0)},w=()=>{i(null),c(null),document.querySelectorAll(".dragging").forEach(C=>{C.classList.remove("dragging")})},N=(C,k)=>{C.preventDefault(),C.stopPropagation(),C.dataTransfer.dropEffect="move",c(k)},j=C=>{C.preventDefault(),C.stopPropagation();const k=C.currentTarget.getBoundingClientRect(),A=C.clientX,O=C.clientY;(A<k.left||A>k.right||O<k.top||O>k.bottom)&&c(null)},_=(C,k)=>{C.preventDefault();const A=C.dataTransfer.getData("text/plain");if(!(A&&A!==a)){if(a){const O=t.find(P=>P.id===a);if(O){const P=O.data_agendamento?new Date(O.data_agendamento):new Date,[R,I,$]=k.split("-").map(Number),B=new Date(R,I-1,$);B.setHours(P.getHours()||9),B.setMinutes(P.getMinutes()||0),e(a,B)}}i(null),c(null)}},S=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h2",{className:"text-2xl font-bold capitalize",children:g(n)}),o.jsx(U,{variant:"outline",size:"sm",onClick:f,className:"rounded-xl",children:"Hoje"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"outline",size:"icon",onClick:u,className:"rounded-xl",children:o.jsx(kp,{className:"h-4 w-4"})}),o.jsx(U,{variant:"outline",size:"icon",onClick:d,className:"rounded-xl",children:o.jsx(Du,{className:"h-4 w-4"})})]})]}),o.jsx(ne,{className:"rounded-2xl overflow-hidden",children:o.jsxs(he,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:S.map(C=>o.jsx("div",{className:"p-4 text-center font-medium text-muted-foreground bg-muted/30",children:C},C))}),o.jsx("div",{className:"grid grid-cols-7",children:m.map((C,k)=>{const A=p(C),O=h[A]||[],P=b(C),R=v(C),I=l===A;return o.jsxs("div",{className:`
                                        min-h-[120px] border-r border-b p-2 cursor-pointer group
                                        transition-all duration-200 ease-in-out
                                        ${P?"hover:bg-muted/50":"bg-muted/20 text-muted-foreground"}
                                        ${R?"bg-blue-50 dark:bg-blue-950/50 border-blue-200 dark:border-blue-800":""}
                                        ${I?"bg-primary/10 ring-2 ring-inset ring-primary/20":""}
                                    `,onDragOver:$=>N($,A),onDragLeave:$=>j($),onDrop:$=>_($,A),children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("span",{className:`
                                                text-sm font-medium transition-all duration-200
                                                ${R?"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center":""}
                                                ${P?"":"text-muted-foreground"}
                                            `,children:C.getDate()})}),o.jsxs("div",{className:"space-y-1",children:[O.slice(0,3).map($=>o.jsx("div",{"data-item-id":$.id,draggable:!0,onDragStart:B=>y(B,$.id),onDragEnd:w,onClick:B=>B.stopPropagation(),className:"transition-transform duration-200 hover:scale-105",children:o.jsx(TJe,{item:$,compact:!0,draggable:!0,isDragging:a===$.id,onClick:()=>r($)})},$.id)),O.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-1 transition-colors duration-200",children:["+",O.length-3," mais"]})]})]},k)})})]})})]})}function MJe({items:t}){const e=t.reduce((i,l)=>i+(l.spend||0),0),r=t.reduce((i,l)=>i+(l.reach||0),0),n=t.reduce((i,l)=>i+(l.clicks||0),0),s=n>0?e/n:0,a=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i);return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Gasto Total"}),o.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a(e)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Investimento acumulado"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Alcance"}),o.jsx(ca,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r.toLocaleString("pt-BR")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Pessoas impactadas"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Cliques"}),o.jsx(Tie,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n.toLocaleString("pt-BR")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Interaes diretas"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"CPC Mdio"}),o.jsx(_n,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a(s)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Custo por clique"})]})]})]})}const r6={ativo:"bg-green-500",pausado:"bg-yellow-500",concluido:"bg-gray-500"};function RJe({items:t,onDelete:e,onStatusChange:r}){const n=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s);return t.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum anncio encontrado."}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Campanha"}),o.jsx(ge,{children:"Plataforma"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Oramento"}),o.jsx(ge,{children:"Gasto"}),o.jsx(ge,{children:"Resultados"}),o.jsx(ge,{className:"text-right",children:"Aes"})]})}),o.jsx(is,{children:t.map(s=>o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:s.campaign_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:s.start_date?Mt(new Date(s.start_date),"dd/MM/yyyy",{locale:Sr}):"-"})]})}),o.jsx(fe,{className:"capitalize",children:s.platform}),o.jsx(fe,{children:o.jsx(Ge,{className:`${r6[s.status]} hover:${r6[s.status]}`,children:s.status})}),o.jsx(fe,{children:n(s.budget)}),o.jsx(fe,{children:n(s.spend)}),o.jsx(fe,{children:o.jsxs("div",{className:"text-xs",children:[o.jsxs("div",{children:["Alcance: ",s.reach.toLocaleString("pt-BR")]}),o.jsxs("div",{children:["Cliques: ",s.clicks.toLocaleString("pt-BR")]})]})}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[s.status==="ativo"?o.jsx(U,{variant:"ghost",size:"icon",title:"Pausar",onClick:()=>r(s.id,"pausado"),children:o.jsx(Mie,{className:"h-4 w-4"})}):s.status==="pausado"?o.jsx(U,{variant:"ghost",size:"icon",title:"Ativar",onClick:()=>r(s.id,"ativo"),children:o.jsx(Iie,{className:"h-4 w-4"})}):null,o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>e(s.id),children:o.jsx(Jr,{className:"h-4 w-4"})})]})})]},s.id))})]})})}const DJe=ws({campaign_name:$e().min(1,"Nome da campanha  obrigatrio"),platform:ns(["meta","google","tiktok"]),status:ns(["ativo","pausado","concluido"]),budget:wn().min(0,"Oramento deve ser maior ou igual a zero"),start_date:$e().optional(),end_date:$e().optional()}),IJe=t=>!t&&t!==0?"":t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),$Je=t=>{const e=t.replace(/\./g,"").replace(",",".");return parseFloat(e)||0};function LJe({onSave:t}){const[e,r]=x.useState(!1),[n,s]=x.useState(!1),[a,i]=x.useState(""),l=La({resolver:Fa(DJe),defaultValues:{campaign_name:"",platform:"meta",status:"ativo",budget:0,start_date:"",end_date:""}});x.useEffect(()=>{e||(l.reset(),i(""))},[e,l]);const c=f=>{const m=f.target.value.replace(/[^\d,]/g,"");i(m);const h=$Je(m);l.setValue("budget",h)},u=()=>{const f=l.watch("budget");i(IJe(f))},d=async f=>{s(!0);try{await t({campaign_name:f.campaign_name,platform:f.platform,status:f.status,budget:f.budget,start_date:f.start_date||void 0,end_date:f.end_date||void 0}),r(!1),l.reset(),i("")}catch{}finally{s(!1)}};return o.jsxs(fr,{open:e,onOpenChange:r,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"}),"Novo Anncio"]})}),o.jsxs(ir,{className:"sm:max-w-[550px]",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[o.jsx(nf,{className:"h-5 w-5"}),"Criar Anncio"]})}),o.jsx(dl,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(J1,{className:"h-4 w-4"})," Informaes da Campanha"]}),o.jsx(Nt,{name:"campaign_name",control:l.control,render:({field:f})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Nome da Campanha"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(nf,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex: Promoo de Vero",className:"pl-9",...f})]})}),o.jsx(wt,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"platform",control:l.control,render:({field:f})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Plataforma"}),o.jsxs(He,{value:f.value,onValueChange:f.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{children:o.jsx(Ke,{})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"meta",children:"Meta (FB/IG)"}),o.jsx(Y,{value:"google",children:"Google Ads"}),o.jsx(Y,{value:"tiktok",children:"TikTok Ads"})]})]}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"status",control:l.control,render:({field:f})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Status Inicial"}),o.jsxs(He,{value:f.value,onValueChange:f.onChange,children:[o.jsx(bt,{children:o.jsx(qe,{children:o.jsx(Ke,{})})}),o.jsxs(We,{children:[o.jsx(Y,{value:"ativo",children:"Ativo"}),o.jsx(Y,{value:"pausado",children:"Pausado"}),o.jsx(Y,{value:"concluido",children:"Concludo"})]})]}),o.jsx(wt,{})]})})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(_n,{className:"h-4 w-4"})," Oramento e Perodo"]}),o.jsx(Nt,{name:"budget",control:l.control,render:({field:f})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Oramento Total"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Zr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{className:"pl-9",value:a,onChange:c,onBlur:u,placeholder:"0,00"})]})}),o.jsx(wt,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"start_date",control:l.control,render:({field:f})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Data Incio"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"date",className:"pl-9",...f})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"end_date",control:l.control,render:({field:f})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Data Fim"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"date",className:"pl-9",...f})]})}),o.jsx(wt,{})]})})]})]}),o.jsxs(Da,{children:[o.jsx(U,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:n,children:n?"Salvando...":"Criar Anncio"})]})]})})]})]})}function FJe(){const[t,e]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{s()},[]);async function s(){try{n(!0);const{data:c,error:u}=await X.from("anuncios").select("*").order("created_at",{ascending:!1});if(u)throw u;e(c||[])}catch(c){console.error("Erro ao buscar anncios:",c),Be.toast.error("Erro ao carregar lista de anncios")}finally{n(!1)}}async function a(c){try{const{data:u,error:d}=await X.from("anuncios").insert([{...c,spend:0,reach:0,clicks:0}]).select().single();if(d)throw d;return e([u,...t]),Be.toast.success("Anncio adicionado com sucesso!"),u}catch(u){throw console.error("Erro ao adicionar anncio:",u),Be.toast.error("Erro ao adicionar anncio"),u}}async function i(c,u){try{const{data:d,error:f}=await X.from("anuncios").update(u).eq("id",c).select().single();if(f)throw f;e(t.map(m=>m.id===c?d:m)),Be.toast.success("Anncio atualizado com sucesso!")}catch(d){console.error("Erro ao atualizar anncio:",d),Be.toast.error("Erro ao atualizar anncio")}}async function l(c){try{const{error:u}=await X.from("anuncios").delete().eq("id",c);if(u)throw u;e(t.filter(d=>d.id!==c)),Be.toast.success("Anncio removido com sucesso!")}catch(u){console.error("Erro ao remover anncio:",u),Be.toast.error("Erro ao remover anncio")}}return{items:t,loading:r,addItem:a,updateItem:i,deleteItem:l,refresh:s}}function BJe(){const[t,e]=x.useState("list"),{assets:r,loading:n,addAsset:s,deleteAsset:a,uploadImage:i}=WWe(),{marcas:l,loading:c,addMarca:u,updateMarca:d,deleteMarca:f}=YWe(),{items:m,loading:h,addItem:p,updateItem:g,deleteItem:v}=mJe(),{items:b,loading:y,addItem:w,updateItem:N,deleteItem:j}=FJe(),[_,S]=x.useState(null),[C,k]=x.useState(!1),[A,O]=x.useState(null),[P,R]=x.useState(!1),I=async B=>{_?await g(_.id,B):await p(B),k(!1)},$=async B=>{A?await d(A.id,B):await u(B),R(!1),O(null)};return o.jsx("div",{className:"space-y-6",children:o.jsxs(ne,{className:"rounded-3xl border border-border/40",children:[o.jsx(Oe,{children:o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{children:[o.jsx(Te,{className:"text-xl",children:"Marketing"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Planeje e acompanhe as iniciativas de marketing do estdio"})]})})}),o.jsx(he,{children:o.jsxs(va,{defaultValue:"campanha",children:[o.jsxs(Gs,{children:[o.jsx(Et,{value:"campanha","aria-label":"Campanha",children:"Campanha"}),o.jsx(Et,{value:"branding","aria-label":"Branding",children:"Branding"}),o.jsx(Et,{value:"producao","aria-label":"Produo de contedo",children:"Produo de contedo"}),o.jsx(Et,{value:"anuncio","aria-label":"Anncio",children:"Anncio"})]}),o.jsx(kt,{value:"campanha",children:o.jsxs("div",{className:"mt-4",children:[o.jsx(PWe,{}),o.jsx(FWe,{})]})}),o.jsx(kt,{value:"branding",children:o.jsxs("div",{className:"mt-4 space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Marcas"}),o.jsxs(U,{onClick:()=>{O(null),R(!0)},className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"}),"Nova Marca"]})]}),c?o.jsx("div",{className:"text-center py-10",children:"Carregando..."}):o.jsx(GWe,{marcas:l,onEdit:B=>{O(B),R(!0)},onDelete:f})]}),o.jsx(KWe,{open:P,onOpenChange:R,onSave:$,editing:A}),o.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Ativos da Marca"}),o.jsx(UWe,{onSave:s,onUpload:i})]}),n?o.jsx("div",{className:"text-center py-10",children:"Carregando..."}):o.jsxs(o.Fragment,{children:[o.jsx(BWe,{assets:r}),o.jsx(zWe,{assets:r,onDelete:a})]})]})]})}),o.jsx(kt,{value:"producao",children:o.jsxs("div",{className:"mt-4 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Contedo"}),o.jsxs("div",{className:"flex items-center p-1 bg-muted rounded-lg border",children:[o.jsx(U,{variant:"ghost",size:"sm",className:`h-7 px-3 text-xs hover:bg-transparent ${t==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>e("list"),children:"Lista"}),o.jsx(U,{variant:"ghost",size:"sm",className:`h-7 px-3 text-xs hover:bg-transparent ${t==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>e("kanban"),children:"Kanban"}),o.jsx(U,{variant:"ghost",size:"sm",className:`h-7 px-3 text-xs hover:bg-transparent ${t==="calendar"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>e("calendar"),children:"Calendrio"})]})]}),o.jsxs(U,{onClick:()=>{S(null),k(!0)},className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"}),"Novo Contedo"]})]}),o.jsx(hJe,{open:C,onOpenChange:k,itemToEdit:_,onSave:I}),h?o.jsx("div",{className:"text-center py-10",children:"Carregando..."}):o.jsxs(o.Fragment,{children:[o.jsx(XWe,{items:m}),t==="list"&&o.jsx(JWe,{items:m,onDelete:v,onStatusChange:(B,L)=>g(B,{status:L}),onEdit:B=>{S(B),k(!0)}}),t==="kanban"&&o.jsx(OJe,{items:m,onDelete:v,onStatusChange:(B,L)=>g(B,{status:L}),onEdit:B=>{S(B),k(!0)}}),t==="calendar"&&o.jsx(PJe,{items:m,onDateChange:(B,L)=>g(B,{data_agendamento:L.toISOString()}),onEdit:B=>{S(B),k(!0)}})]})]})}),o.jsx(kt,{value:"anuncio",children:o.jsxs("div",{className:"mt-4 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Gerenciamento de Anncios"}),o.jsx(LJe,{onSave:w})]}),y?o.jsx("div",{className:"text-center py-10",children:"Carregando..."}):o.jsxs(o.Fragment,{children:[o.jsx(MJe,{items:b}),o.jsx(RJe,{items:b,onDelete:j,onStatusChange:(B,L)=>N(B,{status:L})})]})]})})]})})]})})}const T1=t=>{if(typeof t=="number")return t;if(typeof t=="string"){const e=t.trim().replace(/\./g,"").replace(",","."),r=Number(e);return Number.isNaN(r)?void 0:r}},hre=ws({data_aquisicao:$e().min(1),tipo_material:$e().min(1),nome:$e().min(2),marca:$e().optional().nullable(),fornecedor:$e().optional().nullable(),quantidade:jB(T1,wn().nonnegative()),unidade:$e().min(1),custo_unitario:jB(T1,wn().nonnegative()),lote:$e().optional().nullable(),validade:$e().optional().nullable(),local_armazenamento:$e().optional().nullable(),observacoes:$e().optional().nullable()});function mre(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(null),c=tr?rr:X,u=async()=>{try{if(!t)return;a(!0);const{data:h,error:p}=await c.from("estoque_materiais").select("*").eq("user_id",t.id).order("data_aquisicao",{ascending:!1});if(p)throw p;n(h||[]),l(null)}catch(h){console.error("Erro ao carregar estoque_materiais:",h),l((h==null?void 0:h.message)||"Erro desconhecido"),e({title:"Erro ao carregar materiais",description:"Tente novamente mais tarde.",variant:"destructive"})}finally{a(!1)}},d=async h=>{try{if(!t)throw new Error("Usurio no autenticado");const p=hre.parse(h),g={user_id:t.id,data_aquisicao:p.data_aquisicao,tipo_material:p.tipo_material,nome:p.nome,marca:p.marca??null,fornecedor:p.fornecedor??null,quantidade:p.quantidade,unidade:p.unidade,custo_unitario:p.custo_unitario,lote:p.lote??null,validade:p.validade??null,local_armazenamento:p.local_armazenamento??null,observacoes:p.observacoes??null},{data:v,error:b}=await c.from("estoque_materiais").insert(g).select("*");if(b)throw b;n(y=>v?[v[0],...y]:y),e({title:"Material adicionado",description:"Item cadastrado com sucesso."})}catch(p){throw console.error("Erro ao inserir em estoque_materiais:",p),e({title:"Erro ao adicionar",description:p.message||"Verifique os dados.",variant:"destructive"}),p}},f=async(h,p)=>{try{if(!t)throw new Error("Usurio no autenticado");const g={...p};g.quantidade!==void 0&&(g.quantidade=T1(g.quantidade)),g.custo_unitario!==void 0&&(g.custo_unitario=T1(g.custo_unitario));const{data:v,error:b}=await c.from("estoque_materiais").update(g).select("*").eq("id",h).eq("user_id",t.id);if(b)throw b;if(v&&v.length){const y=v[0];n(w=>w.map(N=>N.id===y.id?y:N))}else await u();e({title:"Material atualizado",description:"Alteraes salvas com sucesso."})}catch(g){throw console.error("Erro ao atualizar estoque_materiais:",g),e({title:"Erro ao atualizar",description:g.message||"Tente novamente.",variant:"destructive"}),g}},m=async h=>{try{if(!t)throw new Error("Usurio no autenticado");const{error:p}=await c.from("estoque_materiais").delete().eq("id",h).eq("user_id",t.id);if(p)throw p;n(g=>g.filter(v=>v.id!==h)),e({title:"Material removido",description:"Item excludo do estoque."})}catch(p){throw console.error("Erro ao remover estoque_materiais:",p),e({title:"Erro ao remover",description:p.message||"Tente novamente.",variant:"destructive"}),p}};return x.useEffect(()=>{if(u(),!t)return;const h=c.channel("realtime-estoque_materiais").on("postgres_changes",{event:"INSERT",schema:"public",table:"estoque_materiais",filter:`user_id=eq.${t.id}`},p=>{n(g=>[p.new,...g])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"estoque_materiais",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.map(v=>v.id===p.new.id?p.new:v))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"estoque_materiais",filter:`user_id=eq.${t.id}`},p=>{n(g=>g.filter(v=>v.id!==p.old.id))}).subscribe();return()=>{c.removeChannel(h)}},[t==null?void 0:t.id]),{items:r,loading:s,error:i,fetchAll:u,insert:d,update:f,remove:m}}const pre=ws({nome:$e().min(2,"Nome  obrigatrio"),marca:$e().optional().nullable(),tipo_material:$e().min(1,"Tipo  obrigatrio"),unidade:$e().min(1,"Unidade  obrigatria")});function Q_(){const{user:t}=Fr(),{toast:e}=tn(),[r,n]=x.useState([]),[s,a]=x.useState(!1);console.log(" useProdutos inicializado, user:",t==null?void 0:t.id,"produtos atuais:",r.length);const i=tr?rr:X,l=async()=>{try{if(console.log(" fetchProdutos chamado, user:",t==null?void 0:t.id),!t){console.warn(" Sem usurio logado, no pode carregar produtos");return}a(!0);const{data:f,error:m}=await i.from("produtos").select("*").eq("user_id",t.id).order("nome",{ascending:!0});if(m)throw m;console.log(" Produtos carregados:",f),n(f||[])}catch(f){console.error(" Erro ao carregar produtos:",f)}finally{a(!1)}},c=async f=>{try{if(!t)throw new Error("Usurio no autenticado");const m=pre.parse(f),h={user_id:t.id,nome:m.nome,marca:m.marca??null,tipo_material:m.tipo_material,unidade:m.unidade},{data:p,error:g}=await i.from("produtos").insert(h).select("*");if(g)throw g;const v=p[0];return n(b=>[...b,v].sort((y,w)=>y.nome.localeCompare(w.nome))),e({title:"Produto cadastrado",description:"Produto salvo para uso futuro."}),v}catch(m){throw console.error("Erro ao inserir produto:",m),e({title:"Erro ao salvar produto",description:m.message||"Verifique os dados.",variant:"destructive"}),m}},u=async(f,m)=>{try{if(!t)throw new Error("Usurio no autenticado");const{data:h,error:p}=await i.from("produtos").update(m).eq("id",f).eq("user_id",t.id).select("*");if(p)throw p;if(h&&h.length){const g=h[0];n(v=>v.map(b=>b.id===f?g:b).sort((b,y)=>b.nome.localeCompare(y.nome))),e({title:"Produto atualizado",description:"Alteraes salvas com sucesso."})}}catch(h){throw console.error("Erro ao atualizar produto:",h),e({title:"Erro ao atualizar",description:h.message||"Tente novamente.",variant:"destructive"}),h}},d=async f=>{try{if(!t)throw new Error("Usurio no autenticado");const{error:m}=await i.from("produtos").delete().eq("id",f).eq("user_id",t.id);if(m)throw m;n(h=>h.filter(p=>p.id!==f)),e({title:"Produto removido",description:"Produto excludo com sucesso."})}catch(m){throw console.error("Erro ao remover produto:",m),e({title:"Erro ao remover",description:m.message||"Tente novamente.",variant:"destructive"}),m}};return x.useEffect(()=>{l()},[t==null?void 0:t.id]),{produtos:r,loading:s,fetchProdutos:l,insertProduto:c,updateProduto:u,deleteProduto:d}}var n6=1,zJe=.9,VJe=.8,UJe=.17,gE=.1,vE=.999,qJe=.9999,WJe=.99,HJe=/[\\\/_+.#"@\[\(\{&]/,KJe=/[\\\/_+.#"@\[\(\{&]/g,GJe=/[\s-]/,gre=/[\s-]/g;function IO(t,e,r,n,s,a,i){if(a===e.length)return s===t.length?n6:WJe;var l=`${s},${a}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(a),u=r.indexOf(c,s),d=0,f,m,h,p;u>=0;)f=IO(t,e,r,n,u+1,a+1,i),f>d&&(u===s?f*=n6:HJe.test(t.charAt(u-1))?(f*=VJe,h=t.slice(s,u-1).match(KJe),h&&s>0&&(f*=Math.pow(vE,h.length))):GJe.test(t.charAt(u-1))?(f*=zJe,p=t.slice(s,u-1).match(gre),p&&s>0&&(f*=Math.pow(vE,p.length))):(f*=UJe,s>0&&(f*=Math.pow(vE,u-s))),t.charAt(u)!==e.charAt(a)&&(f*=qJe)),(f<gE&&r.charAt(u-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(u-1)!==n.charAt(a))&&(m=IO(t,e,r,n,u+1,a+2,i),m*gE>f&&(f=m*gE)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function s6(t){return t.toLowerCase().replace(gre," ")}function YJe(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,IO(t,e,s6(t),s6(e),0,0,{})}var Cg='[cmdk-group=""]',xE='[cmdk-group-items=""]',XJe='[cmdk-group-heading=""]',vre='[cmdk-item=""]',a6=`${vre}:not([aria-disabled="true"])`,$O="cmdk-item-select",gh="data-value",QJe=(t,e,r)=>YJe(t,e,r),xre=x.createContext(void 0),Gy=()=>x.useContext(xre),yre=x.createContext(void 0),OD=()=>x.useContext(yre),bre=x.createContext(void 0),wre=x.forwardRef((t,e)=>{let r=vh(()=>{var M,W;return{search:"",value:(W=(M=t.value)!=null?M:t.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=vh(()=>new Set),s=vh(()=>new Map),a=vh(()=>new Map),i=vh(()=>new Set),l=jre(t),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:h,loop:p,disablePointerSelection:g=!1,vimBindings:v=!0,...b}=t,y=gs(),w=gs(),N=gs(),j=x.useRef(null),_=lZe();Ef(()=>{if(d!==void 0){let M=d.trim();r.current.value=M,S.emit()}},[d]),Ef(()=>{_(6,R)},[]);let S=x.useMemo(()=>({subscribe:M=>(i.current.add(M),()=>i.current.delete(M)),snapshot:()=>r.current,setState:(M,W,re)=>{var se,je,pe,Ue;if(!Object.is(r.current[M],W)){if(r.current[M]=W,M==="search")P(),A(),_(1,O);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ce=document.getElementById(N);ce?ce.focus():(se=document.getElementById(y))==null||se.focus()}if(_(7,()=>{var ce;r.current.selectedItemId=(ce=I())==null?void 0:ce.id,S.emit()}),re||_(5,R),((je=l.current)==null?void 0:je.value)!==void 0){let ce=W??"";(Ue=(pe=l.current).onValueChange)==null||Ue.call(pe,ce);return}}S.emit()}},emit:()=>{i.current.forEach(M=>M())}}),[]),C=x.useMemo(()=>({value:(M,W,re)=>{var se;W!==((se=a.current.get(M))==null?void 0:se.value)&&(a.current.set(M,{value:W,keywords:re}),r.current.filtered.items.set(M,k(W,re)),_(2,()=>{A(),S.emit()}))},item:(M,W)=>(n.current.add(M),W&&(s.current.has(W)?s.current.get(W).add(M):s.current.set(W,new Set([M]))),_(3,()=>{P(),A(),r.current.value||O(),S.emit()}),()=>{a.current.delete(M),n.current.delete(M),r.current.filtered.items.delete(M);let re=I();_(4,()=>{P(),(re==null?void 0:re.getAttribute("id"))===M&&O(),S.emit()})}),group:M=>(s.current.has(M)||s.current.set(M,new Set),()=>{a.current.delete(M),s.current.delete(M)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:N,labelId:w,listInnerRef:j}),[]);function k(M,W){var re,se;let je=(se=(re=l.current)==null?void 0:re.filter)!=null?se:QJe;return M?je(M,r.current.search,W):0}function A(){if(!r.current.search||l.current.shouldFilter===!1)return;let M=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(se=>{let je=s.current.get(se),pe=0;je.forEach(Ue=>{let ce=M.get(Ue);pe=Math.max(ce,pe)}),W.push([se,pe])});let re=j.current;$().sort((se,je)=>{var pe,Ue;let ce=se.getAttribute("id"),we=je.getAttribute("id");return((pe=M.get(we))!=null?pe:0)-((Ue=M.get(ce))!=null?Ue:0)}).forEach(se=>{let je=se.closest(xE);je?je.appendChild(se.parentElement===je?se:se.closest(`${xE} > *`)):re.appendChild(se.parentElement===re?se:se.closest(`${xE} > *`))}),W.sort((se,je)=>je[1]-se[1]).forEach(se=>{var je;let pe=(je=j.current)==null?void 0:je.querySelector(`${Cg}[${gh}="${encodeURIComponent(se[0])}"]`);pe==null||pe.parentElement.appendChild(pe)})}function O(){let M=$().find(re=>re.getAttribute("aria-disabled")!=="true"),W=M==null?void 0:M.getAttribute(gh);S.setState("value",W||void 0)}function P(){var M,W,re,se;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let je=0;for(let pe of n.current){let Ue=(W=(M=a.current.get(pe))==null?void 0:M.value)!=null?W:"",ce=(se=(re=a.current.get(pe))==null?void 0:re.keywords)!=null?se:[],we=k(Ue,ce);r.current.filtered.items.set(pe,we),we>0&&je++}for(let[pe,Ue]of s.current)for(let ce of Ue)if(r.current.filtered.items.get(ce)>0){r.current.filtered.groups.add(pe);break}r.current.filtered.count=je}function R(){var M,W,re;let se=I();se&&(((M=se.parentElement)==null?void 0:M.firstChild)===se&&((re=(W=se.closest(Cg))==null?void 0:W.querySelector(XJe))==null||re.scrollIntoView({block:"nearest"})),se.scrollIntoView({block:"nearest"}))}function I(){var M;return(M=j.current)==null?void 0:M.querySelector(`${vre}[aria-selected="true"]`)}function $(){var M;return Array.from(((M=j.current)==null?void 0:M.querySelectorAll(a6))||[])}function B(M){let W=$()[M];W&&S.setState("value",W.getAttribute(gh))}function L(M){var W;let re=I(),se=$(),je=se.findIndex(Ue=>Ue===re),pe=se[je+M];(W=l.current)!=null&&W.loop&&(pe=je+M<0?se[se.length-1]:je+M===se.length?se[0]:se[je+M]),pe&&S.setState("value",pe.getAttribute(gh))}function E(M){let W=I(),re=W==null?void 0:W.closest(Cg),se;for(;re&&!se;)re=M>0?oZe(re,Cg):iZe(re,Cg),se=re==null?void 0:re.querySelector(a6);se?S.setState("value",se.getAttribute(gh)):L(M)}let T=()=>B($().length-1),q=M=>{M.preventDefault(),M.metaKey?T():M.altKey?E(1):L(1)},Z=M=>{M.preventDefault(),M.metaKey?B(0):M.altKey?E(-1):L(-1)};return x.createElement(ga.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:M=>{var W;(W=b.onKeyDown)==null||W.call(b,M);let re=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||re))switch(M.key){case"n":case"j":{v&&M.ctrlKey&&q(M);break}case"ArrowDown":{q(M);break}case"p":case"k":{v&&M.ctrlKey&&Z(M);break}case"ArrowUp":{Z(M);break}case"Home":{M.preventDefault(),B(0);break}case"End":{M.preventDefault(),T();break}case"Enter":{M.preventDefault();let se=I();if(se){let je=new Event($O);se.dispatchEvent(je)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:uZe},c),J_(t,M=>x.createElement(yre.Provider,{value:S},x.createElement(xre.Provider,{value:C},M))))}),JJe=x.forwardRef((t,e)=>{var r,n;let s=gs(),a=x.useRef(null),i=x.useContext(bre),l=Gy(),c=jre(t),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;Ef(()=>{if(!u)return l.item(s,i==null?void 0:i.id)},[u]);let d=Nre(s,a,[t.value,t.children,a],t.keywords),f=OD(),m=Au(_=>_.value&&_.value===d.current),h=Au(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(s)>0:!0);x.useEffect(()=>{let _=a.current;if(!(!_||t.disabled))return _.addEventListener($O,p),()=>_.removeEventListener($O,p)},[h,t.onSelect,t.disabled]);function p(){var _,S;g(),(S=(_=c.current).onSelect)==null||S.call(_,d.current)}function g(){f.setState("value",d.current,!0)}if(!h)return null;let{disabled:v,value:b,onSelect:y,forceMount:w,keywords:N,...j}=t;return x.createElement(ga.div,{ref:al(a,e),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!m,"data-disabled":!!v,"data-selected":!!m,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:p},t.children)}),ZJe=x.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...a}=t,i=gs(),l=x.useRef(null),c=x.useRef(null),u=gs(),d=Gy(),f=Au(h=>s||d.filter()===!1?!0:h.search?h.filtered.groups.has(i):!0);Ef(()=>d.group(i),[]),Nre(i,l,[t.value,t.heading,c]);let m=x.useMemo(()=>({id:i,forceMount:s}),[s]);return x.createElement(ga.div,{ref:al(l,e),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),J_(t,h=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(bre.Provider,{value:m},h))))}),eZe=x.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=x.useRef(null),a=Au(i=>!i.search);return!r&&!a?null:x.createElement(ga.div,{ref:al(s,e),...n,"cmdk-separator":"",role:"separator"})}),tZe=x.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,a=OD(),i=Au(u=>u.search),l=Au(u=>u.selectedItemId),c=Gy();return x.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),x.createElement(ga.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:i,onChange:u=>{s||a.setState("search",u.target.value),r==null||r(u.target.value)}})}),rZe=x.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,a=x.useRef(null),i=x.useRef(null),l=Au(u=>u.selectedItemId),c=Gy();return x.useEffect(()=>{if(i.current&&a.current){let u=i.current,d=a.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let h=u.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),x.createElement(ga.div,{ref:al(a,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},J_(t,u=>x.createElement("div",{ref:al(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),nZe=x.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:a,container:i,...l}=t;return x.createElement(FP,{open:r,onOpenChange:n},x.createElement(BP,{container:i},x.createElement(EN,{"cmdk-overlay":"",className:s}),x.createElement(kN,{"aria-label":t.label,"cmdk-dialog":"",className:a},x.createElement(wre,{ref:e,...l}))))}),sZe=x.forwardRef((t,e)=>Au(r=>r.filtered.count===0)?x.createElement(ga.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),aZe=x.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...a}=t;return x.createElement(ga.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},J_(t,i=>x.createElement("div",{"aria-hidden":!0},i)))}),za=Object.assign(wre,{List:rZe,Item:JJe,Input:tZe,Group:ZJe,Separator:eZe,Dialog:nZe,Empty:sZe,Loading:aZe});function oZe(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function iZe(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function jre(t){let e=x.useRef(t);return Ef(()=>{e.current=t}),e}var Ef=typeof window>"u"?x.useEffect:x.useLayoutEffect;function vh(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function Au(t){let e=OD(),r=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,r,r)}function Nre(t,e,r,n=[]){let s=x.useRef(),a=Gy();return Ef(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());a.value(t,l,c),(i=e.current)==null||i.setAttribute(gh,l),s.current=l}),s}var lZe=()=>{let[t,e]=x.useState(),r=vh(()=>new Map);return Ef(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function cZe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function J_({asChild:t,children:e},r){return t&&x.isValidElement(e)?x.cloneElement(cZe(e),{ref:e.ref},r(e.props.children)):r(e)}var uZe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _re=x.forwardRef(({className:t,...e},r)=>o.jsx(za,{ref:r,className:Ne("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));_re.displayName=za.displayName;const Sre=x.forwardRef(({className:t,...e},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(ic,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(za.Input,{ref:r,className:Ne("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));Sre.displayName=za.Input.displayName;const Cre=x.forwardRef(({className:t,...e},r)=>o.jsx(za.List,{ref:r,className:Ne("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));Cre.displayName=za.List.displayName;const Ere=x.forwardRef((t,e)=>o.jsx(za.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));Ere.displayName=za.Empty.displayName;const kre=x.forwardRef(({className:t,...e},r)=>o.jsx(za.Group,{ref:r,className:Ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));kre.displayName=za.Group.displayName;const dZe=x.forwardRef(({className:t,...e},r)=>o.jsx(za.Separator,{ref:r,className:Ne("-mx-1 h-px bg-border",t),...e}));dZe.displayName=za.Separator.displayName;const Are=x.forwardRef(({className:t,...e},r)=>o.jsx(za.Item,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Are.displayName=za.Item.displayName;function o6({trigger:t,initial:e,onSubmit:r,open:n,onOpenChange:s}){const{produtos:a,insertProduto:i}=Q_(),[l,c]=x.useState(!1);console.log(" MaterialFormDialog renderizado, produtos:",a,"length:",a.length);const u=La({resolver:Fa(hre),defaultValues:e||{data_aquisicao:"",tipo_material:"",nome:"",marca:"",fornecedor:"",quantidade:0,unidade:"un",custo_unitario:0,lote:"",validade:"",local_armazenamento:"",observacoes:""}}),d=async h=>{await r(h)},f=h=>{console.log(" handleSelectProduto chamado com:",h),console.log(" Produtos disponveis:",a);const p=a.find(g=>g.nome.toLowerCase()===h.toLowerCase());console.log(" Produto encontrado:",p),p?(u.setValue("nome",p.nome),u.setValue("marca",p.marca||""),u.setValue("tipo_material",p.tipo_material),u.setValue("unidade",p.unidade),c(!1),console.log(" Campos preenchidos com sucesso!")):console.error(" Produto no encontrado na lista")},m=async()=>{const h=u.getValues();if(!(!h.nome||!h.tipo_material||!h.unidade))try{await i({nome:h.nome,marca:h.marca,tipo_material:h.tipo_material,unidade:h.unidade})}catch{}};return o.jsxs(fr,{open:n,onOpenChange:s,children:[t?o.jsx(Ks,{asChild:!0,children:t}):null,o.jsxs(ir,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[e?o.jsx(J1,{className:"h-5 w-5"}):o.jsx(Ma,{className:"h-5 w-5"}),e?"Editar material":"Adicionar material"]})}),o.jsx(dl,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Ji,{className:"h-4 w-4"})," Informaes do Material"]}),!e&&o.jsxs(ji,{open:l,onOpenChange:c,children:[o.jsx(Ni,{asChild:!0,children:o.jsxs(U,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-[200px] justify-between h-8 text-xs",children:["Selecionar produto...",o.jsx(pie,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Io,{className:"w-[200px] p-0",children:o.jsxs(_re,{children:[o.jsx(Sre,{placeholder:"Buscar produto..."}),o.jsxs(Cre,{children:[o.jsx(Ere,{children:"Nenhum produto encontrado."}),o.jsx(kre,{children:a.map(h=>o.jsxs(Are,{value:h.nome,onSelect:f,children:[o.jsx(Or,{className:Ne("mr-2 h-4 w-4",u.watch("nome")===h.nome?"opacity-100":"opacity-0")}),h.nome]},h.id))})]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"nome",control:u.control,render:({field:h})=>o.jsxs(yt,{className:"col-span-2",children:[o.jsx(gt,{children:"Nome"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ma,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Nome do material",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"marca",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Marca"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ji,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Marca",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"tipo_material",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Tipo do material"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Qg,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"ex.: agulha, tinta, luva",className:"pl-9",...h})]})}),o.jsx(wt,{})]})})]}),!e&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(U,{type:"button",variant:"ghost",size:"sm",className:"text-xs h-7 gap-1",onClick:m,children:[o.jsx(en,{className:"h-3 w-3"})," Salvar como Produto"]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Yt,{className:"h-4 w-4"})," Aquisio e Validade"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"fornecedor",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Fornecedor"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(lu,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Fornecedor",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"lote",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Lote"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Qg,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Lote",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"data_aquisicao",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Data de aquisio"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"date",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"validade",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Validade"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Yt,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"date",className:"pl-9",...h})]})}),o.jsx(wt,{})]})})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(jk,{className:"h-4 w-4"})," Estoque e Custos"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Nt,{name:"quantidade",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Quantidade"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Qg,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"number",step:"0.01",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"unidade",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Unidade"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(jk,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"un, ml, g",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"custo_unitario",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Custo unitrio (R$)"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Zr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{type:"number",step:"0.01",className:"pl-9",...h})]})}),o.jsx(wt,{})]})})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Uv,{className:"h-4 w-4"})," Armazenamento e Detalhes"]}),o.jsx(Nt,{name:"local_armazenamento",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Local de armazenamento"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Uv,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex.: sala 1, armrio A",className:"pl-9",...h})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"observacoes",control:u.control,render:({field:h})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Observaes"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(jn,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Nn,{placeholder:"Notas adicionais",className:"pl-9 min-h-[80px]",...h})]})}),o.jsx(wt,{})]})})]}),o.jsx(Da,{children:o.jsx(U,{type:"submit",children:e?"Salvar":"Adicionar"})})]})})]})]})}function fZe(){const{items:t,insert:e,update:r,remove:n}=mre(),[s,a]=x.useState(""),[i,l]=x.useState("all"),[c,u]=x.useState("data_aquisicao"),[d,f]=x.useState("desc"),[m,h]=x.useState(1),p=10,[g,v]=x.useState(null),[b,y]=x.useState(null),w=x.useMemo(()=>{const k=new Set(t.map(A=>A.tipo_material).filter(Boolean));return Array.from(k).sort()},[t]),N=x.useMemo(()=>{let k=t.filter(A=>{var R,I;const O=A.nome.toLowerCase().includes(s.toLowerCase())||((R=A.marca)==null?void 0:R.toLowerCase().includes(s.toLowerCase()))||((I=A.fornecedor)==null?void 0:I.toLowerCase().includes(s.toLowerCase())),P=i==="all"||A.tipo_material===i;return O&&P});return k.sort((A,O)=>{let P=A[c],R=O[c];return c==="total"&&(P=(Number(A.quantidade)||0)*(Number(A.custo_unitario)||0),R=(Number(O.quantidade)||0)*(Number(O.custo_unitario)||0)),P<R?d==="asc"?-1:1:P>R?d==="asc"?1:-1:0}),k},[t,s,i,c,d]),j=Math.ceil(N.length/p),_=N.slice((m-1)*p,m*p),S=k=>{c===k?f(d==="asc"?"desc":"asc"):(u(k),f("asc"))},C=()=>{a(""),l("all"),h(1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between bg-card p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"flex flex-1 flex-col md:flex-row gap-3 w-full md:w-auto",children:[o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx(ic,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar por nome, marca...",value:s,onChange:k=>a(k.target.value),className:"pl-8"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ap,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs(He,{value:i,onValueChange:l,children:[o.jsx(qe,{className:"w-[180px]",children:o.jsx(Ke,{placeholder:"Tipo de Material"})}),o.jsxs(We,{children:[o.jsx(Y,{value:"all",children:"Todos os tipos"}),w.map(k=>o.jsx(Y,{value:k,children:k},k))]})]})]}),(s||i!=="all")&&o.jsx(U,{variant:"ghost",size:"icon",onClick:C,title:"Limpar filtros",children:o.jsx(ju,{className:"h-4 w-4"})})]}),o.jsx(o6,{trigger:o.jsx(U,{className:"w-full md:w-auto",children:"Adicionar Material"}),initial:null,onSubmit:async k=>{await e(k)}})]}),o.jsxs(ne,{className:"rounded-xl border shadow-sm overflow-hidden",children:[o.jsxs(Oe,{className:"px-6 py-4 border-b bg-muted/40",children:[o.jsx(Te,{className:"text-lg",children:"Lista de Materiais"}),o.jsx(An,{children:"Gerencie o inventrio do estdio."})]}),o.jsx(he,{className:"p-0",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{className:"hover:bg-transparent",children:[o.jsx(ge,{className:"w-[120px]",children:o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>S("data_aquisicao"),children:["Data",o.jsx(OS,{className:"ml-2 h-3 w-3"})]})}),o.jsx(ge,{children:"Tipo"}),o.jsx(ge,{children:o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>S("nome"),children:["Nome",o.jsx(OS,{className:"ml-2 h-3 w-3"})]})}),o.jsx(ge,{children:"Marca"}),o.jsx(ge,{className:"text-right",children:"Qtd"}),o.jsx(ge,{className:"text-right",children:"Custo Un."}),o.jsx(ge,{className:"text-right",children:o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>S("total"),children:["Total",o.jsx(OS,{className:"ml-2 h-3 w-3"})]})}),o.jsx(ge,{className:"w-[50px]"})]})}),o.jsx(is,{children:_.length===0?o.jsx(zt,{children:o.jsx(fe,{colSpan:8,className:"h-24 text-center text-muted-foreground",children:"Nenhum material encontrado."})}):_.map(k=>o.jsxs(zt,{className:"hover:bg-muted/50",children:[o.jsx(fe,{className:"font-medium",children:new Date(k.data_aquisicao).toLocaleDateString("pt-BR")}),o.jsx(fe,{children:o.jsx(Ge,{variant:"secondary",className:"capitalize font-normal",children:k.tipo_material})}),o.jsx(fe,{className:"font-medium",children:k.nome}),o.jsx(fe,{className:"text-muted-foreground",children:k.marca||"-"}),o.jsxs(fe,{className:"text-right",children:[Number(k.quantidade).toLocaleString("pt-BR")," ",o.jsx("span",{className:"text-xs text-muted-foreground",children:k.unidade})]}),o.jsx(fe,{className:"text-right",children:Number(k.custo_unitario).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),o.jsx(fe,{className:"text-right font-semibold",children:(Number(k.quantidade)*Number(k.custo_unitario)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),o.jsx(fe,{children:o.jsxs(Cy,{children:[o.jsx(Ey,{asChild:!0,children:o.jsxs(U,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Abrir menu"}),o.jsx(jU,{className:"h-4 w-4"})]})}),o.jsxs(Ip,{align:"end",children:[o.jsx(_N,{children:"Aes"}),o.jsx(el,{onClick:()=>v(k),children:"Editar"}),o.jsx(Vd,{}),o.jsx(el,{className:"text-destructive focus:text-destructive",onClick:()=>y(k),children:"Excluir"})]})]})})]},k.id))})]})}),j>1&&o.jsxs("div",{className:"flex items-center justify-end space-x-2 p-4 border-t bg-muted/20",children:[o.jsxs("div",{className:"text-sm text-muted-foreground mr-4",children:["Pgina ",m," de ",j]}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>h(k=>Math.max(1,k-1)),disabled:m===1,children:o.jsx(kp,{className:"h-4 w-4"})}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>h(k=>Math.min(j,k+1)),disabled:m===j,children:o.jsx(Du,{className:"h-4 w-4"})})]})]}),g&&o.jsx(o6,{initial:g,open:!!g,onOpenChange:k=>{k||v(null)},onSubmit:async k=>{g!=null&&g.id&&await r(g.id,k),v(null)}}),o.jsx(fr,{open:!!b,onOpenChange:k=>!k&&y(null),children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsx(cr,{children:"Excluir material"})}),o.jsxs("div",{className:"py-4",children:["Tem certeza que deseja excluir ",o.jsx("strong",{children:b==null?void 0:b.nome}),"?",o.jsx("br",{}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Essa ao no pode ser desfeita."})]}),o.jsxs(Da,{children:[o.jsx(U,{variant:"outline",onClick:()=>y(null),children:"Cancelar"}),o.jsx(U,{variant:"destructive",onClick:async()=>{b!=null&&b.id&&await n(b.id),y(null)},children:"Excluir"})]})]})})]})}function hZe({trigger:t,initial:e,onSuccess:r,open:n,onOpenChange:s}){const{insertProduto:a,updateProduto:i}=Q_(),l=La({resolver:Fa(pre),defaultValues:{nome:"",marca:"",tipo_material:"",unidade:"un"}});x.useEffect(()=>{e?l.reset({nome:e.nome,marca:e.marca||"",tipo_material:e.tipo_material,unidade:e.unidade}):l.reset({nome:"",marca:"",tipo_material:"",unidade:"un"})},[e,l]);const c=async u=>{try{e&&e.id?await i(e.id,u):await a(u),r&&r(),s&&s(!1)}catch(d){console.error(d)}};return o.jsxs(fr,{open:n,onOpenChange:s,children:[t?o.jsx(Ks,{asChild:!0,children:t}):null,o.jsxs(ir,{className:"sm:max-w-[500px]",children:[o.jsx(lr,{children:o.jsxs(cr,{className:"flex items-center gap-2 text-xl",children:[o.jsx(Ma,{className:"h-5 w-5"}),e?"Editar Produto":"Novo Produto"]})}),o.jsx(dl,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Ma,{className:"h-4 w-4"})," Informaes do Produto"]}),o.jsx(Nt,{name:"nome",control:l.control,render:({field:u})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Nome"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ma,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Nome do produto",className:"pl-9",...u})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"marca",control:l.control,render:({field:u})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Marca"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Ji,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Marca (opcional)",className:"pl-9",...u})]})}),o.jsx(wt,{})]})})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg border",children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Qg,{className:"h-4 w-4"})," Classificao"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Nt,{name:"tipo_material",control:l.control,render:({field:u})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Tipo"}),o.jsx(bt,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Qg,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Ex: Tinta, Agulha",className:"pl-9",...u})]})}),o.jsx(wt,{})]})}),o.jsx(Nt,{name:"unidade",control:l.control,render:({field:u})=>o.jsxs(yt,{children:[o.jsx(gt,{children:"Unidade"}),o.jsxs(He,{onValueChange:u.onChange,value:u.value,children:[o.jsx(bt,{children:o.jsxs(qe,{className:"pl-9",children:[o.jsx(jk,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground pointer-events-none"}),o.jsx(Ke,{placeholder:"Selecione"})]})}),o.jsxs(We,{children:[o.jsx(Y,{value:"un",children:"un (unidade)"}),o.jsx(Y,{value:"ml",children:"ml (mililitro)"}),o.jsx(Y,{value:"g",children:"g (grama)"}),o.jsx(Y,{value:"kg",children:"kg (quilograma)"}),o.jsx(Y,{value:"cx",children:"cx (caixa)"}),o.jsx(Y,{value:"pct",children:"pct (pacote)"}),o.jsx(Y,{value:"l",children:"l (litro)"})]})]}),o.jsx(wt,{})]})})]})]}),o.jsx(Da,{children:o.jsx(U,{type:"submit",children:e?"Salvar Alteraes":"Cadastrar Produto"})})]})})]})]})}function mZe(){const{produtos:t,loading:e,deleteProduto:r}=Q_(),[n,s]=x.useState(""),[a,i]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1),f=t.filter(g=>g.nome.toLowerCase().includes(n.toLowerCase())||g.marca&&g.marca.toLowerCase().includes(n.toLowerCase())||g.tipo_material.toLowerCase().includes(n.toLowerCase())),m=async()=>{a&&(await r(a),i(null))},h=g=>{c(g),d(!0)},p=()=>{c(null),d(!0)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"relative w-72",children:[o.jsx(ic,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar produtos...",value:n,onChange:g=>s(g.target.value),className:"pl-8"})]}),o.jsxs(U,{onClick:p,className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"})," Novo Produto"]})]}),o.jsx("div",{className:"rounded-md border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Nome"}),o.jsx(ge,{children:"Marca"}),o.jsx(ge,{children:"Tipo"}),o.jsx(ge,{children:"Unidade"}),o.jsx(ge,{className:"text-right",children:"Aes"})]})}),o.jsx(is,{children:e?o.jsx(zt,{children:o.jsx(fe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Carregando produtos..."})}):f.length===0?o.jsx(zt,{children:o.jsx(fe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ma,{className:"h-8 w-8 opacity-50"}),o.jsx("p",{children:"Nenhum produto encontrado."})]})})}):f.map(g=>o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:g.nome}),o.jsx(fe,{children:g.marca||"-"}),o.jsx(fe,{children:g.tipo_material}),o.jsx(fe,{children:g.unidade}),o.jsx(fe,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>h(g),children:o.jsx(yi,{className:"h-4 w-4 text-muted-foreground hover:text-primary"})}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>i(g.id),children:o.jsx(Jr,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]})})]},g.id))})]})}),o.jsx(hZe,{open:u,onOpenChange:d,initial:l}),o.jsx(Ux,{open:!!a,onOpenChange:g=>!g&&i(null),children:o.jsxs(ip,{children:[o.jsxs(lp,{children:[o.jsx(up,{children:"Excluir produto?"}),o.jsx(dp,{children:"Esta ao no pode ser desfeita. Isso excluir permanentemente o produto da lista de opes. Os materiais j cadastrados no estoque no sero afetados."})]}),o.jsxs(cp,{children:[o.jsx(hp,{children:"Cancelar"}),o.jsx(fp,{onClick:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const pZe=Tf.cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),LO=x.forwardRef(({className:t,variant:e,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Ne(pZe({variant:e}),t),...r}));LO.displayName="Alert";const FO=x.forwardRef(({className:t,...e},r)=>o.jsx("h5",{ref:r,className:Ne("mb-1 font-medium leading-none tracking-tight",t),...e}));FO.displayName="AlertTitle";const BO=x.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ne("text-sm [&_p]:leading-relaxed",t),...e}));BO.displayName="AlertDescription";function gZe(){const{analises:t,iniciarAnalise:e,finalizarAnalise:r,excluirAnalise:n,registrarUso:s,removerUso:a}=$R(),{produtos:i}=Q_(),{user:l}=Fr(),[c,u]=x.useState(!1),[d,f]=x.useState(""),[m,h]=x.useState(""),[p,g]=x.useState(!1),[v,b]=x.useState(null),[y,w]=x.useState([]),[N,j]=x.useState(""),[_,S]=x.useState(!1),[C,k]=x.useState([]),[A,O]=x.useState(null),P=async()=>{if(!l)return;const{data:M,error:W}=await X.from("agendamentos").select(`
                id, 
                data, 
                hora, 
                titulo,
                projetos!inner(
                    clientes!inner(
                        nome
                    )
                )
            `).eq("user_id",l.id).eq("status","concluido").order("data",{ascending:!1});if(W){console.error("Erro ao buscar sesses:",W);return}M&&w(M)},R=async M=>{b(M),await P(),g(!0)},I=async()=>{v&&N&&(await s([v],N),g(!1),j(""),b(null))},$=async M=>{if(!l)return;const{data:W,error:re}=await X.from("analise_uso_sessao").select(`
                id,
                created_at,
                agendamentos!inner(
                    id,
                    data,
                    hora,
                    titulo,
                    projetos!inner(
                        clientes!inner(
                            nome
                        )
                    )
                )
            `).eq("analise_id",M).order("created_at",{ascending:!1});if(re){console.error("Erro ao buscar sesses vinculadas:",re);return}if(W){const se=W.map(je=>({id:je.agendamentos.id,data:je.agendamentos.data,hora:je.agendamentos.hora,titulo:je.agendamentos.titulo,projetos:je.agendamentos.projetos}));k(se)}},B=async M=>{O(M),await $(M),S(!0)},L=async M=>{A&&(await a(A,M),await $(A))},E=t.filter(M=>M.status==="ativo"),T=t.filter(M=>M.status==="concluido"),q=async()=>{if(!d||!m)return;const M=i.find(re=>re.id===d);if(!M)return;const W=parseFloat(m.replace(",","."))||0;await e(M.nome,W),u(!1),f(""),h("")},Z=M=>M.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Anlise de Bancada"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitore o rendimento real dos seus materiais por sesso."})]}),o.jsxs(fr,{open:c,onOpenChange:u,children:[o.jsx(Ks,{asChild:!0,children:o.jsxs(U,{className:"gap-2",children:[o.jsx(en,{className:"h-4 w-4"})," Nova Anlise"]})}),o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsx(cr,{children:"Iniciar Anlise de Custo"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Selecione o Produto"}),o.jsxs(He,{value:d,onValueChange:f,children:[o.jsx(qe,{children:o.jsx(Ke,{placeholder:"Escolha um produto..."})}),o.jsx(We,{children:i.map(M=>o.jsxs(Y,{value:M.id||"",children:[M.nome," ",M.marca?`- ${M.marca}`:""]},M.id))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Escolha um produto novo que voc vai comear a usar agora."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ie,{children:"Custo do Produto (R$)"}),o.jsx(de,{type:"text",placeholder:"Ex: 150.00",value:m,onChange:M=>h(M.target.value)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite quanto voc pagou por este produto."})]})]}),o.jsx(Da,{children:o.jsx(U,{onClick:q,disabled:!d||!m,children:"Iniciar Monitoramento"})})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[E.length===0&&o.jsxs(LO,{className:"col-span-full bg-muted/50 border-dashed",children:[o.jsx(yU,{className:"h-4 w-4"}),o.jsx(FO,{children:"Nenhuma anlise em andamento"}),o.jsx(BO,{children:"Inicie uma nova anlise para descobrir quanto custa cada sesso usando seus materiais."})]}),E.map(M=>{const W=M.qtd_sessoes>0?M.custo_produto/M.qtd_sessoes:M.custo_produto;return o.jsxs(ne,{className:"border-l-4 border-l-primary",children:[o.jsxs(Oe,{className:"pb-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(Te,{className:"text-lg",children:M.nome_produto}),o.jsx(Ge,{variant:"outline",className:"bg-primary/10 text-primary border-0",children:"Em uso"})]}),o.jsxs(An,{children:["Iniciado em ",Mt(new Date(M.data_inicio),"dd/MM/yyyy",{locale:Sr})]})]}),o.jsx(he,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{className:"bg-muted p-2 rounded-md",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Sesses"}),o.jsx("div",{className:"text-2xl font-bold",children:M.qtd_sessoes})]}),o.jsxs("div",{className:"bg-muted p-2 rounded-md",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Custo/Sesso"}),o.jsx("div",{className:"text-xl font-bold text-primary",children:Z(W)})]})]}),o.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:o.jsxs("span",{children:["Custo Total: ",Z(M.custo_produto)]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"outline",className:"flex-1",onClick:()=>B(M.id),children:[o.jsx(Z1,{className:"h-4 w-4 mr-2"})," Ver Sesses"]}),o.jsxs(U,{variant:"secondary",className:"flex-1",onClick:()=>R(M.id),children:[o.jsx(en,{className:"h-4 w-4 mr-2"})," Registrar"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"outline",className:"w-full text-destructive hover:text-destructive",onClick:()=>n(M.id),children:[o.jsx(Jr,{className:"h-4 w-4 mr-2"})," Cancelar"]}),o.jsxs(U,{className:"w-full",onClick:()=>r(M.id),children:[o.jsx(mi,{className:"h-4 w-4 mr-2"})," Finalizar"]})]})]})})]},M.id)})]}),T.length>0&&o.jsxs("div",{className:"space-y-4 pt-8",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Nie,{className:"h-5 w-5"})," Histrico de Anlises"]}),o.jsx("div",{className:"rounded-md border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Produto"}),o.jsx(ge,{children:"Perodo"}),o.jsx(ge,{className:"text-center",children:"Sesses"}),o.jsx(ge,{className:"text-right",children:"Custo Total"}),o.jsx(ge,{className:"text-right",children:"Custo/Sesso"}),o.jsx(ge,{})]})}),o.jsx(is,{children:T.map(M=>o.jsxs(zt,{children:[o.jsx(fe,{className:"font-medium",children:M.nome_produto}),o.jsxs(fe,{className:"text-muted-foreground text-sm",children:[Mt(new Date(M.data_inicio),"dd/MM/yy")," -",M.data_fim?Mt(new Date(M.data_fim),"dd/MM/yy"):"..."]}),o.jsx(fe,{className:"text-center",children:M.qtd_sessoes}),o.jsx(fe,{className:"text-right",children:Z(M.custo_produto)}),o.jsx(fe,{className:"text-right font-bold text-primary",children:Z(M.qtd_sessoes>0?M.custo_produto/M.qtd_sessoes:0)}),o.jsx(fe,{children:o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(M.id),children:o.jsx(Jr,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})})]},M.id))})]})})]}),o.jsx(fr,{open:p,onOpenChange:g,children:o.jsxs(ir,{children:[o.jsxs(lr,{children:[o.jsx(cr,{children:"Registrar Uso em Sesso"}),o.jsx(An,{children:"Selecione a sesso onde este material foi utilizado."})]}),o.jsxs("div",{className:"py-4",children:[o.jsx(ie,{className:"mb-2 block",children:"Sesso Concluda"}),o.jsxs(He,{value:N,onValueChange:j,children:[o.jsx(qe,{children:o.jsx(Ke,{placeholder:"Selecione uma sesso..."})}),o.jsx(We,{position:"popper",side:"bottom",align:"start",className:"max-h-[200px]",children:y.map(M=>{var W,re;return o.jsx(Y,{value:M.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground font-mono text-xs",children:Mt(new Date(M.data),"dd/MM")}),o.jsx("span",{className:"font-medium",children:((re=(W=M.projetos)==null?void 0:W.clientes)==null?void 0:re.nome)||"Cliente no encontrado"})]})},M.id)})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Apenas sesses concludas so listadas."})]}),o.jsxs(Da,{children:[o.jsx(U,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),o.jsx(U,{onClick:I,disabled:!N,children:"Confirmar Uso"})]})]})}),o.jsx(fr,{open:_,onOpenChange:S,children:o.jsxs(ir,{className:"max-w-2xl",children:[o.jsxs(lr,{children:[o.jsx(cr,{children:"Sesses Vinculadas"}),o.jsx(An,{children:"Histrico de sesses onde este material foi utilizado."})]}),o.jsx("div",{className:"py-4",children:C.length===0?o.jsxs(LO,{children:[o.jsx(zd,{className:"h-4 w-4"}),o.jsx(FO,{children:"Nenhuma sesso vinculada"}),o.jsx(BO,{children:"Este material ainda no foi registrado em nenhuma sesso."})]}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Data"}),o.jsx(ge,{children:"Cliente"}),o.jsx(ge,{children:"Servio"})]})}),o.jsx(is,{children:C.map(M=>{var W,re;return o.jsxs(zt,{children:[o.jsx(fe,{className:"font-mono text-sm",children:Mt(new Date(M.data),"dd/MM/yyyy")}),o.jsx(fe,{className:"font-medium",children:((re=(W=M.projetos)==null?void 0:W.clientes)==null?void 0:re.nome)||"N/A"}),o.jsx(fe,{className:"text-muted-foreground",children:M.titulo||"Sem ttulo"}),o.jsx(fe,{children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>L(M.id),children:o.jsx(Jr,{className:"h-4 w-4"})})})]},M.id)})})]})})}),o.jsx(Da,{children:o.jsx(U,{onClick:()=>S(!1),children:"Fechar"})})]})})]})}function vZe(){const{items:t}=mre(),e=t.length,r=t.reduce((s,a)=>{const i=Number(a.quantidade)||0,l=Number(a.custo_unitario)||0;return s+i*l},0),n=t.filter(s=>(Number(s.quantidade)||0)<5).length;return o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Estoque"}),o.jsx("p",{className:"text-muted-foreground",children:"Gesto de materiais e anlise de custos do estdio."})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Total em Estoque"}),o.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Itens cadastrados"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Valor Total"}),o.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Em patrimnio"})]})]}),o.jsxs(ne,{children:[o.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Itens Crticos"}),o.jsx(XT,{className:"h-4 w-4 text-amber-500"})]}),o.jsxs(he,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Com estoque baixo (< 5)"})]})]})]}),o.jsx(ne,{className:"rounded-xl border bg-card text-card-foreground shadow-sm",children:o.jsx(he,{className:"p-6",children:o.jsxs(va,{defaultValue:"materiais",className:"space-y-4",children:[o.jsxs(Gs,{children:[o.jsx(Et,{value:"materiais",children:"Materiais"}),o.jsx(Et,{value:"produtos",children:"Produtos"}),o.jsx(Et,{value:"custo",children:"Anlise de Custo"})]}),o.jsx(kt,{value:"materiais",className:"space-y-4",children:o.jsx(fZe,{})}),o.jsx(kt,{value:"produtos",className:"space-y-4",children:o.jsx(mZe,{})}),o.jsx(kt,{value:"custo",children:o.jsx(gZe,{})})]})})})]})}function TD(){const{toast:t}=tn(),{user:e}=Fr(),[r,n]=x.useState([]),[s,a]=x.useState(!1),[i,l]=x.useState(""),[c,u]=x.useState("all"),[d,f]=x.useState("all"),[m,h]=x.useState("all");x.useEffect(()=>{(async()=>{if(!e)return;a(!0);const{data:N,error:j}=await X.from("aulas").select("*").order("updated_at",{ascending:!1}).order("created_at",{ascending:!1});j?t({title:"Erro ao carregar aulas",description:j.message}):n(N||[]),a(!1)})()},[e]);const p=x.useMemo(()=>r.filter(N=>{var A,O,P;const j=i.toLowerCase(),_=!j||((A=N.titulo)==null?void 0:A.toLowerCase().includes(j))||((O=N.descricao)==null?void 0:O.toLowerCase().includes(j))||((P=N.disciplina)==null?void 0:P.toLowerCase().includes(j)),S=c==="all"||N.status===c,C=d==="all"||N.disciplina===d,k=m==="all"||N.responsavel_id===m;return _&&S&&C&&k}),[r,i,c,d,m]);async function g(N,j){const _=r;n(C=>C.map(k=>k.id===N?{...k,status:j}:k));const{error:S}=await X.from("aulas").update({status:j}).eq("id",N);if(S){t({title:"Falha ao mover aula",description:S.message}),n(_);return}await X.from("aula_versions").insert({aula_id:N,user_id:e.id,version_number:Date.now(),snapshot:{status:j}})}async function v(N,j){const _=r;n(C=>C.map(k=>k.id===N?{...k,...j}:k));const{error:S}=await X.from("aulas").update(j).eq("id",N);return S?(t({title:"Falha ao salvar aula",description:S.message}),n(_),!1):(await X.from("aula_versions").insert({aula_id:N,user_id:e.id,version_number:Date.now(),snapshot:{...j}}),!0)}async function b(N,j={}){if(!e)return t({title:"Sesso no encontrada",description:"Faa login para criar aulas",variant:"destructive"}),null;const{data:_}=await X.from("aula_modelos").select("*").eq("id",N).maybeSingle(),S={titulo:(_==null?void 0:_.titulo)||"Nova Aula",disciplina:(_==null?void 0:_.disciplina)||null,descricao:(_==null?void 0:_.descricao)||null,status:"esboco",modelo_id:N,responsavel_id:e.id,estrutura:(_==null?void 0:_.estrutura)||null,...j},{data:C,error:k}=await X.from("aulas").insert(S).select("*").single();if(k)return t({title:"Falha ao criar aula",description:k.message}),null;n(A=>[C,...A]);try{await X.from("aula_versions").insert({aula_id:C.id,user_id:e.id,version_number:1,snapshot:S})}catch(A){t({title:"Verso no registrada",description:(A==null?void 0:A.message)||"Erro ao salvar verso",variant:"destructive"})}return t({title:"Aula criada",description:"A aula foi adicionada"}),C}async function y(N={}){if(!e)return t({title:"Sesso no encontrada",description:"Faa login para criar aulas",variant:"destructive"}),null;const j=r,_={titulo:N.titulo||"Nova Aula",descricao:N.descricao??null,status:N.status||"esboco",disciplina:N.disciplina??null,responsavel_id:N.responsavel_id??e.id,prazo:N.prazo??null,modelo_id:N.modelo_id??null,estrutura:N.estrutura??null},S=`temp-${Date.now()}`,C={id:S,titulo:_.titulo,descricao:_.descricao||null,status:_.status,disciplina:_.disciplina||null,responsavel_id:_.responsavel_id||null,prazo:_.prazo||null,modelo_id:_.modelo_id||null,estrutura:_.estrutura||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(O=>[C,...O]);const{data:k,error:A}=await X.from("aulas").insert(_).select("*").single();return A?(n(j),t({title:"Falha ao criar aula",description:A.message}),null):(n(O=>O.map(P=>P.id===S?k:P)),(async()=>{const{error:O}=await X.from("aula_versions").insert({aula_id:k.id,user_id:e.id,version_number:1,snapshot:_});O&&t({title:"Verso no registrada",description:O.message,variant:"destructive"})})(),t({title:"Aula criada",description:"A aula foi adicionada"}),k)}async function w(N){if(!e)return t({title:"Sesso no encontrada",description:"Faa login para excluir aulas",variant:"destructive"}),!1;const j=r;n(S=>S.filter(C=>C.id!==N));const{error:_}=await X.from("aulas").delete().eq("id",N);return _?(t({title:"Falha ao excluir aula",description:_.message,variant:"destructive"}),n(j),!1):(t({title:"Aula excluda",description:"A aula foi removida"}),!0)}return{aulas:r,filtered:p,loading:s,search:i,setSearch:l,statusFilter:c,setStatusFilter:u,disciplinaFilter:d,setDisciplinaFilter:f,responsavelFilter:m,setResponsavelFilter:h,updateStatus:g,updateAula:v,createAulaFromModelo:b,createAula:y,deleteAula:w}}const xZe={esboco:"Esboo inicial",desenvolvimento:"Desenvolvimento",revisao:"Reviso",finalizacao:"Finalizao",pronta:"Aula pronta"};function yZe({aula:t,onDoubleClick:e}){return o.jsxs(ne,{className:"rounded-xl hover:shadow transition-all select-none",draggable:!0,onDoubleClick:()=>e==null?void 0:e(t),children:[o.jsx(Oe,{className:"pb-2",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx(Te,{className:"text-sm font-semibold truncate",children:t.titulo}),o.jsx(Ge,{variant:"outline",className:"text-xs",children:xZe[t.status]})]})}),o.jsxs(he,{className:"space-y-2",children:[t.descricao&&o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t.descricao}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(Wi,{className:"w-3 h-3"}),o.jsx("span",{children:t.responsavel_id?"Responsvel definido":"Sem responsvel"})]}),t.prazo&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ra,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{children:new Date(t.prazo).toLocaleDateString()})]})]})]})]})}const bZe=[{value:"esboco",label:"Esboo inicial"},{value:"desenvolvimento",label:"Desenvolvimento"},{value:"revisao",label:"Reviso"},{value:"finalizacao",label:"Finalizao"},{value:"pronta",label:"Aula pronta"}];function Ore({open:t,aula:e,onClose:r,onSave:n,onDelete:s}){const[a,i]=x.useState((e==null?void 0:e.titulo)||""),[l,c]=x.useState((e==null?void 0:e.descricao)||""),[u,d]=x.useState((e==null?void 0:e.status)||"esboco"),[f,m]=x.useState((e==null?void 0:e.disciplina)||""),[h,p]=x.useState((e==null?void 0:e.prazo)||""),g=e&&a.trim().length>0;x.useEffect(()=>{i((e==null?void 0:e.titulo)||""),c((e==null?void 0:e.descricao)||""),d((e==null?void 0:e.status)||"esboco"),m((e==null?void 0:e.disciplina)||""),p((e==null?void 0:e.prazo)||"")},[e,t]);async function v(){if(!e)return;await n(e.id,{titulo:a,descricao:l,status:u,disciplina:f,prazo:h})&&r()}async function b(){if(!e)return;await s(e.id)&&r()}return o.jsx(fr,{open:t,onOpenChange:y=>y?null:r(),children:o.jsxs(ir,{className:"rounded-2xl",children:[o.jsx(lr,{children:o.jsx(cr,{children:"Editar Aula"})}),e?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Ttulo"}),o.jsx(de,{value:a,onChange:y=>i(y.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Mdulo"}),o.jsx(de,{value:f||"",onChange:y=>m(y.target.value)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Status"}),o.jsxs(He,{value:u,onValueChange:y=>d(y),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{})}),o.jsx(We,{className:"rounded-xl",children:bZe.map(y=>o.jsx(Y,{value:y.value,children:y.label},y.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Prazo"}),o.jsx(de,{type:"date",value:h||"",onChange:y=>p(y.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Responsvel"}),o.jsx(Ge,{variant:"outline",className:"rounded-xl",children:e.responsavel_id?"Definido":"Sem responsvel"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Descrio / Estrutura"}),o.jsx(Nn,{rows:6,value:l||"",onChange:y=>c(y.target.value)})]}),o.jsxs("div",{className:"flex justify-between gap-2",children:[o.jsx(U,{variant:"destructive",onClick:b,className:"rounded-xl",children:"Excluir"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",onClick:r,className:"rounded-xl",children:"Cancelar"}),o.jsx(U,{onClick:v,disabled:!g,className:"rounded-xl",children:"Salvar"})]})]})]}):null]})})}const yE=[{key:"esboco",label:"Esboo inicial",icon:py},{key:"desenvolvimento",label:"Desenvolvimento",icon:uw},{key:"revisao",label:"Reviso",icon:Rie},{key:"finalizacao",label:"Finalizao",icon:jn},{key:"pronta",label:"Aula pronta",icon:mi}];function wZe(){const{filtered:t,updateStatus:e,updateAula:r,deleteAula:n}=TD(),[s,a]=x.useState(null);function i(c,u){c.dataTransfer.setData("text/plain",u),c.dataTransfer.effectAllowed="move"}function l(c){var f,m;const u=t.filter(h=>h.status===c),d=(f=yE.find(h=>h.key===c))==null?void 0:f.icon;return o.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 flex flex-col gap-3 min-h-[300px]",onDragOver:h=>h.preventDefault(),onDrop:h=>{h.preventDefault();const p=h.dataTransfer.getData("text/plain");p&&e(p,c)},children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[d&&o.jsx(d,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:(m=yE.find(h=>h.key===c))==null?void 0:m.label})]}),o.jsx(Ge,{variant:"outline",className:"text-xs",children:u.length})]}),u.length===0?o.jsx("div",{className:"text-xs text-muted-foreground py-8 text-center border border-dashed rounded-lg",children:"Arraste aulas para c"}):o.jsx("div",{className:"flex flex-col gap-3",children:u.map(h=>o.jsx("div",{onDragStart:p=>i(p,h.id),children:o.jsx(yZe,{aula:h,onDoubleClick:p=>a(p)})},h.id))})]},c)}return o.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-5",children:[yE.map(c=>l(c.key)),o.jsx(Ore,{open:!!s,aula:s,onClose:()=>a(null),onSave:r,onDelete:n})]})}function jZe(){const{filtered:t,updateAula:e,deleteAula:r}=TD(),[n,s]=x.useState(null);return o.jsxs(ne,{className:"rounded-xl",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ss,{children:[o.jsx(as,{children:o.jsxs(zt,{children:[o.jsx(ge,{children:"Aula"}),o.jsx(ge,{children:"Mdulo"}),o.jsx(ge,{children:"Status"}),o.jsx(ge,{children:"Prazo"}),o.jsx(ge,{children:"Responsvel"}),o.jsx(ge,{children:"Aes"})]})}),o.jsx(is,{children:t.map(a=>o.jsxs(zt,{className:"cursor-pointer",onClick:()=>s(a),children:[o.jsx(fe,{className:"font-medium",children:a.titulo}),o.jsx(fe,{children:a.disciplina||"-"}),o.jsx(fe,{children:a.status}),o.jsx(fe,{children:a.prazo?new Date(a.prazo).toLocaleDateString():"-"}),o.jsx(fe,{children:a.responsavel_id?"Definido":"-"}),o.jsx(fe,{children:o.jsxs(U,{variant:"destructive",size:"sm",className:"rounded-xl inline-flex items-center gap-2",onClick:i=>{i.stopPropagation(),r(a.id)},children:[o.jsx(Jr,{className:"w-4 h-4"})," Excluir"]})})]},a.id))})]})}),o.jsx(Ore,{open:!!n,aula:n,onClose:()=>s(null),onSave:e,onDelete:r})]})}function NZe(){const{search:t,setSearch:e,statusFilter:r,setStatusFilter:n,disciplinaFilter:s,setDisciplinaFilter:a,responsavelFilter:i,setResponsavelFilter:l,createAula:c}=TD(),[u,d]=x.useState("kanban");return o.jsx("div",{className:"space-y-6",children:o.jsxs(ne,{className:"rounded-3xl border border-border/40 bg-gradient-to-br from-primary/5 to-accent/5",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:o.jsx(py,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-xl",children:"Curso MVP"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gesto do curso e desenvolvimento de aulas"})]})]})}),o.jsx(he,{children:o.jsxs(va,{defaultValue:"clientes",className:"space-y-6",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs(Gs,{className:"inline-flex w-auto rounded-2xl p-1.5 bg-muted/50 shadow-sm",children:[o.jsxs(Et,{value:"clientes",className:"rounded-xl px-4 py-2",children:[o.jsx(ca,{className:"w-4 h-4 mr-2"})," Clientes do curso"]}),o.jsxs(Et,{value:"aulas",className:"rounded-xl px-4 py-2",children:[o.jsx(Pie,{className:"w-4 h-4 mr-2"})," desenvolvimento de aula"]})]})}),o.jsx(kt,{value:"clientes",className:"space-y-4",children:o.jsx("div",{className:"text-muted-foreground",children:"Em breve: listagem e gesto de alunos matriculados, status e mtricas."})}),o.jsxs(kt,{value:"aulas",className:"space-y-4",children:[o.jsx(ne,{className:"rounded-2xl",children:o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(de,{placeholder:"Buscar por ttulo, descrio ou mdulo...",value:t,onChange:f=>e(f.target.value),className:"pl-10 rounded-xl"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ap,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs(He,{value:r,onValueChange:f=>n(f),children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Status"})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"all",children:"Todos"}),o.jsx(Y,{value:"esboco",children:"Esboo"}),o.jsx(Y,{value:"desenvolvimento",children:"Desenvolvimento"}),o.jsx(Y,{value:"revisao",children:"Reviso"}),o.jsx(Y,{value:"finalizacao",children:"Finalizao"}),o.jsx(Y,{value:"pronta",children:"Pronta"})]})]}),o.jsxs(He,{value:s,onValueChange:a,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Mdulo"})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"all",children:"Todos"}),o.jsx(Y,{value:"Terica",children:"Terica"}),o.jsx(Y,{value:"Prtica",children:"Prtica"}),o.jsx(Y,{value:"Workshop",children:"Workshop"})]})]}),o.jsxs(He,{value:i,onValueChange:l,children:[o.jsx(qe,{className:"rounded-xl",children:o.jsx(Ke,{placeholder:"Responsvel"})}),o.jsxs(We,{className:"rounded-xl",children:[o.jsx(Y,{value:"all",children:"Todos"}),o.jsx(Y,{value:"meu",children:"Meus"})]})]})]})]}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("button",{onClick:()=>d("kanban"),className:`inline-flex items-center gap-2 px-3 py-2 rounded-xl border ${u==="kanban"?"bg-muted":""}`,children:[o.jsx(KT,{className:"w-4 h-4"})," Kanban"]}),o.jsxs("button",{onClick:()=>d("lista"),className:`inline-flex items-center gap-2 px-3 py-2 rounded-xl border ${u==="lista"?"bg-muted":""}`,children:[o.jsx(YT,{className:"w-4 h-4"})," Lista"]}),o.jsxs(U,{onClick:()=>c(),className:"rounded-xl gap-2",children:[o.jsx(en,{className:"w-4 h-4"})," Nova Aula"]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t&&o.jsxs(Ge,{variant:"secondary",className:"rounded-full",children:['Busca: "',t,'"']}),r!=="all"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full",children:String(r)}),s!=="all"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full",children:String(s)}),i!=="all"&&o.jsx(Ge,{variant:"secondary",className:"rounded-full",children:String(i)})]})]})}),u==="kanban"?o.jsx(wZe,{}):o.jsx(jZe,{})]})]})})]})})}const _Ze=()=>{const t=Ai();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},SZe=({squareSize:t=4,gridGap:e=6,flickerChance:r=.3,color:n="rgb(0, 0, 0)",width:s,height:a,className:i,maxOpacity:l=.3})=>{const c=x.useRef(null),u=x.useRef(null),[d,f]=x.useState(!1),[m,h]=x.useState({width:0,height:0}),p=x.useMemo(()=>(w=>{if(typeof window>"u")return"rgba(0, 0, 0,";const N=document.createElement("canvas");N.width=N.height=1;const j=N.getContext("2d");if(!j)return"rgba(255, 0, 0,";j.fillStyle=w,j.fillRect(0,0,1,1);const[_,S,C]=Array.from(j.getImageData(0,0,1,1).data);return`rgba(${_}, ${S}, ${C},`})(n),[n]),g=x.useCallback((y,w,N)=>{const j=window.devicePixelRatio||1;y.width=w*j,y.height=N*j,y.style.width=`${w}px`,y.style.height=`${N}px`;const _=Math.floor(w/(t+e)),S=Math.floor(N/(t+e)),C=new Float32Array(_*S);for(let k=0;k<C.length;k++)C[k]=Math.random()*l;return{cols:_,rows:S,squares:C,dpr:j}},[t,e,l]),v=x.useCallback((y,w)=>{for(let N=0;N<y.length;N++)Math.random()<r*w&&(y[N]=Math.random()*l)},[r,l]),b=x.useCallback((y,w,N,j,_,S,C)=>{y.clearRect(0,0,w,N),y.fillStyle="transparent",y.fillRect(0,0,w,N);for(let k=0;k<j;k++)for(let A=0;A<_;A++){const O=S[k*_+A];y.fillStyle=`${p}${O})`,y.fillRect(k*(t+e)*C,A*(t+e)*C,t*C,t*C)}},[p,t,e]);return x.useEffect(()=>{const y=c.current,w=u.current;if(!y||!w)return;const N=y.getContext("2d");if(!N)return;let j,_;const S=()=>{const P=s||w.clientWidth,R=a||w.clientHeight;h({width:P,height:R}),_=g(y,P,R)};S();let C=0;const k=P=>{if(!d)return;const R=(P-C)/1e3;C=P,v(_.squares,R),b(N,y.width,y.height,_.cols,_.rows,_.squares,_.dpr),j=requestAnimationFrame(k)},A=new ResizeObserver(()=>{S()});A.observe(w);const O=new IntersectionObserver(([P])=>{f(P.isIntersecting)},{threshold:0});return O.observe(y),d&&(j=requestAnimationFrame(k)),()=>{cancelAnimationFrame(j),A.disconnect(),O.disconnect()}},[g,v,b,s,a,d]),o.jsx("div",{ref:u,className:`w-full h-full ${i??""}`,children:o.jsx("canvas",{ref:c,className:"pointer-events-none",style:{width:m.width,height:m.height}})})};function CZe(){const[t,e]=x.useState(!1),[r,n]=x.useState(""),[s,a]=x.useState(""),[i,l]=x.useState(""),c="5599999999999",u="vendas@empresa.com",d=()=>{const m=`Ol! Gostaria de falar com Vendas sobre o SGE.

Nome: ${r}
Email: ${s}
Mensagem: ${i}`,h=`https://wa.me/${c}?text=${encodeURIComponent(m)}`;window.open(h,"_blank"),e(!1)},f=()=>{const m="Contato SGE - Fale com Vendas",h=`Nome: ${r}
Email: ${s}

Mensagem:
${i}`;window.location.href=`mailto:${u}?subject=${encodeURIComponent(m)}&body=${encodeURIComponent(h)}`,e(!1)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-secondary/20",children:[o.jsxs("header",{className:"relative overflow-hidden px-6 pt-20 pb-12 sm:pt-28",children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 opacity-40",children:o.jsx(SZe,{squareSize:4,gridGap:6,flickerChance:.25,maxOpacity:.25,className:"w-full h-full"})}),o.jsxs("div",{className:"mx-auto max-w-6xl text-center",children:[o.jsx(Ge,{className:"rounded-xl mb-4",variant:"outline",children:"Novo  Inteligente  Eficiente"}),o.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold tracking-tight",children:"SGE  Sistema de Gesto Empresarial"}),o.jsx("p",{className:"mt-4 text-muted-foreground text-lg sm:text-xl",children:"Organize clientes, projetos, agendamentos e financeiro em um s lugar. Insights inteligentes ajudam voc a tomar decises com segurana."}),o.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[o.jsx(Ll,{to:"/auth",children:o.jsx(U,{size:"lg",className:"rounded-2xl",children:"Entrar agora"})}),o.jsx("a",{href:"#recursos",children:o.jsx(U,{size:"lg",variant:"outline",className:"rounded-2xl",children:"Ver recursos"})}),o.jsx(U,{size:"lg",variant:"secondary",className:"rounded-2xl",onClick:()=>e(!0),children:"Fale com Vendas"})]}),o.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:'J tem conta? Use o boto "Entrar agora" para fazer login.'})]})]}),o.jsx("section",{id:"recursos",className:"px-6 pb-16",children:o.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"h-5 w-5"})," Clientes"]})}),o.jsx(he,{className:"text-muted-foreground",children:"Cadastre, segmente e acompanhe relacionamento e indicaes. Visualizaes flexveis com lista, grade e tabela para diferentes fluxos."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(hy,{className:"h-5 w-5"})," Projetos"]})}),o.jsx(he,{className:"text-muted-foreground",children:"Planeje e acompanhe status, etapas e responsveis. Tenha viso consolidada do progresso com indicadores claros."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(Yt,{className:"h-5 w-5"})," Agendamentos"]})}),o.jsx(he,{className:"text-muted-foreground",children:"Calendrio integrado com detalhes de compromissos. Evite conflitos, ganhe produtividade e tenha sua agenda sempre organizada."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"h-5 w-5"})," Financeiro"]})}),o.jsx(he,{className:"text-muted-foreground",children:"Controle receitas e despesas com relatrios rpidos. Acompanhe tendncias e faa planejamentos mais precisos."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(Ro,{className:"h-5 w-5"})," Metas"]})}),o.jsx(he,{className:"text-muted-foreground",children:"Defina metas e acompanhe o progresso. Mantenha o foco com mtricas claras e feedback contnuo."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsxs(Te,{className:"flex items-center gap-2",children:[o.jsx(py,{className:"h-5 w-5"})," Insights inteligentes"]})}),o.jsx(he,{className:"text-muted-foreground",children:"Descubra padres e oportunidades automaticamente. Tome decises embasadas com anlises intuitivas."})]})]})}),o.jsxs("section",{id:"depoimentos",className:"px-6 pb-16",children:[o.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[o.jsx(Ge,{className:"rounded-xl",variant:"secondary",children:"O que dizem nossos clientes"}),o.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Resultados reais no dia a dia"}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Produtividade, organizao e clareza para tomar decises melhores."})]}),o.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(ne,{className:"rounded-2xl",children:o.jsxs(he,{className:"p-6",children:[o.jsx("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((m,h)=>o.jsx(Zg,{className:"h-4 w-4 fill-yellow-500"},h))}),o.jsx("p",{className:"text-sm text-muted-foreground",children:'"O SGE reduziu nosso retrabalho e centralizou a viso dos projetos. Ficamos mais rpidos para entregar com qualidade."'}),o.jsxs("div",{className:"mt-4 text-sm",children:[o.jsx("span",{className:"font-semibold",children:"Mariana"}),"  Gestora de Projetos"]})]})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsxs(he,{className:"p-6",children:[o.jsx("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((m,h)=>o.jsx(Zg,{className:"h-4 w-4 fill-yellow-500"},h))}),o.jsx("p",{className:"text-sm text-muted-foreground",children:'"A viso financeira e de metas trouxe previsibilidade. Hoje planejo com segurana e consigo acompanhar tendncias facilmente."'}),o.jsxs("div",{className:"mt-4 text-sm",children:[o.jsx("span",{className:"font-semibold",children:"Carlos"}),"  Diretor Financeiro"]})]})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsxs(he,{className:"p-6",children:[o.jsx("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((m,h)=>o.jsx(Zg,{className:"h-4 w-4 fill-yellow-500"},h))}),o.jsx("p",{className:"text-sm text-muted-foreground",children:'"Agendamentos e clientes integrados simplificaram minha rotina. Finalmente tenho tudo em um s lugar e sem confuso."'}),o.jsxs("div",{className:"mt-4 text-sm",children:[o.jsx("span",{className:"font-semibold",children:"Aline"}),"  Consultora"]})]})})]})]}),o.jsxs("section",{id:"planos",className:"px-6 pb-20",children:[o.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[o.jsx(Ge,{className:"rounded-xl",variant:"secondary",children:"Planos simples e transparentes"}),o.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Escolha o plano ideal"}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Comece pequeno e evolua quando precisar."})]}),o.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-xl",children:"Starter"})}),o.jsxs(he,{children:[o.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[o.jsx("span",{className:"text-3xl font-extrabold",children:"R$ 0"}),o.jsx("span",{className:"text-muted-foreground",children:"/ms"})]}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Clientes e Projetos bsicos"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Agendamentos essenciais"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Relatrios simples"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ll,{to:"/auth",children:o.jsx(U,{className:"w-full rounded-xl",children:"Comear grtis"})})})]})]}),o.jsxs(ne,{className:"rounded-2xl border-primary",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-xl",children:"Pro"})}),o.jsxs(he,{children:[o.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[o.jsx("span",{className:"text-3xl font-extrabold",children:"R$ 79"}),o.jsx("span",{className:"text-muted-foreground",children:"/ms"})]}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Tudo do Starter"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Financeiro avanado"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Metas com progresso"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Insights inteligentes"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ll,{to:"/auth",children:o.jsx(U,{className:"w-full rounded-xl",children:"Assinar Pro"})})})]})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-xl",children:"Business"})}),o.jsxs(he,{children:[o.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[o.jsx("span",{className:"text-3xl font-extrabold",children:"R$ 199"}),o.jsx("span",{className:"text-muted-foreground",children:"/ms"})]}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Tudo do Pro"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Equipes e permisses avanadas"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Suporte prioritrio"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(U,{className:"w-full rounded-xl",onClick:()=>e(!0),children:"Fale com vendas"})})]})]})]})]}),o.jsxs("section",{id:"politica",className:"px-6 pb-16",children:[o.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[o.jsx(Ge,{className:"rounded-xl",variant:"outline",children:"Poltica de preos"}),o.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Transparente, sem pegadinhas"}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Resumo das regras para contratao e cobrana."})]}),o.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Ciclo de cobrana mensal e cancelamento sem multa."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Upgrade ou downgrade de plano a qualquer momento (ajuste proporcional)."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Cancelamento pelo painel: acesso permanece at o fim do ciclo vigente."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Valores podem variar conforme impostos locais e promoes."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Formas de pagamento: carto de crdito (outros mtodos sob consulta)."]})]})})}),o.jsx(ne,{className:"rounded-2xl",children:o.jsx(he,{className:"p-6",children:o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Suporte incluso em todos os planos; prioridade no Business."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Planos e benefcios podem ser atualizados sem aviso prvio."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Uso do Starter  gratuito para comear e avaliar o produto."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Solicite condies especiais para equipes ou volume."]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Or,{className:"h-4 w-4 text-green-600"})," Dvidas? Fale com vendas pelo boto do plano Business."]})]})})})]})]}),o.jsxs("section",{id:"faqs",className:"px-6 pb-24",children:[o.jsxs("div",{className:"mx-auto max-w-6xl text-center mb-8",children:[o.jsx(Ge,{className:"rounded-xl",variant:"outline",children:"FAQs"}),o.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-bold",children:"Perguntas frequentes"}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Respostas rpidas para as dvidas mais comuns."})]}),o.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-base",children:"Posso mudar de plano depois?"})}),o.jsx(he,{className:"text-sm text-muted-foreground",children:"Sim. Voc pode fazer upgrade ou downgrade a qualquer momento pelo painel. O ajuste  proporcional ao ciclo vigente."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-base",children:"H limite de usurios ou projetos?"})}),o.jsx(he,{className:"text-sm text-muted-foreground",children:"Os limites variam por plano. O Starter atende o uso inicial; Pro e Business ampliam usurios, projetos e recursos avanados."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-base",children:"Como  o suporte?"})}),o.jsx(he,{className:"text-sm text-muted-foreground",children:"Todos os planos tm suporte. No Business, o atendimento  prioritrio e com SLA diferenciado."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-base",children:"Meus dados esto seguros?"})}),o.jsx(he,{className:"text-sm text-muted-foreground",children:"Utilizamos prticas modernas de segurana e controle de acesso. Recomendamos ativar autenticao segura e polticas de equipe."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-base",children:"Posso importar dados existentes?"})}),o.jsx(he,{className:"text-sm text-muted-foreground",children:"Sim. Oferecemos orientao para importar informaes de clientes, projetos e agenda. Fale com vendas para suporte no onboarding."})]}),o.jsxs(ne,{className:"rounded-2xl",children:[o.jsx(Oe,{children:o.jsx(Te,{className:"text-base",children:"O que acontece ao cancelar?"})}),o.jsx(he,{className:"text-sm text-muted-foreground",children:"O acesso permanece at o fim do ciclo atual. Voc pode reativar quando quiser fazendo login novamente."})]})]})]}),o.jsx("section",{className:"px-6 pb-24",children:o.jsxs("div",{className:"mx-auto max-w-6xl rounded-3xl bg-muted/40 p-8 text-center",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Pronto para simplificar sua gesto?"}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:"Comece agora e veja como o SGE acelera seu dia a dia."}),o.jsx("div",{className:"mt-6",children:o.jsx(Ll,{to:"/auth",children:o.jsx(U,{size:"lg",className:"rounded-2xl",children:"Fazer login e comear"})})})]})}),o.jsx(fr,{open:t,onOpenChange:e,children:o.jsxs(ir,{className:"rounded-2xl",children:[o.jsxs(lr,{children:[o.jsx(cr,{children:"Fale com Vendas"}),o.jsx(ky,{children:"Preencha os dados abaixo e entre em contato por Email ou WhatsApp."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Nome"}),o.jsx(de,{placeholder:"Seu nome",value:r,onChange:m=>n(m.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Email"}),o.jsx(de,{type:"email",placeholder:"seu@email.com",value:s,onChange:m=>a(m.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Mensagem"}),o.jsx(Nn,{placeholder:"Conte brevemente sua necessidade",value:i,onChange:m=>l(m.target.value)})]})]}),o.jsxs(Da,{children:[o.jsxs(U,{variant:"outline",onClick:d,children:[o.jsx(CU,{className:"h-4 w-4"})," Abrir WhatsApp"]}),o.jsxs(U,{onClick:f,children:[o.jsx(my,{className:"h-4 w-4"})," Enviar por Email"]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Contatos oficiais: WhatsApp ",c,"  Email ",u]})]})})]})}const EZe=new Ede,kZe=()=>o.jsxs(Yae,{children:[o.jsx(nn,{path:"/auth",element:o.jsx(Oqe,{})}),o.jsx(nn,{path:"/vendas",element:o.jsx(CZe,{})}),o.jsx(nn,{path:"/",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(uWe,{})})})}),o.jsx(nn,{path:"/perfil",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(Iqe,{})})})}),o.jsx(nn,{path:"/tattoo",element:o.jsx(lg,{to:"/",replace:!0})}),o.jsx(nn,{path:"/dashboard",element:o.jsx(lg,{to:"/noxus",replace:!0})}),o.jsx(nn,{path:"/tattoo/marketing",element:o.jsx(lg,{to:"/marketing",replace:!0})}),o.jsx(nn,{path:"/carteira",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(kWe,{})})})}),o.jsx(nn,{path:"/tattoo/financeiro",element:o.jsx(lg,{to:"/carteira",replace:!0})}),o.jsx(nn,{path:"/conhecimento",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(TWe,{})})})}),o.jsx(nn,{path:"/clientes",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(a9e,{})})})}),o.jsx(nn,{path:"/clientes/:id",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(o9e,{})})})}),o.jsx(nn,{path:"/projetos",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(c9e,{})})})}),o.jsx(nn,{path:"/projetos/:id",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(Y9e,{})})})}),o.jsx(nn,{path:"/agendamentos",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(rWe,{})})})}),o.jsx(nn,{path:"/financeiro",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(cWe,{})})})}),o.jsx(nn,{path:"/marketing",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(BJe,{})})})}),o.jsx(nn,{path:"/estoque",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(vZe,{})})})}),o.jsx(nn,{path:"/tattoo/estoque",element:o.jsx(lg,{to:"/estoque",replace:!0})}),o.jsx(nn,{path:"/curso-mvp",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(NZe,{})})})}),o.jsx(nn,{path:"/noxus",element:o.jsx(ya,{children:o.jsx(ba,{children:o.jsx(OUe,{})})})}),o.jsx(nn,{path:"*",element:o.jsx(_Ze,{})})]}),AZe=()=>o.jsx(Ade,{client:EZe,children:o.jsx(Fge,{children:o.jsxs(lP,{children:[o.jsx(Ole,{}),o.jsx(xce,{}),o.jsx(kZe,{})]})})});class OZe extends x.Component{constructor(){super(...arguments);Ze(this,"state",{hasError:!1});Ze(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});Ze(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.props.onError&&this.props.onError(r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:o.jsxs(ne,{className:"w-full max-w-md rounded-xl",children:[o.jsxs(Oe,{className:"text-center",children:[o.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:o.jsx(XT,{className:"w-6 h-6 text-destructive"})}),o.jsx(Te,{className:"text-xl",children:"Algo deu errado"})]}),o.jsxs(he,{className:"space-y-4 text-center",children:[o.jsx("p",{className:"text-muted-foreground",children:"Ocorreu um erro inesperado. Tente recarregar a pgina ou volte ao incio."}),!1,o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsxs(U,{variant:"outline",onClick:this.handleRetry,className:"rounded-xl gap-2",children:[o.jsx(OU,{className:"w-4 h-4"}),"Tentar novamente"]}),o.jsxs(U,{onClick:this.handleGoHome,className:"rounded-xl gap-2",children:[o.jsx(_U,{className:"w-4 h-4"}),"Ir ao incio"]})]})]})]})}):this.props.children}}T8(document.getElementById("root")).render(o.jsx(noe,{children:o.jsx(ome,{children:o.jsx(Lge,{children:o.jsx(zge,{children:o.jsx(OZe,{children:o.jsx(AZe,{})})})})})}));
